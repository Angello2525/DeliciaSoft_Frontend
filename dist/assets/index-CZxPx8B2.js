function Nj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sy={exports:{}},Ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function Pj(){if(aN)return Ln;aN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function h(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function y(U,j,Y){this.props=U,this.context=j,this.refs=v,this.updater=Y||g}y.prototype.isReactComponent={},y.prototype.setState=function(U,j){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,j,"setState")},y.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function E(){}E.prototype=y.prototype;function C(U,j,Y){this.props=U,this.context=j,this.refs=v,this.updater=Y||g}var k=C.prototype=new E;k.constructor=C,x(k,y.prototype),k.isPureReactComponent=!0;var _=Array.isArray,N=Object.prototype.hasOwnProperty,O={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function D(U,j,Y){var G,X={},ie=null,ye=null;if(j!=null)for(G in j.ref!==void 0&&(ye=j.ref),j.key!==void 0&&(ie=""+j.key),j)N.call(j,G)&&!R.hasOwnProperty(G)&&(X[G]=j[G]);var me=arguments.length-2;if(me===1)X.children=Y;else if(1<me){for(var he=Array(me),je=0;je<me;je++)he[je]=arguments[je+2];X.children=he}if(U&&U.defaultProps)for(G in me=U.defaultProps,me)X[G]===void 0&&(X[G]=me[G]);return{$$typeof:t,type:U,key:ie,ref:ye,props:X,_owner:O.current}}function B(U,j){return{$$typeof:t,type:U.type,key:j,ref:U.ref,props:U.props,_owner:U._owner}}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function I(U){var j={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Y){return j[Y]})}var L=/\/+/g;function M(U,j){return typeof U=="object"&&U!==null&&U.key!=null?I(""+U.key):j.toString(36)}function F(U,j,Y,G,X){var ie=typeof U;(ie==="undefined"||ie==="boolean")&&(U=null);var ye=!1;if(U===null)ye=!0;else switch(ie){case"string":case"number":ye=!0;break;case"object":switch(U.$$typeof){case t:case e:ye=!0}}if(ye)return ye=U,X=X(ye),U=G===""?"."+M(ye,0):G,_(X)?(Y="",U!=null&&(Y=U.replace(L,"$&/")+"/"),F(X,j,Y,"",function(je){return je})):X!=null&&(z(X)&&(X=B(X,Y+(!X.key||ye&&ye.key===X.key?"":(""+X.key).replace(L,"$&/")+"/")+U)),j.push(X)),1;if(ye=0,G=G===""?".":G+":",_(U))for(var me=0;me<U.length;me++){ie=U[me];var he=G+M(ie,me);ye+=F(ie,j,Y,he,X)}else if(he=h(U),typeof he=="function")for(U=he.call(U),me=0;!(ie=U.next()).done;)ie=ie.value,he=G+M(ie,me++),ye+=F(ie,j,Y,he,X);else if(ie==="object")throw j=String(U),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ye}function H(U,j,Y){if(U==null)return U;var G=[],X=0;return F(U,G,"","",function(ie){return j.call(Y,ie,X++)}),G}function J(U){if(U._status===-1){var j=U._result;j=j(),j.then(function(Y){(U._status===0||U._status===-1)&&(U._status=1,U._result=Y)},function(Y){(U._status===0||U._status===-1)&&(U._status=2,U._result=Y)}),U._status===-1&&(U._status=0,U._result=j)}if(U._status===1)return U._result.default;throw U._result}var ee={current:null},re={transition:null},te={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:re,ReactCurrentOwner:O};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ln.Children={map:H,forEach:function(U,j,Y){H(U,function(){j.apply(this,arguments)},Y)},count:function(U){var j=0;return H(U,function(){j++}),j},toArray:function(U){return H(U,function(j){return j})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ln.Component=y,Ln.Fragment=r,Ln.Profiler=a,Ln.PureComponent=C,Ln.StrictMode=n,Ln.Suspense=c,Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ln.act=K,Ln.cloneElement=function(U,j,Y){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var G=x({},U.props),X=U.key,ie=U.ref,ye=U._owner;if(j!=null){if(j.ref!==void 0&&(ie=j.ref,ye=O.current),j.key!==void 0&&(X=""+j.key),U.type&&U.type.defaultProps)var me=U.type.defaultProps;for(he in j)N.call(j,he)&&!R.hasOwnProperty(he)&&(G[he]=j[he]===void 0&&me!==void 0?me[he]:j[he])}var he=arguments.length-2;if(he===1)G.children=Y;else if(1<he){me=Array(he);for(var je=0;je<he;je++)me[je]=arguments[je+2];G.children=me}return{$$typeof:t,type:U.type,key:X,ref:ie,props:G,_owner:ye}},Ln.createContext=function(U){return U={$$typeof:s,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},Ln.createElement=D,Ln.createFactory=function(U){var j=D.bind(null,U);return j.type=U,j},Ln.createRef=function(){return{current:null}},Ln.forwardRef=function(U){return{$$typeof:l,render:U}},Ln.isValidElement=z,Ln.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:J}},Ln.memo=function(U,j){return{$$typeof:u,type:U,compare:j===void 0?null:j}},Ln.startTransition=function(U){var j=re.transition;re.transition={};try{U()}finally{re.transition=j}},Ln.unstable_act=K,Ln.useCallback=function(U,j){return ee.current.useCallback(U,j)},Ln.useContext=function(U){return ee.current.useContext(U)},Ln.useDebugValue=function(){},Ln.useDeferredValue=function(U){return ee.current.useDeferredValue(U)},Ln.useEffect=function(U,j){return ee.current.useEffect(U,j)},Ln.useId=function(){return ee.current.useId()},Ln.useImperativeHandle=function(U,j,Y){return ee.current.useImperativeHandle(U,j,Y)},Ln.useInsertionEffect=function(U,j){return ee.current.useInsertionEffect(U,j)},Ln.useLayoutEffect=function(U,j){return ee.current.useLayoutEffect(U,j)},Ln.useMemo=function(U,j){return ee.current.useMemo(U,j)},Ln.useReducer=function(U,j,Y){return ee.current.useReducer(U,j,Y)},Ln.useRef=function(U){return ee.current.useRef(U)},Ln.useState=function(U){return ee.current.useState(U)},Ln.useSyncExternalStore=function(U,j,Y){return ee.current.useSyncExternalStore(U,j,Y)},Ln.useTransition=function(){return ee.current.useTransition()},Ln.version="18.3.1",Ln}var oN;function pI(){return oN||(oN=1,Sy.exports=Pj()),Sy.exports}var b=pI();const o=sa(b),kj=Nj({__proto__:null,default:o},[b]);var Vg={},Cy={exports:{}},Rs={},Ny={exports:{}},Py={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iN;function Aj(){return iN||(iN=1,function(t){function e(re,te){var K=re.length;re.push(te);e:for(;0<K;){var U=K-1>>>1,j=re[U];if(0<a(j,te))re[U]=te,re[K]=j,K=U;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var te=re[0],K=re.pop();if(K!==te){re[0]=K;e:for(var U=0,j=re.length,Y=j>>>1;U<Y;){var G=2*(U+1)-1,X=re[G],ie=G+1,ye=re[ie];if(0>a(X,K))ie<j&&0>a(ye,X)?(re[U]=ye,re[ie]=K,U=ie):(re[U]=X,re[G]=K,U=G);else if(ie<j&&0>a(ye,K))re[U]=ye,re[ie]=K,U=ie;else break e}}return te}function a(re,te){var K=re.sortIndex-te.sortIndex;return K!==0?K:re.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,p=null,h=3,g=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=re)n(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=r(u)}}function _(re){if(v=!1,k(re),!x)if(r(c)!==null)x=!0,J(N);else{var te=r(u);te!==null&&ee(_,te.startTime-re)}}function N(re,te){x=!1,v&&(v=!1,E(D),D=-1),g=!0;var K=h;try{for(k(te),p=r(c);p!==null&&(!(p.expirationTime>te)||re&&!I());){var U=p.callback;if(typeof U=="function"){p.callback=null,h=p.priorityLevel;var j=U(p.expirationTime<=te);te=t.unstable_now(),typeof j=="function"?p.callback=j:p===r(c)&&n(c),k(te)}else n(c);p=r(c)}if(p!==null)var Y=!0;else{var G=r(u);G!==null&&ee(_,G.startTime-te),Y=!1}return Y}finally{p=null,h=K,g=!1}}var O=!1,R=null,D=-1,B=5,z=-1;function I(){return!(t.unstable_now()-z<B)}function L(){if(R!==null){var re=t.unstable_now();z=re;var te=!0;try{te=R(!0,re)}finally{te?M():(O=!1,R=null)}}else O=!1}var M;if(typeof C=="function")M=function(){C(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=L,M=function(){H.postMessage(null)}}else M=function(){y(L,0)};function J(re){R=re,O||(O=!0,M())}function ee(re,te){D=y(function(){re(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,J(N))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(re){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var K=h;h=te;try{return re()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,te){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var K=h;h=re;try{return te()}finally{h=K}},t.unstable_scheduleCallback=function(re,te,K){var U=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?U+K:U):K=U,re){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=K+j,re={id:f++,callback:te,priorityLevel:re,startTime:K,expirationTime:j,sortIndex:-1},K>U?(re.sortIndex=K,e(u,re),r(c)===null&&re===r(u)&&(v?(E(D),D=-1):v=!0,ee(_,K-U))):(re.sortIndex=j,e(c,re),x||g||(x=!0,J(N))),re},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(re){var te=h;return function(){var K=h;h=te;try{return re.apply(this,arguments)}finally{h=K}}}}(Py)),Py}var sN;function _j(){return sN||(sN=1,Ny.exports=Aj()),Ny.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function Oj(){if(lN)return Rs;lN=1;var t=pI(),e=_j();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(d,m){s(d,m),s(d+"Capture",m)}function s(d,m){for(a[d]=m,d=0;d<m.length;d++)n.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function h(d){return c.call(p,d)?!0:c.call(f,d)?!1:u.test(d)?p[d]=!0:(f[d]=!0,!1)}function g(d,m,w,A){if(w!==null&&w.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return A?!1:w!==null?!w.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function x(d,m,w,A){if(m===null||typeof m>"u"||g(d,m,w,A))return!0;if(A)return!1;if(w!==null)switch(w.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(d,m,w,A,q,Q,fe){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=A,this.attributeNamespace=q,this.mustUseProperty=w,this.propertyName=d,this.type=m,this.sanitizeURL=Q,this.removeEmptyString=fe}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){y[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];y[m]=new v(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){y[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){y[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){y[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){y[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){y[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){y[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){y[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(E,C);y[m]=new v(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(E,C);y[m]=new v(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(E,C);y[m]=new v(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function k(d,m,w,A){var q=y.hasOwnProperty(m)?y[m]:null;(q!==null?q.type!==0:A||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(x(m,w,q,A)&&(w=null),A||q===null?h(m)&&(w===null?d.removeAttribute(m):d.setAttribute(m,""+w)):q.mustUseProperty?d[q.propertyName]=w===null?q.type===3?!1:"":w:(m=q.attributeName,A=q.attributeNamespace,w===null?d.removeAttribute(m):(q=q.type,w=q===3||q===4&&w===!0?"":""+w,A?d.setAttributeNS(A,m,w):d.setAttribute(m,w))))}var _=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),re=Symbol.iterator;function te(d){return d===null||typeof d!="object"?null:(d=re&&d[re]||d["@@iterator"],typeof d=="function"?d:null)}var K=Object.assign,U;function j(d){if(U===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);U=m&&m[1]||""}return`
`+U+d}var Y=!1;function G(d,m){if(!d||Y)return"";Y=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(mt){var A=mt}Reflect.construct(d,[],m)}else{try{m.call()}catch(mt){A=mt}d.call(m.prototype)}else{try{throw Error()}catch(mt){A=mt}d()}}catch(mt){if(mt&&A&&typeof mt.stack=="string"){for(var q=mt.stack.split(`
`),Q=A.stack.split(`
`),fe=q.length-1,De=Q.length-1;1<=fe&&0<=De&&q[fe]!==Q[De];)De--;for(;1<=fe&&0<=De;fe--,De--)if(q[fe]!==Q[De]){if(fe!==1||De!==1)do if(fe--,De--,0>De||q[fe]!==Q[De]){var He=`
`+q[fe].replace(" at new "," at ");return d.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",d.displayName)),He}while(1<=fe&&0<=De);break}}}finally{Y=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?j(d):""}function X(d){switch(d.tag){case 5:return j(d.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return d=G(d.type,!1),d;case 11:return d=G(d.type.render,!1),d;case 1:return d=G(d.type,!0),d;default:return""}}function ie(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case R:return"Fragment";case O:return"Portal";case B:return"Profiler";case D:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case I:return(d.displayName||"Context")+".Consumer";case z:return(d._context.displayName||"Context")+".Provider";case L:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case H:return m=d.displayName||null,m!==null?m:ie(d.type)||"Memo";case J:m=d._payload,d=d._init;try{return ie(d(m))}catch{}}return null}function ye(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(m);case 8:return m===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function me(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function je(d){var m=he(d)?"checked":"value",w=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),A=""+d[m];if(!d.hasOwnProperty(m)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var q=w.get,Q=w.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return q.call(this)},set:function(fe){A=""+fe,Q.call(this,fe)}}),Object.defineProperty(d,m,{enumerable:w.enumerable}),{getValue:function(){return A},setValue:function(fe){A=""+fe},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Fe(d){d._valueTracker||(d._valueTracker=je(d))}function ue(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var w=m.getValue(),A="";return d&&(A=he(d)?d.checked?"true":"false":d.value),d=A,d!==w?(m.setValue(d),!0):!1}function xe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Pe(d,m){var w=m.checked;return K({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??d._wrapperState.initialChecked})}function _e(d,m){var w=m.defaultValue==null?"":m.defaultValue,A=m.checked!=null?m.checked:m.defaultChecked;w=me(m.value!=null?m.value:w),d._wrapperState={initialChecked:A,initialValue:w,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function ce(d,m){m=m.checked,m!=null&&k(d,"checked",m,!1)}function Je(d,m){ce(d,m);var w=me(m.value),A=m.type;if(w!=null)A==="number"?(w===0&&d.value===""||d.value!=w)&&(d.value=""+w):d.value!==""+w&&(d.value=""+w);else if(A==="submit"||A==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?Le(d,m.type,w):m.hasOwnProperty("defaultValue")&&Le(d,m.type,me(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function Te(d,m,w){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var A=m.type;if(!(A!=="submit"&&A!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,w||m===d.value||(d.value=m),d.defaultValue=m}w=d.name,w!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,w!==""&&(d.name=w)}function Le(d,m,w){(m!=="number"||xe(d.ownerDocument)!==d)&&(w==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+w&&(d.defaultValue=""+w))}var Ze=Array.isArray;function Be(d,m,w,A){if(d=d.options,m){m={};for(var q=0;q<w.length;q++)m["$"+w[q]]=!0;for(w=0;w<d.length;w++)q=m.hasOwnProperty("$"+d[w].value),d[w].selected!==q&&(d[w].selected=q),q&&A&&(d[w].defaultSelected=!0)}else{for(w=""+me(w),m=null,q=0;q<d.length;q++){if(d[q].value===w){d[q].selected=!0,A&&(d[q].defaultSelected=!0);return}m!==null||d[q].disabled||(m=d[q])}m!==null&&(m.selected=!0)}}function et(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Dt(d,m){var w=m.value;if(w==null){if(w=m.children,m=m.defaultValue,w!=null){if(m!=null)throw Error(r(92));if(Ze(w)){if(1<w.length)throw Error(r(93));w=w[0]}m=w}m==null&&(m=""),w=m}d._wrapperState={initialValue:me(w)}}function Ut(d,m){var w=me(m.value),A=me(m.defaultValue);w!=null&&(w=""+w,w!==d.value&&(d.value=w),m.defaultValue==null&&d.defaultValue!==w&&(d.defaultValue=w)),A!=null&&(d.defaultValue=""+A)}function Vt(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Jt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dr(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Jt(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var lr,ct=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,w,A,q){MSApp.execUnsafeLocalFunction(function(){return d(m,w,A,q)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=lr.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function pt(d,m){if(m){var w=d.firstChild;if(w&&w===d.lastChild&&w.nodeType===3){w.nodeValue=m;return}}d.textContent=m}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rt=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(d){rt.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),nt[m]=nt[d]})});function Lt(d,m,w){return m==null||typeof m=="boolean"||m===""?"":w||typeof m!="number"||m===0||nt.hasOwnProperty(d)&&nt[d]?(""+m).trim():m+"px"}function hr(d,m){d=d.style;for(var w in m)if(m.hasOwnProperty(w)){var A=w.indexOf("--")===0,q=Lt(w,m[w],A);w==="float"&&(w="cssFloat"),A?d.setProperty(w,q):d[w]=q}}var tr=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(d,m){if(m){if(tr[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Wr(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function bt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ke=null,Re=null,Qe=null;function jt(d){if(d=zc(d)){if(typeof ke!="function")throw Error(r(280));var m=d.stateNode;m&&(m=Bc(m),ke(d.stateNode,d.type,m))}}function gt(d){Re?Qe?Qe.push(d):Qe=[d]:Re=d}function At(){if(Re){var d=Re,m=Qe;if(Qe=Re=null,jt(d),m)for(d=0;d<m.length;d++)jt(m[d])}}function kr(d,m){return d(m)}function xr(){}var Xr=!1;function Zr(d,m,w){if(Xr)return d(m,w);Xr=!0;try{return kr(d,m,w)}finally{Xr=!1,(Re!==null||Qe!==null)&&(xr(),At())}}function Qt(d,m){var w=d.stateNode;if(w===null)return null;var A=Bc(w);if(A===null)return null;w=A[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(d=d.type,A=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!A;break e;default:d=!1}if(d)return null;if(w&&typeof w!="function")throw Error(r(231,m,typeof w));return w}var ln=!1;if(l)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){ln=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{ln=!1}function dt(d,m,w,A,q,Q,fe,De,He){var mt=Array.prototype.slice.call(arguments,3);try{m.apply(w,mt)}catch(Wt){this.onError(Wt)}}var Et=!1,Tt=null,Gt=!1,br=null,Kr={onError:function(d){Et=!0,Tt=d}};function _t(d,m,w,A,q,Q,fe,De,He){Et=!1,Tt=null,dt.apply(Kr,arguments)}function at(d,m,w,A,q,Q,fe,De,He){if(_t.apply(this,arguments),Et){if(Et){var mt=Tt;Et=!1,Tt=null}else throw Error(r(198));Gt||(Gt=!0,br=mt)}}function vt(d){var m=d,w=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(w=m.return),d=m.return;while(d)}return m.tag===3?w:null}function Kt(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function cr(d){if(vt(d)!==d)throw Error(r(188))}function gr(d){var m=d.alternate;if(!m){if(m=vt(d),m===null)throw Error(r(188));return m!==d?null:d}for(var w=d,A=m;;){var q=w.return;if(q===null)break;var Q=q.alternate;if(Q===null){if(A=q.return,A!==null){w=A;continue}break}if(q.child===Q.child){for(Q=q.child;Q;){if(Q===w)return cr(q),d;if(Q===A)return cr(q),m;Q=Q.sibling}throw Error(r(188))}if(w.return!==A.return)w=q,A=Q;else{for(var fe=!1,De=q.child;De;){if(De===w){fe=!0,w=q,A=Q;break}if(De===A){fe=!0,A=q,w=Q;break}De=De.sibling}if(!fe){for(De=Q.child;De;){if(De===w){fe=!0,w=Q,A=q;break}if(De===A){fe=!0,A=Q,w=q;break}De=De.sibling}if(!fe)throw Error(r(189))}}if(w.alternate!==A)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?d:m}function Bt(d){return d=gr(d),d!==null?it(d):null}function it(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=it(d);if(m!==null)return m;d=d.sibling}return null}var xt=e.unstable_scheduleCallback,Ht=e.unstable_cancelCallback,ir=e.unstable_shouldYield,nr=e.unstable_requestPaint,Rt=e.unstable_now,yr=e.unstable_getCurrentPriorityLevel,Vr=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,Ye=e.unstable_NormalPriority,ae=e.unstable_LowPriority,we=e.unstable_IdlePriority,$e=null,Xe=null;function st(d){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot($e,d,void 0,(d.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:$r,Yt=Math.log,Ar=Math.LN2;function $r(d){return d>>>=0,d===0?32:31-(Yt(d)/Ar|0)|0}var An=64,In=4194304;function Pr(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Dr(d,m){var w=d.pendingLanes;if(w===0)return 0;var A=0,q=d.suspendedLanes,Q=d.pingedLanes,fe=w&268435455;if(fe!==0){var De=fe&~q;De!==0?A=Pr(De):(Q&=fe,Q!==0&&(A=Pr(Q)))}else fe=w&~q,fe!==0?A=Pr(fe):Q!==0&&(A=Pr(Q));if(A===0)return 0;if(m!==0&&m!==A&&(m&q)===0&&(q=A&-A,Q=m&-m,q>=Q||q===16&&(Q&4194240)!==0))return m;if((A&4)!==0&&(A|=w&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=A;0<m;)w=31-Ot(m),q=1<<w,A|=d[w],m&=~q;return A}function Rr(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(d,m){for(var w=d.suspendedLanes,A=d.pingedLanes,q=d.expirationTimes,Q=d.pendingLanes;0<Q;){var fe=31-Ot(Q),De=1<<fe,He=q[fe];He===-1?((De&w)===0||(De&A)!==0)&&(q[fe]=Rr(De,m)):He<=m&&(d.expiredLanes|=De),Q&=~De}}function wn(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function na(){var d=An;return An<<=1,(An&4194240)===0&&(An=64),d}function Kn(d){for(var m=[],w=0;31>w;w++)m.push(d);return m}function Nn(d,m,w){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Ot(m),d[m]=w}function aa(d,m){var w=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<w;){var q=31-Ot(w),Q=1<<q;m[q]=0,A[q]=-1,d[q]=-1,w&=~Q}}function ya(d,m){var w=d.entangledLanes|=m;for(d=d.entanglements;w;){var A=31-Ot(w),q=1<<A;q&m|d[A]&m&&(d[A]|=m),w&=~q}}var cn=0;function Ya(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Oi,Ft,Ae,Pt,vr,Cn=!1,hn=[],_n=null,vo=null,za=null,Hr=new Map,Zo=new Map,Qo=[],jo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vs(d,m){switch(d){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Hr.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(m.pointerId)}}function bo(d,m,w,A,q,Q){return d===null||d.nativeEvent!==Q?(d={blockedOn:m,domEventName:w,eventSystemFlags:A,nativeEvent:Q,targetContainers:[q]},m!==null&&(m=zc(m),m!==null&&Ft(m)),d):(d.eventSystemFlags|=A,m=d.targetContainers,q!==null&&m.indexOf(q)===-1&&m.push(q),d)}function gl(d,m,w,A,q){switch(m){case"focusin":return _n=bo(_n,d,m,w,A,q),!0;case"dragenter":return vo=bo(vo,d,m,w,A,q),!0;case"mouseover":return za=bo(za,d,m,w,A,q),!0;case"pointerover":var Q=q.pointerId;return Hr.set(Q,bo(Hr.get(Q)||null,d,m,w,A,q)),!0;case"gotpointercapture":return Q=q.pointerId,Zo.set(Q,bo(Zo.get(Q)||null,d,m,w,A,q)),!0}return!1}function qs(d){var m=Pl(d.target);if(m!==null){var w=vt(m);if(w!==null){if(m=w.tag,m===13){if(m=Kt(w),m!==null){d.blockedOn=m,vr(d.priority,function(){Ae(w)});return}}else if(m===3&&w.stateNode.current.memoizedState.isDehydrated){d.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Zi(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var w=fi(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(w===null){w=d.nativeEvent;var A=new w.constructor(w.type,w);Nr=A,w.target.dispatchEvent(A),Nr=null}else return m=zc(w),m!==null&&Ft(m),d.blockedOn=w,!1;m.shift()}return!0}function bs(d,m,w){Zi(d)&&w.delete(m)}function ql(){Cn=!1,_n!==null&&Zi(_n)&&(_n=null),vo!==null&&Zi(vo)&&(vo=null),za!==null&&Zi(za)&&(za=null),Hr.forEach(bs),Zo.forEach(bs)}function Qi(d,m){d.blockedOn===m&&(d.blockedOn=null,Cn||(Cn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function yo(d){function m(q){return Qi(q,d)}if(0<hn.length){Qi(hn[0],d);for(var w=1;w<hn.length;w++){var A=hn[w];A.blockedOn===d&&(A.blockedOn=null)}}for(_n!==null&&Qi(_n,d),vo!==null&&Qi(vo,d),za!==null&&Qi(za,d),Hr.forEach(m),Zo.forEach(m),w=0;w<Qo.length;w++)A=Qo[w],A.blockedOn===d&&(A.blockedOn=null);for(;0<Qo.length&&(w=Qo[0],w.blockedOn===null);)qs(w),w.blockedOn===null&&Qo.shift()}var wo=_.ReactCurrentBatchConfig,ys=!0;function es(d,m,w,A){var q=cn,Q=wo.transition;wo.transition=null;try{cn=1,Ii(d,m,w,A)}finally{cn=q,wo.transition=Q}}function ts(d,m,w,A){var q=cn,Q=wo.transition;wo.transition=null;try{cn=4,Ii(d,m,w,A)}finally{cn=q,wo.transition=Q}}function Ii(d,m,w,A){if(ys){var q=fi(d,m,w,A);if(q===null)Zs(d,m,A,ws,w),vs(d,A);else if(gl(q,d,m,w,A))A.stopPropagation();else if(vs(d,A),m&4&&-1<jo.indexOf(d)){for(;q!==null;){var Q=zc(q);if(Q!==null&&Oi(Q),Q=fi(d,m,w,A),Q===null&&Zs(d,m,A,ws,w),Q===q)break;q=Q}q!==null&&A.stopPropagation()}else Zs(d,m,A,null,w)}}var ws=null;function fi(d,m,w,A){if(ws=null,d=bt(A),d=Pl(d),d!==null)if(m=vt(d),m===null)d=null;else if(w=m.tag,w===13){if(d=Kt(m),d!==null)return d;d=null}else if(w===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return ws=d,null}function Do(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yr()){case Vr:return 1;case Ur:return 4;case Ye:case ae:return 16;case we:return 536870912;default:return 16}default:return 16}}var Mo=null,Fo=null,Va=null;function Ic(){if(Va)return Va;var d,m=Fo,w=m.length,A,q="value"in Mo?Mo.value:Mo.textContent,Q=q.length;for(d=0;d<w&&m[d]===q[d];d++);var fe=w-d;for(A=1;A<=fe&&m[w-A]===q[Q-A];A++);return Va=q.slice(d,1<A?1-A:void 0)}function $o(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function ro(){return!0}function Us(){return!1}function Oa(d){function m(w,A,q,Q,fe){this._reactName=w,this._targetInst=q,this.type=A,this.nativeEvent=Q,this.target=fe,this.currentTarget=null;for(var De in d)d.hasOwnProperty(De)&&(w=d[De],this[De]=w?w(Q):Q[De]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?ro:Us,this.isPropagationStopped=Us,this}return K(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),m}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Oa(no),Ti=K({},no,{view:0,detail:0}),Ul=Oa(Ti),Hs,Ws,mi,pi=K({},Ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==mi&&(mi&&d.type==="mousemove"?(Hs=d.screenX-mi.screenX,Ws=d.screenY-mi.screenY):Ws=Hs=0,mi=d),Hs)},movementY:function(d){return"movementY"in d?d.movementY:Ws}}),vl=Oa(pi),Tc=K({},pi,{dataTransfer:0}),bl=Oa(Tc),Vs=K({},Ti,{relatedTarget:0}),Ri=Oa(Vs),hi=K({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Li=Oa(hi),Gs=K({},no,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),$=Oa(Gs),le=K({},no,{data:0}),Ie=Oa(le),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mt(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=ht[d])?!!m[d]:!1}function mr(){return Mt}var _r=K({},Ti,{key:function(d){if(d.key){var m=ze[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=$o(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?tt[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(d){return d.type==="keypress"?$o(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?$o(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Yr=Oa(_r),an=K({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xn=Oa(an),pa=K({},Ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),wa=Oa(pa),St=K({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=Oa(St),We=K({},pi,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=Oa(We),yt=[9,13,27,32],It=l&&"CompositionEvent"in window,wt=null;l&&"documentMode"in document&&(wt=document.documentMode);var zt=l&&"TextEvent"in window&&!wt,er=l&&(!It||wt&&8<wt&&11>=wt),wr=" ",zr=!1;function gn(d,m){switch(d){case"keyup":return yt.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Gr=!1;function Ia(d,m){switch(d){case"compositionend":return Pn(m);case"keypress":return m.which!==32?null:(zr=!0,wr);case"textInput":return d=m.data,d===wr&&zr?null:d;default:return null}}function xo(d,m){if(Gr)return d==="compositionend"||!It&&gn(d,m)?(d=Ic(),Va=Fo=Mo=null,Gr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return er&&m.locale!=="ko"?null:m.data;default:return null}}var Eo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ta(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Eo[d.type]:m==="textarea"}function Yn(d,m,w,A){gt(A),m=zu(m,"onChange"),0<m.length&&(w=new Ja("onChange","change",null,w,A),d.push({event:w,listeners:m}))}var ei=null,ji=null;function Ks(d){su(d,0)}function Na(d){var m=Ql(d);if(ue(m))return d}function Hl(d,m){if(d==="change")return m}var Wl=!1;if(l){var ao;if(l){var xs="oninput"in document;if(!xs){var yl=document.createElement("div");yl.setAttribute("oninput","return;"),xs=typeof yl.oninput=="function"}ao=xs}else ao=!1;Wl=ao&&(!document.documentMode||9<document.documentMode)}function So(){ei&&(ei.detachEvent("onpropertychange",oo),ji=ei=null)}function oo(d){if(d.propertyName==="value"&&Na(ji)){var m=[];Yn(m,ji,d,bt(d)),Zr(Ks,m)}}function wl(d,m,w){d==="focusin"?(So(),ei=m,ji=w,ei.attachEvent("onpropertychange",oo)):d==="focusout"&&So()}function Ys(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Na(ji)}function Js(d,m){if(d==="click")return Na(m)}function Rc(d,m){if(d==="input"||d==="change")return Na(m)}function Xs(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var zn=typeof Object.is=="function"?Object.is:Xs;function Es(d,m){if(zn(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var w=Object.keys(d),A=Object.keys(m);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var q=w[A];if(!c.call(m,q)||!zn(d[q],m[q]))return!1}return!0}function io(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function zo(d,m){var w=io(d);d=0;for(var A;w;){if(w.nodeType===3){if(A=d+w.textContent.length,d<=m&&A>=m)return{node:w,offset:m-d};d=A}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=io(w)}}function Vl(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Vl(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function ou(){for(var d=window,m=xe();m instanceof d.HTMLIFrameElement;){try{var w=typeof m.contentWindow.location.href=="string"}catch{w=!1}if(w)d=m.contentWindow;else break;m=xe(d.document)}return m}function gi(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Bo(d){var m=ou(),w=d.focusedElem,A=d.selectionRange;if(m!==w&&w&&w.ownerDocument&&Vl(w.ownerDocument.documentElement,w)){if(A!==null&&gi(w)){if(m=A.start,d=A.end,d===void 0&&(d=m),"selectionStart"in w)w.selectionStart=m,w.selectionEnd=Math.min(d,w.value.length);else if(d=(m=w.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var q=w.textContent.length,Q=Math.min(A.start,q);A=A.end===void 0?Q:Math.min(A.end,q),!d.extend&&Q>A&&(q=A,A=Q,Q=q),q=zo(w,Q);var fe=zo(w,A);q&&fe&&(d.rangeCount!==1||d.anchorNode!==q.node||d.anchorOffset!==q.offset||d.focusNode!==fe.node||d.focusOffset!==fe.offset)&&(m=m.createRange(),m.setStart(q.node,q.offset),d.removeAllRanges(),Q>A?(d.addRange(m),d.extend(fe.node,fe.offset)):(m.setEnd(fe.node,fe.offset),d.addRange(m)))}}for(m=[],d=w;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<m.length;w++)d=m[w],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var xl=l&&"documentMode"in document&&11>=document.documentMode,vi=null,Ss=null,rs=null,Cs=!1;function Ns(d,m,w){var A=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Cs||vi==null||vi!==xe(A)||(A=vi,"selectionStart"in A&&gi(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),rs&&Es(rs,A)||(rs=A,A=zu(Ss,"onSelect"),0<A.length&&(m=new Ja("onSelect","select",null,m,w),d.push({event:m,listeners:A}),m.target=vi)))}function El(d,m){var w={};return w[d.toLowerCase()]=m.toLowerCase(),w["Webkit"+d]="webkit"+m,w["Moz"+d]="moz"+m,w}var so={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},ti={},Jn={};l&&(Jn=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Bn(d){if(ti[d])return ti[d];if(!so[d])return d;var m=so[d],w;for(w in m)if(m.hasOwnProperty(w)&&w in Jn)return ti[d]=m[w];return d}var Ra=Bn("animationend"),Ha=Bn("animationiteration"),Ps=Bn("animationstart"),Lc=Bn("transitionend"),Gl=new Map,bi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(d,m){Gl.set(d,m),i(m,[d])}for(var jc=0;jc<bi.length;jc++){var qo=bi[jc],Di=qo.toLowerCase(),$u=qo[0].toUpperCase()+qo.slice(1);ns(Di,"on"+$u)}ns(Ra,"onAnimationEnd"),ns(Ha,"onAnimationIteration"),ns(Ps,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(Lc,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function iu(d,m,w){var A=d.type||"unknown-event";d.currentTarget=w,at(A,m,void 0,d),d.currentTarget=null}function su(d,m){m=(m&4)!==0;for(var w=0;w<d.length;w++){var A=d[w],q=A.event;A=A.listeners;e:{var Q=void 0;if(m)for(var fe=A.length-1;0<=fe;fe--){var De=A[fe],He=De.instance,mt=De.currentTarget;if(De=De.listener,He!==Q&&q.isPropagationStopped())break e;iu(q,De,mt),Q=He}else for(fe=0;fe<A.length;fe++){if(De=A[fe],He=De.instance,mt=De.currentTarget,De=De.listener,He!==Q&&q.isPropagationStopped())break e;iu(q,De,mt),Q=He}}}if(Gt)throw d=br,Gt=!1,br=null,d}function Vn(d,m){var w=m[ri];w===void 0&&(w=m[ri]=new Set);var A=d+"__bubble";w.has(A)||(Mc(m,d,2,!1),w.add(A))}function Kl(d,m,w){var A=0;m&&(A|=4),Mc(w,d,A,m)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Cl(d){if(!d[Dc]){d[Dc]=!0,n.forEach(function(w){w!=="selectionchange"&&(Tf.has(w)||Kl(w,!1,d),Kl(w,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Dc]||(m[Dc]=!0,Kl("selectionchange",!1,m))}}function Mc(d,m,w,A){switch(Do(m)){case 1:var q=es;break;case 4:q=ts;break;default:q=Ii}w=q.bind(null,m,w,d),q=void 0,!ln||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(q=!0),A?q!==void 0?d.addEventListener(m,w,{capture:!0,passive:q}):d.addEventListener(m,w,!0):q!==void 0?d.addEventListener(m,w,{passive:q}):d.addEventListener(m,w,!1)}function Zs(d,m,w,A,q){var Q=A;if((m&1)===0&&(m&2)===0&&A!==null)e:for(;;){if(A===null)return;var fe=A.tag;if(fe===3||fe===4){var De=A.stateNode.containerInfo;if(De===q||De.nodeType===8&&De.parentNode===q)break;if(fe===4)for(fe=A.return;fe!==null;){var He=fe.tag;if((He===3||He===4)&&(He=fe.stateNode.containerInfo,He===q||He.nodeType===8&&He.parentNode===q))return;fe=fe.return}for(;De!==null;){if(fe=Pl(De),fe===null)return;if(He=fe.tag,He===5||He===6){A=Q=fe;continue e}De=De.parentNode}}A=A.return}Zr(function(){var mt=Q,Wt=bt(w),Xt=[];e:{var qt=Gl.get(d);if(qt!==void 0){var Cr=Ja,Lr=d;switch(d){case"keypress":if($o(w)===0)break e;case"keydown":case"keyup":Cr=Yr;break;case"focusin":Lr="focus",Cr=Ri;break;case"focusout":Lr="blur",Cr=Ri;break;case"beforeblur":case"afterblur":Cr=Ri;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Cr=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Cr=bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Cr=wa;break;case Ra:case Ha:case Ps:Cr=Li;break;case Lc:Cr=Oe;break;case"scroll":Cr=Ul;break;case"wheel":Cr=ut;break;case"copy":case"cut":case"paste":Cr=$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Cr=xn}var Fr=(m&4)!==0,uo=!Fr&&d==="scroll",ot=Fr?qt!==null?qt+"Capture":null:qt;Fr=[];for(var Ge=mt,lt;Ge!==null;){lt=Ge;var or=lt.stateNode;if(lt.tag===5&&or!==null&&(lt=or,ot!==null&&(or=Qt(Ge,ot),or!=null&&Fr.push(Yl(Ge,or,lt)))),uo)break;Ge=Ge.return}0<Fr.length&&(qt=new Cr(qt,Lr,null,w,Wt),Xt.push({event:qt,listeners:Fr}))}}if((m&7)===0){e:{if(qt=d==="mouseover"||d==="pointerover",Cr=d==="mouseout"||d==="pointerout",qt&&w!==Nr&&(Lr=w.relatedTarget||w.fromElement)&&(Pl(Lr)||Lr[No]))break e;if((Cr||qt)&&(qt=Wt.window===Wt?Wt:(qt=Wt.ownerDocument)?qt.defaultView||qt.parentWindow:window,Cr?(Lr=w.relatedTarget||w.toElement,Cr=mt,Lr=Lr?Pl(Lr):null,Lr!==null&&(uo=vt(Lr),Lr!==uo||Lr.tag!==5&&Lr.tag!==6)&&(Lr=null)):(Cr=null,Lr=mt),Cr!==Lr)){if(Fr=vl,or="onMouseLeave",ot="onMouseEnter",Ge="mouse",(d==="pointerout"||d==="pointerover")&&(Fr=xn,or="onPointerLeave",ot="onPointerEnter",Ge="pointer"),uo=Cr==null?qt:Ql(Cr),lt=Lr==null?qt:Ql(Lr),qt=new Fr(or,Ge+"leave",Cr,w,Wt),qt.target=uo,qt.relatedTarget=lt,or=null,Pl(Wt)===mt&&(Fr=new Fr(ot,Ge+"enter",Lr,w,Wt),Fr.target=lt,Fr.relatedTarget=uo,or=Fr),uo=or,Cr&&Lr)t:{for(Fr=Cr,ot=Lr,Ge=0,lt=Fr;lt;lt=Jl(lt))Ge++;for(lt=0,or=ot;or;or=Jl(or))lt++;for(;0<Ge-lt;)Fr=Jl(Fr),Ge--;for(;0<lt-Ge;)ot=Jl(ot),lt--;for(;Ge--;){if(Fr===ot||ot!==null&&Fr===ot.alternate)break t;Fr=Jl(Fr),ot=Jl(ot)}Fr=null}else Fr=null;Cr!==null&&Rf(Xt,qt,Cr,Fr,!1),Lr!==null&&uo!==null&&Rf(Xt,uo,Lr,Fr,!0)}}e:{if(qt=mt?Ql(mt):window,Cr=qt.nodeName&&qt.nodeName.toLowerCase(),Cr==="select"||Cr==="input"&&qt.type==="file")var qr=Hl;else if(Ta(qt))if(Wl)qr=Rc;else{qr=Ys;var en=wl}else(Cr=qt.nodeName)&&Cr.toLowerCase()==="input"&&(qt.type==="checkbox"||qt.type==="radio")&&(qr=Js);if(qr&&(qr=qr(d,mt))){Yn(Xt,qr,w,Wt);break e}en&&en(d,qt,mt),d==="focusout"&&(en=qt._wrapperState)&&en.controlled&&qt.type==="number"&&Le(qt,"number",qt.value)}switch(en=mt?Ql(mt):window,d){case"focusin":(Ta(en)||en.contentEditable==="true")&&(vi=en,Ss=mt,rs=null);break;case"focusout":rs=Ss=vi=null;break;case"mousedown":Cs=!0;break;case"contextmenu":case"mouseup":case"dragend":Cs=!1,Ns(Xt,w,Wt);break;case"selectionchange":if(xl)break;case"keydown":case"keyup":Ns(Xt,w,Wt)}var tn;if(It)e:{switch(d){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else Gr?gn(d,w)&&(pn="onCompositionEnd"):d==="keydown"&&w.keyCode===229&&(pn="onCompositionStart");pn&&(er&&w.locale!=="ko"&&(Gr||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&Gr&&(tn=Ic()):(Mo=Wt,Fo="value"in Mo?Mo.value:Mo.textContent,Gr=!0)),en=zu(mt,pn),0<en.length&&(pn=new Ie(pn,d,null,w,Wt),Xt.push({event:pn,listeners:en}),tn?pn.data=tn:(tn=Pn(w),tn!==null&&(pn.data=tn)))),(tn=zt?Ia(d,w):xo(d,w))&&(mt=zu(mt,"onBeforeInput"),0<mt.length&&(Wt=new Ie("onBeforeInput","beforeinput",null,w,Wt),Xt.push({event:Wt,listeners:mt}),Wt.data=tn))}su(Xt,m)})}function Yl(d,m,w){return{instance:d,listener:m,currentTarget:w}}function zu(d,m){for(var w=m+"Capture",A=[];d!==null;){var q=d,Q=q.stateNode;q.tag===5&&Q!==null&&(q=Q,Q=Qt(d,w),Q!=null&&A.unshift(Yl(d,Q,q)),Q=Qt(d,m),Q!=null&&A.push(Yl(d,Q,q))),d=d.return}return A}function Jl(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Rf(d,m,w,A,q){for(var Q=m._reactName,fe=[];w!==null&&w!==A;){var De=w,He=De.alternate,mt=De.stateNode;if(He!==null&&He===A)break;De.tag===5&&mt!==null&&(De=mt,q?(He=Qt(w,Q),He!=null&&fe.unshift(Yl(w,He,De))):q||(He=Qt(w,Q),He!=null&&fe.push(Yl(w,He,De)))),w=w.return}fe.length!==0&&d.push({event:m,listeners:fe})}var Xl=/\r\n?/g,mp=/\u0000|\uFFFD/g;function Lf(d){return(typeof d=="string"?d:""+d).replace(Xl,`
`).replace(mp,"")}function Bu(d,m,w){if(m=Lf(m),Lf(d)!==m&&w)throw Error(r(425))}function Fc(){}var Nl=null,Qs=null;function Ad(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var qu=typeof setTimeout=="function"?setTimeout:void 0,jf=typeof clearTimeout=="function"?clearTimeout:void 0,Zl=typeof Promise=="function"?Promise:void 0,_d=typeof queueMicrotask=="function"?queueMicrotask:typeof Zl<"u"?function(d){return Zl.resolve(null).then(d).catch(Df)}:qu;function Df(d){setTimeout(function(){throw d})}function Od(d,m){var w=m,A=0;do{var q=w.nextSibling;if(d.removeChild(w),q&&q.nodeType===8)if(w=q.data,w==="/$"){if(A===0){d.removeChild(q),yo(m);return}A--}else w!=="$"&&w!=="$?"&&w!=="$!"||A++;w=q}while(w);yo(m)}function Uo(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function Mi(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var w=d.data;if(w==="$"||w==="$!"||w==="$?"){if(m===0)return d;m--}else w==="/$"&&m++}d=d.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Co="__reactFiber$"+Xa,$c="__reactProps$"+Xa,No="__reactContainer$"+Xa,ri="__reactEvents$"+Xa,pp="__reactListeners$"+Xa,hp="__reactHandles$"+Xa;function Pl(d){var m=d[Co];if(m)return m;for(var w=d.parentNode;w;){if(m=w[No]||w[Co]){if(w=m.alternate,m.child!==null||w!==null&&w.child!==null)for(d=Mi(d);d!==null;){if(w=d[Co])return w;d=Mi(d)}return m}d=w,w=d.parentNode}return null}function zc(d){return d=d[Co]||d[No],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Ql(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Bc(d){return d[$c]||null}var Id=[],ks=-1;function yi(d){return{current:d}}function qn(d){0>ks||(d.current=Id[ks],Id[ks]=null,ks--)}function Tn(d,m){ks++,Id[ks]=d.current,d.current=m}var el={},Ga=yi(el),Ho=yi(!1),tl=el;function ec(d,m){var w=d.type.contextTypes;if(!w)return el;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var q={},Q;for(Q in w)q[Q]=m[Q];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=q),q}function Po(d){return d=d.childContextTypes,d!=null}function Uu(){qn(Ho),qn(Ga)}function kl(d,m,w){if(Ga.current!==el)throw Error(r(168));Tn(Ga,m),Tn(Ho,w)}function As(d,m,w){var A=d.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var q in A)if(!(q in m))throw Error(r(108,ye(d)||"Unknown",q));return K({},w,A)}function tc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||el,tl=Ga.current,Tn(Ga,d),Tn(Ho,Ho.current),!0}function Mf(d,m,w){var A=d.stateNode;if(!A)throw Error(r(169));w?(d=As(d,m,tl),A.__reactInternalMemoizedMergedChildContext=d,qn(Ho),qn(Ga),Tn(Ga,d)):qn(Ho),Tn(Ho,w)}var rl=null,lu=!1,S=!1;function T(d){rl===null?rl=[d]:rl.push(d)}function W(d){lu=!0,T(d)}function ne(){if(!S&&rl!==null){S=!0;var d=0,m=cn;try{var w=rl;for(cn=1;d<w.length;d++){var A=w[d];do A=A(!0);while(A!==null)}rl=null,lu=!1}catch(q){throw rl!==null&&(rl=rl.slice(d+1)),xt(Vr,ne),q}finally{cn=m,S=!1}}return null}var se=[],de=0,pe=null,ge=0,ve=[],Ce=0,Z=null,P=1,V="";function oe(d,m){se[de++]=ge,se[de++]=pe,pe=d,ge=m}function Ne(d,m,w){ve[Ce++]=P,ve[Ce++]=V,ve[Ce++]=Z,Z=d;var A=P;d=V;var q=32-Ot(A)-1;A&=~(1<<q),w+=1;var Q=32-Ot(m)+q;if(30<Q){var fe=q-q%5;Q=(A&(1<<fe)-1).toString(32),A>>=fe,q-=fe,P=1<<32-Ot(m)+q|w<<q|A,V=Q+d}else P=1<<Q|w<<q|A,V=d}function Ee(d){d.return!==null&&(oe(d,1),Ne(d,1,0))}function be(d){for(;d===pe;)pe=se[--de],se[de]=null,ge=se[--de],se[de]=null;for(;d===Z;)Z=ve[--Ce],ve[Ce]=null,V=ve[--Ce],ve[Ce]=null,P=ve[--Ce],ve[Ce]=null}var Se=null,qe=null,Ve=!1,Ke=null;function ft(d,m){var w=Ol(5,null,null,0);w.elementType="DELETED",w.stateNode=m,w.return=d,m=d.deletions,m===null?(d.deletions=[w],d.flags|=16):m.push(w)}function kt(d,m){switch(d.tag){case 5:var w=d.type;return m=m.nodeType!==1||w.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Se=d,qe=Uo(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Se=d,qe=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(w=Z!==null?{id:P,overflow:V}:null,d.memoizedState={dehydrated:m,treeContext:w,retryLane:1073741824},w=Ol(18,null,null,0),w.stateNode=m,w.return=d,d.child=w,Se=d,qe=null,!0):!1;default:return!1}}function $t(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Ct(d){if(Ve){var m=qe;if(m){var w=m;if(!kt(d,m)){if($t(d))throw Error(r(418));m=Uo(w.nextSibling);var A=Se;m&&kt(d,m)?ft(A,w):(d.flags=d.flags&-4097|2,Ve=!1,Se=d)}}else{if($t(d))throw Error(r(418));d.flags=d.flags&-4097|2,Ve=!1,Se=d}}}function fr(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Se=d}function pr(d){if(d!==Se)return!1;if(!Ve)return fr(d),Ve=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Ad(d.type,d.memoizedProps)),m&&(m=qe)){if($t(d))throw Tr(),Error(r(418));for(;m;)ft(d,m),m=Uo(m.nextSibling)}if(fr(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var w=d.data;if(w==="/$"){if(m===0){qe=Uo(d.nextSibling);break e}m--}else w!=="$"&&w!=="$!"&&w!=="$?"||m++}d=d.nextSibling}qe=null}}else qe=Se?Uo(d.stateNode.nextSibling):null;return!0}function Tr(){for(var d=qe;d;)d=Uo(d.nextSibling)}function Er(){qe=Se=null,Ve=!1}function Sr(d){Ke===null?Ke=[d]:Ke.push(d)}var Mr=_.ReactCurrentBatchConfig;function ar(d,m,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var A=w.stateNode}if(!A)throw Error(r(147,d));var q=A,Q=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===Q?m.ref:(m=function(fe){var De=q.refs;fe===null?delete De[Q]:De[Q]=fe},m._stringRef=Q,m)}if(typeof d!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,d))}return d}function Br(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function mn(d){var m=d._init;return m(d._payload)}function Qr(d){function m(ot,Ge){if(d){var lt=ot.deletions;lt===null?(ot.deletions=[Ge],ot.flags|=16):lt.push(Ge)}}function w(ot,Ge){if(!d)return null;for(;Ge!==null;)m(ot,Ge),Ge=Ge.sibling;return null}function A(ot,Ge){for(ot=new Map;Ge!==null;)Ge.key!==null?ot.set(Ge.key,Ge):ot.set(Ge.index,Ge),Ge=Ge.sibling;return ot}function q(ot,Ge){return ot=rd(ot,Ge),ot.index=0,ot.sibling=null,ot}function Q(ot,Ge,lt){return ot.index=lt,d?(lt=ot.alternate,lt!==null?(lt=lt.index,lt<Ge?(ot.flags|=2,Ge):lt):(ot.flags|=2,Ge)):(ot.flags|=1048576,Ge)}function fe(ot){return d&&ot.alternate===null&&(ot.flags|=2),ot}function De(ot,Ge,lt,or){return Ge===null||Ge.tag!==6?(Ge=vy(lt,ot.mode,or),Ge.return=ot,Ge):(Ge=q(Ge,lt),Ge.return=ot,Ge)}function He(ot,Ge,lt,or){var qr=lt.type;return qr===R?Wt(ot,Ge,lt.props.children,or,lt.key):Ge!==null&&(Ge.elementType===qr||typeof qr=="object"&&qr!==null&&qr.$$typeof===J&&mn(qr)===Ge.type)?(or=q(Ge,lt.props),or.ref=ar(ot,Ge,lt),or.return=ot,or):(or=Mg(lt.type,lt.key,lt.props,null,ot.mode,or),or.ref=ar(ot,Ge,lt),or.return=ot,or)}function mt(ot,Ge,lt,or){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==lt.containerInfo||Ge.stateNode.implementation!==lt.implementation?(Ge=by(lt,ot.mode,or),Ge.return=ot,Ge):(Ge=q(Ge,lt.children||[]),Ge.return=ot,Ge)}function Wt(ot,Ge,lt,or,qr){return Ge===null||Ge.tag!==7?(Ge=$d(lt,ot.mode,or,qr),Ge.return=ot,Ge):(Ge=q(Ge,lt),Ge.return=ot,Ge)}function Xt(ot,Ge,lt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Ge=vy(""+Ge,ot.mode,lt),Ge.return=ot,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case N:return lt=Mg(Ge.type,Ge.key,Ge.props,null,ot.mode,lt),lt.ref=ar(ot,null,Ge),lt.return=ot,lt;case O:return Ge=by(Ge,ot.mode,lt),Ge.return=ot,Ge;case J:var or=Ge._init;return Xt(ot,or(Ge._payload),lt)}if(Ze(Ge)||te(Ge))return Ge=$d(Ge,ot.mode,lt,null),Ge.return=ot,Ge;Br(ot,Ge)}return null}function qt(ot,Ge,lt,or){var qr=Ge!==null?Ge.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number")return qr!==null?null:De(ot,Ge,""+lt,or);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case N:return lt.key===qr?He(ot,Ge,lt,or):null;case O:return lt.key===qr?mt(ot,Ge,lt,or):null;case J:return qr=lt._init,qt(ot,Ge,qr(lt._payload),or)}if(Ze(lt)||te(lt))return qr!==null?null:Wt(ot,Ge,lt,or,null);Br(ot,lt)}return null}function Cr(ot,Ge,lt,or,qr){if(typeof or=="string"&&or!==""||typeof or=="number")return ot=ot.get(lt)||null,De(Ge,ot,""+or,qr);if(typeof or=="object"&&or!==null){switch(or.$$typeof){case N:return ot=ot.get(or.key===null?lt:or.key)||null,He(Ge,ot,or,qr);case O:return ot=ot.get(or.key===null?lt:or.key)||null,mt(Ge,ot,or,qr);case J:var en=or._init;return Cr(ot,Ge,lt,en(or._payload),qr)}if(Ze(or)||te(or))return ot=ot.get(lt)||null,Wt(Ge,ot,or,qr,null);Br(Ge,or)}return null}function Lr(ot,Ge,lt,or){for(var qr=null,en=null,tn=Ge,pn=Ge=0,ai=null;tn!==null&&pn<lt.length;pn++){tn.index>pn?(ai=tn,tn=null):ai=tn.sibling;var Qn=qt(ot,tn,lt[pn],or);if(Qn===null){tn===null&&(tn=ai);break}d&&tn&&Qn.alternate===null&&m(ot,tn),Ge=Q(Qn,Ge,pn),en===null?qr=Qn:en.sibling=Qn,en=Qn,tn=ai}if(pn===lt.length)return w(ot,tn),Ve&&oe(ot,pn),qr;if(tn===null){for(;pn<lt.length;pn++)tn=Xt(ot,lt[pn],or),tn!==null&&(Ge=Q(tn,Ge,pn),en===null?qr=tn:en.sibling=tn,en=tn);return Ve&&oe(ot,pn),qr}for(tn=A(ot,tn);pn<lt.length;pn++)ai=Cr(tn,ot,pn,lt[pn],or),ai!==null&&(d&&ai.alternate!==null&&tn.delete(ai.key===null?pn:ai.key),Ge=Q(ai,Ge,pn),en===null?qr=ai:en.sibling=ai,en=ai);return d&&tn.forEach(function(nd){return m(ot,nd)}),Ve&&oe(ot,pn),qr}function Fr(ot,Ge,lt,or){var qr=te(lt);if(typeof qr!="function")throw Error(r(150));if(lt=qr.call(lt),lt==null)throw Error(r(151));for(var en=qr=null,tn=Ge,pn=Ge=0,ai=null,Qn=lt.next();tn!==null&&!Qn.done;pn++,Qn=lt.next()){tn.index>pn?(ai=tn,tn=null):ai=tn.sibling;var nd=qt(ot,tn,Qn.value,or);if(nd===null){tn===null&&(tn=ai);break}d&&tn&&nd.alternate===null&&m(ot,tn),Ge=Q(nd,Ge,pn),en===null?qr=nd:en.sibling=nd,en=nd,tn=ai}if(Qn.done)return w(ot,tn),Ve&&oe(ot,pn),qr;if(tn===null){for(;!Qn.done;pn++,Qn=lt.next())Qn=Xt(ot,Qn.value,or),Qn!==null&&(Ge=Q(Qn,Ge,pn),en===null?qr=Qn:en.sibling=Qn,en=Qn);return Ve&&oe(ot,pn),qr}for(tn=A(ot,tn);!Qn.done;pn++,Qn=lt.next())Qn=Cr(tn,ot,pn,Qn.value,or),Qn!==null&&(d&&Qn.alternate!==null&&tn.delete(Qn.key===null?pn:Qn.key),Ge=Q(Qn,Ge,pn),en===null?qr=Qn:en.sibling=Qn,en=Qn);return d&&tn.forEach(function(Cj){return m(ot,Cj)}),Ve&&oe(ot,pn),qr}function uo(ot,Ge,lt,or){if(typeof lt=="object"&&lt!==null&&lt.type===R&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case N:e:{for(var qr=lt.key,en=Ge;en!==null;){if(en.key===qr){if(qr=lt.type,qr===R){if(en.tag===7){w(ot,en.sibling),Ge=q(en,lt.props.children),Ge.return=ot,ot=Ge;break e}}else if(en.elementType===qr||typeof qr=="object"&&qr!==null&&qr.$$typeof===J&&mn(qr)===en.type){w(ot,en.sibling),Ge=q(en,lt.props),Ge.ref=ar(ot,en,lt),Ge.return=ot,ot=Ge;break e}w(ot,en);break}else m(ot,en);en=en.sibling}lt.type===R?(Ge=$d(lt.props.children,ot.mode,or,lt.key),Ge.return=ot,ot=Ge):(or=Mg(lt.type,lt.key,lt.props,null,ot.mode,or),or.ref=ar(ot,Ge,lt),or.return=ot,ot=or)}return fe(ot);case O:e:{for(en=lt.key;Ge!==null;){if(Ge.key===en)if(Ge.tag===4&&Ge.stateNode.containerInfo===lt.containerInfo&&Ge.stateNode.implementation===lt.implementation){w(ot,Ge.sibling),Ge=q(Ge,lt.children||[]),Ge.return=ot,ot=Ge;break e}else{w(ot,Ge);break}else m(ot,Ge);Ge=Ge.sibling}Ge=by(lt,ot.mode,or),Ge.return=ot,ot=Ge}return fe(ot);case J:return en=lt._init,uo(ot,Ge,en(lt._payload),or)}if(Ze(lt))return Lr(ot,Ge,lt,or);if(te(lt))return Fr(ot,Ge,lt,or);Br(ot,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"?(lt=""+lt,Ge!==null&&Ge.tag===6?(w(ot,Ge.sibling),Ge=q(Ge,lt),Ge.return=ot,ot=Ge):(w(ot,Ge),Ge=vy(lt,ot.mode,or),Ge.return=ot,ot=Ge),fe(ot)):w(ot,Ge)}return uo}var nn=Qr(!0),Jr=Qr(!1),Xn=yi(null),la=null,kn=null,Un=null;function Zn(){Un=kn=la=null}function On(d){var m=Xn.current;qn(Xn),d._currentValue=m}function Ba(d,m,w){for(;d!==null;){var A=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),d===w)break;d=d.return}}function Mn(d,m){la=d,Un=kn=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Os=!0),d.firstContext=null)}function ha(d){var m=d._currentValue;if(Un!==d)if(d={context:d,memoizedValue:m,next:null},kn===null){if(la===null)throw Error(r(308));kn=d,la.dependencies={lanes:0,firstContext:d}}else kn=kn.next=d;return m}var Hn=null;function Rn(d){Hn===null?Hn=[d]:Hn.push(d)}function Pa(d,m,w,A){var q=m.interleaved;return q===null?(w.next=w,Rn(m)):(w.next=q.next,q.next=w),m.interleaved=w,bn(d,A)}function bn(d,m){d.lanes|=m;var w=d.alternate;for(w!==null&&(w.lanes|=m),w=d,d=d.return;d!==null;)d.childLanes|=m,w=d.alternate,w!==null&&(w.childLanes|=m),w=d,d=d.return;return w.tag===3?w.stateNode:null}var lo=!1;function rc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hu(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function wi(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Wo(d,m,w){var A=d.updateQueue;if(A===null)return null;if(A=A.shared,(Gn&2)!==0){var q=A.pending;return q===null?m.next=m:(m.next=q.next,q.next=m),A.pending=m,bn(d,w)}return q=A.interleaved,q===null?(m.next=m,Rn(A)):(m.next=q.next,q.next=m),A.interleaved=m,bn(d,w)}function nc(d,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194240)!==0)){var A=m.lanes;A&=d.pendingLanes,w|=A,m.lanes=w,ya(d,w)}}function Fi(d,m){var w=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var q=null,Q=null;if(w=w.firstBaseUpdate,w!==null){do{var fe={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};Q===null?q=Q=fe:Q=Q.next=fe,w=w.next}while(w!==null);Q===null?q=Q=m:Q=Q.next=m}else q=Q=m;w={baseState:A.baseState,firstBaseUpdate:q,lastBaseUpdate:Q,shared:A.shared,effects:A.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=m:d.next=m,w.lastBaseUpdate=m}function as(d,m,w,A){var q=d.updateQueue;lo=!1;var Q=q.firstBaseUpdate,fe=q.lastBaseUpdate,De=q.shared.pending;if(De!==null){q.shared.pending=null;var He=De,mt=He.next;He.next=null,fe===null?Q=mt:fe.next=mt,fe=He;var Wt=d.alternate;Wt!==null&&(Wt=Wt.updateQueue,De=Wt.lastBaseUpdate,De!==fe&&(De===null?Wt.firstBaseUpdate=mt:De.next=mt,Wt.lastBaseUpdate=He))}if(Q!==null){var Xt=q.baseState;fe=0,Wt=mt=He=null,De=Q;do{var qt=De.lane,Cr=De.eventTime;if((A&qt)===qt){Wt!==null&&(Wt=Wt.next={eventTime:Cr,lane:0,tag:De.tag,payload:De.payload,callback:De.callback,next:null});e:{var Lr=d,Fr=De;switch(qt=m,Cr=w,Fr.tag){case 1:if(Lr=Fr.payload,typeof Lr=="function"){Xt=Lr.call(Cr,Xt,qt);break e}Xt=Lr;break e;case 3:Lr.flags=Lr.flags&-65537|128;case 0:if(Lr=Fr.payload,qt=typeof Lr=="function"?Lr.call(Cr,Xt,qt):Lr,qt==null)break e;Xt=K({},Xt,qt);break e;case 2:lo=!0}}De.callback!==null&&De.lane!==0&&(d.flags|=64,qt=q.effects,qt===null?q.effects=[De]:qt.push(De))}else Cr={eventTime:Cr,lane:qt,tag:De.tag,payload:De.payload,callback:De.callback,next:null},Wt===null?(mt=Wt=Cr,He=Xt):Wt=Wt.next=Cr,fe|=qt;if(De=De.next,De===null){if(De=q.shared.pending,De===null)break;qt=De,De=qt.next,qt.next=null,q.lastBaseUpdate=qt,q.shared.pending=null}}while(!0);if(Wt===null&&(He=Xt),q.baseState=He,q.firstBaseUpdate=mt,q.lastBaseUpdate=Wt,m=q.shared.interleaved,m!==null){q=m;do fe|=q.lane,q=q.next;while(q!==m)}else Q===null&&(q.shared.lanes=0);jd|=fe,d.lanes=fe,d.memoizedState=Xt}}function ac(d,m,w){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var A=d[m],q=A.callback;if(q!==null){if(A.callback=null,A=w,typeof q!="function")throw Error(r(191,q));q.call(A)}}}var oc={},xi=yi(oc),ic=yi(oc),nl=yi(oc);function al(d){if(d===oc)throw Error(r(174));return d}function qc(d,m){switch(Tn(nl,m),Tn(ic,d),Tn(xi,oc),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:dr(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=dr(m,d)}qn(xi),Tn(xi,m)}function ko(){qn(xi),qn(ic),qn(nl)}function cu(d){al(nl.current);var m=al(xi.current),w=dr(m,d.type);m!==w&&(Tn(ic,d),Tn(xi,w))}function Wu(d){ic.current===d&&(qn(xi),qn(ic))}var ca=yi(0);function Ei(d){for(var m=d;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Vu=[];function Gu(){for(var d=0;d<Vu.length;d++)Vu[d]._workInProgressVersionPrimary=null;Vu.length=0}var uu=_.ReactCurrentDispatcher,du=_.ReactCurrentBatchConfig,_s=0,xa=null,La=null,ja=null,Ku=!1,sc=!1,Yu=0,Ub=0;function co(){throw Error(r(321))}function Ff(d,m){if(m===null)return!1;for(var w=0;w<m.length&&w<d.length;w++)if(!zn(d[w],m[w]))return!1;return!0}function Td(d,m,w,A,q,Q){if(_s=Q,xa=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,uu.current=d===null||d.memoizedState===null?JL:XL,d=w(A,q),sc){Q=0;do{if(sc=!1,Yu=0,25<=Q)throw Error(r(301));Q+=1,ja=La=null,m.updateQueue=null,uu.current=ZL,d=w(A,q)}while(sc)}if(uu.current=Sg,m=La!==null&&La.next!==null,_s=0,ja=La=xa=null,Ku=!1,m)throw Error(r(300));return d}function Al(){var d=Yu!==0;return Yu=0,d}function ol(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ja===null?xa.memoizedState=ja=d:ja=ja.next=d,ja}function os(){if(La===null){var d=xa.alternate;d=d!==null?d.memoizedState:null}else d=La.next;var m=ja===null?xa.memoizedState:ja.next;if(m!==null)ja=m,La=d;else{if(d===null)throw Error(r(310));La=d,d={memoizedState:La.memoizedState,baseState:La.baseState,baseQueue:La.baseQueue,queue:La.queue,next:null},ja===null?xa.memoizedState=ja=d:ja=ja.next=d}return ja}function Rd(d,m){return typeof m=="function"?m(d):m}function $f(d){var m=os(),w=m.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=d;var A=La,q=A.baseQueue,Q=w.pending;if(Q!==null){if(q!==null){var fe=q.next;q.next=Q.next,Q.next=fe}A.baseQueue=q=Q,w.pending=null}if(q!==null){Q=q.next,A=A.baseState;var De=fe=null,He=null,mt=Q;do{var Wt=mt.lane;if((_s&Wt)===Wt)He!==null&&(He=He.next={lane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),A=mt.hasEagerState?mt.eagerState:d(A,mt.action);else{var Xt={lane:Wt,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null};He===null?(De=He=Xt,fe=A):He=He.next=Xt,xa.lanes|=Wt,jd|=Wt}mt=mt.next}while(mt!==null&&mt!==Q);He===null?fe=A:He.next=De,zn(A,m.memoizedState)||(Os=!0),m.memoizedState=A,m.baseState=fe,m.baseQueue=He,w.lastRenderedState=A}if(d=w.interleaved,d!==null){q=d;do Q=q.lane,xa.lanes|=Q,jd|=Q,q=q.next;while(q!==d)}else q===null&&(w.lanes=0);return[m.memoizedState,w.dispatch]}function Uc(d){var m=os(),w=m.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=d;var A=w.dispatch,q=w.pending,Q=m.memoizedState;if(q!==null){w.pending=null;var fe=q=q.next;do Q=d(Q,fe.action),fe=fe.next;while(fe!==q);zn(Q,m.memoizedState)||(Os=!0),m.memoizedState=Q,m.baseQueue===null&&(m.baseState=Q),w.lastRenderedState=Q}return[Q,A]}function yg(){}function gp(d,m){var w=xa,A=os(),q=m(),Q=!zn(A.memoizedState,q);if(Q&&(A.memoizedState=q,Os=!0),A=A.queue,qf(xg.bind(null,w,A,d),[d]),A.getSnapshot!==m||Q||ja!==null&&ja.memoizedState.tag&1){if(w.flags|=2048,is(9,vp.bind(null,w,A,q,m),void 0,null),ni===null)throw Error(r(349));(_s&30)!==0||wg(w,m,q)}return q}function wg(d,m,w){d.flags|=16384,d={getSnapshot:m,value:w},m=xa.updateQueue,m===null?(m={lastEffect:null,stores:null},xa.updateQueue=m,m.stores=[d]):(w=m.stores,w===null?m.stores=[d]:w.push(d))}function vp(d,m,w,A){m.value=w,m.getSnapshot=A,Ju(m)&&zf(d)}function xg(d,m,w){return w(function(){Ju(m)&&zf(d)})}function Ju(d){var m=d.getSnapshot;d=d.value;try{var w=m();return!zn(d,w)}catch{return!0}}function zf(d){var m=bn(d,1);m!==null&&fc(m,d,1,-1)}function Ld(d){var m=ol();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rd,lastRenderedState:d},m.queue=d,d=d.dispatch=YL.bind(null,xa,d),[m.memoizedState,d]}function is(d,m,w,A){return d={tag:d,create:m,destroy:w,deps:A,next:null},m=xa.updateQueue,m===null?(m={lastEffect:null,stores:null},xa.updateQueue=m,m.lastEffect=d.next=d):(w=m.lastEffect,w===null?m.lastEffect=d.next=d:(A=w.next,w.next=d,d.next=A,m.lastEffect=d)),d}function lc(){return os().memoizedState}function il(d,m,w,A){var q=ol();xa.flags|=d,q.memoizedState=is(1|m,w,void 0,A===void 0?null:A)}function fu(d,m,w,A){var q=os();A=A===void 0?null:A;var Q=void 0;if(La!==null){var fe=La.memoizedState;if(Q=fe.destroy,A!==null&&Ff(A,fe.deps)){q.memoizedState=is(m,w,Q,A);return}}xa.flags|=d,q.memoizedState=is(1|m,w,Q,A)}function Bf(d,m){return il(8390656,8,d,m)}function qf(d,m){return fu(2048,8,d,m)}function Eg(d,m){return fu(4,2,d,m)}function Uf(d,m){return fu(4,4,d,m)}function Hf(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function r3(d,m,w){return w=w!=null?w.concat([d]):null,fu(4,4,Hf.bind(null,m,d),w)}function Hb(){}function n3(d,m){var w=os();m=m===void 0?null:m;var A=w.memoizedState;return A!==null&&m!==null&&Ff(m,A[1])?A[0]:(w.memoizedState=[d,m],d)}function a3(d,m){var w=os();m=m===void 0?null:m;var A=w.memoizedState;return A!==null&&m!==null&&Ff(m,A[1])?A[0]:(d=d(),w.memoizedState=[d,m],d)}function o3(d,m,w){return(_s&21)===0?(d.baseState&&(d.baseState=!1,Os=!0),d.memoizedState=w):(zn(w,m)||(w=na(),xa.lanes|=w,jd|=w,d.baseState=!0),m)}function GL(d,m){var w=cn;cn=w!==0&&4>w?w:4,d(!0);var A=du.transition;du.transition={};try{d(!1),m()}finally{cn=w,du.transition=A}}function i3(){return os().memoizedState}function KL(d,m,w){var A=ed(d);if(w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},s3(d))l3(m,w);else if(w=Pa(d,m,w,A),w!==null){var q=ls();fc(w,d,A,q),c3(w,m,A)}}function YL(d,m,w){var A=ed(d),q={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(s3(d))l3(m,q);else{var Q=d.alternate;if(d.lanes===0&&(Q===null||Q.lanes===0)&&(Q=m.lastRenderedReducer,Q!==null))try{var fe=m.lastRenderedState,De=Q(fe,w);if(q.hasEagerState=!0,q.eagerState=De,zn(De,fe)){var He=m.interleaved;He===null?(q.next=q,Rn(m)):(q.next=He.next,He.next=q),m.interleaved=q;return}}catch{}finally{}w=Pa(d,m,q,A),w!==null&&(q=ls(),fc(w,d,A,q),c3(w,m,A))}}function s3(d){var m=d.alternate;return d===xa||m!==null&&m===xa}function l3(d,m){sc=Ku=!0;var w=d.pending;w===null?m.next=m:(m.next=w.next,w.next=m),d.pending=m}function c3(d,m,w){if((w&4194240)!==0){var A=m.lanes;A&=d.pendingLanes,w|=A,m.lanes=w,ya(d,w)}}var Sg={readContext:ha,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},JL={readContext:ha,useCallback:function(d,m){return ol().memoizedState=[d,m===void 0?null:m],d},useContext:ha,useEffect:Bf,useImperativeHandle:function(d,m,w){return w=w!=null?w.concat([d]):null,il(4194308,4,Hf.bind(null,m,d),w)},useLayoutEffect:function(d,m){return il(4194308,4,d,m)},useInsertionEffect:function(d,m){return il(4,2,d,m)},useMemo:function(d,m){var w=ol();return m=m===void 0?null:m,d=d(),w.memoizedState=[d,m],d},useReducer:function(d,m,w){var A=ol();return m=w!==void 0?w(m):m,A.memoizedState=A.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},A.queue=d,d=d.dispatch=KL.bind(null,xa,d),[A.memoizedState,d]},useRef:function(d){var m=ol();return d={current:d},m.memoizedState=d},useState:Ld,useDebugValue:Hb,useDeferredValue:function(d){return ol().memoizedState=d},useTransition:function(){var d=Ld(!1),m=d[0];return d=GL.bind(null,d[1]),ol().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,w){var A=xa,q=ol();if(Ve){if(w===void 0)throw Error(r(407));w=w()}else{if(w=m(),ni===null)throw Error(r(349));(_s&30)!==0||wg(A,m,w)}q.memoizedState=w;var Q={value:w,getSnapshot:m};return q.queue=Q,Bf(xg.bind(null,A,Q,d),[d]),A.flags|=2048,is(9,vp.bind(null,A,Q,w,m),void 0,null),w},useId:function(){var d=ol(),m=ni.identifierPrefix;if(Ve){var w=V,A=P;w=(A&~(1<<32-Ot(A)-1)).toString(32)+w,m=":"+m+"R"+w,w=Yu++,0<w&&(m+="H"+w.toString(32)),m+=":"}else w=Ub++,m=":"+m+"r"+w.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},XL={readContext:ha,useCallback:n3,useContext:ha,useEffect:qf,useImperativeHandle:r3,useInsertionEffect:Eg,useLayoutEffect:Uf,useMemo:a3,useReducer:$f,useRef:lc,useState:function(){return $f(Rd)},useDebugValue:Hb,useDeferredValue:function(d){var m=os();return o3(m,La.memoizedState,d)},useTransition:function(){var d=$f(Rd)[0],m=os().memoizedState;return[d,m]},useMutableSource:yg,useSyncExternalStore:gp,useId:i3,unstable_isNewReconciler:!1},ZL={readContext:ha,useCallback:n3,useContext:ha,useEffect:qf,useImperativeHandle:r3,useInsertionEffect:Eg,useLayoutEffect:Uf,useMemo:a3,useReducer:Uc,useRef:lc,useState:function(){return Uc(Rd)},useDebugValue:Hb,useDeferredValue:function(d){var m=os();return La===null?m.memoizedState=d:o3(m,La.memoizedState,d)},useTransition:function(){var d=Uc(Rd)[0],m=os().memoizedState;return[d,m]},useMutableSource:yg,useSyncExternalStore:gp,useId:i3,unstable_isNewReconciler:!1};function cc(d,m){if(d&&d.defaultProps){m=K({},m),d=d.defaultProps;for(var w in d)m[w]===void 0&&(m[w]=d[w]);return m}return m}function Wb(d,m,w,A){m=d.memoizedState,w=w(A,m),w=w==null?m:K({},m,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var Cg={isMounted:function(d){return(d=d._reactInternals)?vt(d)===d:!1},enqueueSetState:function(d,m,w){d=d._reactInternals;var A=ls(),q=ed(d),Q=wi(A,q);Q.payload=m,w!=null&&(Q.callback=w),m=Wo(d,Q,q),m!==null&&(fc(m,d,q,A),nc(m,d,q))},enqueueReplaceState:function(d,m,w){d=d._reactInternals;var A=ls(),q=ed(d),Q=wi(A,q);Q.tag=1,Q.payload=m,w!=null&&(Q.callback=w),m=Wo(d,Q,q),m!==null&&(fc(m,d,q,A),nc(m,d,q))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var w=ls(),A=ed(d),q=wi(w,A);q.tag=2,m!=null&&(q.callback=m),m=Wo(d,q,A),m!==null&&(fc(m,d,A,w),nc(m,d,A))}};function u3(d,m,w,A,q,Q,fe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,Q,fe):m.prototype&&m.prototype.isPureReactComponent?!Es(w,A)||!Es(q,Q):!0}function d3(d,m,w){var A=!1,q=el,Q=m.contextType;return typeof Q=="object"&&Q!==null?Q=ha(Q):(q=Po(m)?tl:Ga.current,A=m.contextTypes,Q=(A=A!=null)?ec(d,q):el),m=new m(w,Q),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cg,d.stateNode=m,m._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=q,d.__reactInternalMemoizedMaskedChildContext=Q),m}function f3(d,m,w,A){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,A),m.state!==d&&Cg.enqueueReplaceState(m,m.state,null)}function Vb(d,m,w,A){var q=d.stateNode;q.props=w,q.state=d.memoizedState,q.refs={},rc(d);var Q=m.contextType;typeof Q=="object"&&Q!==null?q.context=ha(Q):(Q=Po(m)?tl:Ga.current,q.context=ec(d,Q)),q.state=d.memoizedState,Q=m.getDerivedStateFromProps,typeof Q=="function"&&(Wb(d,m,Q,w),q.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(m=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),m!==q.state&&Cg.enqueueReplaceState(q,q.state,null),as(d,w,q,A),q.state=d.memoizedState),typeof q.componentDidMount=="function"&&(d.flags|=4194308)}function Wf(d,m){try{var w="",A=m;do w+=X(A),A=A.return;while(A);var q=w}catch(Q){q=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:d,source:m,stack:q,digest:null}}function Gb(d,m,w){return{value:d,source:null,stack:w??null,digest:m??null}}function Kb(d,m){try{console.error(m.value)}catch(w){setTimeout(function(){throw w})}}var QL=typeof WeakMap=="function"?WeakMap:Map;function m3(d,m,w){w=wi(-1,w),w.tag=3,w.payload={element:null};var A=m.value;return w.callback=function(){Ig||(Ig=!0,cy=A),Kb(d,m)},w}function p3(d,m,w){w=wi(-1,w),w.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var q=m.value;w.payload=function(){return A(q)},w.callback=function(){Kb(d,m)}}var Q=d.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(w.callback=function(){Kb(d,m),typeof A!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var fe=m.stack;this.componentDidCatch(m.value,{componentStack:fe!==null?fe:""})}),w}function h3(d,m,w){var A=d.pingCache;if(A===null){A=d.pingCache=new QL;var q=new Set;A.set(m,q)}else q=A.get(m),q===void 0&&(q=new Set,A.set(m,q));q.has(w)||(q.add(w),d=mj.bind(null,d,m,w),m.then(d,d))}function g3(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function v3(d,m,w,A,q){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(m=wi(-1,1),m.tag=2,Wo(w,m,1))),w.lanes|=1),d):(d.flags|=65536,d.lanes=q,d)}var ej=_.ReactCurrentOwner,Os=!1;function ss(d,m,w,A){m.child=d===null?Jr(m,null,w,A):nn(m,d.child,w,A)}function b3(d,m,w,A,q){w=w.render;var Q=m.ref;return Mn(m,q),A=Td(d,m,w,A,Q,q),w=Al(),d!==null&&!Os?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~q,mu(d,m,q)):(Ve&&w&&Ee(m),m.flags|=1,ss(d,m,A,q),m.child)}function y3(d,m,w,A,q){if(d===null){var Q=w.type;return typeof Q=="function"&&!gy(Q)&&Q.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(m.tag=15,m.type=Q,w3(d,m,Q,A,q)):(d=Mg(w.type,null,A,m,m.mode,q),d.ref=m.ref,d.return=m,m.child=d)}if(Q=d.child,(d.lanes&q)===0){var fe=Q.memoizedProps;if(w=w.compare,w=w!==null?w:Es,w(fe,A)&&d.ref===m.ref)return mu(d,m,q)}return m.flags|=1,d=rd(Q,A),d.ref=m.ref,d.return=m,m.child=d}function w3(d,m,w,A,q){if(d!==null){var Q=d.memoizedProps;if(Es(Q,A)&&d.ref===m.ref)if(Os=!1,m.pendingProps=A=Q,(d.lanes&q)!==0)(d.flags&131072)!==0&&(Os=!0);else return m.lanes=d.lanes,mu(d,m,q)}return Yb(d,m,w,A,q)}function x3(d,m,w){var A=m.pendingProps,q=A.children,Q=d!==null?d.memoizedState:null;if(A.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tn(Gf,sl),sl|=w;else{if((w&1073741824)===0)return d=Q!==null?Q.baseLanes|w:w,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Tn(Gf,sl),sl|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=Q!==null?Q.baseLanes:w,Tn(Gf,sl),sl|=A}else Q!==null?(A=Q.baseLanes|w,m.memoizedState=null):A=w,Tn(Gf,sl),sl|=A;return ss(d,m,q,w),m.child}function E3(d,m){var w=m.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(m.flags|=512,m.flags|=2097152)}function Yb(d,m,w,A,q){var Q=Po(w)?tl:Ga.current;return Q=ec(m,Q),Mn(m,q),w=Td(d,m,w,A,Q,q),A=Al(),d!==null&&!Os?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~q,mu(d,m,q)):(Ve&&A&&Ee(m),m.flags|=1,ss(d,m,w,q),m.child)}function S3(d,m,w,A,q){if(Po(w)){var Q=!0;tc(m)}else Q=!1;if(Mn(m,q),m.stateNode===null)Pg(d,m),d3(m,w,A),Vb(m,w,A,q),A=!0;else if(d===null){var fe=m.stateNode,De=m.memoizedProps;fe.props=De;var He=fe.context,mt=w.contextType;typeof mt=="object"&&mt!==null?mt=ha(mt):(mt=Po(w)?tl:Ga.current,mt=ec(m,mt));var Wt=w.getDerivedStateFromProps,Xt=typeof Wt=="function"||typeof fe.getSnapshotBeforeUpdate=="function";Xt||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(De!==A||He!==mt)&&f3(m,fe,A,mt),lo=!1;var qt=m.memoizedState;fe.state=qt,as(m,A,fe,q),He=m.memoizedState,De!==A||qt!==He||Ho.current||lo?(typeof Wt=="function"&&(Wb(m,w,Wt,A),He=m.memoizedState),(De=lo||u3(m,w,De,A,qt,He,mt))?(Xt||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(m.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=He),fe.props=A,fe.state=He,fe.context=mt,A=De):(typeof fe.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{fe=m.stateNode,Hu(d,m),De=m.memoizedProps,mt=m.type===m.elementType?De:cc(m.type,De),fe.props=mt,Xt=m.pendingProps,qt=fe.context,He=w.contextType,typeof He=="object"&&He!==null?He=ha(He):(He=Po(w)?tl:Ga.current,He=ec(m,He));var Cr=w.getDerivedStateFromProps;(Wt=typeof Cr=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(De!==Xt||qt!==He)&&f3(m,fe,A,He),lo=!1,qt=m.memoizedState,fe.state=qt,as(m,A,fe,q);var Lr=m.memoizedState;De!==Xt||qt!==Lr||Ho.current||lo?(typeof Cr=="function"&&(Wb(m,w,Cr,A),Lr=m.memoizedState),(mt=lo||u3(m,w,mt,A,qt,Lr,He)||!1)?(Wt||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(A,Lr,He),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(A,Lr,He)),typeof fe.componentDidUpdate=="function"&&(m.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof fe.componentDidUpdate!="function"||De===d.memoizedProps&&qt===d.memoizedState||(m.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||De===d.memoizedProps&&qt===d.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=Lr),fe.props=A,fe.state=Lr,fe.context=He,A=mt):(typeof fe.componentDidUpdate!="function"||De===d.memoizedProps&&qt===d.memoizedState||(m.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||De===d.memoizedProps&&qt===d.memoizedState||(m.flags|=1024),A=!1)}return Jb(d,m,w,A,Q,q)}function Jb(d,m,w,A,q,Q){E3(d,m);var fe=(m.flags&128)!==0;if(!A&&!fe)return q&&Mf(m,w,!1),mu(d,m,Q);A=m.stateNode,ej.current=m;var De=fe&&typeof w.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,d!==null&&fe?(m.child=nn(m,d.child,null,Q),m.child=nn(m,null,De,Q)):ss(d,m,De,Q),m.memoizedState=A.state,q&&Mf(m,w,!0),m.child}function C3(d){var m=d.stateNode;m.pendingContext?kl(d,m.pendingContext,m.pendingContext!==m.context):m.context&&kl(d,m.context,!1),qc(d,m.containerInfo)}function N3(d,m,w,A,q){return Er(),Sr(q),m.flags|=256,ss(d,m,w,A),m.child}var Xb={dehydrated:null,treeContext:null,retryLane:0};function Zb(d){return{baseLanes:d,cachePool:null,transitions:null}}function P3(d,m,w){var A=m.pendingProps,q=ca.current,Q=!1,fe=(m.flags&128)!==0,De;if((De=fe)||(De=d!==null&&d.memoizedState===null?!1:(q&2)!==0),De?(Q=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(q|=1),Tn(ca,q&1),d===null)return Ct(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(fe=A.children,d=A.fallback,Q?(A=m.mode,Q=m.child,fe={mode:"hidden",children:fe},(A&1)===0&&Q!==null?(Q.childLanes=0,Q.pendingProps=fe):Q=Fg(fe,A,0,null),d=$d(d,A,w,null),Q.return=m,d.return=m,Q.sibling=d,m.child=Q,m.child.memoizedState=Zb(w),m.memoizedState=Xb,d):Qb(m,fe));if(q=d.memoizedState,q!==null&&(De=q.dehydrated,De!==null))return tj(d,m,fe,A,De,q,w);if(Q){Q=A.fallback,fe=m.mode,q=d.child,De=q.sibling;var He={mode:"hidden",children:A.children};return(fe&1)===0&&m.child!==q?(A=m.child,A.childLanes=0,A.pendingProps=He,m.deletions=null):(A=rd(q,He),A.subtreeFlags=q.subtreeFlags&14680064),De!==null?Q=rd(De,Q):(Q=$d(Q,fe,w,null),Q.flags|=2),Q.return=m,A.return=m,A.sibling=Q,m.child=A,A=Q,Q=m.child,fe=d.child.memoizedState,fe=fe===null?Zb(w):{baseLanes:fe.baseLanes|w,cachePool:null,transitions:fe.transitions},Q.memoizedState=fe,Q.childLanes=d.childLanes&~w,m.memoizedState=Xb,A}return Q=d.child,d=Q.sibling,A=rd(Q,{mode:"visible",children:A.children}),(m.mode&1)===0&&(A.lanes=w),A.return=m,A.sibling=null,d!==null&&(w=m.deletions,w===null?(m.deletions=[d],m.flags|=16):w.push(d)),m.child=A,m.memoizedState=null,A}function Qb(d,m){return m=Fg({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Ng(d,m,w,A){return A!==null&&Sr(A),nn(m,d.child,null,w),d=Qb(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function tj(d,m,w,A,q,Q,fe){if(w)return m.flags&256?(m.flags&=-257,A=Gb(Error(r(422))),Ng(d,m,fe,A)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(Q=A.fallback,q=m.mode,A=Fg({mode:"visible",children:A.children},q,0,null),Q=$d(Q,q,fe,null),Q.flags|=2,A.return=m,Q.return=m,A.sibling=Q,m.child=A,(m.mode&1)!==0&&nn(m,d.child,null,fe),m.child.memoizedState=Zb(fe),m.memoizedState=Xb,Q);if((m.mode&1)===0)return Ng(d,m,fe,null);if(q.data==="$!"){if(A=q.nextSibling&&q.nextSibling.dataset,A)var De=A.dgst;return A=De,Q=Error(r(419)),A=Gb(Q,A,void 0),Ng(d,m,fe,A)}if(De=(fe&d.childLanes)!==0,Os||De){if(A=ni,A!==null){switch(fe&-fe){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}q=(q&(A.suspendedLanes|fe))!==0?0:q,q!==0&&q!==Q.retryLane&&(Q.retryLane=q,bn(d,q),fc(A,d,q,-1))}return hy(),A=Gb(Error(r(421))),Ng(d,m,fe,A)}return q.data==="$?"?(m.flags|=128,m.child=d.child,m=pj.bind(null,d),q._reactRetry=m,null):(d=Q.treeContext,qe=Uo(q.nextSibling),Se=m,Ve=!0,Ke=null,d!==null&&(ve[Ce++]=P,ve[Ce++]=V,ve[Ce++]=Z,P=d.id,V=d.overflow,Z=m),m=Qb(m,A.children),m.flags|=4096,m)}function k3(d,m,w){d.lanes|=m;var A=d.alternate;A!==null&&(A.lanes|=m),Ba(d.return,m,w)}function ey(d,m,w,A,q){var Q=d.memoizedState;Q===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:q}:(Q.isBackwards=m,Q.rendering=null,Q.renderingStartTime=0,Q.last=A,Q.tail=w,Q.tailMode=q)}function A3(d,m,w){var A=m.pendingProps,q=A.revealOrder,Q=A.tail;if(ss(d,m,A.children,w),A=ca.current,(A&2)!==0)A=A&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&k3(d,w,m);else if(d.tag===19)k3(d,w,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(Tn(ca,A),(m.mode&1)===0)m.memoizedState=null;else switch(q){case"forwards":for(w=m.child,q=null;w!==null;)d=w.alternate,d!==null&&Ei(d)===null&&(q=w),w=w.sibling;w=q,w===null?(q=m.child,m.child=null):(q=w.sibling,w.sibling=null),ey(m,!1,q,w,Q);break;case"backwards":for(w=null,q=m.child,m.child=null;q!==null;){if(d=q.alternate,d!==null&&Ei(d)===null){m.child=q;break}d=q.sibling,q.sibling=w,w=q,q=d}ey(m,!0,w,null,Q);break;case"together":ey(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Pg(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function mu(d,m,w){if(d!==null&&(m.dependencies=d.dependencies),jd|=m.lanes,(w&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,w=rd(d,d.pendingProps),m.child=w,w.return=m;d.sibling!==null;)d=d.sibling,w=w.sibling=rd(d,d.pendingProps),w.return=m;w.sibling=null}return m.child}function rj(d,m,w){switch(m.tag){case 3:C3(m),Er();break;case 5:cu(m);break;case 1:Po(m.type)&&tc(m);break;case 4:qc(m,m.stateNode.containerInfo);break;case 10:var A=m.type._context,q=m.memoizedProps.value;Tn(Xn,A._currentValue),A._currentValue=q;break;case 13:if(A=m.memoizedState,A!==null)return A.dehydrated!==null?(Tn(ca,ca.current&1),m.flags|=128,null):(w&m.child.childLanes)!==0?P3(d,m,w):(Tn(ca,ca.current&1),d=mu(d,m,w),d!==null?d.sibling:null);Tn(ca,ca.current&1);break;case 19:if(A=(w&m.childLanes)!==0,(d.flags&128)!==0){if(A)return A3(d,m,w);m.flags|=128}if(q=m.memoizedState,q!==null&&(q.rendering=null,q.tail=null,q.lastEffect=null),Tn(ca,ca.current),A)break;return null;case 22:case 23:return m.lanes=0,x3(d,m,w)}return mu(d,m,w)}var _3,ty,O3,I3;_3=function(d,m){for(var w=m.child;w!==null;){if(w.tag===5||w.tag===6)d.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===m)break;for(;w.sibling===null;){if(w.return===null||w.return===m)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},ty=function(){},O3=function(d,m,w,A){var q=d.memoizedProps;if(q!==A){d=m.stateNode,al(xi.current);var Q=null;switch(w){case"input":q=Pe(d,q),A=Pe(d,A),Q=[];break;case"select":q=K({},q,{value:void 0}),A=K({},A,{value:void 0}),Q=[];break;case"textarea":q=et(d,q),A=et(d,A),Q=[];break;default:typeof q.onClick!="function"&&typeof A.onClick=="function"&&(d.onclick=Fc)}rr(w,A);var fe;w=null;for(mt in q)if(!A.hasOwnProperty(mt)&&q.hasOwnProperty(mt)&&q[mt]!=null)if(mt==="style"){var De=q[mt];for(fe in De)De.hasOwnProperty(fe)&&(w||(w={}),w[fe]="")}else mt!=="dangerouslySetInnerHTML"&&mt!=="children"&&mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&mt!=="autoFocus"&&(a.hasOwnProperty(mt)?Q||(Q=[]):(Q=Q||[]).push(mt,null));for(mt in A){var He=A[mt];if(De=q!=null?q[mt]:void 0,A.hasOwnProperty(mt)&&He!==De&&(He!=null||De!=null))if(mt==="style")if(De){for(fe in De)!De.hasOwnProperty(fe)||He&&He.hasOwnProperty(fe)||(w||(w={}),w[fe]="");for(fe in He)He.hasOwnProperty(fe)&&De[fe]!==He[fe]&&(w||(w={}),w[fe]=He[fe])}else w||(Q||(Q=[]),Q.push(mt,w)),w=He;else mt==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,De=De?De.__html:void 0,He!=null&&De!==He&&(Q=Q||[]).push(mt,He)):mt==="children"?typeof He!="string"&&typeof He!="number"||(Q=Q||[]).push(mt,""+He):mt!=="suppressContentEditableWarning"&&mt!=="suppressHydrationWarning"&&(a.hasOwnProperty(mt)?(He!=null&&mt==="onScroll"&&Vn("scroll",d),Q||De===He||(Q=[])):(Q=Q||[]).push(mt,He))}w&&(Q=Q||[]).push("style",w);var mt=Q;(m.updateQueue=mt)&&(m.flags|=4)}},I3=function(d,m,w,A){w!==A&&(m.flags|=4)};function bp(d,m){if(!Ve)switch(d.tailMode){case"hidden":m=d.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function $i(d){var m=d.alternate!==null&&d.alternate.child===d.child,w=0,A=0;if(m)for(var q=d.child;q!==null;)w|=q.lanes|q.childLanes,A|=q.subtreeFlags&14680064,A|=q.flags&14680064,q.return=d,q=q.sibling;else for(q=d.child;q!==null;)w|=q.lanes|q.childLanes,A|=q.subtreeFlags,A|=q.flags,q.return=d,q=q.sibling;return d.subtreeFlags|=A,d.childLanes=w,m}function nj(d,m,w){var A=m.pendingProps;switch(be(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(m),null;case 1:return Po(m.type)&&Uu(),$i(m),null;case 3:return A=m.stateNode,ko(),qn(Ho),qn(Ga),Gu(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(pr(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ke!==null&&(fy(Ke),Ke=null))),ty(d,m),$i(m),null;case 5:Wu(m);var q=al(nl.current);if(w=m.type,d!==null&&m.stateNode!=null)O3(d,m,w,A,q),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(r(166));return $i(m),null}if(d=al(xi.current),pr(m)){A=m.stateNode,w=m.type;var Q=m.memoizedProps;switch(A[Co]=m,A[$c]=Q,d=(m.mode&1)!==0,w){case"dialog":Vn("cancel",A),Vn("close",A);break;case"iframe":case"object":case"embed":Vn("load",A);break;case"video":case"audio":for(q=0;q<Sl.length;q++)Vn(Sl[q],A);break;case"source":Vn("error",A);break;case"img":case"image":case"link":Vn("error",A),Vn("load",A);break;case"details":Vn("toggle",A);break;case"input":_e(A,Q),Vn("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!Q.multiple},Vn("invalid",A);break;case"textarea":Dt(A,Q),Vn("invalid",A)}rr(w,Q),q=null;for(var fe in Q)if(Q.hasOwnProperty(fe)){var De=Q[fe];fe==="children"?typeof De=="string"?A.textContent!==De&&(Q.suppressHydrationWarning!==!0&&Bu(A.textContent,De,d),q=["children",De]):typeof De=="number"&&A.textContent!==""+De&&(Q.suppressHydrationWarning!==!0&&Bu(A.textContent,De,d),q=["children",""+De]):a.hasOwnProperty(fe)&&De!=null&&fe==="onScroll"&&Vn("scroll",A)}switch(w){case"input":Fe(A),Te(A,Q,!0);break;case"textarea":Fe(A),Vt(A);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(A.onclick=Fc)}A=q,m.updateQueue=A,A!==null&&(m.flags|=4)}else{fe=q.nodeType===9?q:q.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Jt(w)),d==="http://www.w3.org/1999/xhtml"?w==="script"?(d=fe.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof A.is=="string"?d=fe.createElement(w,{is:A.is}):(d=fe.createElement(w),w==="select"&&(fe=d,A.multiple?fe.multiple=!0:A.size&&(fe.size=A.size))):d=fe.createElementNS(d,w),d[Co]=m,d[$c]=A,_3(d,m,!1,!1),m.stateNode=d;e:{switch(fe=Wr(w,A),w){case"dialog":Vn("cancel",d),Vn("close",d),q=A;break;case"iframe":case"object":case"embed":Vn("load",d),q=A;break;case"video":case"audio":for(q=0;q<Sl.length;q++)Vn(Sl[q],d);q=A;break;case"source":Vn("error",d),q=A;break;case"img":case"image":case"link":Vn("error",d),Vn("load",d),q=A;break;case"details":Vn("toggle",d),q=A;break;case"input":_e(d,A),q=Pe(d,A),Vn("invalid",d);break;case"option":q=A;break;case"select":d._wrapperState={wasMultiple:!!A.multiple},q=K({},A,{value:void 0}),Vn("invalid",d);break;case"textarea":Dt(d,A),q=et(d,A),Vn("invalid",d);break;default:q=A}rr(w,q),De=q;for(Q in De)if(De.hasOwnProperty(Q)){var He=De[Q];Q==="style"?hr(d,He):Q==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,He!=null&&ct(d,He)):Q==="children"?typeof He=="string"?(w!=="textarea"||He!=="")&&pt(d,He):typeof He=="number"&&pt(d,""+He):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(a.hasOwnProperty(Q)?He!=null&&Q==="onScroll"&&Vn("scroll",d):He!=null&&k(d,Q,He,fe))}switch(w){case"input":Fe(d),Te(d,A,!1);break;case"textarea":Fe(d),Vt(d);break;case"option":A.value!=null&&d.setAttribute("value",""+me(A.value));break;case"select":d.multiple=!!A.multiple,Q=A.value,Q!=null?Be(d,!!A.multiple,Q,!1):A.defaultValue!=null&&Be(d,!!A.multiple,A.defaultValue,!0);break;default:typeof q.onClick=="function"&&(d.onclick=Fc)}switch(w){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return $i(m),null;case 6:if(d&&m.stateNode!=null)I3(d,m,d.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(r(166));if(w=al(nl.current),al(xi.current),pr(m)){if(A=m.stateNode,w=m.memoizedProps,A[Co]=m,(Q=A.nodeValue!==w)&&(d=Se,d!==null))switch(d.tag){case 3:Bu(A.nodeValue,w,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Bu(A.nodeValue,w,(d.mode&1)!==0)}Q&&(m.flags|=4)}else A=(w.nodeType===9?w:w.ownerDocument).createTextNode(A),A[Co]=m,m.stateNode=A}return $i(m),null;case 13:if(qn(ca),A=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Ve&&qe!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Tr(),Er(),m.flags|=98560,Q=!1;else if(Q=pr(m),A!==null&&A.dehydrated!==null){if(d===null){if(!Q)throw Error(r(318));if(Q=m.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(r(317));Q[Co]=m}else Er(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;$i(m),Q=!1}else Ke!==null&&(fy(Ke),Ke=null),Q=!0;if(!Q)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=w,m):(A=A!==null,A!==(d!==null&&d.memoizedState!==null)&&A&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(ca.current&1)!==0?Vo===0&&(Vo=3):hy())),m.updateQueue!==null&&(m.flags|=4),$i(m),null);case 4:return ko(),ty(d,m),d===null&&Cl(m.stateNode.containerInfo),$i(m),null;case 10:return On(m.type._context),$i(m),null;case 17:return Po(m.type)&&Uu(),$i(m),null;case 19:if(qn(ca),Q=m.memoizedState,Q===null)return $i(m),null;if(A=(m.flags&128)!==0,fe=Q.rendering,fe===null)if(A)bp(Q,!1);else{if(Vo!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(fe=Ei(d),fe!==null){for(m.flags|=128,bp(Q,!1),A=fe.updateQueue,A!==null&&(m.updateQueue=A,m.flags|=4),m.subtreeFlags=0,A=w,w=m.child;w!==null;)Q=w,d=A,Q.flags&=14680066,fe=Q.alternate,fe===null?(Q.childLanes=0,Q.lanes=d,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=fe.childLanes,Q.lanes=fe.lanes,Q.child=fe.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=fe.memoizedProps,Q.memoizedState=fe.memoizedState,Q.updateQueue=fe.updateQueue,Q.type=fe.type,d=fe.dependencies,Q.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),w=w.sibling;return Tn(ca,ca.current&1|2),m.child}d=d.sibling}Q.tail!==null&&Rt()>Kf&&(m.flags|=128,A=!0,bp(Q,!1),m.lanes=4194304)}else{if(!A)if(d=Ei(fe),d!==null){if(m.flags|=128,A=!0,w=d.updateQueue,w!==null&&(m.updateQueue=w,m.flags|=4),bp(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!fe.alternate&&!Ve)return $i(m),null}else 2*Rt()-Q.renderingStartTime>Kf&&w!==1073741824&&(m.flags|=128,A=!0,bp(Q,!1),m.lanes=4194304);Q.isBackwards?(fe.sibling=m.child,m.child=fe):(w=Q.last,w!==null?w.sibling=fe:m.child=fe,Q.last=fe)}return Q.tail!==null?(m=Q.tail,Q.rendering=m,Q.tail=m.sibling,Q.renderingStartTime=Rt(),m.sibling=null,w=ca.current,Tn(ca,A?w&1|2:w&1),m):($i(m),null);case 22:case 23:return py(),A=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(m.flags|=8192),A&&(m.mode&1)!==0?(sl&1073741824)!==0&&($i(m),m.subtreeFlags&6&&(m.flags|=8192)):$i(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function aj(d,m){switch(be(m),m.tag){case 1:return Po(m.type)&&Uu(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return ko(),qn(Ho),qn(Ga),Gu(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return Wu(m),null;case 13:if(qn(ca),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Er()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return qn(ca),null;case 4:return ko(),null;case 10:return On(m.type._context),null;case 22:case 23:return py(),null;case 24:return null;default:return null}}var kg=!1,zi=!1,oj=typeof WeakSet=="function"?WeakSet:Set,Or=null;function Vf(d,m){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){Za(d,m,A)}else w.current=null}function ry(d,m,w){try{w()}catch(A){Za(d,m,A)}}var T3=!1;function ij(d,m){if(Nl=ys,d=ou(),gi(d)){if("selectionStart"in d)var w={start:d.selectionStart,end:d.selectionEnd};else e:{w=(w=d.ownerDocument)&&w.defaultView||window;var A=w.getSelection&&w.getSelection();if(A&&A.rangeCount!==0){w=A.anchorNode;var q=A.anchorOffset,Q=A.focusNode;A=A.focusOffset;try{w.nodeType,Q.nodeType}catch{w=null;break e}var fe=0,De=-1,He=-1,mt=0,Wt=0,Xt=d,qt=null;t:for(;;){for(var Cr;Xt!==w||q!==0&&Xt.nodeType!==3||(De=fe+q),Xt!==Q||A!==0&&Xt.nodeType!==3||(He=fe+A),Xt.nodeType===3&&(fe+=Xt.nodeValue.length),(Cr=Xt.firstChild)!==null;)qt=Xt,Xt=Cr;for(;;){if(Xt===d)break t;if(qt===w&&++mt===q&&(De=fe),qt===Q&&++Wt===A&&(He=fe),(Cr=Xt.nextSibling)!==null)break;Xt=qt,qt=Xt.parentNode}Xt=Cr}w=De===-1||He===-1?null:{start:De,end:He}}else w=null}w=w||{start:0,end:0}}else w=null;for(Qs={focusedElem:d,selectionRange:w},ys=!1,Or=m;Or!==null;)if(m=Or,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,Or=d;else for(;Or!==null;){m=Or;try{var Lr=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Lr!==null){var Fr=Lr.memoizedProps,uo=Lr.memoizedState,ot=m.stateNode,Ge=ot.getSnapshotBeforeUpdate(m.elementType===m.type?Fr:cc(m.type,Fr),uo);ot.__reactInternalSnapshotBeforeUpdate=Ge}break;case 3:var lt=m.stateNode.containerInfo;lt.nodeType===1?lt.textContent="":lt.nodeType===9&&lt.documentElement&&lt.removeChild(lt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(or){Za(m,m.return,or)}if(d=m.sibling,d!==null){d.return=m.return,Or=d;break}Or=m.return}return Lr=T3,T3=!1,Lr}function yp(d,m,w){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var q=A=A.next;do{if((q.tag&d)===d){var Q=q.destroy;q.destroy=void 0,Q!==void 0&&ry(m,w,Q)}q=q.next}while(q!==A)}}function Ag(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&d)===d){var A=w.create;w.destroy=A()}w=w.next}while(w!==m)}}function ny(d){var m=d.ref;if(m!==null){var w=d.stateNode;switch(d.tag){case 5:d=w;break;default:d=w}typeof m=="function"?m(d):m.current=d}}function R3(d){var m=d.alternate;m!==null&&(d.alternate=null,R3(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Co],delete m[$c],delete m[ri],delete m[pp],delete m[hp])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function L3(d){return d.tag===5||d.tag===3||d.tag===4}function j3(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||L3(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function ay(d,m,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,m?w.nodeType===8?w.parentNode.insertBefore(d,m):w.insertBefore(d,m):(w.nodeType===8?(m=w.parentNode,m.insertBefore(d,w)):(m=w,m.appendChild(d)),w=w._reactRootContainer,w!=null||m.onclick!==null||(m.onclick=Fc));else if(A!==4&&(d=d.child,d!==null))for(ay(d,m,w),d=d.sibling;d!==null;)ay(d,m,w),d=d.sibling}function oy(d,m,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,m?w.insertBefore(d,m):w.appendChild(d);else if(A!==4&&(d=d.child,d!==null))for(oy(d,m,w),d=d.sibling;d!==null;)oy(d,m,w),d=d.sibling}var Si=null,uc=!1;function Xu(d,m,w){for(w=w.child;w!==null;)D3(d,m,w),w=w.sibling}function D3(d,m,w){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount($e,w)}catch{}switch(w.tag){case 5:zi||Vf(w,m);case 6:var A=Si,q=uc;Si=null,Xu(d,m,w),Si=A,uc=q,Si!==null&&(uc?(d=Si,w=w.stateNode,d.nodeType===8?d.parentNode.removeChild(w):d.removeChild(w)):Si.removeChild(w.stateNode));break;case 18:Si!==null&&(uc?(d=Si,w=w.stateNode,d.nodeType===8?Od(d.parentNode,w):d.nodeType===1&&Od(d,w),yo(d)):Od(Si,w.stateNode));break;case 4:A=Si,q=uc,Si=w.stateNode.containerInfo,uc=!0,Xu(d,m,w),Si=A,uc=q;break;case 0:case 11:case 14:case 15:if(!zi&&(A=w.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){q=A=A.next;do{var Q=q,fe=Q.destroy;Q=Q.tag,fe!==void 0&&((Q&2)!==0||(Q&4)!==0)&&ry(w,m,fe),q=q.next}while(q!==A)}Xu(d,m,w);break;case 1:if(!zi&&(Vf(w,m),A=w.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=w.memoizedProps,A.state=w.memoizedState,A.componentWillUnmount()}catch(De){Za(w,m,De)}Xu(d,m,w);break;case 21:Xu(d,m,w);break;case 22:w.mode&1?(zi=(A=zi)||w.memoizedState!==null,Xu(d,m,w),zi=A):Xu(d,m,w);break;default:Xu(d,m,w)}}function M3(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new oj),m.forEach(function(A){var q=hj.bind(null,d,A);w.has(A)||(w.add(A),A.then(q,q))})}}function dc(d,m){var w=m.deletions;if(w!==null)for(var A=0;A<w.length;A++){var q=w[A];try{var Q=d,fe=m,De=fe;e:for(;De!==null;){switch(De.tag){case 5:Si=De.stateNode,uc=!1;break e;case 3:Si=De.stateNode.containerInfo,uc=!0;break e;case 4:Si=De.stateNode.containerInfo,uc=!0;break e}De=De.return}if(Si===null)throw Error(r(160));D3(Q,fe,q),Si=null,uc=!1;var He=q.alternate;He!==null&&(He.return=null),q.return=null}catch(mt){Za(q,m,mt)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)F3(m,d),m=m.sibling}function F3(d,m){var w=d.alternate,A=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(dc(m,d),Hc(d),A&4){try{yp(3,d,d.return),Ag(3,d)}catch(Fr){Za(d,d.return,Fr)}try{yp(5,d,d.return)}catch(Fr){Za(d,d.return,Fr)}}break;case 1:dc(m,d),Hc(d),A&512&&w!==null&&Vf(w,w.return);break;case 5:if(dc(m,d),Hc(d),A&512&&w!==null&&Vf(w,w.return),d.flags&32){var q=d.stateNode;try{pt(q,"")}catch(Fr){Za(d,d.return,Fr)}}if(A&4&&(q=d.stateNode,q!=null)){var Q=d.memoizedProps,fe=w!==null?w.memoizedProps:Q,De=d.type,He=d.updateQueue;if(d.updateQueue=null,He!==null)try{De==="input"&&Q.type==="radio"&&Q.name!=null&&ce(q,Q),Wr(De,fe);var mt=Wr(De,Q);for(fe=0;fe<He.length;fe+=2){var Wt=He[fe],Xt=He[fe+1];Wt==="style"?hr(q,Xt):Wt==="dangerouslySetInnerHTML"?ct(q,Xt):Wt==="children"?pt(q,Xt):k(q,Wt,Xt,mt)}switch(De){case"input":Je(q,Q);break;case"textarea":Ut(q,Q);break;case"select":var qt=q._wrapperState.wasMultiple;q._wrapperState.wasMultiple=!!Q.multiple;var Cr=Q.value;Cr!=null?Be(q,!!Q.multiple,Cr,!1):qt!==!!Q.multiple&&(Q.defaultValue!=null?Be(q,!!Q.multiple,Q.defaultValue,!0):Be(q,!!Q.multiple,Q.multiple?[]:"",!1))}q[$c]=Q}catch(Fr){Za(d,d.return,Fr)}}break;case 6:if(dc(m,d),Hc(d),A&4){if(d.stateNode===null)throw Error(r(162));q=d.stateNode,Q=d.memoizedProps;try{q.nodeValue=Q}catch(Fr){Za(d,d.return,Fr)}}break;case 3:if(dc(m,d),Hc(d),A&4&&w!==null&&w.memoizedState.isDehydrated)try{yo(m.containerInfo)}catch(Fr){Za(d,d.return,Fr)}break;case 4:dc(m,d),Hc(d);break;case 13:dc(m,d),Hc(d),q=d.child,q.flags&8192&&(Q=q.memoizedState!==null,q.stateNode.isHidden=Q,!Q||q.alternate!==null&&q.alternate.memoizedState!==null||(ly=Rt())),A&4&&M3(d);break;case 22:if(Wt=w!==null&&w.memoizedState!==null,d.mode&1?(zi=(mt=zi)||Wt,dc(m,d),zi=mt):dc(m,d),Hc(d),A&8192){if(mt=d.memoizedState!==null,(d.stateNode.isHidden=mt)&&!Wt&&(d.mode&1)!==0)for(Or=d,Wt=d.child;Wt!==null;){for(Xt=Or=Wt;Or!==null;){switch(qt=Or,Cr=qt.child,qt.tag){case 0:case 11:case 14:case 15:yp(4,qt,qt.return);break;case 1:Vf(qt,qt.return);var Lr=qt.stateNode;if(typeof Lr.componentWillUnmount=="function"){A=qt,w=qt.return;try{m=A,Lr.props=m.memoizedProps,Lr.state=m.memoizedState,Lr.componentWillUnmount()}catch(Fr){Za(A,w,Fr)}}break;case 5:Vf(qt,qt.return);break;case 22:if(qt.memoizedState!==null){B3(Xt);continue}}Cr!==null?(Cr.return=qt,Or=Cr):B3(Xt)}Wt=Wt.sibling}e:for(Wt=null,Xt=d;;){if(Xt.tag===5){if(Wt===null){Wt=Xt;try{q=Xt.stateNode,mt?(Q=q.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(De=Xt.stateNode,He=Xt.memoizedProps.style,fe=He!=null&&He.hasOwnProperty("display")?He.display:null,De.style.display=Lt("display",fe))}catch(Fr){Za(d,d.return,Fr)}}}else if(Xt.tag===6){if(Wt===null)try{Xt.stateNode.nodeValue=mt?"":Xt.memoizedProps}catch(Fr){Za(d,d.return,Fr)}}else if((Xt.tag!==22&&Xt.tag!==23||Xt.memoizedState===null||Xt===d)&&Xt.child!==null){Xt.child.return=Xt,Xt=Xt.child;continue}if(Xt===d)break e;for(;Xt.sibling===null;){if(Xt.return===null||Xt.return===d)break e;Wt===Xt&&(Wt=null),Xt=Xt.return}Wt===Xt&&(Wt=null),Xt.sibling.return=Xt.return,Xt=Xt.sibling}}break;case 19:dc(m,d),Hc(d),A&4&&M3(d);break;case 21:break;default:dc(m,d),Hc(d)}}function Hc(d){var m=d.flags;if(m&2){try{e:{for(var w=d.return;w!==null;){if(L3(w)){var A=w;break e}w=w.return}throw Error(r(160))}switch(A.tag){case 5:var q=A.stateNode;A.flags&32&&(pt(q,""),A.flags&=-33);var Q=j3(d);oy(d,Q,q);break;case 3:case 4:var fe=A.stateNode.containerInfo,De=j3(d);ay(d,De,fe);break;default:throw Error(r(161))}}catch(He){Za(d,d.return,He)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function sj(d,m,w){Or=d,$3(d)}function $3(d,m,w){for(var A=(d.mode&1)!==0;Or!==null;){var q=Or,Q=q.child;if(q.tag===22&&A){var fe=q.memoizedState!==null||kg;if(!fe){var De=q.alternate,He=De!==null&&De.memoizedState!==null||zi;De=kg;var mt=zi;if(kg=fe,(zi=He)&&!mt)for(Or=q;Or!==null;)fe=Or,He=fe.child,fe.tag===22&&fe.memoizedState!==null?q3(q):He!==null?(He.return=fe,Or=He):q3(q);for(;Q!==null;)Or=Q,$3(Q),Q=Q.sibling;Or=q,kg=De,zi=mt}z3(d)}else(q.subtreeFlags&8772)!==0&&Q!==null?(Q.return=q,Or=Q):z3(d)}}function z3(d){for(;Or!==null;){var m=Or;if((m.flags&8772)!==0){var w=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:zi||Ag(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!zi)if(w===null)A.componentDidMount();else{var q=m.elementType===m.type?w.memoizedProps:cc(m.type,w.memoizedProps);A.componentDidUpdate(q,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var Q=m.updateQueue;Q!==null&&ac(m,Q,A);break;case 3:var fe=m.updateQueue;if(fe!==null){if(w=null,m.child!==null)switch(m.child.tag){case 5:w=m.child.stateNode;break;case 1:w=m.child.stateNode}ac(m,fe,w)}break;case 5:var De=m.stateNode;if(w===null&&m.flags&4){w=De;var He=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":He.autoFocus&&w.focus();break;case"img":He.src&&(w.src=He.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var mt=m.alternate;if(mt!==null){var Wt=mt.memoizedState;if(Wt!==null){var Xt=Wt.dehydrated;Xt!==null&&yo(Xt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zi||m.flags&512&&ny(m)}catch(qt){Za(m,m.return,qt)}}if(m===d){Or=null;break}if(w=m.sibling,w!==null){w.return=m.return,Or=w;break}Or=m.return}}function B3(d){for(;Or!==null;){var m=Or;if(m===d){Or=null;break}var w=m.sibling;if(w!==null){w.return=m.return,Or=w;break}Or=m.return}}function q3(d){for(;Or!==null;){var m=Or;try{switch(m.tag){case 0:case 11:case 15:var w=m.return;try{Ag(4,m)}catch(He){Za(m,w,He)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var q=m.return;try{A.componentDidMount()}catch(He){Za(m,q,He)}}var Q=m.return;try{ny(m)}catch(He){Za(m,Q,He)}break;case 5:var fe=m.return;try{ny(m)}catch(He){Za(m,fe,He)}}}catch(He){Za(m,m.return,He)}if(m===d){Or=null;break}var De=m.sibling;if(De!==null){De.return=m.return,Or=De;break}Or=m.return}}var lj=Math.ceil,_g=_.ReactCurrentDispatcher,iy=_.ReactCurrentOwner,_l=_.ReactCurrentBatchConfig,Gn=0,ni=null,Ao=null,Ci=0,sl=0,Gf=yi(0),Vo=0,wp=null,jd=0,Og=0,sy=0,xp=null,Is=null,ly=0,Kf=1/0,pu=null,Ig=!1,cy=null,Zu=null,Tg=!1,Qu=null,Rg=0,Ep=0,uy=null,Lg=-1,jg=0;function ls(){return(Gn&6)!==0?Rt():Lg!==-1?Lg:Lg=Rt()}function ed(d){return(d.mode&1)===0?1:(Gn&2)!==0&&Ci!==0?Ci&-Ci:Mr.transition!==null?(jg===0&&(jg=na()),jg):(d=cn,d!==0||(d=window.event,d=d===void 0?16:Do(d.type)),d)}function fc(d,m,w,A){if(50<Ep)throw Ep=0,uy=null,Error(r(185));Nn(d,w,A),((Gn&2)===0||d!==ni)&&(d===ni&&((Gn&2)===0&&(Og|=w),Vo===4&&td(d,Ci)),Ts(d,A),w===1&&Gn===0&&(m.mode&1)===0&&(Kf=Rt()+500,lu&&ne()))}function Ts(d,m){var w=d.callbackNode;rn(d,m);var A=Dr(d,d===ni?Ci:0);if(A===0)w!==null&&Ht(w),d.callbackNode=null,d.callbackPriority=0;else if(m=A&-A,d.callbackPriority!==m){if(w!=null&&Ht(w),m===1)d.tag===0?W(H3.bind(null,d)):T(H3.bind(null,d)),_d(function(){(Gn&6)===0&&ne()}),w=null;else{switch(Ya(A)){case 1:w=Vr;break;case 4:w=Ur;break;case 16:w=Ye;break;case 536870912:w=we;break;default:w=Ye}w=Z3(w,U3.bind(null,d))}d.callbackPriority=m,d.callbackNode=w}}function U3(d,m){if(Lg=-1,jg=0,(Gn&6)!==0)throw Error(r(327));var w=d.callbackNode;if(Yf()&&d.callbackNode!==w)return null;var A=Dr(d,d===ni?Ci:0);if(A===0)return null;if((A&30)!==0||(A&d.expiredLanes)!==0||m)m=Dg(d,A);else{m=A;var q=Gn;Gn|=2;var Q=V3();(ni!==d||Ci!==m)&&(pu=null,Kf=Rt()+500,Md(d,m));do try{dj();break}catch(De){W3(d,De)}while(!0);Zn(),_g.current=Q,Gn=q,Ao!==null?m=0:(ni=null,Ci=0,m=Vo)}if(m!==0){if(m===2&&(q=wn(d),q!==0&&(A=q,m=dy(d,q))),m===1)throw w=wp,Md(d,0),td(d,A),Ts(d,Rt()),w;if(m===6)td(d,A);else{if(q=d.current.alternate,(A&30)===0&&!cj(q)&&(m=Dg(d,A),m===2&&(Q=wn(d),Q!==0&&(A=Q,m=dy(d,Q))),m===1))throw w=wp,Md(d,0),td(d,A),Ts(d,Rt()),w;switch(d.finishedWork=q,d.finishedLanes=A,m){case 0:case 1:throw Error(r(345));case 2:Fd(d,Is,pu);break;case 3:if(td(d,A),(A&130023424)===A&&(m=ly+500-Rt(),10<m)){if(Dr(d,0)!==0)break;if(q=d.suspendedLanes,(q&A)!==A){ls(),d.pingedLanes|=d.suspendedLanes&q;break}d.timeoutHandle=qu(Fd.bind(null,d,Is,pu),m);break}Fd(d,Is,pu);break;case 4:if(td(d,A),(A&4194240)===A)break;for(m=d.eventTimes,q=-1;0<A;){var fe=31-Ot(A);Q=1<<fe,fe=m[fe],fe>q&&(q=fe),A&=~Q}if(A=q,A=Rt()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*lj(A/1960))-A,10<A){d.timeoutHandle=qu(Fd.bind(null,d,Is,pu),A);break}Fd(d,Is,pu);break;case 5:Fd(d,Is,pu);break;default:throw Error(r(329))}}}return Ts(d,Rt()),d.callbackNode===w?U3.bind(null,d):null}function dy(d,m){var w=xp;return d.current.memoizedState.isDehydrated&&(Md(d,m).flags|=256),d=Dg(d,m),d!==2&&(m=Is,Is=w,m!==null&&fy(m)),d}function fy(d){Is===null?Is=d:Is.push.apply(Is,d)}function cj(d){for(var m=d;;){if(m.flags&16384){var w=m.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var q=w[A],Q=q.getSnapshot;q=q.value;try{if(!zn(Q(),q))return!1}catch{return!1}}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function td(d,m){for(m&=~sy,m&=~Og,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var w=31-Ot(m),A=1<<w;d[w]=-1,m&=~A}}function H3(d){if((Gn&6)!==0)throw Error(r(327));Yf();var m=Dr(d,0);if((m&1)===0)return Ts(d,Rt()),null;var w=Dg(d,m);if(d.tag!==0&&w===2){var A=wn(d);A!==0&&(m=A,w=dy(d,A))}if(w===1)throw w=wp,Md(d,0),td(d,m),Ts(d,Rt()),w;if(w===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Fd(d,Is,pu),Ts(d,Rt()),null}function my(d,m){var w=Gn;Gn|=1;try{return d(m)}finally{Gn=w,Gn===0&&(Kf=Rt()+500,lu&&ne())}}function Dd(d){Qu!==null&&Qu.tag===0&&(Gn&6)===0&&Yf();var m=Gn;Gn|=1;var w=_l.transition,A=cn;try{if(_l.transition=null,cn=1,d)return d()}finally{cn=A,_l.transition=w,Gn=m,(Gn&6)===0&&ne()}}function py(){sl=Gf.current,qn(Gf)}function Md(d,m){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==-1&&(d.timeoutHandle=-1,jf(w)),Ao!==null)for(w=Ao.return;w!==null;){var A=w;switch(be(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Uu();break;case 3:ko(),qn(Ho),qn(Ga),Gu();break;case 5:Wu(A);break;case 4:ko();break;case 13:qn(ca);break;case 19:qn(ca);break;case 10:On(A.type._context);break;case 22:case 23:py()}w=w.return}if(ni=d,Ao=d=rd(d.current,null),Ci=sl=m,Vo=0,wp=null,sy=Og=jd=0,Is=xp=null,Hn!==null){for(m=0;m<Hn.length;m++)if(w=Hn[m],A=w.interleaved,A!==null){w.interleaved=null;var q=A.next,Q=w.pending;if(Q!==null){var fe=Q.next;Q.next=q,A.next=fe}w.pending=A}Hn=null}return d}function W3(d,m){do{var w=Ao;try{if(Zn(),uu.current=Sg,Ku){for(var A=xa.memoizedState;A!==null;){var q=A.queue;q!==null&&(q.pending=null),A=A.next}Ku=!1}if(_s=0,ja=La=xa=null,sc=!1,Yu=0,iy.current=null,w===null||w.return===null){Vo=1,wp=m,Ao=null;break}e:{var Q=d,fe=w.return,De=w,He=m;if(m=Ci,De.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var mt=He,Wt=De,Xt=Wt.tag;if((Wt.mode&1)===0&&(Xt===0||Xt===11||Xt===15)){var qt=Wt.alternate;qt?(Wt.updateQueue=qt.updateQueue,Wt.memoizedState=qt.memoizedState,Wt.lanes=qt.lanes):(Wt.updateQueue=null,Wt.memoizedState=null)}var Cr=g3(fe);if(Cr!==null){Cr.flags&=-257,v3(Cr,fe,De,Q,m),Cr.mode&1&&h3(Q,mt,m),m=Cr,He=mt;var Lr=m.updateQueue;if(Lr===null){var Fr=new Set;Fr.add(He),m.updateQueue=Fr}else Lr.add(He);break e}else{if((m&1)===0){h3(Q,mt,m),hy();break e}He=Error(r(426))}}else if(Ve&&De.mode&1){var uo=g3(fe);if(uo!==null){(uo.flags&65536)===0&&(uo.flags|=256),v3(uo,fe,De,Q,m),Sr(Wf(He,De));break e}}Q=He=Wf(He,De),Vo!==4&&(Vo=2),xp===null?xp=[Q]:xp.push(Q),Q=fe;do{switch(Q.tag){case 3:Q.flags|=65536,m&=-m,Q.lanes|=m;var ot=m3(Q,He,m);Fi(Q,ot);break e;case 1:De=He;var Ge=Q.type,lt=Q.stateNode;if((Q.flags&128)===0&&(typeof Ge.getDerivedStateFromError=="function"||lt!==null&&typeof lt.componentDidCatch=="function"&&(Zu===null||!Zu.has(lt)))){Q.flags|=65536,m&=-m,Q.lanes|=m;var or=p3(Q,De,m);Fi(Q,or);break e}}Q=Q.return}while(Q!==null)}K3(w)}catch(qr){m=qr,Ao===w&&w!==null&&(Ao=w=w.return);continue}break}while(!0)}function V3(){var d=_g.current;return _g.current=Sg,d===null?Sg:d}function hy(){(Vo===0||Vo===3||Vo===2)&&(Vo=4),ni===null||(jd&268435455)===0&&(Og&268435455)===0||td(ni,Ci)}function Dg(d,m){var w=Gn;Gn|=2;var A=V3();(ni!==d||Ci!==m)&&(pu=null,Md(d,m));do try{uj();break}catch(q){W3(d,q)}while(!0);if(Zn(),Gn=w,_g.current=A,Ao!==null)throw Error(r(261));return ni=null,Ci=0,Vo}function uj(){for(;Ao!==null;)G3(Ao)}function dj(){for(;Ao!==null&&!ir();)G3(Ao)}function G3(d){var m=X3(d.alternate,d,sl);d.memoizedProps=d.pendingProps,m===null?K3(d):Ao=m,iy.current=null}function K3(d){var m=d;do{var w=m.alternate;if(d=m.return,(m.flags&32768)===0){if(w=nj(w,m,sl),w!==null){Ao=w;return}}else{if(w=aj(w,m),w!==null){w.flags&=32767,Ao=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Vo=6,Ao=null;return}}if(m=m.sibling,m!==null){Ao=m;return}Ao=m=d}while(m!==null);Vo===0&&(Vo=5)}function Fd(d,m,w){var A=cn,q=_l.transition;try{_l.transition=null,cn=1,fj(d,m,w,A)}finally{_l.transition=q,cn=A}return null}function fj(d,m,w,A){do Yf();while(Qu!==null);if((Gn&6)!==0)throw Error(r(327));w=d.finishedWork;var q=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var Q=w.lanes|w.childLanes;if(aa(d,Q),d===ni&&(Ao=ni=null,Ci=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||Tg||(Tg=!0,Z3(Ye,function(){return Yf(),null})),Q=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||Q){Q=_l.transition,_l.transition=null;var fe=cn;cn=1;var De=Gn;Gn|=4,iy.current=null,ij(d,w),F3(w,d),Bo(Qs),ys=!!Nl,Qs=Nl=null,d.current=w,sj(w),nr(),Gn=De,cn=fe,_l.transition=Q}else d.current=w;if(Tg&&(Tg=!1,Qu=d,Rg=q),Q=d.pendingLanes,Q===0&&(Zu=null),st(w.stateNode),Ts(d,Rt()),m!==null)for(A=d.onRecoverableError,w=0;w<m.length;w++)q=m[w],A(q.value,{componentStack:q.stack,digest:q.digest});if(Ig)throw Ig=!1,d=cy,cy=null,d;return(Rg&1)!==0&&d.tag!==0&&Yf(),Q=d.pendingLanes,(Q&1)!==0?d===uy?Ep++:(Ep=0,uy=d):Ep=0,ne(),null}function Yf(){if(Qu!==null){var d=Ya(Rg),m=_l.transition,w=cn;try{if(_l.transition=null,cn=16>d?16:d,Qu===null)var A=!1;else{if(d=Qu,Qu=null,Rg=0,(Gn&6)!==0)throw Error(r(331));var q=Gn;for(Gn|=4,Or=d.current;Or!==null;){var Q=Or,fe=Q.child;if((Or.flags&16)!==0){var De=Q.deletions;if(De!==null){for(var He=0;He<De.length;He++){var mt=De[He];for(Or=mt;Or!==null;){var Wt=Or;switch(Wt.tag){case 0:case 11:case 15:yp(8,Wt,Q)}var Xt=Wt.child;if(Xt!==null)Xt.return=Wt,Or=Xt;else for(;Or!==null;){Wt=Or;var qt=Wt.sibling,Cr=Wt.return;if(R3(Wt),Wt===mt){Or=null;break}if(qt!==null){qt.return=Cr,Or=qt;break}Or=Cr}}}var Lr=Q.alternate;if(Lr!==null){var Fr=Lr.child;if(Fr!==null){Lr.child=null;do{var uo=Fr.sibling;Fr.sibling=null,Fr=uo}while(Fr!==null)}}Or=Q}}if((Q.subtreeFlags&2064)!==0&&fe!==null)fe.return=Q,Or=fe;else e:for(;Or!==null;){if(Q=Or,(Q.flags&2048)!==0)switch(Q.tag){case 0:case 11:case 15:yp(9,Q,Q.return)}var ot=Q.sibling;if(ot!==null){ot.return=Q.return,Or=ot;break e}Or=Q.return}}var Ge=d.current;for(Or=Ge;Or!==null;){fe=Or;var lt=fe.child;if((fe.subtreeFlags&2064)!==0&&lt!==null)lt.return=fe,Or=lt;else e:for(fe=Ge;Or!==null;){if(De=Or,(De.flags&2048)!==0)try{switch(De.tag){case 0:case 11:case 15:Ag(9,De)}}catch(qr){Za(De,De.return,qr)}if(De===fe){Or=null;break e}var or=De.sibling;if(or!==null){or.return=De.return,Or=or;break e}Or=De.return}}if(Gn=q,ne(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot($e,d)}catch{}A=!0}return A}finally{cn=w,_l.transition=m}}return!1}function Y3(d,m,w){m=Wf(w,m),m=m3(d,m,1),d=Wo(d,m,1),m=ls(),d!==null&&(Nn(d,1,m),Ts(d,m))}function Za(d,m,w){if(d.tag===3)Y3(d,d,w);else for(;m!==null;){if(m.tag===3){Y3(m,d,w);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Zu===null||!Zu.has(A))){d=Wf(w,d),d=p3(m,d,1),m=Wo(m,d,1),d=ls(),m!==null&&(Nn(m,1,d),Ts(m,d));break}}m=m.return}}function mj(d,m,w){var A=d.pingCache;A!==null&&A.delete(m),m=ls(),d.pingedLanes|=d.suspendedLanes&w,ni===d&&(Ci&w)===w&&(Vo===4||Vo===3&&(Ci&130023424)===Ci&&500>Rt()-ly?Md(d,0):sy|=w),Ts(d,m)}function J3(d,m){m===0&&((d.mode&1)===0?m=1:(m=In,In<<=1,(In&130023424)===0&&(In=4194304)));var w=ls();d=bn(d,m),d!==null&&(Nn(d,m,w),Ts(d,w))}function pj(d){var m=d.memoizedState,w=0;m!==null&&(w=m.retryLane),J3(d,w)}function hj(d,m){var w=0;switch(d.tag){case 13:var A=d.stateNode,q=d.memoizedState;q!==null&&(w=q.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(m),J3(d,w)}var X3;X3=function(d,m,w){if(d!==null)if(d.memoizedProps!==m.pendingProps||Ho.current)Os=!0;else{if((d.lanes&w)===0&&(m.flags&128)===0)return Os=!1,rj(d,m,w);Os=(d.flags&131072)!==0}else Os=!1,Ve&&(m.flags&1048576)!==0&&Ne(m,ge,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;Pg(d,m),d=m.pendingProps;var q=ec(m,Ga.current);Mn(m,w),q=Td(null,m,A,d,q,w);var Q=Al();return m.flags|=1,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Po(A)?(Q=!0,tc(m)):Q=!1,m.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,rc(m),q.updater=Cg,m.stateNode=q,q._reactInternals=m,Vb(m,A,d,w),m=Jb(null,m,A,!0,Q,w)):(m.tag=0,Ve&&Q&&Ee(m),ss(null,m,q,w),m=m.child),m;case 16:A=m.elementType;e:{switch(Pg(d,m),d=m.pendingProps,q=A._init,A=q(A._payload),m.type=A,q=m.tag=vj(A),d=cc(A,d),q){case 0:m=Yb(null,m,A,d,w);break e;case 1:m=S3(null,m,A,d,w);break e;case 11:m=b3(null,m,A,d,w);break e;case 14:m=y3(null,m,A,cc(A.type,d),w);break e}throw Error(r(306,A,""))}return m;case 0:return A=m.type,q=m.pendingProps,q=m.elementType===A?q:cc(A,q),Yb(d,m,A,q,w);case 1:return A=m.type,q=m.pendingProps,q=m.elementType===A?q:cc(A,q),S3(d,m,A,q,w);case 3:e:{if(C3(m),d===null)throw Error(r(387));A=m.pendingProps,Q=m.memoizedState,q=Q.element,Hu(d,m),as(m,A,null,w);var fe=m.memoizedState;if(A=fe.element,Q.isDehydrated)if(Q={element:A,isDehydrated:!1,cache:fe.cache,pendingSuspenseBoundaries:fe.pendingSuspenseBoundaries,transitions:fe.transitions},m.updateQueue.baseState=Q,m.memoizedState=Q,m.flags&256){q=Wf(Error(r(423)),m),m=N3(d,m,A,w,q);break e}else if(A!==q){q=Wf(Error(r(424)),m),m=N3(d,m,A,w,q);break e}else for(qe=Uo(m.stateNode.containerInfo.firstChild),Se=m,Ve=!0,Ke=null,w=Jr(m,null,A,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Er(),A===q){m=mu(d,m,w);break e}ss(d,m,A,w)}m=m.child}return m;case 5:return cu(m),d===null&&Ct(m),A=m.type,q=m.pendingProps,Q=d!==null?d.memoizedProps:null,fe=q.children,Ad(A,q)?fe=null:Q!==null&&Ad(A,Q)&&(m.flags|=32),E3(d,m),ss(d,m,fe,w),m.child;case 6:return d===null&&Ct(m),null;case 13:return P3(d,m,w);case 4:return qc(m,m.stateNode.containerInfo),A=m.pendingProps,d===null?m.child=nn(m,null,A,w):ss(d,m,A,w),m.child;case 11:return A=m.type,q=m.pendingProps,q=m.elementType===A?q:cc(A,q),b3(d,m,A,q,w);case 7:return ss(d,m,m.pendingProps,w),m.child;case 8:return ss(d,m,m.pendingProps.children,w),m.child;case 12:return ss(d,m,m.pendingProps.children,w),m.child;case 10:e:{if(A=m.type._context,q=m.pendingProps,Q=m.memoizedProps,fe=q.value,Tn(Xn,A._currentValue),A._currentValue=fe,Q!==null)if(zn(Q.value,fe)){if(Q.children===q.children&&!Ho.current){m=mu(d,m,w);break e}}else for(Q=m.child,Q!==null&&(Q.return=m);Q!==null;){var De=Q.dependencies;if(De!==null){fe=Q.child;for(var He=De.firstContext;He!==null;){if(He.context===A){if(Q.tag===1){He=wi(-1,w&-w),He.tag=2;var mt=Q.updateQueue;if(mt!==null){mt=mt.shared;var Wt=mt.pending;Wt===null?He.next=He:(He.next=Wt.next,Wt.next=He),mt.pending=He}}Q.lanes|=w,He=Q.alternate,He!==null&&(He.lanes|=w),Ba(Q.return,w,m),De.lanes|=w;break}He=He.next}}else if(Q.tag===10)fe=Q.type===m.type?null:Q.child;else if(Q.tag===18){if(fe=Q.return,fe===null)throw Error(r(341));fe.lanes|=w,De=fe.alternate,De!==null&&(De.lanes|=w),Ba(fe,w,m),fe=Q.sibling}else fe=Q.child;if(fe!==null)fe.return=Q;else for(fe=Q;fe!==null;){if(fe===m){fe=null;break}if(Q=fe.sibling,Q!==null){Q.return=fe.return,fe=Q;break}fe=fe.return}Q=fe}ss(d,m,q.children,w),m=m.child}return m;case 9:return q=m.type,A=m.pendingProps.children,Mn(m,w),q=ha(q),A=A(q),m.flags|=1,ss(d,m,A,w),m.child;case 14:return A=m.type,q=cc(A,m.pendingProps),q=cc(A.type,q),y3(d,m,A,q,w);case 15:return w3(d,m,m.type,m.pendingProps,w);case 17:return A=m.type,q=m.pendingProps,q=m.elementType===A?q:cc(A,q),Pg(d,m),m.tag=1,Po(A)?(d=!0,tc(m)):d=!1,Mn(m,w),d3(m,A,q),Vb(m,A,q,w),Jb(null,m,A,!0,d,w);case 19:return A3(d,m,w);case 22:return x3(d,m,w)}throw Error(r(156,m.tag))};function Z3(d,m){return xt(d,m)}function gj(d,m,w,A){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(d,m,w,A){return new gj(d,m,w,A)}function gy(d){return d=d.prototype,!(!d||!d.isReactComponent)}function vj(d){if(typeof d=="function")return gy(d)?1:0;if(d!=null){if(d=d.$$typeof,d===L)return 11;if(d===H)return 14}return 2}function rd(d,m){var w=d.alternate;return w===null?(w=Ol(d.tag,m,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=m,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,m=d.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function Mg(d,m,w,A,q,Q){var fe=2;if(A=d,typeof d=="function")gy(d)&&(fe=1);else if(typeof d=="string")fe=5;else e:switch(d){case R:return $d(w.children,q,Q,m);case D:fe=8,q|=8;break;case B:return d=Ol(12,w,m,q|2),d.elementType=B,d.lanes=Q,d;case M:return d=Ol(13,w,m,q),d.elementType=M,d.lanes=Q,d;case F:return d=Ol(19,w,m,q),d.elementType=F,d.lanes=Q,d;case ee:return Fg(w,q,Q,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case z:fe=10;break e;case I:fe=9;break e;case L:fe=11;break e;case H:fe=14;break e;case J:fe=16,A=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=Ol(fe,w,m,q),m.elementType=d,m.type=A,m.lanes=Q,m}function $d(d,m,w,A){return d=Ol(7,d,A,m),d.lanes=w,d}function Fg(d,m,w,A){return d=Ol(22,d,A,m),d.elementType=ee,d.lanes=w,d.stateNode={isHidden:!1},d}function vy(d,m,w){return d=Ol(6,d,null,m),d.lanes=w,d}function by(d,m,w){return m=Ol(4,d.children!==null?d.children:[],d.key,m),m.lanes=w,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function bj(d,m,w,A,q){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kn(0),this.expirationTimes=Kn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.identifierPrefix=A,this.onRecoverableError=q,this.mutableSourceEagerHydrationData=null}function yy(d,m,w,A,q,Q,fe,De,He){return d=new bj(d,m,w,De,He),m===1?(m=1,Q===!0&&(m|=8)):m=0,Q=Ol(3,null,null,m),d.current=Q,Q.stateNode=d,Q.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(Q),d}function yj(d,m,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:A==null?null:""+A,children:d,containerInfo:m,implementation:w}}function Q3(d){if(!d)return el;d=d._reactInternals;e:{if(vt(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Po(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var w=d.type;if(Po(w))return As(d,w,m)}return m}function eN(d,m,w,A,q,Q,fe,De,He){return d=yy(w,A,!0,d,q,Q,fe,De,He),d.context=Q3(null),w=d.current,A=ls(),q=ed(w),Q=wi(A,q),Q.callback=m??null,Wo(w,Q,q),d.current.lanes=q,Nn(d,q,A),Ts(d,A),d}function $g(d,m,w,A){var q=m.current,Q=ls(),fe=ed(q);return w=Q3(w),m.context===null?m.context=w:m.pendingContext=w,m=wi(Q,fe),m.payload={element:d},A=A===void 0?null:A,A!==null&&(m.callback=A),d=Wo(q,m,fe),d!==null&&(fc(d,q,fe,Q),nc(d,q,fe)),fe}function zg(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function tN(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<m?w:m}}function wy(d,m){tN(d,m),(d=d.alternate)&&tN(d,m)}function wj(){return null}var rN=typeof reportError=="function"?reportError:function(d){console.error(d)};function xy(d){this._internalRoot=d}Bg.prototype.render=xy.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));$g(d,m,null,null)},Bg.prototype.unmount=xy.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Dd(function(){$g(null,d,null,null)}),m[No]=null}};function Bg(d){this._internalRoot=d}Bg.prototype.unstable_scheduleHydration=function(d){if(d){var m=Pt();d={blockedOn:null,target:d,priority:m};for(var w=0;w<Qo.length&&m!==0&&m<Qo[w].priority;w++);Qo.splice(w,0,d),w===0&&qs(d)}};function Ey(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function qg(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function nN(){}function xj(d,m,w,A,q){if(q){if(typeof A=="function"){var Q=A;A=function(){var mt=zg(fe);Q.call(mt)}}var fe=eN(m,A,d,0,null,!1,!1,"",nN);return d._reactRootContainer=fe,d[No]=fe.current,Cl(d.nodeType===8?d.parentNode:d),Dd(),fe}for(;q=d.lastChild;)d.removeChild(q);if(typeof A=="function"){var De=A;A=function(){var mt=zg(He);De.call(mt)}}var He=yy(d,0,!1,null,null,!1,!1,"",nN);return d._reactRootContainer=He,d[No]=He.current,Cl(d.nodeType===8?d.parentNode:d),Dd(function(){$g(m,He,w,A)}),He}function Ug(d,m,w,A,q){var Q=w._reactRootContainer;if(Q){var fe=Q;if(typeof q=="function"){var De=q;q=function(){var He=zg(fe);De.call(He)}}$g(m,fe,d,q)}else fe=xj(w,m,d,q,A);return zg(fe)}Oi=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var w=Pr(m.pendingLanes);w!==0&&(ya(m,w|1),Ts(m,Rt()),(Gn&6)===0&&(Kf=Rt()+500,ne()))}break;case 13:Dd(function(){var A=bn(d,1);if(A!==null){var q=ls();fc(A,d,1,q)}}),wy(d,1)}},Ft=function(d){if(d.tag===13){var m=bn(d,134217728);if(m!==null){var w=ls();fc(m,d,134217728,w)}wy(d,134217728)}},Ae=function(d){if(d.tag===13){var m=ed(d),w=bn(d,m);if(w!==null){var A=ls();fc(w,d,m,A)}wy(d,m)}},Pt=function(){return cn},vr=function(d,m){var w=cn;try{return cn=d,m()}finally{cn=w}},ke=function(d,m,w){switch(m){case"input":if(Je(d,w),m=w.name,w.type==="radio"&&m!=null){for(w=d;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<w.length;m++){var A=w[m];if(A!==d&&A.form===d.form){var q=Bc(A);if(!q)throw Error(r(90));ue(A),Je(A,q)}}}break;case"textarea":Ut(d,w);break;case"select":m=w.value,m!=null&&Be(d,!!w.multiple,m,!1)}},kr=my,xr=Dd;var Ej={usingClientEntryPoint:!1,Events:[zc,Ql,Bc,gt,At,my]},Sp={findFiberByHostInstance:Pl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sj={bundleType:Sp.bundleType,version:Sp.version,rendererPackageName:Sp.rendererPackageName,rendererConfig:Sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Bt(d),d===null?null:d.stateNode},findFiberByHostInstance:Sp.findFiberByHostInstance||wj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hg.isDisabled&&Hg.supportsFiber)try{$e=Hg.inject(Sj),Xe=Hg}catch{}}return Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ej,Rs.createPortal=function(d,m){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ey(m))throw Error(r(200));return yj(d,m,null,w)},Rs.createRoot=function(d,m){if(!Ey(d))throw Error(r(299));var w=!1,A="",q=rN;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(q=m.onRecoverableError)),m=yy(d,1,!1,null,null,w,!1,A,q),d[No]=m.current,Cl(d.nodeType===8?d.parentNode:d),new xy(m)},Rs.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Bt(m),d=d===null?null:d.stateNode,d},Rs.flushSync=function(d){return Dd(d)},Rs.hydrate=function(d,m,w){if(!qg(m))throw Error(r(200));return Ug(null,d,m,!0,w)},Rs.hydrateRoot=function(d,m,w){if(!Ey(d))throw Error(r(405));var A=w!=null&&w.hydratedSources||null,q=!1,Q="",fe=rN;if(w!=null&&(w.unstable_strictMode===!0&&(q=!0),w.identifierPrefix!==void 0&&(Q=w.identifierPrefix),w.onRecoverableError!==void 0&&(fe=w.onRecoverableError)),m=eN(m,null,d,1,w??null,q,!1,Q,fe),d[No]=m.current,Cl(d),A)for(d=0;d<A.length;d++)w=A[d],q=w._getVersion,q=q(w._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[w,q]:m.mutableSourceEagerHydrationData.push(w,q);return new Bg(m)},Rs.render=function(d,m,w){if(!qg(m))throw Error(r(200));return Ug(null,d,m,!1,w)},Rs.unmountComponentAtNode=function(d){if(!qg(d))throw Error(r(40));return d._reactRootContainer?(Dd(function(){Ug(null,null,d,!1,function(){d._reactRootContainer=null,d[No]=null})}),!0):!1},Rs.unstable_batchedUpdates=my,Rs.unstable_renderSubtreeIntoContainer=function(d,m,w,A){if(!qg(w))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Ug(d,m,w,!1,A)},Rs.version="18.3.1-next-f1338f8080-20240426",Rs}var cN;function hI(){if(cN)return Cy.exports;cN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cy.exports=Oj(),Cy.exports}var uN;function Ij(){if(uN)return Vg;uN=1;var t=hI();return Vg.createRoot=t.createRoot,Vg.hydrateRoot=t.hydrateRoot,Vg}var Tj=Ij();const Rj=sa(Tj);var Lj=hI();const $p=sa(Lj);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}var fd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fd||(fd={}));const dN="popstate";function jj(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:l}=n.location;return rE("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Dv(a)}return Mj(e,r,null,t)}function To(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dj(){return Math.random().toString(36).substr(2,8)}function fN(t,e){return{usr:t.state,key:t.key,idx:e}}function rE(t,e,r,n){return r===void 0&&(r=null),lh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?np(e):e,{state:r,key:e&&e.key||n||Dj()})}function Dv(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function np(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Mj(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=fd.Pop,c=null,u=f();u==null&&(u=0,s.replaceState(lh({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=fd.Pop;let y=f(),E=y==null?null:y-u;u=y,c&&c({action:l,location:v.location,delta:E})}function h(y,E){l=fd.Push;let C=rE(v.location,y,E);u=f()+1;let k=fN(C,u),_=v.createHref(C);try{s.pushState(k,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}i&&c&&c({action:l,location:v.location,delta:1})}function g(y,E){l=fd.Replace;let C=rE(v.location,y,E);u=f();let k=fN(C,u),_=v.createHref(C);s.replaceState(k,"",_),i&&c&&c({action:l,location:v.location,delta:0})}function x(y){let E=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof y=="string"?y:Dv(y);return C=C.replace(/ $/,"%20"),To(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let v={get action(){return l},get location(){return t(a,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(dN,p),c=y,()=>{a.removeEventListener(dN,p),c=null}},createHref(y){return e(a,y)},createURL:x,encodeLocation(y){let E=x(y);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:g,go(y){return s.go(y)}};return v}var mN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mN||(mN={}));function Fj(t,e,r){return r===void 0&&(r="/"),$j(t,e,r)}function $j(t,e,r,n){let a=typeof e=="string"?np(e):e,i=IS(a.pathname||"/",r);if(i==null)return null;let s=vI(t);zj(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=Zj(i);l=Yj(s[c],u)}return l}function vI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(To(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=gd([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(To(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vI(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Gj(u,i.index),routesMeta:f})};return t.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of bI(i.path))a(i,s,c)}),e}function bI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=bI(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function zj(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Kj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Bj=/^:[\w-]+$/,qj=3,Uj=2,Hj=1,Wj=10,Vj=-2,pN=t=>t==="*";function Gj(t,e){let r=t.split("/"),n=r.length;return r.some(pN)&&(n+=Vj),e&&(n+=Uj),r.filter(a=>!pN(a)).reduce((a,i)=>a+(Bj.test(i)?qj:i===""?Hj:Wj),n)}function Kj(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Yj(t,e,r){let{routesMeta:n}=t,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=Jj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!p)return null;Object.assign(a,p.params),s.push({params:a,pathname:gd([i,p.pathname]),pathnameBase:rD(gd([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=gd([i,p.pathnameBase]))}return s}function Jj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Xj(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,p)=>{let{paramName:h,isOptional:g}=f;if(h==="*"){let v=l[p]||"";s=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[p];return g&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function Xj(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Zj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Qj(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?np(t):t;return{pathname:r?r.startsWith("/")?r:eD(r,e):e,search:nD(n),hash:aD(a)}}function eD(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ky(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tD(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function yI(t,e){let r=tD(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wI(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=np(t):(a=lh({},t),To(!a.pathname||!a.pathname.includes("?"),ky("?","pathname","search",a)),To(!a.pathname||!a.pathname.includes("#"),ky("#","pathname","hash",a)),To(!a.search||!a.search.includes("#"),ky("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),p-=1;a.pathname=h.join("/")}l=p>=0?e[p]:"/"}let c=Qj(a,l),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const gd=t=>t.join("/").replace(/\/\/+/g,"/"),rD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xI=["post","put","patch","delete"];new Set(xI);const iD=["get",...xI];new Set(iD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ch.apply(this,arguments)}const TS=b.createContext(null),sD=b.createContext(null),Cf=b.createContext(null),U0=b.createContext(null),Nf=b.createContext({outlet:null,matches:[],isDataRoute:!1}),EI=b.createContext(null);function lD(t,e){let{relative:r}=e===void 0?{}:e;cg()||To(!1);let{basename:n,navigator:a}=b.useContext(Cf),{hash:i,pathname:s,search:l}=CI(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:gd([n,s])),a.createHref({pathname:c,search:l,hash:i})}function cg(){return b.useContext(U0)!=null}function Pf(){return cg()||To(!1),b.useContext(U0).location}function SI(t){b.useContext(Cf).static||b.useLayoutEffect(t)}function Yo(){let{isDataRoute:t}=b.useContext(Nf);return t?xD():cD()}function cD(){cg()||To(!1);let t=b.useContext(TS),{basename:e,future:r,navigator:n}=b.useContext(Cf),{matches:a}=b.useContext(Nf),{pathname:i}=Pf(),s=JSON.stringify(yI(a,r.v7_relativeSplatPath)),l=b.useRef(!1);return SI(()=>{l.current=!0}),b.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=wI(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gd([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,i,t])}function CI(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Cf),{matches:a}=b.useContext(Nf),{pathname:i}=Pf(),s=JSON.stringify(yI(a,n.v7_relativeSplatPath));return b.useMemo(()=>wI(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function uD(t,e){return dD(t,e)}function dD(t,e,r,n){cg()||To(!1);let{navigator:a}=b.useContext(Cf),{matches:i}=b.useContext(Nf),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Pf(),f;if(e){var p;let y=typeof e=="string"?np(e):e;c==="/"||(p=y.pathname)!=null&&p.startsWith(c)||To(!1),f=y}else f=u;let h=f.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Fj(t,{pathname:g}),v=gD(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gd([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:gd([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&v?b.createElement(U0.Provider,{value:{location:ch({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:fd.Pop}},v):v}function fD(){let t=wD(),e=oD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:a},r):null,null)}const mD=b.createElement(fD,null);class pD extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Nf.Provider,{value:this.props.routeContext},b.createElement(EI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hD(t){let{routeContext:e,match:r,children:n}=t,a=b.useContext(TS);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Nf.Provider,{value:e},n)}function gD(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||To(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:h,errors:g}=r,x=p.route.loader&&h[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||x){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,p,h)=>{let g,x=!1,v=null,y=null;r&&(g=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||mD,c&&(u<0&&h===0?(ED("route-fallback"),x=!0,y=null):u===h&&(x=!0,y=p.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,h+1)),C=()=>{let k;return g?k=v:x?k=y:p.route.Component?k=b.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,b.createElement(hD,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?b.createElement(pD,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var NI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(NI||{}),PI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PI||{});function vD(t){let e=b.useContext(TS);return e||To(!1),e}function bD(t){let e=b.useContext(sD);return e||To(!1),e}function yD(t){let e=b.useContext(Nf);return e||To(!1),e}function kI(t){let e=yD(),r=e.matches[e.matches.length-1];return r.route.id||To(!1),r.route.id}function wD(){var t;let e=b.useContext(EI),r=bD(),n=kI();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xD(){let{router:t}=vD(NI.UseNavigateStable),e=kI(PI.UseNavigateStable),r=b.useRef(!1);return SI(()=>{r.current=!0}),b.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,ch({fromRouteId:e},i)))},[t,e])}const hN={};function ED(t,e,r){hN[t]||(hN[t]=!0)}function SD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oa(t){To(!1)}function CD(t){let{basename:e="/",children:r=null,location:n,navigationType:a=fd.Pop,navigator:i,static:s=!1,future:l}=t;cg()&&To(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:s,future:ch({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=np(n));let{pathname:f="/",search:p="",hash:h="",state:g=null,key:x="default"}=n,v=b.useMemo(()=>{let y=IS(f,c);return y==null?null:{location:{pathname:y,search:p,hash:h,state:g,key:x},navigationType:a}},[c,f,p,h,g,x,a]);return v==null?null:b.createElement(Cf.Provider,{value:u},b.createElement(U0.Provider,{children:r,value:v}))}function gN(t){let{children:e,location:r}=t;return uD(nE(e),r)}new Promise(()=>{});function nE(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,a)=>{if(!b.isValidElement(n))return;let i=[...e,a];if(n.type===b.Fragment){r.push.apply(r,nE(n.props.children,i));return}n.type!==oa&&To(!1),!n.props.index||!n.props.children||To(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=nE(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aE(){return aE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aE.apply(this,arguments)}function ND(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function PD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kD(t,e){return t.button===0&&(!e||e==="_self")&&!PD(t)}const AD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_D="6";try{window.__reactRouterVersion=_D}catch{}const OD="startTransition",vN=kj[OD];function ID(t){let{basename:e,children:r,future:n,window:a}=t,i=b.useRef();i.current==null&&(i.current=jj({window:a,v5Compat:!0}));let s=i.current,[l,c]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},f=b.useCallback(p=>{u&&vN?vN(()=>c(p)):c(p)},[c,u]);return b.useLayoutEffect(()=>s.listen(f),[s,f]),b.useEffect(()=>SD(n),[n]),b.createElement(CD,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const TD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fo=b.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:f,viewTransition:p}=e,h=ND(e,AD),{basename:g}=b.useContext(Cf),x,v=!1;if(typeof u=="string"&&RD.test(u)&&(x=u,TD))try{let k=new URL(window.location.href),_=u.startsWith("//")?new URL(k.protocol+u):new URL(u),N=IS(_.pathname,g);_.origin===k.origin&&N!=null?u=N+_.search+_.hash:v=!0}catch{}let y=lD(u,{relative:a}),E=LD(u,{replace:s,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:p});function C(k){n&&n(k),k.defaultPrevented||E(k)}return b.createElement("a",aE({},h,{href:x||y,onClick:v||i?n:C,ref:r,target:c}))});var bN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bN||(bN={}));var yN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yN||(yN={}));function LD(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=e===void 0?{}:e,c=Yo(),u=Pf(),f=CI(t,{relative:s});return b.useCallback(p=>{if(kD(p,r)){p.preventDefault();let h=n!==void 0?n:Dv(u)===Dv(f);c(t,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,f,n,a,r,t,i,s,l])}const jD=()=>o.createElement("section",{className:"hero-section"},o.createElement("div",{className:"hero-content"},o.createElement("div",{className:"hero-text"},o.createElement("h1",{className:"hero-brand"},"Delicias Darsy"),o.createElement("h2",{className:"hero-title"},"Endulza tus",o.createElement("br",null),"momentos",o.createElement("br",null),o.createElement("span",{className:"hero-highlight"},"especiales")),o.createElement("p",{className:"hero-description"},"Creamos postres únicos y deliciosos para hacer de cada",o.createElement("br",null),"celebración un momento inolvidable. Desde pasteles",o.createElement("br",null),"personalizados hasta dulces artesanales."),o.createElement("div",{className:"hero-buttons"},o.createElement(fo,{to:"/cartas",className:"btn btn-primary"},"Ver Productos"),o.createElement(fo,{to:"/pedidos",className:"btn btn-secondary"},"Hacer Pedido")))),o.createElement("div",{className:"hero-image"})),pl=b.createContext(),DD=({children:t})=>{const[e,r]=b.useState([]),[n,a]=b.useState([]),i=p=>{r(h=>h.find(x=>x.id===p.id)?h.map(x=>x.id===p.id?{...x,cantidad:x.cantidad+1}:x):[...h,p])},s=(p,h)=>{r(g=>g.map(x=>x.id===p?{...x,cantidad:h}:x))},l=p=>{r(h=>h.filter(g=>g.id!==p))},c=p=>{a(h=>h.find(x=>x.id===p.id)?h.map(x=>x.id===p.id?{...x,cantidad:x.cantidad+1}:x):[...h,p])},u=(p,h)=>{a(g=>g.map(x=>x.id===p?{...x,cantidad:h}:x))},f=p=>{a(h=>h.filter(g=>g.id!==p))};return o.createElement(pl.Provider,{value:{carrito:e,agregarProducto:i,actualizarCantidadCarrito:s,eliminarDelCarrito:l,productosSeleccionados:n,agregarProductoSeleccionado:c,actualizarCantidadSeleccionado:u,eliminarProductoSeleccionado:f}},t)},cs="https://deliciasoft-backend-i6g9.onrender.com/api/productogeneral",Ay="https://deliciasoft-backend-i6g9.onrender.com/api/imagenes";class MD{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n={};try{const i=await e.json();console.error("Error details from backend:",i),r=i.message||i.error||r,n=i}catch{try{const s=await e.text();console.error("Error text from backend:",s),r=s||r,n.rawError=s}catch{console.error("Could not parse error response")}}n.statusCode=e.status,n.statusText=e.statusText;const a=new Error(r);throw a.details=n,a}return e.json()}async obtenerProductosMasVendidos(e=6){try{console.log(`Obteniendo los ${e} productos más vendidos...`);const r=await fetch(`${cs}/mas-vendidos?limit=${e}`,{method:"GET",headers:this.baseHeaders});console.log("Response status:",r.status);const n=await this.handleResponse(r);console.log("Productos más vendidos recibidos:",n);const a=n.productos.map(i=>this.transformarProductoDestacadoDesdeAPI(i));return console.log("Productos destacados transformados:",a),a}catch(r){console.error("Error al obtener productos más vendidos:",r),console.log("Fallback: obteniendo productos normales...");try{return(await this.obtenerProductos()).slice(0,e).map(a=>({...a,totalVendido:0,vecesVendido:0,esDestacado:!0}))}catch(n){throw console.error("Error en fallback:",n),new Error(`No se pudieron obtener productos destacados: ${r.message}`)}}}async obtenerEstadisticasVentas(e=null,r=null){try{console.log("Obteniendo estadísticas de ventas...");let n=`${cs}/estadisticas-ventas`;const a=new URLSearchParams;e&&a.append("fechaInicio",e),r&&a.append("fechaFin",r),a.toString()&&(n+=`?${a.toString()}`);const i=await fetch(n,{method:"GET",headers:this.baseHeaders}),s=await this.handleResponse(i);return console.log("Estadísticas obtenidas:",s),s}catch(n){return console.error("Error al obtener estadísticas:",n),{resumen:{totalProductosVendidos:0,totalTransacciones:0,fechaConsulta:"Sin datos"},topVentasCantidad:[],topVentasIngresos:[]}}}transformarProductoDestacadoDesdeAPI(e){var a,i,s,l,c;if(!e)return null;console.log("Transformando producto destacado desde API:",e);let r=null;(a=e.imagenes)!=null&&a.urlimg?r=e.imagenes.urlimg:(i=e.imagen)!=null&&i.urlimg?r=e.imagen.urlimg:e.urlimagen&&(r=e.urlimagen);const n={id:e.idproductogeneral||e.id,idproductogeneral:e.idproductogeneral,nombre:e.nombreproducto||e.nombre,nombreproducto:e.nombreproducto,precio:parseFloat(e.precioproducto||e.precio||0),precioproducto:e.precioproducto,cantidad:parseFloat(e.cantidadproducto||e.cantidad||0),cantidadproducto:e.cantidadproducto,categoria:e.categoria||((s=e.categoriaproducto)==null?void 0:s.nombrecategoria)||"Sin categoría",idcategoria:e.idcategoriaproducto||e.idcategoria,idcategoriaproducto:e.idcategoriaproducto,estado:!!e.estado,descripcion:e.especificaciones||e.descripcion||e.especificacionesreceta||"",urlimagen:r,totalVendido:e.totalVendido||0,vecesVendido:e.vecesVendido||0,esDestacado:e.esDestacado||!0,idimagen:e.idimagen,idreceta:e.idreceta,nombrereceta:e.nombrereceta||((l=e.receta)==null?void 0:l.nombrereceta)||null,especificacionesreceta:e.especificacionesreceta||((c=e.receta)==null?void 0:c.especificaciones)||null};return console.log("Producto destacado transformado:",n),n}async obtenerProductos(){try{console.log("Conectando con:",cs);const e=await fetch(`${cs}`,{method:"GET",headers:this.baseHeaders});console.log("Response status:",e.status),console.log("Response ok:",e.ok);const r=await this.handleResponse(e);console.log("Raw data from API:",r);const n=this.transformarProductosDesdeAPI(r);return console.log("Productos transformados:",n),n}catch(e){throw console.error("Error en obtenerProductos:",e),new Error(`No se pudieron obtener los productos: ${e.message}`)}}async obtenerProductoPorId(e){try{const r=await fetch(`${cs}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Producto no encontrado");const n=await this.handleResponse(r);return this.transformarProductoDesdeAPI(n)}catch(r){throw console.error("Error al obtener producto por ID:",r),r}}async subirImagen(e){try{if(console.log("=== INICIO SUBIDA DE IMAGEN ==="),console.log("Archivo a subir:",{name:e.name,size:`${(e.size/1024).toFixed(2)} KB`,type:e.type,lastModified:new Date(e.lastModified).toISOString()}),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))throw new Error(`Tipo de archivo no permitido: ${e.type}. Solo se aceptan: JPG, JPEG, PNG, GIF, WebP`);const n=10*1024*1024;if(e.size>n)throw new Error(`Archivo demasiado grande: ${(e.size/1024/1024).toFixed(2)}MB. Máximo: 10MB`);if(e.size===0)throw new Error("El archivo está vacío");const a=new FormData;a.append("imagen",e),console.log('FormData preparado con campo "imagen"');const i=`${Ay}/upload`;console.log("URL de subida:",i);const s=new AbortController,l=setTimeout(()=>s.abort(),6e4),c=await fetch(i,{method:"POST",body:a,signal:s.signal});if(clearTimeout(l),console.log("Response recibida:",{status:c.status,statusText:c.statusText,ok:c.ok}),!c.ok){let f=`Error HTTP ${c.status}: ${c.statusText}`,p={};try{const g=await c.json();console.error("Error JSON del servidor:",g),f=g.message||g.error||f,p=g}catch{console.error("No se pudo parsear el error como JSON");try{const x=await c.text();console.error("Error como texto:",x),f=x||f,p.rawError=x}catch{console.error("No se pudo obtener el texto del error")}}const h=new Error(f);throw h.status=c.status,h.details=p,h}const u=await c.json();if(console.log("Imagen subida exitosamente:",u),!u.imagen||!u.imagen.urlimg)throw new Error("Respuesta del servidor no contiene la información de la imagen");return console.log("=== FIN SUBIDA DE IMAGEN EXITOSA ==="),{idimagen:u.imagen.idimagen,urlimg:u.imagen.urlimg}}catch(r){throw console.error("=== ERROR EN SUBIDA DE IMAGEN ==="),console.error("Error completo:",r),r.name==="AbortError"?new Error("La subida de la imagen tardó demasiado tiempo (timeout 60s)"):r.message.includes("Failed to fetch")?new Error("No se pudo conectar con el servidor. Verifica tu conexión a internet."):r}}async crearProducto(e){try{console.log("Datos recibidos en crearProducto:",JSON.stringify(e,null,2));const r=this.transformarProductoParaAPI(e);console.log("Datos transformados para API:",JSON.stringify(r,null,2)),this.validarDatosProducto(r),console.log("Validación pasada correctamente"),console.log("Enviando request a:",cs);const n=await fetch(cs,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)});console.log("Response status:",n.status);const a=await this.handleResponse(n);return console.log("Response data:",JSON.stringify(a,null,2)),this.transformarProductoDesdeAPI(a.producto||a)}catch(r){throw console.error("Error completo en crearProducto:",r),r}}async actualizarProducto(e,r){try{console.log("Actualizando producto ID:",e,"con datos:",r);const n=this.transformarProductoParaAPI(r);console.log("Datos transformados para actualización:",JSON.stringify(n,null,2)),this.validarDatosProducto(n);const a=await fetch(`${cs}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarProductoDesdeAPI(i.producto||i)}catch(n){throw console.error("Error al actualizar producto:",n),n}}async eliminarProducto(e){try{const r=await fetch(`${cs}/${e}`,{method:"DELETE",headers:this.baseHeaders});return{success:!0,message:(await this.handleResponse(r)).message||"Producto eliminado exitosamente"}}catch(r){throw console.error("Error al eliminar producto:",r),r}}async cambiarEstadoProducto(e,r){try{const n=await fetch(`${cs}/${e}/toggle-estado`,{method:"PATCH",headers:this.baseHeaders});if(n.ok){const a=await this.handleResponse(n);return this.transformarProductoDesdeAPI(a.producto||a)}else{const a=await this.obtenerProductoPorId(e),i={...this.transformarProductoParaAPI(a),estado:r},s=await fetch(`${cs}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(i)}),l=await this.handleResponse(s);return this.transformarProductoDesdeAPI(l.producto||l)}}catch(n){throw console.error("Error al cambiar estado:",n),n}}async obtenerImagenes(){try{const e=await fetch(`${Ay}`,{method:"GET",headers:this.baseHeaders});return await this.handleResponse(e)}catch(e){throw console.error("Error al obtener imágenes:",e),e}}async eliminarImagen(e){try{const r=await fetch(`${Ay}/${e}`,{method:"DELETE",headers:this.baseHeaders});return{success:!0,message:(await this.handleResponse(r)).message||"Imagen eliminada exitosamente"}}catch(r){throw console.error("Error al eliminar imagen:",r),r}}validarDatosProducto(e){const r=[];console.log("Validando producto:",e),(!e.nombreproducto||!e.nombreproducto.trim())&&r.push("El nombre del producto es requerido y no puede estar vacío");const n=parseFloat(e.precioproducto);(isNaN(n)||n<0)&&r.push("El precio debe ser un número válido mayor o igual a 0");const a=parseFloat(e.cantidadproducto);if((isNaN(a)||a<0)&&r.push("La cantidad debe ser un número válido mayor o igual a 0"),e.idcategoriaproducto!==null&&e.idcategoriaproducto!==void 0){const i=parseInt(e.idcategoriaproducto);(isNaN(i)||i<=0)&&r.push("El ID de categoría debe ser un número válido mayor a 0")}if(e.idimagen!==null&&e.idimagen!==void 0&&e.idimagen!==""){const i=parseInt(e.idimagen);(isNaN(i)||i<=0)&&r.push("El ID de imagen debe ser un número válido mayor a 0")}if(e.idreceta!==null&&e.idreceta!==void 0&&e.idreceta!==""){const i=parseInt(e.idreceta);(isNaN(i)||i<=0)&&r.push("El ID de receta debe ser un número válido mayor a 0")}if(r.length>0)throw console.error("Errores de validación:",r),new Error("Datos inválidos: "+r.join(", "));console.log("Validación exitosa")}transformarProductoParaAPI(e){var n,a,i,s,l;console.log("Transformando producto:",e);const r={nombreproducto:((n=e.nombreproducto)==null?void 0:n.trim())||((a=e.nombre)==null?void 0:a.trim())||((i=e.NombreReceta)==null?void 0:i.trim())||((s=e.NombreProducto)==null?void 0:s.trim()),precioproducto:String(e.precioproducto||e.precio||e.Costo||0),cantidadproducto:String(e.cantidadproducto||e.cantidad||0),estado:e.estado!==void 0?!!e.estado:!0,idcategoriaproducto:e.idcategoriaproducto||e.IdCategoria||null};return(l=e.especificaciones)!=null&&l.trim()&&(r.especificaciones=e.especificaciones.trim()),e.idimagen&&e.idimagen>0?r.idimagen=parseInt(e.idimagen):e.idimagen===null&&(r.idimagen=null),e.idreceta&&e.idreceta>0?r.idreceta=parseInt(e.idreceta):e.idreceta===null&&(r.idreceta=null),console.log("Producto transformado:",r),r}transformarProductoDesdeAPI(e){var a,i,s,l,c;if(!e)return null;console.log("Transformando producto desde API:",e);let r=null;(a=e.imagenes)!=null&&a.urlimg?r=e.imagenes.urlimg:(i=e.imagen)!=null&&i.urlimg?r=e.imagen.urlimg:e.urlimagen&&(r=e.urlimagen),console.log("URL de imagen detectada:",r);const n={id:e.idproductogeneral||e.id,idproductogeneral:e.idproductogeneral,nombre:e.nombreproducto||e.nombre,nombreproducto:e.nombreproducto,precio:parseFloat(e.precioproducto||e.precio||0),precioproducto:e.precioproducto,cantidad:parseFloat(e.cantidadproducto||e.cantidad||0),cantidadproducto:e.cantidadproducto,categoria:e.categoria||((s=e.categoriaproducto)==null?void 0:s.nombrecategoria)||"Sin categoría",idcategoria:e.idcategoriaproducto||e.idcategoria,idcategoriaproducto:e.idcategoriaproducto,estado:!!e.estado,descripcion:e.especificaciones||e.descripcion||"",idimagen:e.idimagen,urlimagen:r,idreceta:e.idreceta,nombrereceta:e.nombrereceta||((l=e.receta)==null?void 0:l.nombrereceta)||null,especificacionesreceta:e.especificacionesreceta||((c=e.receta)==null?void 0:c.especificaciones)||null,cantidadSanPablo:Math.floor(parseFloat(e.cantidadproducto||e.cantidad||0)/2),cantidadSanBenito:Math.ceil(parseFloat(e.cantidadproducto||e.cantidad||0)/2),fechaCreacion:e.fechacreacion||e.fecha_creacion,fechaActualizacion:e.fechaactualizacion||e.fecha_actualizacion};return console.log("Producto transformado final:",n),n}transformarProductosDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarProductoDesdeAPI(r)):(console.warn("transformarProductosDesdeAPI recibió:",typeof e,e),[])}async crearProductoMinimo(e,r,n,a=0,i=null,s=null){const l={nombreproducto:e.trim(),precioproducto:r,cantidadproducto:a,idcategoriaproducto:parseInt(n),estado:!0,idimagen:i?parseInt(i):null,idreceta:s?parseInt(s):null};return console.log("Creando producto con datos mínimos:",l),await this.crearProducto(l)}calcularInventarioTotal(e){const r=e.cantidad||e.cantidadproducto||0;return parseFloat(r)}formatearPrecio(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e||0)}async testConnection(){try{console.log("Testando conexión a:",cs);const e=await fetch(`${cs}`,{method:"GET",headers:this.baseHeaders});if(console.log("Test response status:",e.status),console.log("Test response ok:",e.ok),e.ok)try{const r=await e.json();console.log("Test data sample:",Array.isArray(r)?`Array con ${r.length} elementos`:typeof r)}catch{console.log("Response no es JSON válido")}return{success:e.ok,status:e.status,message:e.ok?"Conexión exitosa":`Error HTTP ${e.status}`}}catch(e){return console.error("Error en test de conexión:",e),{success:!1,error:e.message,message:"No se pudo conectar con el servidor"}}}async testSubirImagen(e){try{console.log("Iniciando test de subida de imagen...");const r=await this.subirImagen(e);return console.log("Test de imagen exitoso:",r),r}catch(r){throw console.error("Test de imagen falló:",r),r}}async obtenerProductosConRecetas(){try{console.log("Obteniendo productos con recetas desde la API...");const e=await fetch(`${cs}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);console.log("Productos con recetas recibidos:",r);const n=r.map(a=>({...this.transformarProductoDesdeAPI(a),receta:a.receta?{id:a.receta.idreceta||a.idreceta,nombre:a.receta.nombrereceta||a.nombrereceta,especificaciones:a.receta.especificaciones||a.especificacionesreceta,insumos:[]}:null}));return console.log("Productos transformados con recetas:",n),n}catch(e){throw console.error("Error al obtener productos con recetas:",e),new Error(`No se pudieron obtener los productos con recetas: ${e.message}`)}}async obtenerDetalleReceta(e){var r;try{console.log(`Obteniendo detalle de receta ${e}...`);const a=await fetch(`https://deliciasoft-backend.onrender.com/api/receta/${e}`,{method:"GET",headers:this.baseHeaders}),i=await this.handleResponse(a);return console.log("Detalle de receta obtenido:",i),{id:i.idreceta,nombre:i.nombrereceta,especificaciones:i.especificaciones,insumos:((r=i.detallereceta)==null?void 0:r.map(s=>{var l,c;return{id:s.idinsumo,nombre:((l=s.insumos)==null?void 0:l.nombreinsumo)||"Sin nombre",cantidad:parseFloat(s.cantidad||0),unidad:((c=s.unidadmedida)==null?void 0:c.unidadmedida)||"unidad"}}))||[]}}catch(n){return console.error(`Error al obtener detalle de receta ${e}:`,n),null}}async obtenerEstadisticas(){try{const e=await fetch(`${cs}/estadisticas`,{method:"GET",headers:this.baseHeaders});if(e.ok)return await this.handleResponse(e);{const r=await this.obtenerProductos(),n=r.length,a=r.filter(s=>s.estado===!0).length,i=n-a;return{totalProductos:n,productosActivos:a,productosInactivos:i,porcentajeActivos:n>0?(a/n*100).toFixed(2):0}}}catch(e){throw console.error("Error al obtener estadísticas:",e),e}}}const Ms=new MD,FD=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(null),s=Yo(),{agregarProductoSeleccionado:l}=b.useContext(pl);b.useEffect(()=>{c()},[]);const c=async()=>{try{console.log("Cargando productos destacados..."),n(!0),i(null);const x=await Ms.obtenerProductosMasVendidos(6);console.log("Productos destacados obtenidos:",x),e(x)}catch(x){console.error("Error al cargar productos destacados:",x),i("No se pudieron cargar los productos destacados")}finally{n(!1)}},u=x=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(x||0),f=(x,v)=>{v.stopPropagation(),v.preventDefault();const y={...x,cantidad:1};l(y);const E=v.currentTarget,C=E.innerHTML;E.innerHTML='<i class="fas fa-check"></i> ¡Agregado!',E.classList.add("btn-success"),E.disabled=!0,setTimeout(()=>{E.innerHTML=C,E.classList.remove("btn-success"),E.disabled=!1},2500),setTimeout(()=>{s("/pedidos")},1e3)},p=()=>{s("/cartas")},h=x=>{var y,E;if(x.urlimagen&&x.urlimagen.trim())return x.urlimagen;const v=((y=x.nombre)==null?void 0:y.toLowerCase())||((E=x.nombreproducto)==null?void 0:E.toLowerCase())||"";return v.includes("torta")||v.includes("cake")?"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=500&h=350&fit=crop&crop=center&auto=format&q=80":v.includes("cupcake")||v.includes("muffin")?"https://images.unsplash.com/photo-1614707267537-b85aaf00c4b7?w=500&h=350&fit=crop&crop=center&auto=format&q=80":v.includes("galleta")||v.includes("cookie")?"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=500&h=350&fit=crop&crop=center&auto=format&q=80":v.includes("cheesecake")?"https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=500&h=350&fit=crop&crop=center&auto=format&q=80":v.includes("macaron")?"https://images.unsplash.com/photo-1569864358642-9d1684040f43?w=500&h=350&fit=crop&crop=center&auto=format&q=80":"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?w=500&h=350&fit=crop&crop=center&auto=format&q=80"},g=x=>{var y,E;if(x.especificaciones&&x.especificaciones.trim())return x.especificaciones;if(x.descripcion&&x.descripcion.trim())return x.descripcion;if(x.especificacionesreceta&&x.especificacionesreceta.trim())return x.especificacionesreceta;const v=((y=x.nombre)==null?void 0:y.toLowerCase())||((E=x.nombreproducto)==null?void 0:E.toLowerCase())||"";return v.includes("torta")||v.includes("cake")?"Deliciosa torta hecha con los mejores ingredientes y mucho amor":v.includes("cupcake")||v.includes("muffin")?"Cupcakes esponjosos con decoración artesanal personalizada":v.includes("galleta")||v.includes("cookie")?"Galletas artesanales crujientes con glaseado real":v.includes("cheesecake")?"Cremoso cheesecake con base de galleta crujiente":v.includes("macaron")?"Macarons franceses de colores vibrantes y sabores únicos":"Producto artesanal elaborado con amor en Delicias Darsy"};return r?o.createElement("section",{className:"productos-destacados-section py-5"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header text-center mb-5"},o.createElement("h2",{className:"section-title display-4 fw-bold mb-3"},"Nuestros Productos Destacados",o.createElement("div",{className:"underline-gradient mx-auto"})),o.createElement("p",{className:"lead text-muted d-flex align-items-center justify-content-center gap-2"},o.createElement("i",{class:"fa-solid fa-arrows-rotate",style:{animation:"spin 1s linear infinite"}}),"Cargando deliciosos productos...")),o.createElement("div",{className:"row g-4"},[1,2,3,4,5,6].map(x=>o.createElement("div",{key:x,className:"col-lg-4 col-md-6"},o.createElement("div",{className:"card h-100 loading-card shadow-sm"},o.createElement("div",{className:"loading-image-placeholder"}),o.createElement("div",{className:"card-body text-center"},o.createElement("div",{className:"loading-line mb-3"}),o.createElement("div",{className:"loading-line-short mb-3"}),o.createElement("div",{className:"loading-price mb-3"}),o.createElement("div",{className:"loading-line-short"})))))))):a?o.createElement("section",{className:"productos-destacados-section py-5"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header text-center mb-5"},o.createElement("h2",{className:"section-title display-4 fw-bold mb-3"},"Nuestros Productos Destacados",o.createElement("div",{className:"underline-gradient mx-auto"}))),o.createElement("div",{className:"row justify-content-center"},o.createElement("div",{className:"col-lg-6"},o.createElement("div",{className:"error-container text-center"},o.createElement("i",{className:"fas fa-exclamation-triangle text-danger mb-3",style:{fontSize:"4rem"}}),o.createElement("h4",{className:"text-danger mb-3"},"¡Ups! Algo salió mal"),o.createElement("p",{className:"text-muted mb-4"},a),o.createElement("button",{onClick:c,className:"btn btn-ver-todos-modern"},o.createElement("i",{className:"fas fa-sync-alt"}),"Reintentar")))))):o.createElement("section",{className:"productos-destacados-section py-5"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header text-center mb-5"},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"Productos Destacados",o.createElement("span",{style:{display:"block",width:"80px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("p",{className:"lead text-muted d-flex align-items-center justify-content-center gap-2"},o.createElement("i",{className:"fas fa-star text-warning"}),"Deliciosas creaciones hechas con amor y los mejores ingredientes",o.createElement("i",{className:"fas fa-star text-warning"}))),o.createElement("div",{className:"row g-4 mb-5"},t.slice(0,6).map((x,v)=>o.createElement("div",{key:x.id||x.idproductogeneral||v,className:"col-lg-4 col-md-6"},o.createElement("div",{className:"card product-card h-100 shadow-sm"},o.createElement("div",{className:"product-image-container"},o.createElement("img",{src:h(x),className:"product-image",alt:x.nombre||x.nombreproducto,onError:y=>{y.target.src="https://images.unsplash.com/photo-1486427944299-d1955d23e34d?w=500&h=350&fit=crop&crop=center&auto=format&q=80"}}),o.createElement("div",{className:"product-image-overlay"}),o.createElement("div",{className:"producto-destacado-badge"},o.createElement("i",{className:"fas fa-trending-up",style:{fontSize:"14px"}}),"Destacado")),o.createElement("div",{className:"card-body product-card-body"},o.createElement("h5",{className:"product-title fw-bold mb-3"},o.createElement("i",{className:"fas fa-birthday-cake text-warning",style:{fontSize:"18px"}}),x.nombre||x.nombreproducto),o.createElement("p",{className:"product-description text-muted mb-4"},g(x)),o.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.createElement("div",{className:"d-flex align-items-center gap-2"},o.createElement("i",{className:"fas fa-dollar-sign text-success",style:{fontSize:"18px"}}),o.createElement("div",{className:"product-price fw-bold"},u(x.precio||x.precioproducto))),o.createElement("button",{className:"btn btn-pedir-modern",onClick:y=>f(x,y),type:"button"},o.createElement("i",{className:"fas fa-shopping-cart"}),"Pedir"))))))),t.length===0&&!r&&!a&&o.createElement("div",{className:"row justify-content-center"},o.createElement("div",{className:"col-lg-6"},o.createElement("div",{className:"empty-state text-center"},o.createElement("i",{className:"fas fa-box-open text-info mb-3",style:{fontSize:"4rem"}}),o.createElement("h4",{className:"text-info mb-3"},"No hay productos destacados"),o.createElement("p",{className:"text-muted mb-4"},"No hay productos destacados disponibles en este momento, pero tenemos muchas otras delicias esperándote."),o.createElement("div",{className:"d-flex gap-3 justify-content-center flex-wrap"},o.createElement("button",{onClick:c,className:"btn btn-outline-primary d-flex align-items-center gap-2",type:"button"},o.createElement("i",{className:"fas fa-sync-alt"}),"Recargar"),o.createElement("button",{onClick:p,className:"btn btn-ver-todos-modern",type:"button"},o.createElement("i",{className:"fas fa-utensils"}),"Ver Carta Completa")))))))},$D=()=>{const t=[{numero:1,titulo:"Elige tu Postre",descripcion:"Selecciona de nuestra variedad de productos o solicita una creación personalizada",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("path",{d:"M12 2C10.3431 2 9 3.34315 9 5V7H15V5C15 3.34315 13.6569 2 12 2Z",fill:"white"}),o.createElement("path",{d:"M8 9V22C8 22.5523 8.44772 23 9 23H15C15.5523 23 16 22.5523 16 22V9H8Z",fill:"white"}),o.createElement("path",{d:"M6 7H18C18.5523 7 19 7.44772 19 8C19 8.55228 18.5523 9 18 9H6C5.44772 9 5 8.55228 5 8C5 7.44772 5.44772 7 6 7Z",fill:"white"}))},{numero:2,titulo:"Personaliza",descripcion:"Cuéntanos tus preferencias, sabores, colores y cualquier detalle especial",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("circle",{cx:"12",cy:"12",r:"3",fill:"white"}),o.createElement("circle",{cx:"6",cy:"6",r:"2",fill:"white"}),o.createElement("circle",{cx:"18",cy:"6",r:"2",fill:"white"}),o.createElement("circle",{cx:"6",cy:"18",r:"2",fill:"white"}),o.createElement("circle",{cx:"18",cy:"18",r:"2",fill:"white"}),o.createElement("path",{d:"M12 2L12 6M12 18L12 22M2 12L6 12M18 12L22 12",stroke:"white",strokeWidth:"2"}))},{numero:3,titulo:"Confirma tu Pedido",descripcion:"Revisa todos los detalles y confirma tu orden con el método de pago preferido",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("path",{d:"M20 6L9 17L4 12",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}))},{numero:4,titulo:"Recibe tu Dulce",descripcion:"Entregamos tu pedido fresco y listo para disfrutar en la fecha acordada",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("rect",{x:"3",y:"12",width:"18",height:"9",rx:"2",fill:"white"}),o.createElement("path",{d:"M12 12V3",stroke:"white",strokeWidth:"2"}),o.createElement("path",{d:"M8 8L12 12L16 8",stroke:"white",strokeWidth:"2",fill:"none"}))}];return o.createElement("section",{className:"como-pedido"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header"},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"¿Cómo hacer tu pedido?",o.createElement("span",{style:{display:"block",width:"80px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("p",{style:{textAlign:"center",fontSize:"1.1rem",color:"#666",marginTop:"1rem"}},"Proceso simple y fácil en 4 pasos")),o.createElement("div",{className:"pasos-container"},t.map((e,r)=>o.createElement("div",{key:e.numero,className:"paso-card"},o.createElement("div",{className:"paso-numero"},o.createElement("span",{className:"numero"},e.numero)),o.createElement("div",{className:"paso-icono"},e.icono),o.createElement("div",{className:"paso-content"},o.createElement("h3",{className:"paso-titulo"},e.titulo),o.createElement("p",{className:"paso-descripcion"},e.descripcion)),r<t.length-1&&o.createElement("div",{className:"paso-arrow"},o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none"},o.createElement("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"#FFCC00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))),o.createElement("div",{className:"cta-section"},o.createElement("button",{className:"btn-comenzar"},"Comenzar Pedido"))))};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),wN=t=>{const e=BD(t);return e.charAt(0).toUpperCase()+e.slice(1)},AI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),qD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>b.createElement("svg",{ref:c,...UD,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:AI("lucide",a),...!i&&!qD(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,f])=>b.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=(t,e)=>{const r=b.forwardRef(({className:n,...a},i)=>b.createElement(HD,{ref:i,iconNode:e,className:AI(`lucide-${zD(wN(t))}`,`lucide-${t}`,n),...a}));return r.displayName=wN(t),r};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],VD=Ca("arrow-left",WD);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],RS=Ca("arrow-right",GD);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],YD=Ca("calendar",KD);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XD=Ca("check",JD);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oE=Ca("circle-check-big",ZD);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],iE=Ca("clock",QD);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uh=Ca("eye-off",eM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dh=Ca("eye",tM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],nM=Ca("heart",rM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xN=Ca("house",aM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],iM=Ca("key",oM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Jf=Ca("loader",sM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wp=Ca("lock",lM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],uM=Ca("log-in",cM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_y=Ca("log-out",dM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Vp=Ca("mail",fM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sE=Ca("map-pin",mM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hM=Ca("palette",pM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],vM=Ca("pen-line",gM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Mv=Ca("phone",bM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wM=Ca("rotate-ccw",yM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EN=Ca("save",xM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Gp=Ca("shield",EM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],CM=Ca("star",SM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oy=Ca("triangle-alert",NM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Iy=Ca("user",PM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AM=Ca("users",kM);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xf=Ca("x",_M),OM=()=>{const t=[{id:1,titulo:"Ingredientes Premium",descripcion:"Utilizamos solo los mejores ingredientes naturales y frescos para garantizar el mejor sabor.",icono:nM},{id:2,titulo:"Entrega Puntual",descripcion:"Respetamos tus tiempos y entregamos siempre en la fecha acordada.",icono:iE},{id:3,titulo:"Diseños Únicos",descripcion:"Cada postre es una obra de arte personalizada según tus gustos y ocasión.",icono:hM},{id:4,titulo:"Calidad Garantizada",descripcion:"100% de satisfacción garantizada o te devolvemos tu dinero.",icono:Gp},{id:5,titulo:"Experiencia Comprobada",descripcion:"Más de 3 años creando momentos dulces para familias y empresas.",icono:CM},{id:6,titulo:"Atención Personalizada",descripcion:"Te acompañamos desde la idea hasta la entrega de tu pedido perfecto.",icono:AM}];return o.createElement("section",{className:"porque-elegir"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header"},o.createElement("div",{className:"section-header",style:{textAlign:"center",marginBottom:"2rem"}},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"¿Por qué elegir Delicias Darsy?",o.createElement("span",{style:{display:"block",width:"100px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("p",{style:{textAlign:"center",fontSize:"1.1rem",color:"#666",marginTop:"1rem"}},"Lo que nos hace especiales y únicos en cada dulce momento"))),o.createElement("div",{className:"razones-grid"},t.map(e=>{const r=e.icono;return o.createElement("div",{key:e.id,className:"razon-card"},o.createElement("div",{className:"razon-header",style:{textAlign:"center"}},o.createElement("div",{className:"razon-icono",style:{margin:"0 auto 1rem auto"}},o.createElement(r,{className:"icono",size:32,color:"white"})),o.createElement("div",{className:"razon-glow"})),o.createElement("div",{className:"razon-content"},o.createElement("h3",{className:"razon-titulo"},e.titulo),o.createElement("p",{className:"razon-descripcion"},e.descripcion)))}))))};var Pv={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var IM=Pv.exports,SN;function TM(){return SN||(SN=1,function(t,e){(function(r,n){t.exports=n()})(IM,function(){const r=new Map,n={set(Z,P,V){r.has(Z)||r.set(Z,new Map);const oe=r.get(Z);oe.has(P)||oe.size===0?oe.set(P,V):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(oe.keys())[0]}.`)},get:(Z,P)=>r.has(Z)&&r.get(Z).get(P)||null,remove(Z,P){if(!r.has(Z))return;const V=r.get(Z);V.delete(P),V.size===0&&r.delete(Z)}},a="transitionend",i=Z=>(Z&&window.CSS&&window.CSS.escape&&(Z=Z.replace(/#([^\s"#']+)/g,(P,V)=>`#${CSS.escape(V)}`)),Z),s=Z=>{Z.dispatchEvent(new Event(a))},l=Z=>!(!Z||typeof Z!="object")&&(Z.jquery!==void 0&&(Z=Z[0]),Z.nodeType!==void 0),c=Z=>l(Z)?Z.jquery?Z[0]:Z:typeof Z=="string"&&Z.length>0?document.querySelector(i(Z)):null,u=Z=>{if(!l(Z)||Z.getClientRects().length===0)return!1;const P=getComputedStyle(Z).getPropertyValue("visibility")==="visible",V=Z.closest("details:not([open])");if(!V)return P;if(V!==Z){const oe=Z.closest("summary");if(oe&&oe.parentNode!==V||oe===null)return!1}return P},f=Z=>!Z||Z.nodeType!==Node.ELEMENT_NODE||!!Z.classList.contains("disabled")||(Z.disabled!==void 0?Z.disabled:Z.hasAttribute("disabled")&&Z.getAttribute("disabled")!=="false"),p=Z=>{if(!document.documentElement.attachShadow)return null;if(typeof Z.getRootNode=="function"){const P=Z.getRootNode();return P instanceof ShadowRoot?P:null}return Z instanceof ShadowRoot?Z:Z.parentNode?p(Z.parentNode):null},h=()=>{},g=Z=>{Z.offsetHeight},x=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,v=[],y=()=>document.documentElement.dir==="rtl",E=Z=>{var P;P=()=>{const V=x();if(V){const oe=Z.NAME,Ne=V.fn[oe];V.fn[oe]=Z.jQueryInterface,V.fn[oe].Constructor=Z,V.fn[oe].noConflict=()=>(V.fn[oe]=Ne,Z.jQueryInterface)}},document.readyState==="loading"?(v.length||document.addEventListener("DOMContentLoaded",()=>{for(const V of v)V()}),v.push(P)):P()},C=(Z,P=[],V=Z)=>typeof Z=="function"?Z.call(...P):V,k=(Z,P,V=!0)=>{if(!V)return void C(Z);const oe=(be=>{if(!be)return 0;let{transitionDuration:Se,transitionDelay:qe}=window.getComputedStyle(be);const Ve=Number.parseFloat(Se),Ke=Number.parseFloat(qe);return Ve||Ke?(Se=Se.split(",")[0],qe=qe.split(",")[0],1e3*(Number.parseFloat(Se)+Number.parseFloat(qe))):0})(P)+5;let Ne=!1;const Ee=({target:be})=>{be===P&&(Ne=!0,P.removeEventListener(a,Ee),C(Z))};P.addEventListener(a,Ee),setTimeout(()=>{Ne||s(P)},oe)},_=(Z,P,V,oe)=>{const Ne=Z.length;let Ee=Z.indexOf(P);return Ee===-1?!V&&oe?Z[Ne-1]:Z[0]:(Ee+=V?1:-1,oe&&(Ee=(Ee+Ne)%Ne),Z[Math.max(0,Math.min(Ee,Ne-1))])},N=/[^.]*(?=\..*)\.|.*/,O=/\..*/,R=/::\d+$/,D={};let B=1;const z={mouseenter:"mouseover",mouseleave:"mouseout"},I=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function L(Z,P){return P&&`${P}::${B++}`||Z.uidEvent||B++}function M(Z){const P=L(Z);return Z.uidEvent=P,D[P]=D[P]||{},D[P]}function F(Z,P,V=null){return Object.values(Z).find(oe=>oe.callable===P&&oe.delegationSelector===V)}function H(Z,P,V){const oe=typeof P=="string",Ne=oe?V:P||V;let Ee=te(Z);return I.has(Ee)||(Ee=Z),[oe,Ne,Ee]}function J(Z,P,V,oe,Ne){if(typeof P!="string"||!Z)return;let[Ee,be,Se]=H(P,V,oe);P in z&&(be=(Ct=>function(fr){if(!fr.relatedTarget||fr.relatedTarget!==fr.delegateTarget&&!fr.delegateTarget.contains(fr.relatedTarget))return Ct.call(this,fr)})(be));const qe=M(Z),Ve=qe[Se]||(qe[Se]={}),Ke=F(Ve,be,Ee?V:null);if(Ke)return void(Ke.oneOff=Ke.oneOff&&Ne);const ft=L(be,P.replace(N,"")),kt=Ee?function($t,Ct,fr){return function pr(Tr){const Er=$t.querySelectorAll(Ct);for(let{target:Sr}=Tr;Sr&&Sr!==this;Sr=Sr.parentNode)for(const Mr of Er)if(Mr===Sr)return U(Tr,{delegateTarget:Sr}),pr.oneOff&&K.off($t,Tr.type,Ct,fr),fr.apply(Sr,[Tr])}}(Z,V,be):function($t,Ct){return function fr(pr){return U(pr,{delegateTarget:$t}),fr.oneOff&&K.off($t,pr.type,Ct),Ct.apply($t,[pr])}}(Z,be);kt.delegationSelector=Ee?V:null,kt.callable=be,kt.oneOff=Ne,kt.uidEvent=ft,Ve[ft]=kt,Z.addEventListener(Se,kt,Ee)}function ee(Z,P,V,oe,Ne){const Ee=F(P[V],oe,Ne);Ee&&(Z.removeEventListener(V,Ee,!!Ne),delete P[V][Ee.uidEvent])}function re(Z,P,V,oe){const Ne=P[V]||{};for(const[Ee,be]of Object.entries(Ne))Ee.includes(oe)&&ee(Z,P,V,be.callable,be.delegationSelector)}function te(Z){return Z=Z.replace(O,""),z[Z]||Z}const K={on(Z,P,V,oe){J(Z,P,V,oe,!1)},one(Z,P,V,oe){J(Z,P,V,oe,!0)},off(Z,P,V,oe){if(typeof P!="string"||!Z)return;const[Ne,Ee,be]=H(P,V,oe),Se=be!==P,qe=M(Z),Ve=qe[be]||{},Ke=P.startsWith(".");if(Ee===void 0){if(Ke)for(const ft of Object.keys(qe))re(Z,qe,ft,P.slice(1));for(const[ft,kt]of Object.entries(Ve)){const $t=ft.replace(R,"");Se&&!P.includes($t)||ee(Z,qe,be,kt.callable,kt.delegationSelector)}}else{if(!Object.keys(Ve).length)return;ee(Z,qe,be,Ee,Ne?V:null)}},trigger(Z,P,V){if(typeof P!="string"||!Z)return null;const oe=x();let Ne=null,Ee=!0,be=!0,Se=!1;P!==te(P)&&oe&&(Ne=oe.Event(P,V),oe(Z).trigger(Ne),Ee=!Ne.isPropagationStopped(),be=!Ne.isImmediatePropagationStopped(),Se=Ne.isDefaultPrevented());const qe=U(new Event(P,{bubbles:Ee,cancelable:!0}),V);return Se&&qe.preventDefault(),be&&Z.dispatchEvent(qe),qe.defaultPrevented&&Ne&&Ne.preventDefault(),qe}};function U(Z,P={}){for(const[V,oe]of Object.entries(P))try{Z[V]=oe}catch{Object.defineProperty(Z,V,{configurable:!0,get:()=>oe})}return Z}function j(Z){if(Z==="true")return!0;if(Z==="false")return!1;if(Z===Number(Z).toString())return Number(Z);if(Z===""||Z==="null")return null;if(typeof Z!="string")return Z;try{return JSON.parse(decodeURIComponent(Z))}catch{return Z}}function Y(Z){return Z.replace(/[A-Z]/g,P=>`-${P.toLowerCase()}`)}const G={setDataAttribute(Z,P,V){Z.setAttribute(`data-bs-${Y(P)}`,V)},removeDataAttribute(Z,P){Z.removeAttribute(`data-bs-${Y(P)}`)},getDataAttributes(Z){if(!Z)return{};const P={},V=Object.keys(Z.dataset).filter(oe=>oe.startsWith("bs")&&!oe.startsWith("bsConfig"));for(const oe of V){let Ne=oe.replace(/^bs/,"");Ne=Ne.charAt(0).toLowerCase()+Ne.slice(1),P[Ne]=j(Z.dataset[oe])}return P},getDataAttribute:(Z,P)=>j(Z.getAttribute(`data-bs-${Y(P)}`))};class X{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(P){return P=this._mergeConfigObj(P),P=this._configAfterMerge(P),this._typeCheckConfig(P),P}_configAfterMerge(P){return P}_mergeConfigObj(P,V){const oe=l(V)?G.getDataAttribute(V,"config"):{};return{...this.constructor.Default,...typeof oe=="object"?oe:{},...l(V)?G.getDataAttributes(V):{},...typeof P=="object"?P:{}}}_typeCheckConfig(P,V=this.constructor.DefaultType){for(const[Ne,Ee]of Object.entries(V)){const be=P[Ne],Se=l(be)?"element":(oe=be)==null?`${oe}`:Object.prototype.toString.call(oe).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Ee).test(Se))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ne}" provided type "${Se}" but expected type "${Ee}".`)}var oe}}class ie extends X{constructor(P,V){super(),(P=c(P))&&(this._element=P,this._config=this._getConfig(V),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),K.off(this._element,this.constructor.EVENT_KEY);for(const P of Object.getOwnPropertyNames(this))this[P]=null}_queueCallback(P,V,oe=!0){k(P,V,oe)}_getConfig(P){return P=this._mergeConfigObj(P,this._element),P=this._configAfterMerge(P),this._typeCheckConfig(P),P}static getInstance(P){return n.get(c(P),this.DATA_KEY)}static getOrCreateInstance(P,V={}){return this.getInstance(P)||new this(P,typeof V=="object"?V:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(P){return`${P}${this.EVENT_KEY}`}}const ye=Z=>{let P=Z.getAttribute("data-bs-target");if(!P||P==="#"){let V=Z.getAttribute("href");if(!V||!V.includes("#")&&!V.startsWith("."))return null;V.includes("#")&&!V.startsWith("#")&&(V=`#${V.split("#")[1]}`),P=V&&V!=="#"?V.trim():null}return P?P.split(",").map(V=>i(V)).join(","):null},me={find:(Z,P=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(P,Z)),findOne:(Z,P=document.documentElement)=>Element.prototype.querySelector.call(P,Z),children:(Z,P)=>[].concat(...Z.children).filter(V=>V.matches(P)),parents(Z,P){const V=[];let oe=Z.parentNode.closest(P);for(;oe;)V.push(oe),oe=oe.parentNode.closest(P);return V},prev(Z,P){let V=Z.previousElementSibling;for(;V;){if(V.matches(P))return[V];V=V.previousElementSibling}return[]},next(Z,P){let V=Z.nextElementSibling;for(;V;){if(V.matches(P))return[V];V=V.nextElementSibling}return[]},focusableChildren(Z){const P=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(V=>`${V}:not([tabindex^="-"])`).join(",");return this.find(P,Z).filter(V=>!f(V)&&u(V))},getSelectorFromElement(Z){const P=ye(Z);return P&&me.findOne(P)?P:null},getElementFromSelector(Z){const P=ye(Z);return P?me.findOne(P):null},getMultipleElementsFromSelector(Z){const P=ye(Z);return P?me.find(P):[]}},he=(Z,P="hide")=>{const V=`click.dismiss${Z.EVENT_KEY}`,oe=Z.NAME;K.on(document,V,`[data-bs-dismiss="${oe}"]`,function(Ne){if(["A","AREA"].includes(this.tagName)&&Ne.preventDefault(),f(this))return;const Ee=me.getElementFromSelector(this)||this.closest(`.${oe}`);Z.getOrCreateInstance(Ee)[P]()})},je=".bs.alert",Fe=`close${je}`,ue=`closed${je}`;class xe extends ie{static get NAME(){return"alert"}close(){if(K.trigger(this._element,Fe).defaultPrevented)return;this._element.classList.remove("show");const P=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,P)}_destroyElement(){this._element.remove(),K.trigger(this._element,ue),this.dispose()}static jQueryInterface(P){return this.each(function(){const V=xe.getOrCreateInstance(this);if(typeof P=="string"){if(V[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);V[P](this)}})}}he(xe,"close"),E(xe);const Pe='[data-bs-toggle="button"]';class _e extends ie{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(P){return this.each(function(){const V=_e.getOrCreateInstance(this);P==="toggle"&&V[P]()})}}K.on(document,"click.bs.button.data-api",Pe,Z=>{Z.preventDefault();const P=Z.target.closest(Pe);_e.getOrCreateInstance(P).toggle()}),E(_e);const ce=".bs.swipe",Je=`touchstart${ce}`,Te=`touchmove${ce}`,Le=`touchend${ce}`,Ze=`pointerdown${ce}`,Be=`pointerup${ce}`,et={endCallback:null,leftCallback:null,rightCallback:null},Dt={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ut extends X{constructor(P,V){super(),this._element=P,P&&Ut.isSupported()&&(this._config=this._getConfig(V),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return et}static get DefaultType(){return Dt}static get NAME(){return"swipe"}dispose(){K.off(this._element,ce)}_start(P){this._supportPointerEvents?this._eventIsPointerPenTouch(P)&&(this._deltaX=P.clientX):this._deltaX=P.touches[0].clientX}_end(P){this._eventIsPointerPenTouch(P)&&(this._deltaX=P.clientX-this._deltaX),this._handleSwipe(),C(this._config.endCallback)}_move(P){this._deltaX=P.touches&&P.touches.length>1?0:P.touches[0].clientX-this._deltaX}_handleSwipe(){const P=Math.abs(this._deltaX);if(P<=40)return;const V=P/this._deltaX;this._deltaX=0,V&&C(V>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(K.on(this._element,Ze,P=>this._start(P)),K.on(this._element,Be,P=>this._end(P)),this._element.classList.add("pointer-event")):(K.on(this._element,Je,P=>this._start(P)),K.on(this._element,Te,P=>this._move(P)),K.on(this._element,Le,P=>this._end(P)))}_eventIsPointerPenTouch(P){return this._supportPointerEvents&&(P.pointerType==="pen"||P.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Vt=".bs.carousel",Jt=".data-api",dr="ArrowLeft",lr="ArrowRight",ct="next",pt="prev",nt="left",rt="right",Lt=`slide${Vt}`,hr=`slid${Vt}`,tr=`keydown${Vt}`,rr=`mouseenter${Vt}`,Wr=`mouseleave${Vt}`,Nr=`dragstart${Vt}`,bt=`load${Vt}${Jt}`,ke=`click${Vt}${Jt}`,Re="carousel",Qe="active",jt=".active",gt=".carousel-item",At=jt+gt,kr={[dr]:rt,[lr]:nt},xr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Xr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Zr extends ie{constructor(P,V){super(P,V),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=me.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Re&&this.cycle()}static get Default(){return xr}static get DefaultType(){return Xr}static get NAME(){return"carousel"}next(){this._slide(ct)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(pt)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?K.one(this._element,hr,()=>this.cycle()):this.cycle())}to(P){const V=this._getItems();if(P>V.length-1||P<0)return;if(this._isSliding)return void K.one(this._element,hr,()=>this.to(P));const oe=this._getItemIndex(this._getActive());if(oe===P)return;const Ne=P>oe?ct:pt;this._slide(Ne,V[P])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(P){return P.defaultInterval=P.interval,P}_addEventListeners(){this._config.keyboard&&K.on(this._element,tr,P=>this._keydown(P)),this._config.pause==="hover"&&(K.on(this._element,rr,()=>this.pause()),K.on(this._element,Wr,()=>this._maybeEnableCycle())),this._config.touch&&Ut.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const V of me.find(".carousel-item img",this._element))K.on(V,Nr,oe=>oe.preventDefault());const P={leftCallback:()=>this._slide(this._directionToOrder(nt)),rightCallback:()=>this._slide(this._directionToOrder(rt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Ut(this._element,P)}_keydown(P){if(/input|textarea/i.test(P.target.tagName))return;const V=kr[P.key];V&&(P.preventDefault(),this._slide(this._directionToOrder(V)))}_getItemIndex(P){return this._getItems().indexOf(P)}_setActiveIndicatorElement(P){if(!this._indicatorsElement)return;const V=me.findOne(jt,this._indicatorsElement);V.classList.remove(Qe),V.removeAttribute("aria-current");const oe=me.findOne(`[data-bs-slide-to="${P}"]`,this._indicatorsElement);oe&&(oe.classList.add(Qe),oe.setAttribute("aria-current","true"))}_updateInterval(){const P=this._activeElement||this._getActive();if(!P)return;const V=Number.parseInt(P.getAttribute("data-bs-interval"),10);this._config.interval=V||this._config.defaultInterval}_slide(P,V=null){if(this._isSliding)return;const oe=this._getActive(),Ne=P===ct,Ee=V||_(this._getItems(),oe,Ne,this._config.wrap);if(Ee===oe)return;const be=this._getItemIndex(Ee),Se=ft=>K.trigger(this._element,ft,{relatedTarget:Ee,direction:this._orderToDirection(P),from:this._getItemIndex(oe),to:be});if(Se(Lt).defaultPrevented||!oe||!Ee)return;const qe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(be),this._activeElement=Ee;const Ve=Ne?"carousel-item-start":"carousel-item-end",Ke=Ne?"carousel-item-next":"carousel-item-prev";Ee.classList.add(Ke),g(Ee),oe.classList.add(Ve),Ee.classList.add(Ve),this._queueCallback(()=>{Ee.classList.remove(Ve,Ke),Ee.classList.add(Qe),oe.classList.remove(Qe,Ke,Ve),this._isSliding=!1,Se(hr)},oe,this._isAnimated()),qe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return me.findOne(At,this._element)}_getItems(){return me.find(gt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(P){return y()?P===nt?pt:ct:P===nt?ct:pt}_orderToDirection(P){return y()?P===pt?nt:rt:P===pt?rt:nt}static jQueryInterface(P){return this.each(function(){const V=Zr.getOrCreateInstance(this,P);if(typeof P!="number"){if(typeof P=="string"){if(V[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);V[P]()}}else V.to(P)})}}K.on(document,ke,"[data-bs-slide], [data-bs-slide-to]",function(Z){const P=me.getElementFromSelector(this);if(!P||!P.classList.contains(Re))return;Z.preventDefault();const V=Zr.getOrCreateInstance(P),oe=this.getAttribute("data-bs-slide-to");return oe?(V.to(oe),void V._maybeEnableCycle()):G.getDataAttribute(this,"slide")==="next"?(V.next(),void V._maybeEnableCycle()):(V.prev(),void V._maybeEnableCycle())}),K.on(window,bt,()=>{const Z=me.find('[data-bs-ride="carousel"]');for(const P of Z)Zr.getOrCreateInstance(P)}),E(Zr);const Qt=".bs.collapse",ln=`show${Qt}`,Sn=`shown${Qt}`,dt=`hide${Qt}`,Et=`hidden${Qt}`,Tt=`click${Qt}.data-api`,Gt="show",br="collapse",Kr="collapsing",_t=`:scope .${br} .${br}`,at='[data-bs-toggle="collapse"]',vt={parent:null,toggle:!0},Kt={parent:"(null|element)",toggle:"boolean"};class cr extends ie{constructor(P,V){super(P,V),this._isTransitioning=!1,this._triggerArray=[];const oe=me.find(at);for(const Ne of oe){const Ee=me.getSelectorFromElement(Ne),be=me.find(Ee).filter(Se=>Se===this._element);Ee!==null&&be.length&&this._triggerArray.push(Ne)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return vt}static get DefaultType(){return Kt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let P=[];if(this._config.parent&&(P=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ne=>Ne!==this._element).map(Ne=>cr.getOrCreateInstance(Ne,{toggle:!1}))),P.length&&P[0]._isTransitioning||K.trigger(this._element,ln).defaultPrevented)return;for(const Ne of P)Ne.hide();const V=this._getDimension();this._element.classList.remove(br),this._element.classList.add(Kr),this._element.style[V]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const oe=`scroll${V[0].toUpperCase()+V.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Kr),this._element.classList.add(br,Gt),this._element.style[V]="",K.trigger(this._element,Sn)},this._element,!0),this._element.style[V]=`${this._element[oe]}px`}hide(){if(this._isTransitioning||!this._isShown()||K.trigger(this._element,dt).defaultPrevented)return;const P=this._getDimension();this._element.style[P]=`${this._element.getBoundingClientRect()[P]}px`,g(this._element),this._element.classList.add(Kr),this._element.classList.remove(br,Gt);for(const V of this._triggerArray){const oe=me.getElementFromSelector(V);oe&&!this._isShown(oe)&&this._addAriaAndCollapsedClass([V],!1)}this._isTransitioning=!0,this._element.style[P]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Kr),this._element.classList.add(br),K.trigger(this._element,Et)},this._element,!0)}_isShown(P=this._element){return P.classList.contains(Gt)}_configAfterMerge(P){return P.toggle=!!P.toggle,P.parent=c(P.parent),P}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const P=this._getFirstLevelChildren(at);for(const V of P){const oe=me.getElementFromSelector(V);oe&&this._addAriaAndCollapsedClass([V],this._isShown(oe))}}_getFirstLevelChildren(P){const V=me.find(_t,this._config.parent);return me.find(P,this._config.parent).filter(oe=>!V.includes(oe))}_addAriaAndCollapsedClass(P,V){if(P.length)for(const oe of P)oe.classList.toggle("collapsed",!V),oe.setAttribute("aria-expanded",V)}static jQueryInterface(P){const V={};return typeof P=="string"&&/show|hide/.test(P)&&(V.toggle=!1),this.each(function(){const oe=cr.getOrCreateInstance(this,V);if(typeof P=="string"){if(oe[P]===void 0)throw new TypeError(`No method named "${P}"`);oe[P]()}})}}K.on(document,Tt,at,function(Z){(Z.target.tagName==="A"||Z.delegateTarget&&Z.delegateTarget.tagName==="A")&&Z.preventDefault();for(const P of me.getMultipleElementsFromSelector(this))cr.getOrCreateInstance(P,{toggle:!1}).toggle()}),E(cr);var gr="top",Bt="bottom",it="right",xt="left",Ht="auto",ir=[gr,Bt,it,xt],nr="start",Rt="end",yr="clippingParents",Vr="viewport",Ur="popper",Ye="reference",ae=ir.reduce(function(Z,P){return Z.concat([P+"-"+nr,P+"-"+Rt])},[]),we=[].concat(ir,[Ht]).reduce(function(Z,P){return Z.concat([P,P+"-"+nr,P+"-"+Rt])},[]),$e="beforeRead",Xe="read",st="afterRead",Ot="beforeMain",Yt="main",Ar="afterMain",$r="beforeWrite",An="write",In="afterWrite",Pr=[$e,Xe,st,Ot,Yt,Ar,$r,An,In];function Dr(Z){return Z?(Z.nodeName||"").toLowerCase():null}function Rr(Z){if(Z==null)return window;if(Z.toString()!=="[object Window]"){var P=Z.ownerDocument;return P&&P.defaultView||window}return Z}function rn(Z){return Z instanceof Rr(Z).Element||Z instanceof Element}function wn(Z){return Z instanceof Rr(Z).HTMLElement||Z instanceof HTMLElement}function na(Z){return typeof ShadowRoot<"u"&&(Z instanceof Rr(Z).ShadowRoot||Z instanceof ShadowRoot)}const Kn={name:"applyStyles",enabled:!0,phase:"write",fn:function(Z){var P=Z.state;Object.keys(P.elements).forEach(function(V){var oe=P.styles[V]||{},Ne=P.attributes[V]||{},Ee=P.elements[V];wn(Ee)&&Dr(Ee)&&(Object.assign(Ee.style,oe),Object.keys(Ne).forEach(function(be){var Se=Ne[be];Se===!1?Ee.removeAttribute(be):Ee.setAttribute(be,Se===!0?"":Se)}))})},effect:function(Z){var P=Z.state,V={popper:{position:P.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(P.elements.popper.style,V.popper),P.styles=V,P.elements.arrow&&Object.assign(P.elements.arrow.style,V.arrow),function(){Object.keys(P.elements).forEach(function(oe){var Ne=P.elements[oe],Ee=P.attributes[oe]||{},be=Object.keys(P.styles.hasOwnProperty(oe)?P.styles[oe]:V[oe]).reduce(function(Se,qe){return Se[qe]="",Se},{});wn(Ne)&&Dr(Ne)&&(Object.assign(Ne.style,be),Object.keys(Ee).forEach(function(Se){Ne.removeAttribute(Se)}))})}},requires:["computeStyles"]};function Nn(Z){return Z.split("-")[0]}var aa=Math.max,ya=Math.min,cn=Math.round;function Ya(){var Z=navigator.userAgentData;return Z!=null&&Z.brands&&Array.isArray(Z.brands)?Z.brands.map(function(P){return P.brand+"/"+P.version}).join(" "):navigator.userAgent}function Oi(){return!/^((?!chrome|android).)*safari/i.test(Ya())}function Ft(Z,P,V){P===void 0&&(P=!1),V===void 0&&(V=!1);var oe=Z.getBoundingClientRect(),Ne=1,Ee=1;P&&wn(Z)&&(Ne=Z.offsetWidth>0&&cn(oe.width)/Z.offsetWidth||1,Ee=Z.offsetHeight>0&&cn(oe.height)/Z.offsetHeight||1);var be=(rn(Z)?Rr(Z):window).visualViewport,Se=!Oi()&&V,qe=(oe.left+(Se&&be?be.offsetLeft:0))/Ne,Ve=(oe.top+(Se&&be?be.offsetTop:0))/Ee,Ke=oe.width/Ne,ft=oe.height/Ee;return{width:Ke,height:ft,top:Ve,right:qe+Ke,bottom:Ve+ft,left:qe,x:qe,y:Ve}}function Ae(Z){var P=Ft(Z),V=Z.offsetWidth,oe=Z.offsetHeight;return Math.abs(P.width-V)<=1&&(V=P.width),Math.abs(P.height-oe)<=1&&(oe=P.height),{x:Z.offsetLeft,y:Z.offsetTop,width:V,height:oe}}function Pt(Z,P){var V=P.getRootNode&&P.getRootNode();if(Z.contains(P))return!0;if(V&&na(V)){var oe=P;do{if(oe&&Z.isSameNode(oe))return!0;oe=oe.parentNode||oe.host}while(oe)}return!1}function vr(Z){return Rr(Z).getComputedStyle(Z)}function Cn(Z){return["table","td","th"].indexOf(Dr(Z))>=0}function hn(Z){return((rn(Z)?Z.ownerDocument:Z.document)||window.document).documentElement}function _n(Z){return Dr(Z)==="html"?Z:Z.assignedSlot||Z.parentNode||(na(Z)?Z.host:null)||hn(Z)}function vo(Z){return wn(Z)&&vr(Z).position!=="fixed"?Z.offsetParent:null}function za(Z){for(var P=Rr(Z),V=vo(Z);V&&Cn(V)&&vr(V).position==="static";)V=vo(V);return V&&(Dr(V)==="html"||Dr(V)==="body"&&vr(V).position==="static")?P:V||function(oe){var Ne=/firefox/i.test(Ya());if(/Trident/i.test(Ya())&&wn(oe)&&vr(oe).position==="fixed")return null;var Ee=_n(oe);for(na(Ee)&&(Ee=Ee.host);wn(Ee)&&["html","body"].indexOf(Dr(Ee))<0;){var be=vr(Ee);if(be.transform!=="none"||be.perspective!=="none"||be.contain==="paint"||["transform","perspective"].indexOf(be.willChange)!==-1||Ne&&be.willChange==="filter"||Ne&&be.filter&&be.filter!=="none")return Ee;Ee=Ee.parentNode}return null}(Z)||P}function Hr(Z){return["top","bottom"].indexOf(Z)>=0?"x":"y"}function Zo(Z,P,V){return aa(Z,ya(P,V))}function Qo(Z){return Object.assign({},{top:0,right:0,bottom:0,left:0},Z)}function jo(Z,P){return P.reduce(function(V,oe){return V[oe]=Z,V},{})}const vs={name:"arrow",enabled:!0,phase:"main",fn:function(Z){var P,V=Z.state,oe=Z.name,Ne=Z.options,Ee=V.elements.arrow,be=V.modifiersData.popperOffsets,Se=Nn(V.placement),qe=Hr(Se),Ve=[xt,it].indexOf(Se)>=0?"height":"width";if(Ee&&be){var Ke=function(Qr,nn){return Qo(typeof(Qr=typeof Qr=="function"?Qr(Object.assign({},nn.rects,{placement:nn.placement})):Qr)!="number"?Qr:jo(Qr,ir))}(Ne.padding,V),ft=Ae(Ee),kt=qe==="y"?gr:xt,$t=qe==="y"?Bt:it,Ct=V.rects.reference[Ve]+V.rects.reference[qe]-be[qe]-V.rects.popper[Ve],fr=be[qe]-V.rects.reference[qe],pr=za(Ee),Tr=pr?qe==="y"?pr.clientHeight||0:pr.clientWidth||0:0,Er=Ct/2-fr/2,Sr=Ke[kt],Mr=Tr-ft[Ve]-Ke[$t],ar=Tr/2-ft[Ve]/2+Er,Br=Zo(Sr,ar,Mr),mn=qe;V.modifiersData[oe]=((P={})[mn]=Br,P.centerOffset=Br-ar,P)}},effect:function(Z){var P=Z.state,V=Z.options.element,oe=V===void 0?"[data-popper-arrow]":V;oe!=null&&(typeof oe!="string"||(oe=P.elements.popper.querySelector(oe)))&&Pt(P.elements.popper,oe)&&(P.elements.arrow=oe)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bo(Z){return Z.split("-")[1]}var gl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qs(Z){var P,V=Z.popper,oe=Z.popperRect,Ne=Z.placement,Ee=Z.variation,be=Z.offsets,Se=Z.position,qe=Z.gpuAcceleration,Ve=Z.adaptive,Ke=Z.roundOffsets,ft=Z.isFixed,kt=be.x,$t=kt===void 0?0:kt,Ct=be.y,fr=Ct===void 0?0:Ct,pr=typeof Ke=="function"?Ke({x:$t,y:fr}):{x:$t,y:fr};$t=pr.x,fr=pr.y;var Tr=be.hasOwnProperty("x"),Er=be.hasOwnProperty("y"),Sr=xt,Mr=gr,ar=window;if(Ve){var Br=za(V),mn="clientHeight",Qr="clientWidth";Br===Rr(V)&&vr(Br=hn(V)).position!=="static"&&Se==="absolute"&&(mn="scrollHeight",Qr="scrollWidth"),(Ne===gr||(Ne===xt||Ne===it)&&Ee===Rt)&&(Mr=Bt,fr-=(ft&&Br===ar&&ar.visualViewport?ar.visualViewport.height:Br[mn])-oe.height,fr*=qe?1:-1),Ne!==xt&&(Ne!==gr&&Ne!==Bt||Ee!==Rt)||(Sr=it,$t-=(ft&&Br===ar&&ar.visualViewport?ar.visualViewport.width:Br[Qr])-oe.width,$t*=qe?1:-1)}var nn,Jr=Object.assign({position:Se},Ve&&gl),Xn=Ke===!0?function(la,kn){var Un=la.x,Zn=la.y,On=kn.devicePixelRatio||1;return{x:cn(Un*On)/On||0,y:cn(Zn*On)/On||0}}({x:$t,y:fr},Rr(V)):{x:$t,y:fr};return $t=Xn.x,fr=Xn.y,qe?Object.assign({},Jr,((nn={})[Mr]=Er?"0":"",nn[Sr]=Tr?"0":"",nn.transform=(ar.devicePixelRatio||1)<=1?"translate("+$t+"px, "+fr+"px)":"translate3d("+$t+"px, "+fr+"px, 0)",nn)):Object.assign({},Jr,((P={})[Mr]=Er?fr+"px":"",P[Sr]=Tr?$t+"px":"",P.transform="",P))}const Zi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Z){var P=Z.state,V=Z.options,oe=V.gpuAcceleration,Ne=oe===void 0||oe,Ee=V.adaptive,be=Ee===void 0||Ee,Se=V.roundOffsets,qe=Se===void 0||Se,Ve={placement:Nn(P.placement),variation:bo(P.placement),popper:P.elements.popper,popperRect:P.rects.popper,gpuAcceleration:Ne,isFixed:P.options.strategy==="fixed"};P.modifiersData.popperOffsets!=null&&(P.styles.popper=Object.assign({},P.styles.popper,qs(Object.assign({},Ve,{offsets:P.modifiersData.popperOffsets,position:P.options.strategy,adaptive:be,roundOffsets:qe})))),P.modifiersData.arrow!=null&&(P.styles.arrow=Object.assign({},P.styles.arrow,qs(Object.assign({},Ve,{offsets:P.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:qe})))),P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-placement":P.placement})},data:{}};var bs={passive:!0};const ql={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Z){var P=Z.state,V=Z.instance,oe=Z.options,Ne=oe.scroll,Ee=Ne===void 0||Ne,be=oe.resize,Se=be===void 0||be,qe=Rr(P.elements.popper),Ve=[].concat(P.scrollParents.reference,P.scrollParents.popper);return Ee&&Ve.forEach(function(Ke){Ke.addEventListener("scroll",V.update,bs)}),Se&&qe.addEventListener("resize",V.update,bs),function(){Ee&&Ve.forEach(function(Ke){Ke.removeEventListener("scroll",V.update,bs)}),Se&&qe.removeEventListener("resize",V.update,bs)}},data:{}};var Qi={left:"right",right:"left",bottom:"top",top:"bottom"};function yo(Z){return Z.replace(/left|right|bottom|top/g,function(P){return Qi[P]})}var wo={start:"end",end:"start"};function ys(Z){return Z.replace(/start|end/g,function(P){return wo[P]})}function es(Z){var P=Rr(Z);return{scrollLeft:P.pageXOffset,scrollTop:P.pageYOffset}}function ts(Z){return Ft(hn(Z)).left+es(Z).scrollLeft}function Ii(Z){var P=vr(Z),V=P.overflow,oe=P.overflowX,Ne=P.overflowY;return/auto|scroll|overlay|hidden/.test(V+Ne+oe)}function ws(Z){return["html","body","#document"].indexOf(Dr(Z))>=0?Z.ownerDocument.body:wn(Z)&&Ii(Z)?Z:ws(_n(Z))}function fi(Z,P){var V;P===void 0&&(P=[]);var oe=ws(Z),Ne=oe===((V=Z.ownerDocument)==null?void 0:V.body),Ee=Rr(oe),be=Ne?[Ee].concat(Ee.visualViewport||[],Ii(oe)?oe:[]):oe,Se=P.concat(be);return Ne?Se:Se.concat(fi(_n(be)))}function Do(Z){return Object.assign({},Z,{left:Z.x,top:Z.y,right:Z.x+Z.width,bottom:Z.y+Z.height})}function Mo(Z,P,V){return P===Vr?Do(function(oe,Ne){var Ee=Rr(oe),be=hn(oe),Se=Ee.visualViewport,qe=be.clientWidth,Ve=be.clientHeight,Ke=0,ft=0;if(Se){qe=Se.width,Ve=Se.height;var kt=Oi();(kt||!kt&&Ne==="fixed")&&(Ke=Se.offsetLeft,ft=Se.offsetTop)}return{width:qe,height:Ve,x:Ke+ts(oe),y:ft}}(Z,V)):rn(P)?function(oe,Ne){var Ee=Ft(oe,!1,Ne==="fixed");return Ee.top=Ee.top+oe.clientTop,Ee.left=Ee.left+oe.clientLeft,Ee.bottom=Ee.top+oe.clientHeight,Ee.right=Ee.left+oe.clientWidth,Ee.width=oe.clientWidth,Ee.height=oe.clientHeight,Ee.x=Ee.left,Ee.y=Ee.top,Ee}(P,V):Do(function(oe){var Ne,Ee=hn(oe),be=es(oe),Se=(Ne=oe.ownerDocument)==null?void 0:Ne.body,qe=aa(Ee.scrollWidth,Ee.clientWidth,Se?Se.scrollWidth:0,Se?Se.clientWidth:0),Ve=aa(Ee.scrollHeight,Ee.clientHeight,Se?Se.scrollHeight:0,Se?Se.clientHeight:0),Ke=-be.scrollLeft+ts(oe),ft=-be.scrollTop;return vr(Se||Ee).direction==="rtl"&&(Ke+=aa(Ee.clientWidth,Se?Se.clientWidth:0)-qe),{width:qe,height:Ve,x:Ke,y:ft}}(hn(Z)))}function Fo(Z){var P,V=Z.reference,oe=Z.element,Ne=Z.placement,Ee=Ne?Nn(Ne):null,be=Ne?bo(Ne):null,Se=V.x+V.width/2-oe.width/2,qe=V.y+V.height/2-oe.height/2;switch(Ee){case gr:P={x:Se,y:V.y-oe.height};break;case Bt:P={x:Se,y:V.y+V.height};break;case it:P={x:V.x+V.width,y:qe};break;case xt:P={x:V.x-oe.width,y:qe};break;default:P={x:V.x,y:V.y}}var Ve=Ee?Hr(Ee):null;if(Ve!=null){var Ke=Ve==="y"?"height":"width";switch(be){case nr:P[Ve]=P[Ve]-(V[Ke]/2-oe[Ke]/2);break;case Rt:P[Ve]=P[Ve]+(V[Ke]/2-oe[Ke]/2)}}return P}function Va(Z,P){P===void 0&&(P={});var V=P,oe=V.placement,Ne=oe===void 0?Z.placement:oe,Ee=V.strategy,be=Ee===void 0?Z.strategy:Ee,Se=V.boundary,qe=Se===void 0?yr:Se,Ve=V.rootBoundary,Ke=Ve===void 0?Vr:Ve,ft=V.elementContext,kt=ft===void 0?Ur:ft,$t=V.altBoundary,Ct=$t!==void 0&&$t,fr=V.padding,pr=fr===void 0?0:fr,Tr=Qo(typeof pr!="number"?pr:jo(pr,ir)),Er=kt===Ur?Ye:Ur,Sr=Z.rects.popper,Mr=Z.elements[Ct?Er:kt],ar=function(kn,Un,Zn,On){var Ba=Un==="clippingParents"?function(Rn){var Pa=fi(_n(Rn)),bn=["absolute","fixed"].indexOf(vr(Rn).position)>=0&&wn(Rn)?za(Rn):Rn;return rn(bn)?Pa.filter(function(lo){return rn(lo)&&Pt(lo,bn)&&Dr(lo)!=="body"}):[]}(kn):[].concat(Un),Mn=[].concat(Ba,[Zn]),ha=Mn[0],Hn=Mn.reduce(function(Rn,Pa){var bn=Mo(kn,Pa,On);return Rn.top=aa(bn.top,Rn.top),Rn.right=ya(bn.right,Rn.right),Rn.bottom=ya(bn.bottom,Rn.bottom),Rn.left=aa(bn.left,Rn.left),Rn},Mo(kn,ha,On));return Hn.width=Hn.right-Hn.left,Hn.height=Hn.bottom-Hn.top,Hn.x=Hn.left,Hn.y=Hn.top,Hn}(rn(Mr)?Mr:Mr.contextElement||hn(Z.elements.popper),qe,Ke,be),Br=Ft(Z.elements.reference),mn=Fo({reference:Br,element:Sr,placement:Ne}),Qr=Do(Object.assign({},Sr,mn)),nn=kt===Ur?Qr:Br,Jr={top:ar.top-nn.top+Tr.top,bottom:nn.bottom-ar.bottom+Tr.bottom,left:ar.left-nn.left+Tr.left,right:nn.right-ar.right+Tr.right},Xn=Z.modifiersData.offset;if(kt===Ur&&Xn){var la=Xn[Ne];Object.keys(Jr).forEach(function(kn){var Un=[it,Bt].indexOf(kn)>=0?1:-1,Zn=[gr,Bt].indexOf(kn)>=0?"y":"x";Jr[kn]+=la[Zn]*Un})}return Jr}function Ic(Z,P){P===void 0&&(P={});var V=P,oe=V.placement,Ne=V.boundary,Ee=V.rootBoundary,be=V.padding,Se=V.flipVariations,qe=V.allowedAutoPlacements,Ve=qe===void 0?we:qe,Ke=bo(oe),ft=Ke?Se?ae:ae.filter(function(Ct){return bo(Ct)===Ke}):ir,kt=ft.filter(function(Ct){return Ve.indexOf(Ct)>=0});kt.length===0&&(kt=ft);var $t=kt.reduce(function(Ct,fr){return Ct[fr]=Va(Z,{placement:fr,boundary:Ne,rootBoundary:Ee,padding:be})[Nn(fr)],Ct},{});return Object.keys($t).sort(function(Ct,fr){return $t[Ct]-$t[fr]})}const $o={name:"flip",enabled:!0,phase:"main",fn:function(Z){var P=Z.state,V=Z.options,oe=Z.name;if(!P.modifiersData[oe]._skip){for(var Ne=V.mainAxis,Ee=Ne===void 0||Ne,be=V.altAxis,Se=be===void 0||be,qe=V.fallbackPlacements,Ve=V.padding,Ke=V.boundary,ft=V.rootBoundary,kt=V.altBoundary,$t=V.flipVariations,Ct=$t===void 0||$t,fr=V.allowedAutoPlacements,pr=P.options.placement,Tr=Nn(pr),Er=qe||(Tr!==pr&&Ct?function(Rn){if(Nn(Rn)===Ht)return[];var Pa=yo(Rn);return[ys(Rn),Pa,ys(Pa)]}(pr):[yo(pr)]),Sr=[pr].concat(Er).reduce(function(Rn,Pa){return Rn.concat(Nn(Pa)===Ht?Ic(P,{placement:Pa,boundary:Ke,rootBoundary:ft,padding:Ve,flipVariations:Ct,allowedAutoPlacements:fr}):Pa)},[]),Mr=P.rects.reference,ar=P.rects.popper,Br=new Map,mn=!0,Qr=Sr[0],nn=0;nn<Sr.length;nn++){var Jr=Sr[nn],Xn=Nn(Jr),la=bo(Jr)===nr,kn=[gr,Bt].indexOf(Xn)>=0,Un=kn?"width":"height",Zn=Va(P,{placement:Jr,boundary:Ke,rootBoundary:ft,altBoundary:kt,padding:Ve}),On=kn?la?it:xt:la?Bt:gr;Mr[Un]>ar[Un]&&(On=yo(On));var Ba=yo(On),Mn=[];if(Ee&&Mn.push(Zn[Xn]<=0),Se&&Mn.push(Zn[On]<=0,Zn[Ba]<=0),Mn.every(function(Rn){return Rn})){Qr=Jr,mn=!1;break}Br.set(Jr,Mn)}if(mn)for(var ha=function(Rn){var Pa=Sr.find(function(bn){var lo=Br.get(bn);if(lo)return lo.slice(0,Rn).every(function(rc){return rc})});if(Pa)return Qr=Pa,"break"},Hn=Ct?3:1;Hn>0&&ha(Hn)!=="break";Hn--);P.placement!==Qr&&(P.modifiersData[oe]._skip=!0,P.placement=Qr,P.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ro(Z,P,V){return V===void 0&&(V={x:0,y:0}),{top:Z.top-P.height-V.y,right:Z.right-P.width+V.x,bottom:Z.bottom-P.height+V.y,left:Z.left-P.width-V.x}}function Us(Z){return[gr,it,Bt,xt].some(function(P){return Z[P]>=0})}const Oa={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Z){var P=Z.state,V=Z.name,oe=P.rects.reference,Ne=P.rects.popper,Ee=P.modifiersData.preventOverflow,be=Va(P,{elementContext:"reference"}),Se=Va(P,{altBoundary:!0}),qe=ro(be,oe),Ve=ro(Se,Ne,Ee),Ke=Us(qe),ft=Us(Ve);P.modifiersData[V]={referenceClippingOffsets:qe,popperEscapeOffsets:Ve,isReferenceHidden:Ke,hasPopperEscaped:ft},P.attributes.popper=Object.assign({},P.attributes.popper,{"data-popper-reference-hidden":Ke,"data-popper-escaped":ft})}},no={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Z){var P=Z.state,V=Z.options,oe=Z.name,Ne=V.offset,Ee=Ne===void 0?[0,0]:Ne,be=we.reduce(function(Ke,ft){return Ke[ft]=function(kt,$t,Ct){var fr=Nn(kt),pr=[xt,gr].indexOf(fr)>=0?-1:1,Tr=typeof Ct=="function"?Ct(Object.assign({},$t,{placement:kt})):Ct,Er=Tr[0],Sr=Tr[1];return Er=Er||0,Sr=(Sr||0)*pr,[xt,it].indexOf(fr)>=0?{x:Sr,y:Er}:{x:Er,y:Sr}}(ft,P.rects,Ee),Ke},{}),Se=be[P.placement],qe=Se.x,Ve=Se.y;P.modifiersData.popperOffsets!=null&&(P.modifiersData.popperOffsets.x+=qe,P.modifiersData.popperOffsets.y+=Ve),P.modifiersData[oe]=be}},Ja={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Z){var P=Z.state,V=Z.name;P.modifiersData[V]=Fo({reference:P.rects.reference,element:P.rects.popper,placement:P.placement})},data:{}},Ti={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Z){var P=Z.state,V=Z.options,oe=Z.name,Ne=V.mainAxis,Ee=Ne===void 0||Ne,be=V.altAxis,Se=be!==void 0&&be,qe=V.boundary,Ve=V.rootBoundary,Ke=V.altBoundary,ft=V.padding,kt=V.tether,$t=kt===void 0||kt,Ct=V.tetherOffset,fr=Ct===void 0?0:Ct,pr=Va(P,{boundary:qe,rootBoundary:Ve,padding:ft,altBoundary:Ke}),Tr=Nn(P.placement),Er=bo(P.placement),Sr=!Er,Mr=Hr(Tr),ar=Mr==="x"?"y":"x",Br=P.modifiersData.popperOffsets,mn=P.rects.reference,Qr=P.rects.popper,nn=typeof fr=="function"?fr(Object.assign({},P.rects,{placement:P.placement})):fr,Jr=typeof nn=="number"?{mainAxis:nn,altAxis:nn}:Object.assign({mainAxis:0,altAxis:0},nn),Xn=P.modifiersData.offset?P.modifiersData.offset[P.placement]:null,la={x:0,y:0};if(Br){if(Ee){var kn,Un=Mr==="y"?gr:xt,Zn=Mr==="y"?Bt:it,On=Mr==="y"?"height":"width",Ba=Br[Mr],Mn=Ba+pr[Un],ha=Ba-pr[Zn],Hn=$t?-Qr[On]/2:0,Rn=Er===nr?mn[On]:Qr[On],Pa=Er===nr?-Qr[On]:-mn[On],bn=P.elements.arrow,lo=$t&&bn?Ae(bn):{width:0,height:0},rc=P.modifiersData["arrow#persistent"]?P.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hu=rc[Un],wi=rc[Zn],Wo=Zo(0,mn[On],lo[On]),nc=Sr?mn[On]/2-Hn-Wo-Hu-Jr.mainAxis:Rn-Wo-Hu-Jr.mainAxis,Fi=Sr?-mn[On]/2+Hn+Wo+wi+Jr.mainAxis:Pa+Wo+wi+Jr.mainAxis,as=P.elements.arrow&&za(P.elements.arrow),ac=as?Mr==="y"?as.clientTop||0:as.clientLeft||0:0,oc=(kn=Xn==null?void 0:Xn[Mr])!=null?kn:0,xi=Ba+Fi-oc,ic=Zo($t?ya(Mn,Ba+nc-oc-ac):Mn,Ba,$t?aa(ha,xi):ha);Br[Mr]=ic,la[Mr]=ic-Ba}if(Se){var nl,al=Mr==="x"?gr:xt,qc=Mr==="x"?Bt:it,ko=Br[ar],cu=ar==="y"?"height":"width",Wu=ko+pr[al],ca=ko-pr[qc],Ei=[gr,xt].indexOf(Tr)!==-1,Vu=(nl=Xn==null?void 0:Xn[ar])!=null?nl:0,Gu=Ei?Wu:ko-mn[cu]-Qr[cu]-Vu+Jr.altAxis,uu=Ei?ko+mn[cu]+Qr[cu]-Vu-Jr.altAxis:ca,du=$t&&Ei?function(_s,xa,La){var ja=Zo(_s,xa,La);return ja>La?La:ja}(Gu,ko,uu):Zo($t?Gu:Wu,ko,$t?uu:ca);Br[ar]=du,la[ar]=du-ko}P.modifiersData[oe]=la}},requiresIfExists:["offset"]};function Ul(Z,P,V){V===void 0&&(V=!1);var oe,Ne,Ee=wn(P),be=wn(P)&&function(ft){var kt=ft.getBoundingClientRect(),$t=cn(kt.width)/ft.offsetWidth||1,Ct=cn(kt.height)/ft.offsetHeight||1;return $t!==1||Ct!==1}(P),Se=hn(P),qe=Ft(Z,be,V),Ve={scrollLeft:0,scrollTop:0},Ke={x:0,y:0};return(Ee||!Ee&&!V)&&((Dr(P)!=="body"||Ii(Se))&&(Ve=(oe=P)!==Rr(oe)&&wn(oe)?{scrollLeft:(Ne=oe).scrollLeft,scrollTop:Ne.scrollTop}:es(oe)),wn(P)?((Ke=Ft(P,!0)).x+=P.clientLeft,Ke.y+=P.clientTop):Se&&(Ke.x=ts(Se))),{x:qe.left+Ve.scrollLeft-Ke.x,y:qe.top+Ve.scrollTop-Ke.y,width:qe.width,height:qe.height}}function Hs(Z){var P=new Map,V=new Set,oe=[];function Ne(Ee){V.add(Ee.name),[].concat(Ee.requires||[],Ee.requiresIfExists||[]).forEach(function(be){if(!V.has(be)){var Se=P.get(be);Se&&Ne(Se)}}),oe.push(Ee)}return Z.forEach(function(Ee){P.set(Ee.name,Ee)}),Z.forEach(function(Ee){V.has(Ee.name)||Ne(Ee)}),oe}var Ws={placement:"bottom",modifiers:[],strategy:"absolute"};function mi(){for(var Z=arguments.length,P=new Array(Z),V=0;V<Z;V++)P[V]=arguments[V];return!P.some(function(oe){return!(oe&&typeof oe.getBoundingClientRect=="function")})}function pi(Z){Z===void 0&&(Z={});var P=Z,V=P.defaultModifiers,oe=V===void 0?[]:V,Ne=P.defaultOptions,Ee=Ne===void 0?Ws:Ne;return function(be,Se,qe){qe===void 0&&(qe=Ee);var Ve,Ke,ft={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ws,Ee),modifiersData:{},elements:{reference:be,popper:Se},attributes:{},styles:{}},kt=[],$t=!1,Ct={state:ft,setOptions:function(pr){var Tr=typeof pr=="function"?pr(ft.options):pr;fr(),ft.options=Object.assign({},Ee,ft.options,Tr),ft.scrollParents={reference:rn(be)?fi(be):be.contextElement?fi(be.contextElement):[],popper:fi(Se)};var Er,Sr,Mr=function(ar){var Br=Hs(ar);return Pr.reduce(function(mn,Qr){return mn.concat(Br.filter(function(nn){return nn.phase===Qr}))},[])}((Er=[].concat(oe,ft.options.modifiers),Sr=Er.reduce(function(ar,Br){var mn=ar[Br.name];return ar[Br.name]=mn?Object.assign({},mn,Br,{options:Object.assign({},mn.options,Br.options),data:Object.assign({},mn.data,Br.data)}):Br,ar},{}),Object.keys(Sr).map(function(ar){return Sr[ar]})));return ft.orderedModifiers=Mr.filter(function(ar){return ar.enabled}),ft.orderedModifiers.forEach(function(ar){var Br=ar.name,mn=ar.options,Qr=mn===void 0?{}:mn,nn=ar.effect;if(typeof nn=="function"){var Jr=nn({state:ft,name:Br,instance:Ct,options:Qr});kt.push(Jr||function(){})}}),Ct.update()},forceUpdate:function(){if(!$t){var pr=ft.elements,Tr=pr.reference,Er=pr.popper;if(mi(Tr,Er)){ft.rects={reference:Ul(Tr,za(Er),ft.options.strategy==="fixed"),popper:Ae(Er)},ft.reset=!1,ft.placement=ft.options.placement,ft.orderedModifiers.forEach(function(nn){return ft.modifiersData[nn.name]=Object.assign({},nn.data)});for(var Sr=0;Sr<ft.orderedModifiers.length;Sr++)if(ft.reset!==!0){var Mr=ft.orderedModifiers[Sr],ar=Mr.fn,Br=Mr.options,mn=Br===void 0?{}:Br,Qr=Mr.name;typeof ar=="function"&&(ft=ar({state:ft,options:mn,name:Qr,instance:Ct})||ft)}else ft.reset=!1,Sr=-1}}},update:(Ve=function(){return new Promise(function(pr){Ct.forceUpdate(),pr(ft)})},function(){return Ke||(Ke=new Promise(function(pr){Promise.resolve().then(function(){Ke=void 0,pr(Ve())})})),Ke}),destroy:function(){fr(),$t=!0}};if(!mi(be,Se))return Ct;function fr(){kt.forEach(function(pr){return pr()}),kt=[]}return Ct.setOptions(qe).then(function(pr){!$t&&qe.onFirstUpdate&&qe.onFirstUpdate(pr)}),Ct}}var vl=pi(),Tc=pi({defaultModifiers:[ql,Ja,Zi,Kn]}),bl=pi({defaultModifiers:[ql,Ja,Zi,Kn,no,$o,Ti,vs,Oa]});const Vs=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ar,afterRead:st,afterWrite:In,applyStyles:Kn,arrow:vs,auto:Ht,basePlacements:ir,beforeMain:Ot,beforeRead:$e,beforeWrite:$r,bottom:Bt,clippingParents:yr,computeStyles:Zi,createPopper:bl,createPopperBase:vl,createPopperLite:Tc,detectOverflow:Va,end:Rt,eventListeners:ql,flip:$o,hide:Oa,left:xt,main:Yt,modifierPhases:Pr,offset:no,placements:we,popper:Ur,popperGenerator:pi,popperOffsets:Ja,preventOverflow:Ti,read:Xe,reference:Ye,right:it,start:nr,top:gr,variationPlacements:ae,viewport:Vr,write:An},Symbol.toStringTag,{value:"Module"})),Ri="dropdown",hi=".bs.dropdown",Li=".data-api",Gs="ArrowUp",$="ArrowDown",le=`hide${hi}`,Ie=`hidden${hi}`,ze=`show${hi}`,tt=`shown${hi}`,ht=`click${hi}${Li}`,Mt=`keydown${hi}${Li}`,mr=`keyup${hi}${Li}`,_r="show",Yr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',an=`${Yr}.${_r}`,xn=".dropdown-menu",pa=y()?"top-end":"top-start",wa=y()?"top-start":"top-end",St=y()?"bottom-end":"bottom-start",Oe=y()?"bottom-start":"bottom-end",We=y()?"left-start":"right-start",ut=y()?"right-start":"left-start",yt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},It={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wt extends ie{constructor(P,V){super(P,V),this._popper=null,this._parent=this._element.parentNode,this._menu=me.next(this._element,xn)[0]||me.prev(this._element,xn)[0]||me.findOne(xn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return yt}static get DefaultType(){return It}static get NAME(){return Ri}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const P={relatedTarget:this._element};if(!K.trigger(this._element,ze,P).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const V of[].concat(...document.body.children))K.on(V,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(_r),this._element.classList.add(_r),K.trigger(this._element,tt,P)}}hide(){if(f(this._element)||!this._isShown())return;const P={relatedTarget:this._element};this._completeHide(P)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(P){if(!K.trigger(this._element,le,P).defaultPrevented){if("ontouchstart"in document.documentElement)for(const V of[].concat(...document.body.children))K.off(V,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(_r),this._element.classList.remove(_r),this._element.setAttribute("aria-expanded","false"),G.removeDataAttribute(this._menu,"popper"),K.trigger(this._element,Ie,P),this._element.focus()}}_getConfig(P){if(typeof(P=super._getConfig(P)).reference=="object"&&!l(P.reference)&&typeof P.reference.getBoundingClientRect!="function")throw new TypeError(`${Ri.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return P}_createPopper(){if(Vs===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let P=this._element;this._config.reference==="parent"?P=this._parent:l(this._config.reference)?P=c(this._config.reference):typeof this._config.reference=="object"&&(P=this._config.reference);const V=this._getPopperConfig();this._popper=bl(P,this._menu,V)}_isShown(){return this._menu.classList.contains(_r)}_getPlacement(){const P=this._parent;if(P.classList.contains("dropend"))return We;if(P.classList.contains("dropstart"))return ut;if(P.classList.contains("dropup-center"))return"top";if(P.classList.contains("dropdown-center"))return"bottom";const V=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return P.classList.contains("dropup")?V?wa:pa:V?Oe:St}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:P}=this._config;return typeof P=="string"?P.split(",").map(V=>Number.parseInt(V,10)):typeof P=="function"?V=>P(V,this._element):P}_getPopperConfig(){const P={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(G.setDataAttribute(this._menu,"popper","static"),P.modifiers=[{name:"applyStyles",enabled:!1}]),{...P,...C(this._config.popperConfig,[void 0,P])}}_selectMenuItem({key:P,target:V}){const oe=me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ne=>u(Ne));oe.length&&_(oe,V,P===$,!oe.includes(V)).focus()}static jQueryInterface(P){return this.each(function(){const V=wt.getOrCreateInstance(this,P);if(typeof P=="string"){if(V[P]===void 0)throw new TypeError(`No method named "${P}"`);V[P]()}})}static clearMenus(P){if(P.button===2||P.type==="keyup"&&P.key!=="Tab")return;const V=me.find(an);for(const oe of V){const Ne=wt.getInstance(oe);if(!Ne||Ne._config.autoClose===!1)continue;const Ee=P.composedPath(),be=Ee.includes(Ne._menu);if(Ee.includes(Ne._element)||Ne._config.autoClose==="inside"&&!be||Ne._config.autoClose==="outside"&&be||Ne._menu.contains(P.target)&&(P.type==="keyup"&&P.key==="Tab"||/input|select|option|textarea|form/i.test(P.target.tagName)))continue;const Se={relatedTarget:Ne._element};P.type==="click"&&(Se.clickEvent=P),Ne._completeHide(Se)}}static dataApiKeydownHandler(P){const V=/input|textarea/i.test(P.target.tagName),oe=P.key==="Escape",Ne=[Gs,$].includes(P.key);if(!Ne&&!oe||V&&!oe)return;P.preventDefault();const Ee=this.matches(Yr)?this:me.prev(this,Yr)[0]||me.next(this,Yr)[0]||me.findOne(Yr,P.delegateTarget.parentNode),be=wt.getOrCreateInstance(Ee);if(Ne)return P.stopPropagation(),be.show(),void be._selectMenuItem(P);be._isShown()&&(P.stopPropagation(),be.hide(),Ee.focus())}}K.on(document,Mt,Yr,wt.dataApiKeydownHandler),K.on(document,Mt,xn,wt.dataApiKeydownHandler),K.on(document,ht,wt.clearMenus),K.on(document,mr,wt.clearMenus),K.on(document,ht,Yr,function(Z){Z.preventDefault(),wt.getOrCreateInstance(this).toggle()}),E(wt);const zt="backdrop",er="show",wr=`mousedown.bs.${zt}`,zr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},gn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Pn extends X{constructor(P){super(),this._config=this._getConfig(P),this._isAppended=!1,this._element=null}static get Default(){return zr}static get DefaultType(){return gn}static get NAME(){return zt}show(P){if(!this._config.isVisible)return void C(P);this._append();const V=this._getElement();this._config.isAnimated&&g(V),V.classList.add(er),this._emulateAnimation(()=>{C(P)})}hide(P){this._config.isVisible?(this._getElement().classList.remove(er),this._emulateAnimation(()=>{this.dispose(),C(P)})):C(P)}dispose(){this._isAppended&&(K.off(this._element,wr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const P=document.createElement("div");P.className=this._config.className,this._config.isAnimated&&P.classList.add("fade"),this._element=P}return this._element}_configAfterMerge(P){return P.rootElement=c(P.rootElement),P}_append(){if(this._isAppended)return;const P=this._getElement();this._config.rootElement.append(P),K.on(P,wr,()=>{C(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(P){k(P,this._getElement(),this._config.isAnimated)}}const Gr=".bs.focustrap",Ia=`focusin${Gr}`,xo=`keydown.tab${Gr}`,Eo="backward",Ta={autofocus:!0,trapElement:null},Yn={autofocus:"boolean",trapElement:"element"};class ei extends X{constructor(P){super(),this._config=this._getConfig(P),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ta}static get DefaultType(){return Yn}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),K.off(document,Gr),K.on(document,Ia,P=>this._handleFocusin(P)),K.on(document,xo,P=>this._handleKeydown(P)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,K.off(document,Gr))}_handleFocusin(P){const{trapElement:V}=this._config;if(P.target===document||P.target===V||V.contains(P.target))return;const oe=me.focusableChildren(V);oe.length===0?V.focus():this._lastTabNavDirection===Eo?oe[oe.length-1].focus():oe[0].focus()}_handleKeydown(P){P.key==="Tab"&&(this._lastTabNavDirection=P.shiftKey?Eo:"forward")}}const ji=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ks=".sticky-top",Na="padding-right",Hl="margin-right";class Wl{constructor(){this._element=document.body}getWidth(){const P=document.documentElement.clientWidth;return Math.abs(window.innerWidth-P)}hide(){const P=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Na,V=>V+P),this._setElementAttributes(ji,Na,V=>V+P),this._setElementAttributes(Ks,Hl,V=>V-P)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Na),this._resetElementAttributes(ji,Na),this._resetElementAttributes(Ks,Hl)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(P,V,oe){const Ne=this.getWidth();this._applyManipulationCallback(P,Ee=>{if(Ee!==this._element&&window.innerWidth>Ee.clientWidth+Ne)return;this._saveInitialAttribute(Ee,V);const be=window.getComputedStyle(Ee).getPropertyValue(V);Ee.style.setProperty(V,`${oe(Number.parseFloat(be))}px`)})}_saveInitialAttribute(P,V){const oe=P.style.getPropertyValue(V);oe&&G.setDataAttribute(P,V,oe)}_resetElementAttributes(P,V){this._applyManipulationCallback(P,oe=>{const Ne=G.getDataAttribute(oe,V);Ne!==null?(G.removeDataAttribute(oe,V),oe.style.setProperty(V,Ne)):oe.style.removeProperty(V)})}_applyManipulationCallback(P,V){if(l(P))V(P);else for(const oe of me.find(P,this._element))V(oe)}}const ao=".bs.modal",xs=`hide${ao}`,yl=`hidePrevented${ao}`,So=`hidden${ao}`,oo=`show${ao}`,wl=`shown${ao}`,Ys=`resize${ao}`,Js=`click.dismiss${ao}`,Rc=`mousedown.dismiss${ao}`,Xs=`keydown.dismiss${ao}`,zn=`click${ao}.data-api`,Es="modal-open",io="show",zo="modal-static",Vl={backdrop:!0,focus:!0,keyboard:!0},ou={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class gi extends ie{constructor(P,V){super(P,V),this._dialog=me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Wl,this._addEventListeners()}static get Default(){return Vl}static get DefaultType(){return ou}static get NAME(){return"modal"}toggle(P){return this._isShown?this.hide():this.show(P)}show(P){this._isShown||this._isTransitioning||K.trigger(this._element,oo,{relatedTarget:P}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Es),this._adjustDialog(),this._backdrop.show(()=>this._showElement(P)))}hide(){this._isShown&&!this._isTransitioning&&(K.trigger(this._element,xs).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(io),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){K.off(window,ao),K.off(this._dialog,ao),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Pn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ei({trapElement:this._element})}_showElement(P){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const V=me.findOne(".modal-body",this._dialog);V&&(V.scrollTop=0),g(this._element),this._element.classList.add(io),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,K.trigger(this._element,wl,{relatedTarget:P})},this._dialog,this._isAnimated())}_addEventListeners(){K.on(this._element,Xs,P=>{P.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),K.on(window,Ys,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),K.on(this._element,Rc,P=>{K.one(this._element,Js,V=>{this._element===P.target&&this._element===V.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Es),this._resetAdjustments(),this._scrollBar.reset(),K.trigger(this._element,So)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(K.trigger(this._element,yl).defaultPrevented)return;const P=this._element.scrollHeight>document.documentElement.clientHeight,V=this._element.style.overflowY;V==="hidden"||this._element.classList.contains(zo)||(P||(this._element.style.overflowY="hidden"),this._element.classList.add(zo),this._queueCallback(()=>{this._element.classList.remove(zo),this._queueCallback(()=>{this._element.style.overflowY=V},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const P=this._element.scrollHeight>document.documentElement.clientHeight,V=this._scrollBar.getWidth(),oe=V>0;if(oe&&!P){const Ne=y()?"paddingLeft":"paddingRight";this._element.style[Ne]=`${V}px`}if(!oe&&P){const Ne=y()?"paddingRight":"paddingLeft";this._element.style[Ne]=`${V}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(P,V){return this.each(function(){const oe=gi.getOrCreateInstance(this,P);if(typeof P=="string"){if(oe[P]===void 0)throw new TypeError(`No method named "${P}"`);oe[P](V)}})}}K.on(document,zn,'[data-bs-toggle="modal"]',function(Z){const P=me.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Z.preventDefault(),K.one(P,oo,oe=>{oe.defaultPrevented||K.one(P,So,()=>{u(this)&&this.focus()})});const V=me.findOne(".modal.show");V&&gi.getInstance(V).hide(),gi.getOrCreateInstance(P).toggle(this)}),he(gi),E(gi);const Bo=".bs.offcanvas",xl=".data-api",vi=`load${Bo}${xl}`,Ss="show",rs="showing",Cs="hiding",Ns=".offcanvas.show",El=`show${Bo}`,so=`shown${Bo}`,ti=`hide${Bo}`,Jn=`hidePrevented${Bo}`,Bn=`hidden${Bo}`,Ra=`resize${Bo}`,Ha=`click${Bo}${xl}`,Ps=`keydown.dismiss${Bo}`,Lc={backdrop:!0,keyboard:!0,scroll:!1},Gl={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class bi extends ie{constructor(P,V){super(P,V),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Lc}static get DefaultType(){return Gl}static get NAME(){return"offcanvas"}toggle(P){return this._isShown?this.hide():this.show(P)}show(P){this._isShown||K.trigger(this._element,El,{relatedTarget:P}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Wl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(rs),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ss),this._element.classList.remove(rs),K.trigger(this._element,so,{relatedTarget:P})},this._element,!0))}hide(){this._isShown&&(K.trigger(this._element,ti).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Cs),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Ss,Cs),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Wl().reset(),K.trigger(this._element,Bn)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const P=!!this._config.backdrop;return new Pn({className:"offcanvas-backdrop",isVisible:P,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:P?()=>{this._config.backdrop!=="static"?this.hide():K.trigger(this._element,Jn)}:null})}_initializeFocusTrap(){return new ei({trapElement:this._element})}_addEventListeners(){K.on(this._element,Ps,P=>{P.key==="Escape"&&(this._config.keyboard?this.hide():K.trigger(this._element,Jn))})}static jQueryInterface(P){return this.each(function(){const V=bi.getOrCreateInstance(this,P);if(typeof P=="string"){if(V[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);V[P](this)}})}}K.on(document,Ha,'[data-bs-toggle="offcanvas"]',function(Z){const P=me.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Z.preventDefault(),f(this))return;K.one(P,Bn,()=>{u(this)&&this.focus()});const V=me.findOne(Ns);V&&V!==P&&bi.getInstance(V).hide(),bi.getOrCreateInstance(P).toggle(this)}),K.on(window,vi,()=>{for(const Z of me.find(Ns))bi.getOrCreateInstance(Z).show()}),K.on(window,Ra,()=>{for(const Z of me.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Z).position!=="fixed"&&bi.getOrCreateInstance(Z).hide()}),he(bi),E(bi);const ns={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},jc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qo=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Di=(Z,P)=>{const V=Z.nodeName.toLowerCase();return P.includes(V)?!jc.has(V)||!!qo.test(Z.nodeValue):P.filter(oe=>oe instanceof RegExp).some(oe=>oe.test(V))},$u={allowList:ns,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Sl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Tf={entry:"(string|element|function|null)",selector:"(string|element)"};class iu extends X{constructor(P){super(),this._config=this._getConfig(P)}static get Default(){return $u}static get DefaultType(){return Sl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(P=>this._resolvePossibleFunction(P)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(P){return this._checkContent(P),this._config.content={...this._config.content,...P},this}toHtml(){const P=document.createElement("div");P.innerHTML=this._maybeSanitize(this._config.template);for(const[Ne,Ee]of Object.entries(this._config.content))this._setContent(P,Ee,Ne);const V=P.children[0],oe=this._resolvePossibleFunction(this._config.extraClass);return oe&&V.classList.add(...oe.split(" ")),V}_typeCheckConfig(P){super._typeCheckConfig(P),this._checkContent(P.content)}_checkContent(P){for(const[V,oe]of Object.entries(P))super._typeCheckConfig({selector:V,entry:oe},Tf)}_setContent(P,V,oe){const Ne=me.findOne(oe,P);Ne&&((V=this._resolvePossibleFunction(V))?l(V)?this._putElementInTemplate(c(V),Ne):this._config.html?Ne.innerHTML=this._maybeSanitize(V):Ne.textContent=V:Ne.remove())}_maybeSanitize(P){return this._config.sanitize?function(V,oe,Ne){if(!V.length)return V;if(Ne&&typeof Ne=="function")return Ne(V);const Ee=new window.DOMParser().parseFromString(V,"text/html"),be=[].concat(...Ee.body.querySelectorAll("*"));for(const Se of be){const qe=Se.nodeName.toLowerCase();if(!Object.keys(oe).includes(qe)){Se.remove();continue}const Ve=[].concat(...Se.attributes),Ke=[].concat(oe["*"]||[],oe[qe]||[]);for(const ft of Ve)Di(ft,Ke)||Se.removeAttribute(ft.nodeName)}return Ee.body.innerHTML}(P,this._config.allowList,this._config.sanitizeFn):P}_resolvePossibleFunction(P){return C(P,[void 0,this])}_putElementInTemplate(P,V){if(this._config.html)return V.innerHTML="",void V.append(P);V.textContent=P.textContent}}const su=new Set(["sanitize","allowList","sanitizeFn"]),Vn="fade",Kl="show",Dc=".tooltip-inner",Cl=".modal",Mc="hide.bs.modal",Zs="hover",Yl="focus",zu={AUTO:"auto",TOP:"top",RIGHT:y()?"left":"right",BOTTOM:"bottom",LEFT:y()?"right":"left"},Jl={allowList:ns,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Rf={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xl extends ie{constructor(P,V){if(Vs===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(P,V),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Jl}static get DefaultType(){return Rf}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),K.off(this._element.closest(Cl),Mc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const P=K.trigger(this._element,this.constructor.eventName("show")),V=(p(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(P.defaultPrevented||!V)return;this._disposePopper();const oe=this._getTipElement();this._element.setAttribute("aria-describedby",oe.getAttribute("id"));const{container:Ne}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ne.append(oe),K.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(oe),oe.classList.add(Kl),"ontouchstart"in document.documentElement)for(const Ee of[].concat(...document.body.children))K.on(Ee,"mouseover",h);this._queueCallback(()=>{K.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!K.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Kl),"ontouchstart"in document.documentElement)for(const P of[].concat(...document.body.children))K.off(P,"mouseover",h);this._activeTrigger.click=!1,this._activeTrigger[Yl]=!1,this._activeTrigger[Zs]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),K.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(P){const V=this._getTemplateFactory(P).toHtml();if(!V)return null;V.classList.remove(Vn,Kl),V.classList.add(`bs-${this.constructor.NAME}-auto`);const oe=(Ne=>{do Ne+=Math.floor(1e6*Math.random());while(document.getElementById(Ne));return Ne})(this.constructor.NAME).toString();return V.setAttribute("id",oe),this._isAnimated()&&V.classList.add(Vn),V}setContent(P){this._newContent=P,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(P){return this._templateFactory?this._templateFactory.changeContent(P):this._templateFactory=new iu({...this._config,content:P,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Dc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(P){return this.constructor.getOrCreateInstance(P.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vn)}_isShown(){return this.tip&&this.tip.classList.contains(Kl)}_createPopper(P){const V=C(this._config.placement,[this,P,this._element]),oe=zu[V.toUpperCase()];return bl(this._element,P,this._getPopperConfig(oe))}_getOffset(){const{offset:P}=this._config;return typeof P=="string"?P.split(",").map(V=>Number.parseInt(V,10)):typeof P=="function"?V=>P(V,this._element):P}_resolvePossibleFunction(P){return C(P,[this._element,this._element])}_getPopperConfig(P){const V={placement:P,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:oe=>{this._getTipElement().setAttribute("data-popper-placement",oe.state.placement)}}]};return{...V,...C(this._config.popperConfig,[void 0,V])}}_setListeners(){const P=this._config.trigger.split(" ");for(const V of P)if(V==="click")K.on(this._element,this.constructor.eventName("click"),this._config.selector,oe=>{this._initializeOnDelegatedTarget(oe).toggle()});else if(V!=="manual"){const oe=V===Zs?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Ne=V===Zs?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");K.on(this._element,oe,this._config.selector,Ee=>{const be=this._initializeOnDelegatedTarget(Ee);be._activeTrigger[Ee.type==="focusin"?Yl:Zs]=!0,be._enter()}),K.on(this._element,Ne,this._config.selector,Ee=>{const be=this._initializeOnDelegatedTarget(Ee);be._activeTrigger[Ee.type==="focusout"?Yl:Zs]=be._element.contains(Ee.relatedTarget),be._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},K.on(this._element.closest(Cl),Mc,this._hideModalHandler)}_fixTitle(){const P=this._element.getAttribute("title");P&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",P),this._element.setAttribute("data-bs-original-title",P),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(P,V){clearTimeout(this._timeout),this._timeout=setTimeout(P,V)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(P){const V=G.getDataAttributes(this._element);for(const oe of Object.keys(V))su.has(oe)&&delete V[oe];return P={...V,...typeof P=="object"&&P?P:{}},P=this._mergeConfigObj(P),P=this._configAfterMerge(P),this._typeCheckConfig(P),P}_configAfterMerge(P){return P.container=P.container===!1?document.body:c(P.container),typeof P.delay=="number"&&(P.delay={show:P.delay,hide:P.delay}),typeof P.title=="number"&&(P.title=P.title.toString()),typeof P.content=="number"&&(P.content=P.content.toString()),P}_getDelegateConfig(){const P={};for(const[V,oe]of Object.entries(this._config))this.constructor.Default[V]!==oe&&(P[V]=oe);return P.selector=!1,P.trigger="manual",P}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(P){return this.each(function(){const V=Xl.getOrCreateInstance(this,P);if(typeof P=="string"){if(V[P]===void 0)throw new TypeError(`No method named "${P}"`);V[P]()}})}}E(Xl);const mp=".popover-header",Lf=".popover-body",Bu={...Xl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Fc={...Xl.DefaultType,content:"(null|string|element|function)"};class Nl extends Xl{static get Default(){return Bu}static get DefaultType(){return Fc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[mp]:this._getTitle(),[Lf]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(P){return this.each(function(){const V=Nl.getOrCreateInstance(this,P);if(typeof P=="string"){if(V[P]===void 0)throw new TypeError(`No method named "${P}"`);V[P]()}})}}E(Nl);const Qs=".bs.scrollspy",Ad=`activate${Qs}`,qu=`click${Qs}`,jf=`load${Qs}.data-api`,Zl="active",_d="[href]",Df=".nav-link",Od=`${Df}, .nav-item > ${Df}, .list-group-item`,Uo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Mi={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Xa extends ie{constructor(P,V){super(P,V),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Uo}static get DefaultType(){return Mi}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const P of this._observableSections.values())this._observer.observe(P)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(P){return P.target=c(P.target)||document.body,P.rootMargin=P.offset?`${P.offset}px 0px -30%`:P.rootMargin,typeof P.threshold=="string"&&(P.threshold=P.threshold.split(",").map(V=>Number.parseFloat(V))),P}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(K.off(this._config.target,qu),K.on(this._config.target,qu,_d,P=>{const V=this._observableSections.get(P.target.hash);if(V){P.preventDefault();const oe=this._rootElement||window,Ne=V.offsetTop-this._element.offsetTop;if(oe.scrollTo)return void oe.scrollTo({top:Ne,behavior:"smooth"});oe.scrollTop=Ne}}))}_getNewObserver(){const P={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(V=>this._observerCallback(V),P)}_observerCallback(P){const V=be=>this._targetLinks.get(`#${be.target.id}`),oe=be=>{this._previousScrollData.visibleEntryTop=be.target.offsetTop,this._process(V(be))},Ne=(this._rootElement||document.documentElement).scrollTop,Ee=Ne>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ne;for(const be of P){if(!be.isIntersecting){this._activeTarget=null,this._clearActiveClass(V(be));continue}const Se=be.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Ee&&Se){if(oe(be),!Ne)return}else Ee||Se||oe(be)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const P=me.find(_d,this._config.target);for(const V of P){if(!V.hash||f(V))continue;const oe=me.findOne(decodeURI(V.hash),this._element);u(oe)&&(this._targetLinks.set(decodeURI(V.hash),V),this._observableSections.set(V.hash,oe))}}_process(P){this._activeTarget!==P&&(this._clearActiveClass(this._config.target),this._activeTarget=P,P.classList.add(Zl),this._activateParents(P),K.trigger(this._element,Ad,{relatedTarget:P}))}_activateParents(P){if(P.classList.contains("dropdown-item"))me.findOne(".dropdown-toggle",P.closest(".dropdown")).classList.add(Zl);else for(const V of me.parents(P,".nav, .list-group"))for(const oe of me.prev(V,Od))oe.classList.add(Zl)}_clearActiveClass(P){P.classList.remove(Zl);const V=me.find(`${_d}.${Zl}`,P);for(const oe of V)oe.classList.remove(Zl)}static jQueryInterface(P){return this.each(function(){const V=Xa.getOrCreateInstance(this,P);if(typeof P=="string"){if(V[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);V[P]()}})}}K.on(window,jf,()=>{for(const Z of me.find('[data-bs-spy="scroll"]'))Xa.getOrCreateInstance(Z)}),E(Xa);const Co=".bs.tab",$c=`hide${Co}`,No=`hidden${Co}`,ri=`show${Co}`,pp=`shown${Co}`,hp=`click${Co}`,Pl=`keydown${Co}`,zc=`load${Co}`,Ql="ArrowLeft",Bc="ArrowRight",Id="ArrowUp",ks="ArrowDown",yi="Home",qn="End",Tn="active",el="fade",Ga="show",Ho=".dropdown-toggle",tl=`:not(${Ho})`,ec='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Po=`.nav-link${tl}, .list-group-item${tl}, [role="tab"]${tl}, ${ec}`,Uu=`.${Tn}[data-bs-toggle="tab"], .${Tn}[data-bs-toggle="pill"], .${Tn}[data-bs-toggle="list"]`;class kl extends ie{constructor(P){super(P),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),K.on(this._element,Pl,V=>this._keydown(V)))}static get NAME(){return"tab"}show(){const P=this._element;if(this._elemIsActive(P))return;const V=this._getActiveElem(),oe=V?K.trigger(V,$c,{relatedTarget:P}):null;K.trigger(P,ri,{relatedTarget:V}).defaultPrevented||oe&&oe.defaultPrevented||(this._deactivate(V,P),this._activate(P,V))}_activate(P,V){P&&(P.classList.add(Tn),this._activate(me.getElementFromSelector(P)),this._queueCallback(()=>{P.getAttribute("role")==="tab"?(P.removeAttribute("tabindex"),P.setAttribute("aria-selected",!0),this._toggleDropDown(P,!0),K.trigger(P,pp,{relatedTarget:V})):P.classList.add(Ga)},P,P.classList.contains(el)))}_deactivate(P,V){P&&(P.classList.remove(Tn),P.blur(),this._deactivate(me.getElementFromSelector(P)),this._queueCallback(()=>{P.getAttribute("role")==="tab"?(P.setAttribute("aria-selected",!1),P.setAttribute("tabindex","-1"),this._toggleDropDown(P,!1),K.trigger(P,No,{relatedTarget:V})):P.classList.remove(Ga)},P,P.classList.contains(el)))}_keydown(P){if(![Ql,Bc,Id,ks,yi,qn].includes(P.key))return;P.stopPropagation(),P.preventDefault();const V=this._getChildren().filter(Ne=>!f(Ne));let oe;if([yi,qn].includes(P.key))oe=V[P.key===yi?0:V.length-1];else{const Ne=[Bc,ks].includes(P.key);oe=_(V,P.target,Ne,!0)}oe&&(oe.focus({preventScroll:!0}),kl.getOrCreateInstance(oe).show())}_getChildren(){return me.find(Po,this._parent)}_getActiveElem(){return this._getChildren().find(P=>this._elemIsActive(P))||null}_setInitialAttributes(P,V){this._setAttributeIfNotExists(P,"role","tablist");for(const oe of V)this._setInitialAttributesOnChild(oe)}_setInitialAttributesOnChild(P){P=this._getInnerElement(P);const V=this._elemIsActive(P),oe=this._getOuterElement(P);P.setAttribute("aria-selected",V),oe!==P&&this._setAttributeIfNotExists(oe,"role","presentation"),V||P.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(P,"role","tab"),this._setInitialAttributesOnTargetPanel(P)}_setInitialAttributesOnTargetPanel(P){const V=me.getElementFromSelector(P);V&&(this._setAttributeIfNotExists(V,"role","tabpanel"),P.id&&this._setAttributeIfNotExists(V,"aria-labelledby",`${P.id}`))}_toggleDropDown(P,V){const oe=this._getOuterElement(P);if(!oe.classList.contains("dropdown"))return;const Ne=(Ee,be)=>{const Se=me.findOne(Ee,oe);Se&&Se.classList.toggle(be,V)};Ne(Ho,Tn),Ne(".dropdown-menu",Ga),oe.setAttribute("aria-expanded",V)}_setAttributeIfNotExists(P,V,oe){P.hasAttribute(V)||P.setAttribute(V,oe)}_elemIsActive(P){return P.classList.contains(Tn)}_getInnerElement(P){return P.matches(Po)?P:me.findOne(Po,P)}_getOuterElement(P){return P.closest(".nav-item, .list-group-item")||P}static jQueryInterface(P){return this.each(function(){const V=kl.getOrCreateInstance(this);if(typeof P=="string"){if(V[P]===void 0||P.startsWith("_")||P==="constructor")throw new TypeError(`No method named "${P}"`);V[P]()}})}}K.on(document,hp,ec,function(Z){["A","AREA"].includes(this.tagName)&&Z.preventDefault(),f(this)||kl.getOrCreateInstance(this).show()}),K.on(window,zc,()=>{for(const Z of me.find(Uu))kl.getOrCreateInstance(Z)}),E(kl);const As=".bs.toast",tc=`mouseover${As}`,Mf=`mouseout${As}`,rl=`focusin${As}`,lu=`focusout${As}`,S=`hide${As}`,T=`hidden${As}`,W=`show${As}`,ne=`shown${As}`,se="hide",de="show",pe="showing",ge={animation:"boolean",autohide:"boolean",delay:"number"},ve={animation:!0,autohide:!0,delay:5e3};class Ce extends ie{constructor(P,V){super(P,V),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ve}static get DefaultType(){return ge}static get NAME(){return"toast"}show(){K.trigger(this._element,W).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(se),g(this._element),this._element.classList.add(de,pe),this._queueCallback(()=>{this._element.classList.remove(pe),K.trigger(this._element,ne),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(K.trigger(this._element,S).defaultPrevented||(this._element.classList.add(pe),this._queueCallback(()=>{this._element.classList.add(se),this._element.classList.remove(pe,de),K.trigger(this._element,T)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(de),super.dispose()}isShown(){return this._element.classList.contains(de)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(P,V){switch(P.type){case"mouseover":case"mouseout":this._hasMouseInteraction=V;break;case"focusin":case"focusout":this._hasKeyboardInteraction=V}if(V)return void this._clearTimeout();const oe=P.relatedTarget;this._element===oe||this._element.contains(oe)||this._maybeScheduleHide()}_setListeners(){K.on(this._element,tc,P=>this._onInteraction(P,!0)),K.on(this._element,Mf,P=>this._onInteraction(P,!1)),K.on(this._element,rl,P=>this._onInteraction(P,!0)),K.on(this._element,lu,P=>this._onInteraction(P,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(P){return this.each(function(){const V=Ce.getOrCreateInstance(this,P);if(typeof P=="string"){if(V[P]===void 0)throw new TypeError(`No method named "${P}"`);V[P](this)}})}}return he(Ce),E(Ce),{Alert:xe,Button:_e,Carousel:Zr,Collapse:cr,Dropdown:wt,Modal:gi,Offcanvas:bi,Popover:Nl,ScrollSpy:Xa,Tab:kl,Toast:Ce,Tooltip:Xl}})}(Pv)),Pv.exports}TM();function RM(){return o.createElement("div",null,o.createElement(jD,null),o.createElement(FD,null),o.createElement($D,null),o.createElement(OM,null))}const LM=({children:t,onClose:e})=>{const r=n=>{n.stopPropagation()};return o.createElement("div",{className:"darsy-modal-overlay",onClick:e},o.createElement("div",{className:"darsy-modal-container",onClick:r},o.createElement("button",{className:"darsy-modal-close-button",onClick:e},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))),o.createElement("div",{className:"darsy-modal-content"},t)))},jM=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(null),[s,l]=b.useState({}),[c,u]=b.useState(!0);b.useEffect(()=>{e(!0),f()},[]);const f=async()=>{try{const v=await(await fetch("https://deliciasoft-backend.onrender.com/api/imagenes")).json(),y={};v.forEach(E=>{y[E.idimagen]=E.urlimg}),l(y),u(!1)}catch(x){console.error("Error al cargar las imágenes:",x),u(!1)}},p=x=>{i(x),n(!0)},h=()=>{n(!1)},g=[{id:1,titulo:"¿Quienes somos?",boton:"Quiénes Somos",contenido:o.createElement("div",{className:"modal-content modal-decorative-border"},o.createElement("h2",null,"En Delicias Darsy nacimos de la pasión"),o.createElement("p",null,"Por endulzar la vida de las personas con nuestros postres artesanales elaborados con amor y dedicación. Desde nuestros inicios en el 2015 hasta el día de hoy, trabajamos para brindar experiencias únicas en cada bocado."))},{id:2,titulo:"Sobre nuestras sedes",boton:"Sedes",contenido:o.createElement("div",{className:"modal-content modal-decorative-border"},o.createElement("h2",null,"Contamos con diversas sedes donde"),o.createElement("p",null,"Podrás disfrutar de un ambiente acogedor y de toda nuestra variedad de productos frescos y de calidad. Nuestro compromiso es crear experiencias deliciosas para cualquier ocasión."))},{id:3,titulo:"Cotizaciones y pedidos",boton:"Cotizaciones personalizadas",contenido:o.createElement("div",{className:"modal-content modal-decorative-border"},o.createElement("h2",null,"Cotizaciones personalizadas para tus eventos"),o.createElement("p",null,"Te ofrecemos cotizaciones personalizadas para cualquier ocasión especial. Nuestro equipo está listo para ayudarte a crear el postre perfecto para tu evento."))}];return c?o.createElement("div",{className:"conocenos-container"},o.createElement("div",{className:"page-content"},o.createElement("h1",{className:"page-title"},"¡Conócenos somos Delicias Darsy!"),o.createElement("div",{style:{textAlign:"center",padding:"2rem"}},"Cargando contenido..."))):o.createElement("div",{className:"conocenos-container"},o.createElement("div",{className:`page-content ${t?"fade-in":""}`},o.createElement("h1",{className:"page-title"},"¡Conócenos somos Delicias Darsy!"),o.createElement("div",{className:"zigzag-timeline"},o.createElement("div",{className:"center-line"}),o.createElement("div",{className:"zigzag-item right-item"},o.createElement("div",{className:"zigzag-marker"},o.createElement("span",null,"1")),o.createElement("h2",{className:"zigzag-title title-left"},g[0].titulo),o.createElement("div",{className:"zigzag-content"},o.createElement("div",{className:"logo-circle"},o.createElement("img",{src:s[3]||"https://via.placeholder.com/150x150?text=Logo",alt:"Logo",className:"logo-image",onError:x=>{x.target.src="https://via.placeholder.com/150x150?text=Error+logo"}})),o.createElement("div",{className:"item-info"},o.createElement("p",{className:"social-handle"},"@delicias_Darsy"),o.createElement("p",{className:"phone-number"},"321 309 65 04")),o.createElement("button",{className:"pink-button",onClick:()=>p(g[0].contenido)},g[0].boton))),o.createElement("div",{className:"zigzag-item left-item"},o.createElement("div",{className:"zigzag-marker"},o.createElement("span",null,"2")),o.createElement("h2",{className:"zigzag-title title-right"},g[1].titulo),o.createElement("div",{className:"zigzag-content"},o.createElement("div",{className:"image-container"},o.createElement("img",{src:s[4]||"https://via.placeholder.com/300x200?text=Tienda",alt:"Tienda",className:"item-image",onError:x=>{x.target.src="https://via.placeholder.com/300x200?text=Error+tienda"}})),o.createElement("button",{className:"pink-button",onClick:()=>p(g[1].contenido)},g[1].boton))),o.createElement("div",{className:"zigzag-item right-item"},o.createElement("div",{className:"zigzag-marker"},o.createElement("span",null,"3")),o.createElement("h2",{className:"zigzag-title title-left"},g[2].titulo),o.createElement("div",{className:"zigzag-content"},o.createElement("div",{className:"image-container"},o.createElement("img",{src:s[5]||"https://via.placeholder.com/300x200?text=Postre",alt:"Postre",className:"item-image",onError:x=>{x.target.src="https://via.placeholder.com/300x200?text=Error+postre"}})),o.createElement("button",{className:"pink-button",onClick:()=>p(g[2].contenido)},g[2].boton))))),r&&o.createElement(LM,{onClose:h},a))},DM=()=>{const t=Yo(),e=b.useRef(null),[r,n]=b.useState(!1),[a,i]=b.useState(""),[s,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState({nombre:"",apellidos:"",correo:"",telefono:"",mensaje:""}),[h,g]=b.useState(!1),[x,v]=b.useState(""),[y,E]=b.useState(""),[C,k]=b.useState({}),_="https://deliciasoft-backend-i6g9.onrender.com";b.useEffect(()=>{const z=localStorage.getItem("authToken"),I=localStorage.getItem("user");if(console.log("Token de auth:",z),console.log("Datos de usuario raw:",I),z&&I)try{const L=JSON.parse(I);u(L),console.log("Datos del usuario cargados:",L),p(F=>({...F,nombre:L.nombre||"",apellidos:L.apellidos||"",correo:L.correo||"",telefono:L.telefono||L.celular||"",mensaje:""})),sessionStorage.getItem("fromLogin")==="true"&&(sessionStorage.removeItem("fromLogin"),setTimeout(()=>{v("success"),E(`¡Bienvenido ${L.nombre}! Tus datos han sido autocompletados automáticamente.`),g(!0),setTimeout(()=>g(!1),5e3)},500))}catch(L){console.error("Error parsing user data:",L),localStorage.removeItem("user"),localStorage.removeItem("authToken")}else console.log("No hay sesión activa"),u(null),p({nombre:"",apellidos:"",correo:"",telefono:"",mensaje:""})},[]),b.useEffect(()=>{(()=>{if(window.grecaptcha){n(!0);return}const I=document.createElement("script");I.src="https://www.google.com/recaptcha/api.js",I.async=!0,I.defer=!0,I.onload=()=>{n(!0)},document.head.appendChild(I)})()},[]),b.useEffect(()=>{r&&e.current&&!e.current.hasChildNodes()&&window.grecaptcha.render(e.current,{sitekey:"6Lf-0MArAAAAAE3Oqa0W2uuTnxvoPgEk4cXs48bJ",callback:z=>{i(z),C.recaptcha&&k(I=>({...I,recaptcha:""}))},"expired-callback":()=>{i("")}})},[r,C.recaptcha]);const N=()=>{const z={};f.nombre.trim()?f.nombre.trim().length<2&&(z.nombre="El nombre debe tener al menos 2 caracteres"):z.nombre="El nombre es obligatorio",f.apellidos.trim()?f.apellidos.trim().length<2&&(z.apellidos="Los apellidos deben tener al menos 2 caracteres"):z.apellidos="Los apellidos son obligatorios";const I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;f.correo.trim()?I.test(f.correo)||(z.correo="El correo electrónico no es válido"):z.correo="El correo electrónico es obligatorio";const L=/^\d{10}$/;return f.telefono.trim()?L.test(f.telefono)||(z.telefono="El teléfono debe tener exactamente 10 números"):z.telefono="El número de teléfono es obligatorio",f.mensaje.trim()?f.mensaje.trim().length<10?z.mensaje="El mensaje debe tener al menos 10 caracteres":f.mensaje.trim().length>1e3&&(z.mensaje="El mensaje no puede exceder 1000 caracteres"):z.mensaje="El mensaje es obligatorio",a||(z.recaptcha="Por favor, completa la verificación reCAPTCHA"),z},O=z=>{const{name:I,value:L}=z.target;if(I==="telefono"){const M=L.replace(/\D/g,"");M.length<=10&&p({...f,[I]:M})}else if(I==="nombre"||I==="apellidos"){const M=L.replace(/[^a-zA-ZáéíóúñÁÉÍÓÚÑ'\s]/g,"");M.length<=50&&p({...f,[I]:M})}else p({...f,[I]:L});C[I]&&k({...C,[I]:""})},R=async z=>{z.preventDefault();const I=N();if(Object.keys(I).length>0){k(I),v("error"),E("Por favor, corrige los errores en el formulario"),g(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{g(!1)},6e3);return}l(!0);try{const L=await fetch(`${_}/api/contacto/enviar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,recaptchaToken:a})}),M=await L.json();L.ok&&M.success?(v("success"),E(M.message),g(!0),k({}),p({nombre:(c==null?void 0:c.nombre)||"",apellidos:(c==null?void 0:c.apellidos)||"",correo:(c==null?void 0:c.correo)||"",telefono:(c==null?void 0:c.telefono)||(c==null?void 0:c.celular)||"",mensaje:""}),window.grecaptcha&&(window.grecaptcha.reset(),i("")),window.scrollTo({top:0,behavior:"smooth"})):(v("error"),E(M.message||"Error al enviar el mensaje. Inténtalo de nuevo."),g(!0))}catch(L){console.error("Error:",L),v("error"),E("Error de conexión. Verifica tu conexión a internet e inténtalo más tarde."),g(!0)}finally{l(!1),setTimeout(()=>{g(!1)},8e3)}},D=()=>{t("/sedes")},B=()=>{localStorage.setItem("redirectAfterLogin","/contactenos"),t("/iniciar-sesion")};return o.createElement(o.Fragment,null,o.createElement("div",{className:"container-fluid",style:{backgroundColor:"#fdf2f8",minHeight:"100vh",paddingTop:"2rem",paddingBottom:"2rem"}},o.createElement("div",{className:"container"},o.createElement("div",{className:"row g-4"},o.createElement("div",{className:"col-lg-7"},o.createElement("div",{className:"bg-white rounded-4 shadow-sm p-4"},o.createElement("h2",{className:"fw-bold mb-4 text-center",style:{color:"#ec4899",fontSize:"1.8rem"}},"¡Contáctanos!"),c&&o.createElement("div",{className:"alert d-flex align-items-center mb-4",style:{backgroundColor:"#e0f2fe",borderColor:"#0891b2",color:"#0c4a6e",border:"1px solid #0891b2"}},o.createElement("i",{className:"bi bi-person-check-fill me-2"}),o.createElement("div",null,o.createElement("strong",null,"¡Hola ",c.nombre,"!")," Hemos autocompletado algunos campos con tu información.")),!c&&o.createElement("div",{className:"alert alert-warning d-flex align-items-center justify-content-between mb-4"},o.createElement("div",{className:"d-flex align-items-center"},o.createElement("i",{className:"bi bi-info-circle-fill me-2"}),o.createElement("span",null,"¿Tienes cuenta? Inicia sesión para autocompletar tus datos")),o.createElement("button",{onClick:B,className:"btn btn-sm btn-outline-warning"},"Iniciar sesión")),h&&o.createElement("div",{className:`alert ${x==="success"?"alert-success":"alert-danger"} d-flex align-items-center mb-4`,role:"alert"},o.createElement("i",{className:`bi ${x==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill"} me-2`}),y),o.createElement("form",{onSubmit:R},o.createElement("div",{className:"mb-3"},o.createElement("input",{type:"text",name:"nombre",value:f.nombre,onChange:O,placeholder:"Nombre *",className:`form-control form-control-lg ${C.nombre?"is-invalid":""}`,style:{backgroundColor:c!=null&&c.nombre?"#f3f4f6":"#e5e7eb",border:C.nombre?"2px solid #dc3545":"none",borderRadius:"12px",padding:"15px 20px"},readOnly:c&&c.nombre,maxLength:"50"}),C.nombre&&o.createElement("div",{className:"invalid-feedback d-block"},o.createElement("small",null,C.nombre)),(c==null?void 0:c.nombre)&&o.createElement("small",{className:"text-muted"},"Campo autocompletado desde tu perfil")),o.createElement("div",{className:"mb-3"},o.createElement("input",{type:"text",name:"apellidos",value:f.apellidos,onChange:O,placeholder:"Apellidos *",className:`form-control form-control-lg ${C.apellidos?"is-invalid":""}`,style:{backgroundColor:c!=null&&c.apellidos?"#f3f4f6":"#e5e7eb",border:C.apellidos?"2px solid #dc3545":"none",borderRadius:"12px",padding:"15px 20px"},readOnly:c&&c.apellidos,maxLength:"50"}),C.apellidos&&o.createElement("div",{className:"invalid-feedback d-block"},o.createElement("small",null,C.apellidos)),(c==null?void 0:c.apellidos)&&o.createElement("small",{className:"text-muted"},"Campo autocompletado desde tu perfil")),o.createElement("div",{className:"mb-3"},o.createElement("input",{type:"email",name:"correo",value:f.correo,onChange:O,placeholder:"Correo electrónico *",className:`form-control form-control-lg ${C.correo?"is-invalid":""}`,style:{backgroundColor:c!=null&&c.correo?"#f3f4f6":"#e5e7eb",border:C.correo?"2px solid #dc3545":"none",borderRadius:"12px",padding:"15px 20px"},readOnly:c&&c.correo}),C.correo&&o.createElement("div",{className:"invalid-feedback d-block"},o.createElement("small",null,C.correo)),(c==null?void 0:c.correo)&&o.createElement("small",{className:"text-muted"},"Campo autocompletado desde tu perfil")),o.createElement("div",{className:"mb-3"},o.createElement("input",{type:"tel",name:"telefono",value:f.telefono,onChange:O,placeholder:"Número de teléfono (10 dígitos) *",className:`form-control form-control-lg ${C.telefono?"is-invalid":""}`,style:{backgroundColor:c!=null&&c.telefono||c!=null&&c.celular?"#f3f4f6":"#e5e7eb",border:C.telefono?"2px solid #dc3545":"none",borderRadius:"12px",padding:"15px 20px"},readOnly:c&&(c.telefono||c.celular),maxLength:"10"}),C.telefono&&o.createElement("div",{className:"invalid-feedback d-block"},o.createElement("small",null,C.telefono)),((c==null?void 0:c.telefono)||(c==null?void 0:c.celular))&&o.createElement("small",{className:"text-muted"},"Campo autocompletado desde tu perfil"),!(c!=null&&c.telefono||c!=null&&c.celular)&&o.createElement("small",{className:"text-muted"},"Solo números, exactamente 10 dígitos")),o.createElement("div",{className:"mb-4"},o.createElement("textarea",{name:"mensaje",value:f.mensaje,onChange:O,placeholder:"Déjanos tu mensaje aquí... *",rows:"5",className:`form-control form-control-lg ${C.mensaje?"is-invalid":""}`,style:{backgroundColor:"#e5e7eb",border:C.mensaje?"2px solid #dc3545":"none",borderRadius:"12px",padding:"15px 20px",resize:"vertical"},maxLength:"1000"}),C.mensaje&&o.createElement("div",{className:"invalid-feedback d-block"},o.createElement("small",null,C.mensaje)),o.createElement("small",{className:"text-muted"},f.mensaje.length,"/1000 caracteres")),o.createElement("div",{className:"mb-3 d-flex justify-content-center"},o.createElement("div",{ref:e})),C.recaptcha&&o.createElement("div",{className:"text-center mb-3"},o.createElement("small",{className:"text-danger"},C.recaptcha)),o.createElement("div",{className:"text-center"},o.createElement("button",{type:"submit",className:"btn btn-lg px-5 py-3 fw-bold",disabled:s,style:{backgroundColor:s?"#d1d5db":"#fbbf24",color:"#111827",border:"none",borderRadius:"50px",transition:"all 0.3s ease",cursor:s?"not-allowed":"pointer"},onMouseOver:z=>{s||(z.target.style.backgroundColor="#f59e0b",z.target.style.transform="translateY(-2px)")},onMouseOut:z=>{s||(z.target.style.backgroundColor="#fbbf24",z.target.style.transform="translateY(0)")}},s?o.createElement(o.Fragment,null,o.createElement("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Enviando..."):"Enviar mensaje")),o.createElement("div",{className:"text-center mt-3"},o.createElement("small",{className:"text-muted"},"* Campos obligatorios"))))),o.createElement("div",{className:"col-lg-5"},o.createElement("div",{className:"h-100"},o.createElement("h2",{className:"fw-bold mb-4 text-center",style:{color:"#ec4899",fontSize:"1.8rem"}},"CONTACTOS"),o.createElement("div",{className:"d-flex flex-column gap-4"},o.createElement("div",{className:"d-flex align-items-center"},o.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"50px",height:"50px",backgroundColor:"#ec4899",color:"white"}},o.createElement("i",{className:"bi bi-telephone-fill"})),o.createElement("span",{className:"fw-semibold fs-5"},"+57 321 309 85 04")),o.createElement("div",{className:"d-flex align-items-center"},o.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"50px",height:"50px",backgroundColor:"#ec4899",color:"white"}},o.createElement("i",{className:"bi bi-whatsapp"})),o.createElement("span",{className:"fw-semibold fs-5"},"Delicias_Darsy🧁")),o.createElement("div",{className:"d-flex align-items-center"},o.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"50px",height:"50px",backgroundColor:"#ec4899",color:"white"}},o.createElement("i",{className:"bi bi-instagram"})),o.createElement("span",{className:"fw-semibold fs-5"},"@delicias_darsy")),o.createElement("div",{className:"d-flex align-items-center"},o.createElement("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"50px",height:"50px",backgroundColor:"#ec4899",color:"white"}},o.createElement("i",{className:"bi bi-geo-alt-fill"})),o.createElement("div",{className:"d-flex flex-column"},o.createElement("span",{className:"fw-semibold fs-6 mb-2"},"Nuestras ubicaciones:"),o.createElement("button",{onClick:D,className:"btn btn-outline-pink fw-semibold",style:{borderColor:"#ec4899",color:"#ec4899",borderRadius:"25px",padding:"8px 20px",transition:"all 0.3s ease"},onMouseOver:z=>{z.target.style.backgroundColor="#ec4899",z.target.style.color="white"},onMouseOut:z=>{z.target.style.backgroundColor="transparent",z.target.style.color="#ec4899"}},"Ver nuestras sedes"))),o.createElement("div",{className:"mt-4 p-3 bg-white rounded-3 shadow-sm"},o.createElement("h5",{className:"text-center mb-3",style:{color:"#ec4899"}},o.createElement("i",{className:"bi bi-clock me-2"}),"Horarios de atención"),o.createElement("div",{className:"text-center"},o.createElement("p",{className:"mb-2"},o.createElement("strong",null,"Lunes a Viernes:")," 8:00 AM - 6:00 PM"),o.createElement("p",{className:"mb-2"},o.createElement("strong",null,"Sábados:")," 9:00 AM - 4:00 PM"),o.createElement("p",{className:"mb-0"},o.createElement("strong",null,"Domingos:")," 10:00 AM - 2:00 PM"))),o.createElement("div",{className:"mt-3 p-3",style:{backgroundColor:"#fef3c7",borderRadius:"12px",border:"2px solid #fbbf24"}},o.createElement("h6",{className:"text-center mb-2",style:{color:"#92400e"}},o.createElement("i",{className:"bi bi-lightning-charge-fill me-2"}),"Respuesta rápida"),o.createElement("p",{className:"text-center mb-0",style:{color:"#92400e",fontSize:"14px"}},"Te responderemos en menos de 24 horas")),o.createElement("div",{className:"text-center"},o.createElement("a",{href:"https://wa.me/573213098504?text=¡Hola! Me gustaría obtener más información sobre sus productos 🧁",target:"_blank",rel:"noopener noreferrer",className:"btn btn-success btn-lg fw-bold",style:{borderRadius:"25px",padding:"12px 30px",backgroundColor:"#25d366",borderColor:"#25d366",transition:"all 0.3s ease"},onMouseOver:z=>{z.target.style.backgroundColor="#128c7e",z.target.style.transform="translateY(-2px)"},onMouseOut:z=>{z.target.style.backgroundColor="#25d366",z.target.style.transform="translateY(0)"}},o.createElement("i",{className:"bi bi-whatsapp me-2"}),"Escríbenos ahora")))))))))};function CN(){const[t,e]=b.useState([]),[r,n]=b.useState(0);return b.useEffect(()=>{fetch("https://deliciasoft-backend.onrender.com/api/imagenes").then(a=>a.json()).then(a=>{let i=[];Array.isArray(a)?i=a.map(s=>s.urlimg):a.urlimg?i=[a.urlimg]:a.imagenes&&(i=a.imagenes.map(s=>s.urlimg)),e(i)}).catch(a=>console.error("Error cargando imágenes",a))},[]),b.useEffect(()=>{if(t.length===0)return;const a=setInterval(()=>{n(i=>i===t.length-1?0:i+1)},3e3);return()=>clearInterval(a)},[t]),o.createElement("div",{className:"header bg-gradient-to-r from-pink-200 via-pink-300 to-yellow-200 relative overflow-hidden min-h-[500px] flex items-center justify-center"},o.createElement("div",{className:"absolute inset-0 opacity-20"},o.createElement("div",{className:"absolute top-10 left-10 w-16 h-16 bg-pink-400 rounded-full animate-bounce"}),o.createElement("div",{className:"absolute top-20 right-20 w-12 h-12 bg-yellow-400 rounded-full animate-pulse"}),o.createElement("div",{className:"absolute bottom-10 left-1/4 w-20 h-20 bg-purple-400 rounded-full animate-bounce delay-300"}),o.createElement("div",{className:"absolute bottom-20 right-1/3 w-14 h-14 bg-pink-500 rounded-full animate-pulse delay-500"})),o.createElement("div",{className:"absolute inset-0 opacity-10"},o.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100"},o.createElement("defs",null,o.createElement("pattern",{id:"dots",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse"},o.createElement("circle",{cx:"5",cy:"5",r:"1",fill:"white"}))),o.createElement("rect",{width:"100%",height:"100%",fill:"url(#dots)"}))),o.createElement("div",{className:"container mx-auto px-3 flex flex-col lg:flex-row items-center justify-between relative z-10"},o.createElement("div",{className:"flex-1 relative mb-6 lg:mb-0"},o.createElement("div",{className:"relative group"},o.createElement("div",{className:"bg-white rounded-3xl p-3 shadow-xl"},t.length>0&&o.createElement("img",{src:t[r],alt:"Productos artesanales",className:"w-full h-80 object-cover rounded-3xl transform group-hover:scale-105 transition-all duration-500"}),o.createElement("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},t.map((a,i)=>o.createElement("div",{key:i,className:`w-2 h-2 rounded-full transition-all duration-300 ${i===r?"bg-pink-500 w-6":"bg-pink-200"}`})))),o.createElement("div",{className:"absolute -top-6 -left-6 bg-white rounded-full p-2 shadow-lg animate-bounce"},o.createElement("span",{className:"text-xl"},"🍩")),o.createElement("div",{className:"absolute -bottom-4 -right-4 bg-white rounded-full p-2 shadow-lg animate-bounce delay-300"},o.createElement("span",{className:"text-xl"},"🧁")),o.createElement("div",{className:"absolute top-1/2 -left-8 bg-white rounded-full p-1 shadow-lg animate-pulse"},o.createElement("span",{className:"text-lg"},"🍰")))),o.createElement("div",{className:"flex-1 text-center lg:text-left lg:pl-12"},o.createElement("div",{className:"mb-4"},o.createElement("h1",{className:"text-4xl lg:text-5xl font-bold text-black drop-shadow-lg"},o.createElement("span",{className:"text-black"},"En Delicias Darsy")),o.createElement("div",{className:"w-20 h-1 bg-gradient-to-r from-pink-400 to-yellow-400 mx-auto lg:mx-0 mt-3 rounded-full"})),o.createElement("div",{className:"mb-4"},o.createElement("p",{className:"text-lg lg:text-xl text-white drop-shadow-md mb-3 font-medium"},"Descubre sabores únicos que"," ",o.createElement("span",{className:"text-yellow-200 font-bold"},"endulzan")," cada momento."),o.createElement("div",{className:"bg-white bg-opacity-90 rounded-full px-4 py-2 inline-block shadow-lg transform hover:scale-105 transition-transform duration-300"},o.createElement("p",{className:"text-base text-pink-600 font-bold"},'✨ "Hechos con mucho amor" ✨'))))),o.createElement("div",{className:"absolute bottom-0 left-0 right-0"},o.createElement("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-8 fill-white"},o.createElement("path",{d:"M0,60 C200,100 400,20 600,60 C800,100 1000,20 1200,60 L1200,120 L0,120 Z"}))))}function MM({value:t,onChange:e}){return o.createElement("div",{className:"buscador-carta"},o.createElement("input",{type:"text",placeholder:"Buscar...",value:t,onChange:r=>e(r.target.value)}),o.createElement("h2",null,"CARTA"))}function FM({onClick:t}){return o.createElement("div",{className:"banner-cumple",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"2rem",padding:"0 1rem"}},o.createElement("img",{src:"/imagenes/Cartas/cupon.jpg",alt:"Promoción",onClick:t,style:{width:"100%",maxWidth:"900px",height:"400px",cursor:"pointer",transition:"transform 0.3s",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",objectFit:"cover"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)"}))}function $M({code:t,onClose:e}){return o.createElement("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999}},o.createElement("div",{style:{background:"white",borderRadius:"10px",padding:"2rem",width:"300px",textAlign:"center"}},o.createElement("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem"}},"¡Tu código especial!"),o.createElement("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#0070f3"}},t),o.createElement("button",{onClick:e,style:{marginTop:"1.5rem",padding:"0.5rem 1rem",backgroundColor:"#e91e63",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}},"Cerrar")))}function zM({productos:t,onProductoClick:e}){return o.createElement("div",{className:"productos-destacados-container-exacto"},o.createElement("div",{className:"productos-grid-exacto"},t.map(r=>o.createElement("div",{key:r.id,className:"product-card-exacto"},o.createElement("div",{className:"card-image-section-exacto"},o.createElement("img",{src:r.imagen,alt:r.nombre,className:"card-image-exacto"})),o.createElement("div",{className:"card-content-section-exacto"},o.createElement("h3",{className:"card-title-exacto"},r.nombre),o.createElement("button",{className:"view-products-btn-exacto",onClick:()=>e(r)},o.createElement("span",{className:"btn-icon-exacto"},"📂")," Ver Categoría"))))))}function BM(){const[t,e]=b.useState(""),[r,n]=b.useState(!1),[a,i]=b.useState(""),[s,l]=b.useState([]),[c,u]=b.useState(!0),[f,p]=b.useState(null),h=Yo(),g="/imagenes/Cartas/default.jpeg",x=[{id:1,nombre:"Postres Variados",descripcion:"Deliciosos postres caseros para toda ocasión",imagen:"/imagenes/Cartas/postres.jpg"},{id:2,nombre:"Pasteles Artesanales",descripcion:"Pasteles frescos hechos con amor",imagen:"/imagenes/Cartas/pasteles.jpg"},{id:3,nombre:"Fresas con Crema",descripcion:"Fresas frescas con crema deliciosa",imagen:"/imagenes/Cartas/fresas.jpg"},{id:4,nombre:"Obleas Tradicionales",descripcion:"Obleas caseras con los mejores ingredientes",imagen:"/imagenes/Cartas/obleas.jpg"}],v=async()=>{try{u(!0),p(null);const _=new Promise((B,z)=>{setTimeout(()=>z(new Error("Timeout: La petición tardó más de 10 segundos")),1e4)}),N=fetch("https://deliciasoft-backend.onrender.com/api/categorias-productos"),O=await Promise.race([N,_]);if(!O.ok)throw new Error(`Error HTTP: ${O.status} - ${O.statusText}`);const D=(await O.json()).filter(B=>B.estado).map(B=>{const z=B.imagenes&&B.imagenes.urlimg?B.imagenes.urlimg:g;return{id:B.idcategoriaproducto,nombre:B.nombrecategoria,descripcion:B.descripcion,imagen:z}});l(D),p(null)}catch(_){l(x),p(`Error de conexión: ${_.message}. Mostrando datos de ejemplo.`)}finally{u(!1)}};b.useEffect(()=>{v()},[]);const y=()=>{const _=Math.random().toString(36).substring(2,10).toUpperCase();e(_),n(!0)},E=()=>n(!1),C=s.filter(_=>_.nombre.toLowerCase().includes(a.toLowerCase())),k=_=>{const N=_.nombre.toLowerCase();N.includes("fresa")?h("/detalle-fresas"):N.includes("oblea")?h("/detalle-obleas"):N.includes("mini dona")?h("/detalle-mini-donas"):N.includes("cupcake")?h("/detalle-cupcake"):N.includes("arroz")?h("/detalle-arroz"):N.includes("postres")?h("/detalle-postres"):N.includes("sandwich")||N.includes("sanduches")?h("/detalle-sandwiches"):N.includes("chocolates")?h("/detalle-chocolates"):N.includes("torta")||N.includes("tortas")?h("/detalle-tortas"):N.includes("bebida")||N.includes("bebidas")?h("/detalle-bebidas"):console.log("⚠️ No se encontró ruta específica para:",N)};return c?o.createElement("div",{className:"carta-container"},o.createElement(CN,null),o.createElement("div",{className:"loading-container",style:{textAlign:"center",padding:"50px",backgroundColor:"#fff",margin:"20px",borderRadius:"10px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"2rem",marginBottom:"20px"}},"🍰"),o.createElement("p",{style:{fontSize:"1.2rem",marginBottom:"10px"}},"Cargando productos deliciosos..."),o.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #ff0080",borderTop:"5px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),o.createElement("style",null,`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `))):o.createElement("div",{className:"carta-container"},o.createElement(CN,null),o.createElement(MM,{value:a,onChange:i}),f&&o.createElement("div",{className:"error-message",style:{color:"#ff6b6b",textAlign:"center",padding:"15px",backgroundColor:"#fff3cd",margin:"10px 0",borderRadius:"10px",border:"1px solid #ffeaa7",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}},"⚠️ ",f),o.createElement("h1",{className:"destacados-titulo"},"Categoría de Productos"),o.createElement(zM,{productos:C,onProductoClick:k}),o.createElement(FM,{onClick:y}),r&&o.createElement($M,{code:t,onClose:E}))}const qM=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var v;return x.categoria==="Fresas Con Crema"||((v=x.categoriaproducto)==null?void 0:v.nombrecategoria)==="Fresas Con Crema"}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))};function UM(){const[t,e]=b.useState(null),[r,n]=b.useState(null),[a,i]=b.useState({}),[s,l]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const h=await(await fetch("https://deliciasoft-backend.onrender.com/api/imagenes")).json(),g={};h.forEach(x=>{g[x.idimagen]=x.urlimg}),i(g),l(!1)}catch(p){console.error("Error al cargar las imágenes:",p),l(!1)}})()},[]);const c=f=>{if(r===f){n(null);return}navigator.geolocation?navigator.geolocation.getCurrentPosition(p=>{const{latitude:h,longitude:g}=p.coords;e({lat:h,lng:g}),n(f);const x=document.getElementById(`mapa-${f}`);x&&setTimeout(()=>{x.scrollIntoView({behavior:"smooth",block:"start"})},100)},p=>{console.error("Error de geolocalización",p),alert("No se pudo obtener tu ubicación.")}):alert("Tu navegador no soporta geolocalización.")},u=f=>r===f&&t?o.createElement("div",{id:`mapa-${f}`,className:"mapa-container"},o.createElement("iframe",{title:"Mapa",width:"100%",height:"300",style:{border:"2px solid #ff69b4",borderRadius:"10px",marginTop:"1rem",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},loading:"lazy",allowFullScreen:!0,src:`https://maps.google.com/maps?q=${t.lat},${t.lng}&z=15&output=embed`})):null;return s?o.createElement("div",{className:"sedes-container"},o.createElement("h2",{className:"sedes-titulo"},"NUESTRAS SEDES"),o.createElement("div",{style:{textAlign:"center",padding:"2rem"}},"Cargando imágenes...")):o.createElement("div",{className:"sedes-container"},o.createElement("h2",{className:"sedes-titulo"},"NUESTRAS SEDES"),o.createElement("div",{className:"sedes-grid"},o.createElement("div",{className:"sede"},o.createElement("h3",{className:"sede-nombre"},"SAN PABLO"),o.createElement("img",{src:a[4]||"https://via.placeholder.com/300x200?text=Imagen+no+disponible",alt:"San Pablo",className:"sede-imagen",onError:f=>{f.target.src="https://via.placeholder.com/300x200?text=Error+al+cargar+imagen"}}),o.createElement("ul",{className:"sede-info"},o.createElement("li",null,o.createElement(sE,{size:18})," Cra.37 # 97-27"),o.createElement("li",null,o.createElement(Mv,{size:18})," 321 3098504"),o.createElement("li",null,o.createElement(iE,{size:18})," Lunes a viernes de 10:30am - 05:30pm"),o.createElement("li",null,o.createElement(xN,{size:18})," Medellín - Antioquia")),o.createElement("button",{className:"sede-boton",onClick:()=>c("sanPablo")},"Mapa"),u("sanPablo")),o.createElement("div",{className:"sede"},o.createElement("h3",{className:"sede-nombre"},"SAN BENITO"),o.createElement("img",{src:a[2]||"https://via.placeholder.com/300x200?text=Imagen+no+disponible",alt:"San Benito",className:"sede-imagen",onError:f=>{f.target.src="https://via.placeholder.com/300x200?text=Error+al+cargar+imagen"}}),o.createElement("ul",{className:"sede-info"},o.createElement("li",null,o.createElement(sE,{size:18})," Cra.37 # 97-27"),o.createElement("li",null,o.createElement(Mv,{size:18})," 321 3098504"),o.createElement("li",null,o.createElement(iE,{size:18})," Lunes a viernes de 10:30am - 05:30pm"),o.createElement("li",null,o.createElement(xN,{size:18})," Medellín - Antioquia")),o.createElement("button",{className:"sede-boton",onClick:()=>c("sanBenito")},"Mapa"),u("sanBenito"))))}const mc="https://deliciasoft-backend-i6g9.onrender.com/api";class HM{async handleResponse(e){const r=e.headers.get("content-type");if(r&&r.includes("application/json"))return{isJson:!0,data:await e.json()};{const n=await e.text();return console.error("Respuesta no-JSON recibida:",n.substring(0,500)),{isJson:!1,data:{message:"Error del servidor: respuesta inválida",responseText:n.substring(0,200)}}}}async enviarCodigoValidacionLogin(e,r=null){try{console.log("📧 Enviando código de validación a:",e),console.log("📧 Tipo de usuario especificado:",r),console.log("🌐 URL del API:",mc);const n={correo:e,userType:r||"cliente"};console.log("📦 Datos a enviar:",n);const a=await fetch(`${mc}/auth/send-verification-code`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});console.log("📡 Status de respuesta:",a.status),console.log("📡 Headers de respuesta:",[...a.headers.entries()]);const{isJson:i,data:s}=await this.handleResponse(a);return i&&a.ok&&s.success?(console.log("✅ Código enviado exitosamente:",s),{success:!0,codigo:s.codigo,message:s.message||"Código enviado correctamente",userType:s.userType,emailSent:s.emailSent||!1,provider:s.provider||"Unknown"}):(console.error("❌ Error enviando código:",{status:a.status,statusText:a.statusText,data:s,isJson:i}),{success:!1,message:s.message||`Error ${a.status}: ${a.statusText}`,status:a.status,responseData:s})}catch(n){console.error("❌ Error en enviarCodigoValidacionLogin:",{name:n.name,message:n.message,stack:n.stack});const a=Math.floor(1e5+Math.random()*9e5).toString();return console.log("🔓 CÓDIGO FALLBACK GENERADO:",a),{success:!0,codigo:a,message:"Código generado (modo fallback - error de conexión)",fallback:!0,emailSent:!1,provider:"Fallback Local",originalError:n.message}}}async enviarCodigoValidacionLoginConDeteccion(e){try{console.log("🔍 Detectando tipo de usuario para:",e);let r="cliente";try{console.log("🔍 Consultando endpoint de usuarios...");const n=await fetch(`${mc}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:AbortSignal.timeout(5e3)});console.log("📡 Status consulta usuarios:",n.status),n.ok?(await n.json()).some(s=>s.correo===e)?(r="admin",console.log("✅ Usuario detectado como admin")):console.log("ℹ️ Usuario no encontrado en tabla usuarios"):console.warn("⚠️ No se pudo consultar usuarios, status:",n.status)}catch(n){console.warn("⚠️ Error en detección automática:",n.message)}return console.log("🎯 Tipo de usuario final detectado:",r),await this.enviarCodigoValidacionLogin(e,r)}catch(r){return console.error("❌ Error crítico en detección automática:",r),await this.enviarCodigoValidacionLogin(e,"cliente")}}async loginConValidacion(e,r,n){try{console.log("🔐 Haciendo login con validación para:",e),console.log("🔑 Código proporcionado:",n);const a={correo:e,password:r,codigo:n};console.log("📦 Datos de login:",{correo:e,codigo:n,passwordLength:r.length});const i=await fetch(`${mc}/auth/verify-code-and-login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(1e4)});console.log("📡 Status login:",i.status);const{isJson:s,data:l}=await this.handleResponse(i);return s&&i.ok&&l.success?(console.log("✅ Login exitoso:",{userType:l.userType,hasToken:!!l.token,hasUser:!!l.user}),{success:!0,user:l.user,userType:l.userType,token:l.token}):(console.error("❌ Error en login:",{status:i.status,data:l}),{success:!1,message:l.message||"Error al iniciar sesión",status:i.status})}catch(a){return console.error("❌ Error en loginConValidacion:",a),{success:!1,message:"Error de conexión. Inténtalo nuevamente.",originalError:a.message}}}async solicitarRecuperacionPassword(e){try{console.log("🔄 Solicitando recuperación de contraseña para:",e);const r=await fetch(`${mc}/auth/request-password-reset`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({correo:e}),signal:AbortSignal.timeout(1e4)}),{isJson:n,data:a}=await this.handleResponse(r);return n&&r.ok?{success:!0,codigo:a.codigo,message:a.message||"Código enviado correctamente"}:{success:!1,message:a.message||"Error al enviar código"}}catch(r){return console.error("❌ Error en solicitar recuperación:",r),{success:!0,codigo:Math.floor(1e5+Math.random()*9e5).toString(),message:"Código generado (modo desarrollo)",fallback:!0}}}async cambiarPasswordConCodigo(e,r,n){try{console.log("🔄 Cambiando contraseña con código para:",e);const a=await fetch(`${mc}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({correo:e,codigo:r,nuevaPassword:n}),signal:AbortSignal.timeout(1e4)}),{isJson:i,data:s}=await this.handleResponse(a);return i&&a.ok?{success:!0,message:s.message||"Contraseña actualizada correctamente"}:{success:!1,message:s.message||"Error al cambiar contraseña"}}catch(a){return console.error("❌ Error cambiando contraseña:",a),{success:!1,message:"Error de conexión. Inténtalo nuevamente."}}}async loginDirecto(e,r){try{console.log("🔐 Login directo para:",e);const n=await fetch(`${mc}/auth/direct-login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({correo:e,password:r}),signal:AbortSignal.timeout(1e4)}),{isJson:a,data:i}=await this.handleResponse(n);return a&&n.ok&&i.success?{success:!0,user:i.user,userType:i.userType,token:i.token}:{success:!1,message:i.message||"Credenciales incorrectas"}}catch(n){return console.error("❌ Error en login directo:",n),{success:!1,message:"Error de conexión"}}}async testConnection(){try{console.log("🧪 Probando conexión con el servidor...");const e=await fetch(`${mc}/auth/test-config`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(console.log("📡 Status test:",e.status),e.ok){const r=await e.json();return console.log("✅ Configuración del servidor:",r),{success:!0,config:r}}else return console.error("❌ Server test failed:",e.status),{success:!1,status:e.status}}catch(e){return console.error("❌ Error en test de conexión:",e),{success:!1,error:e.message}}}async registrarCliente(e){try{console.log("📝 Registrando cliente:",e);const r={tipodocumento:e.tipoDocumento,numerodocumento:e.documento,nombre:e.nombre,apellido:e.apellido,correo:e.correo,celular:e.contacto,hashcontrasena:e.password,direccion:"",barrio:"",ciudad:"",fechanacimiento:null,estado:!0},n=await fetch(`${mc}/clientes`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}),{isJson:a,data:i}=await this.handleResponse(n);if(!a)throw new Error("Error del servidor: respuesta inválida");if(!n.ok)throw new Error(i.message||"Error en el servidor");return console.log("✅ Cliente registrado exitosamente:",i),{success:!0,user:i,message:"Registro exitoso"}}catch(r){return console.error("❌ Error al registrar cliente:",r),{success:!1,message:r.message||"Error de conexión con el servidor"}}}async verificarCorreoExistente(e){try{const r=async i=>{try{const s=await fetch(`${mc}/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(!s.ok)return console.warn(`No se pudo verificar en ${i}:`,s.status),!1;const{isJson:l,data:c}=await this.handleResponse(s);return l?Array.isArray(c)?c.some(u=>u.correo===e):!1:(console.warn(`Respuesta no-JSON de ${i}`),!1)}catch(s){return console.warn(`Error verificando ${i}:`,s.message),!1}},[n,a]=await Promise.all([r("usuarios"),r("clientes")]);return n||a}catch(r){return console.error("❌ Error al verificar correo:",r),!1}}async obtenerDatosClienteLogueado(){try{const e=this.getUserProfile();if(!e||e.role!=="cliente")throw new Error("No hay sesión de cliente activa");if(e.data&&e.data.idcliente)return e.data;const r=await fetch(`${mc}/clientes`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Error al obtener datos del cliente");const a=(await r.json()).find(i=>i.correo===e.email);if(!a)throw new Error("Cliente no encontrado");return localStorage.setItem("userData",JSON.stringify(a)),a}catch(e){throw console.error("❌ Error obteniendo datos del cliente:",e),e}}getUserProfile(){const e=localStorage.getItem("userEmail"),r=localStorage.getItem("userRole"),n=localStorage.getItem("userData");return e&&r?{email:e,role:r,data:n?JSON.parse(n):null}:null}logout(){localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData"),localStorage.removeItem("productosTemporales")}isAuthenticated(){const e=localStorage.getItem("authToken"),r=localStorage.getItem("userRole");return!!(e&&r)}isAdmin(){return localStorage.getItem("userRole")==="admin"}isCliente(){return localStorage.getItem("userRole")==="cliente"}}const wd=new HM,Ni="https://deliciasoft-backend-i6g9.onrender.com/api";class WM{constructor(){this.sedesCache=null,this.cacheExpiry=null,this.CACHE_DURATION=30*60*1e3}async obtenerSedes(){try{if(this.sedesCache&&this.cacheExpiry&&Date.now()<this.cacheExpiry)return this.sedesCache;console.log("Obteniendo sedes desde API...");const e=await fetch(`${Ni}/sede`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Sedes obtenidas:",r);const n=r.filter(a=>a.estado===!0);return this.sedesCache=n,this.cacheExpiry=Date.now()+this.CACHE_DURATION,n}catch(e){console.error("Error al obtener sedes:",e);const r=[{idsede:1,nombre:"San Pablo"},{idsede:2,nombre:"San Benito"}];return this.sedesCache||(this.sedesCache=r),this.sedesCache}}async obtenerIdSede(e){try{const n=(await this.obtenerSedes()).find(i=>i.nombre===e);return n?(console.log(`Sede encontrada: ${e} -> ID: ${n.idsede}`),n.idsede):(console.warn(`Sede '${e}' no encontrada, usando mapeo por defecto`),{"San Pablo":1,"San Benito":2}[e]||1)}catch(r){return console.error("Error al obtener ID de sede:",r),{"San Pablo":1,"San Benito":2}[e]||1}}obtenerEstadoSegunTipo(e){return e==="venta directa"||e==="directa"?5:e==="pedido"?1:5}formatearFecha(e){try{if(e instanceof Date)return e.toISOString();if(typeof e=="string"){if(e.includes("T")&&e.includes("Z"))return e;if(e.match(/^\d{4}-\d{2}-\d{2}$/))return`${e}T00:00:00.000Z`;const r=new Date(e);if(isNaN(r.getTime()))throw new Error("Fecha inválida");return r.toISOString()}return console.warn("Fecha no reconocida, usando fecha actual:",e),new Date().toISOString()}catch(r){return console.error("Error al formatear fecha:",r,"Fecha original:",e),new Date().toISOString()}}transformarVentaDesdeAPI(e){return e?{idVenta:e.idventa,fechaVenta:e.fechaventa,total:parseFloat(e.total||0),metodoPago:e.metodopago,tipoVenta:e.tipoventa,idEstadoVenta:e.idestadoventa,nombreEstado:e.nombreEstado,nombreCliente:e.nombreCliente,nombreSede:e.nombreSede}:null}transformarVentaCompletaDesdeAPI(e){var a;if(!e)return null;let r=0,n=0;return e.detalleventa&&e.detalleventa.length>0&&(r=e.detalleventa.reduce((i,s)=>i+parseFloat(s.subtotal||0),0),n=e.detalleventa.reduce((i,s)=>i+parseFloat(s.iva||0),0)),{idVenta:e.idventa,fechaVenta:e.fechaventa,nombreCliente:e.clienteData?`${e.clienteData.nombre} ${e.clienteData.apellido}`:"N/A",nombreSede:e.sede?e.sede.nombre:"N/A",metodoPago:e.metodopago,tipoVenta:e.tipoventa,idEstadoVenta:e.estadoVentaId,nombreEstado:((a=e.estadoVenta)==null?void 0:a.nombre_estado)||"N/A",total:parseFloat(e.total),subtotal:r,iva:n,detalleVenta:this.transformarDetalleVentaDesdeAPI(e.detalleventa),abonos:this.transformarAbonosDesdeAPI(e.abonos)}}transformarDetalleVentaDesdeAPI(e){return!e||!Array.isArray(e)?[]:e.map(r=>{var n,a,i,s;return{iddetalleventa:r.iddetalleventa,idventa:r.idventa,idproductogeneral:r.idproductogeneral,cantidad:r.cantidad,nombreProducto:((n=r.productogeneral)==null?void 0:n.nombre)||"Producto N/A",precioUnitario:parseFloat(r.preciounitario||0),subtotal:parseFloat(r.subtotal||0),iva:parseFloat(r.iva||0),adiciones:((a=r.detalleadiciones)==null?void 0:a.map(l=>{var c,u,f;return{id:((c=l.catalogoadiciones)==null?void 0:c.idadiciones)||l.idadiciones,nombre:((u=l.catalogoadiciones)==null?void 0:u.nombre)||"Adición N/A",precio:parseFloat(((f=l.catalogoadiciones)==null?void 0:f.precio)||0),cantidad:l.cantidadadicionada||1}}))||[],salsas:((i=r.detallesalsas)==null?void 0:i.map(l=>{var c,u,f;return{id:((c=l.catalogosalsa)==null?void 0:c.idsalsa)||l.idsalsa,nombre:((u=l.catalogosalsa)==null?void 0:u.nombre)||"Salsa N/A",precio:parseFloat(((f=l.catalogosalsa)==null?void 0:f.precio)||0),cantidad:l.cantidadadicionada||1}}))||[],sabores:((s=r.detallesabores)==null?void 0:s.map(l=>{var c,u,f;return{id:((c=l.catalogosabor)==null?void 0:c.idsabor)||l.idsabor,nombre:((u=l.catalogosabor)==null?void 0:u.nombre)||"Sabor N/A",precio:parseFloat(((f=l.catalogosabor)==null?void 0:f.precio)||0),cantidad:l.cantidadadicionada||1}}))||[]}})}transformarAbonosDesdeAPI(e){return!e||!Array.isArray(e)?[]:e.map(r=>{var a;const n=parseFloat(r.monto||r.cantidadpagar||r.cantidadPagar||r.totalPagado||0);return{id:r.id||r.idabono||r.idAbono,idAbono:r.id||r.idabono||r.idAbono,idPedido:r.idPedido||r.idpedido,metodoPago:r.metodoPago||r.metodopago,metodo_pago:r.metodoPago||r.metodopago,monto:n,cantidadpagar:n,cantidadPagar:n,totalPagado:n,TotalPagado:n,comprobante_imagen:r.comprobante_imagen||((a=r.imagenes)==null?void 0:a.urlimg)||null,imagenes:r.imagenes||null,fecha:r.fecha||new Date().toISOString().split("T")[0],anulado:!!r.anulado,cliente:r.cliente||"N/A",totalVenta:parseFloat(r.totalVenta||0)}})}async obtenerVentas(){try{console.log("Obteniendo ventas desde:",`${Ni}/venta/listado-resumen`);const e=await fetch(`${Ni}/venta/listado-resumen`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const n=await e.text();throw console.error("Error response:",n),new Error(`HTTP error! Status: ${e.status}. ${n}`)}const r=await e.json();return console.log("Ventas recibidas desde API:",r),r.map(this.transformarVentaDesdeAPI.bind(this))}catch(e){console.error("Error al obtener el listado de ventas:",e);try{return console.log("Intentando con ruta básica..."),await this.obtenerVentasBasico()}catch(r){throw console.error("Error en fallback:",r),new Error(`No se pudieron obtener las ventas: ${e.message}`)}}}async obtenerVentasBasico(){try{console.log("Obteniendo ventas desde endpoint básico:",`${Ni}/venta`);const e=await fetch(`${Ni}/venta`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const n=await e.text();throw console.error("Error en ruta básica:",n),new Error(`HTTP error! Status: ${e.status}`)}const r=await e.json();return console.log("Ventas básicas recibidas:",r),r.map(n=>({idVenta:n.idventa,fechaVenta:n.fechaventa,total:parseFloat(n.total||0),metodoPago:n.metodopago||"",tipoVenta:n.tipoventa||"",idEstadoVenta:n.estadoVenta||1,nombreEstado:"Activa",nombreCliente:n.cliente||"Cliente N/A",nombreSede:n.sede||"Sede N/A"}))}catch(e){throw console.error("Error al obtener ventas básico:",e),new Error(`No se pudieron obtener las ventas: ${e.message}`)}}async obtenerEstadosVenta(){try{console.log("Obteniendo estados de venta desde:",`${Ni}/estado-venta`);const e=await fetch(`${Ni}/estado-venta`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const n=await e.text();throw console.error("Error al obtener estados:",n),new Error(`HTTP error! Status: ${e.status}. ${n}`)}const r=await e.json();return console.log("Estados recibidos:",r),r}catch(e){return console.error("Error al obtener los estados de venta:",e),console.log("Usando estados por defecto..."),[{idestadoventa:1,nombre_estado:"En espera"},{idestadoventa:2,nombre_estado:"En producción"},{idestadoventa:3,nombre_estado:"Por entregar"},{idestadoventa:4,nombre_estado:"Finalizado"},{idestadoventa:5,nombre_estado:"Activa"},{idestadoventa:6,nombre_estado:"Anulada"}]}}async crearVenta(e){try{console.log("Datos originales recibidos para crear venta:",e);let r=null;e.clienteId!==null&&e.clienteId!==void 0?(r=parseInt(e.clienteId),console.log("Cliente ID procesado:",r)):console.log("Usando cliente genérico (null)");const n=await this.obtenerIdSede(e.sedeNombre||e.sede);console.log(`Sede procesada: ${e.sedeNombre||e.sede} -> ID: ${n}`);let a=e.tipoventa||e.tipo_venta;a==="venta directa"?a="directa":a==="pedido"&&(a="pedido");const i=this.obtenerEstadoSegunTipo(e.tipoventa||e.tipo_venta),s=(e.detalleventa||e.productos||[]).map(p=>({idproductogeneral:parseInt(p.idproductogeneral||p.id),cantidad:parseInt(p.cantidad||1),preciounitario:parseFloat(p.preciounitario||p.precio||0),subtotal:parseFloat(p.subtotal||p.precio*p.cantidad||0),iva:parseFloat(p.iva||p.precio*p.cantidad*.16||0)})),l=this.formatearFecha(e.fechaventa||e.fecha_venta);console.log("Fecha original:",e.fechaventa||e.fecha_venta),console.log("Fecha formateada:",l);const c={fechaventa:l,cliente:r,idsede:n,metodopago:e.metodopago||e.metodo_pago,tipoventa:a,estadoVentaId:i,total:parseFloat(e.total||0),detalleventa:s};if(console.log("Datos transformados para la API:",c),console.log("Cliente final que se enviará:",r),console.log("Sede final que se enviará:",n),console.log("Tipo de venta:",a),!c.metodopago)throw new Error("Método de pago es requerido");if(!c.tipoventa)throw new Error("Tipo de venta es requerido");if(!c.total||c.total<=0)throw new Error("Total debe ser mayor a 0");if(!s.length)throw new Error("Debe incluir al menos un producto");const u=await fetch(`${Ni}/venta`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok){const p=await u.text();console.error("Error al crear venta:",p);let h=`HTTP error! Status: ${u.status}`;try{const g=JSON.parse(p);g.message&&(h=g.message),g.tipo==="INVENTARIO_INSUFICIENTE"&&(h=`Stock insuficiente: ${g.message}`)}catch{h=p||h}throw new Error(h)}const f=await u.json();return console.log("Venta creada exitosamente:",f),{idVenta:f.idventa,fechaVenta:f.fechaventa,total:parseFloat(f.total),metodoPago:f.metodopago,tipoVenta:f.tipoventa,idEstadoVenta:f.estadoVentaId||i,nombreEstado:i===5?"Activa":"En espera",nombreCliente:e.cliente||e.clienteNombre||"Cliente Genérico",nombreSede:e.sede||e.sedeNombre||"N/A",mensaje:f.mensaje}}catch(r){throw console.error("Error al crear la venta:",r),new Error(r.message||"No se pudo crear la venta")}}async obtenerVentaPorId(e){try{console.log("Obteniendo detalle de venta ID:",e);let r=await fetch(`${Ni}/venta/${e}/detalles`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(r.ok||(console.log("Endpoint de detalles no disponible, intentando con endpoint básico..."),r=await fetch(`${Ni}/venta/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})),!r.ok){const a=await r.text();throw console.error("Error al obtener detalle:",a),new Error(`HTTP error! Status: ${r.status}. ${a}`)}const n=await r.json();console.log("Detalle de venta recibido:",n);try{const a=await fetch(`${Ni}/abonos/pedido/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(a.ok){const i=await a.json();console.log("Abonos obtenidos:",i),n.abonos=i}else console.warn("No se pudieron obtener los abonos"),n.abonos=[]}catch(a){console.warn("Error al obtener abonos:",a),n.abonos=[]}return this.transformarVentaCompletaDesdeAPI(n)}catch(r){throw console.error("Error al obtener el detalle de la venta:",r),new Error(`No se pudo obtener el detalle de la venta: ${r.message}`)}}async anularVenta(e){try{console.log("Anulando venta ID:",e);const r=await fetch(`${Ni}/venta/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({estadoVentaId:6})});if(!r.ok){const a=await r.text();throw console.error("Error al anular:",a),new Error(`HTTP error! Status: ${r.status}. ${a}`)}const n=await r.json();return console.log("Venta anulada exitosamente:",n),n}catch(r){throw console.error("Error al anular venta:",r),new Error(`No se pudo anular la venta: ${r.message}`)}}async actualizarEstadoVenta(e,r){try{console.log(`Actualizando estado de venta ${e} a estado ${r}`);const n=await fetch(`${Ni}/venta/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({estadoVentaId:r})});if(!n.ok){const i=await n.text();throw console.error("Error al actualizar estado:",i),new Error(`HTTP error! Status: ${n.status}. ${i}`)}const a=await n.json();return console.log("Estado actualizado exitosamente:",a),a}catch(n){throw console.error("Error al actualizar estado de venta:",n),new Error(`No se pudo actualizar el estado: ${n.message}`)}}async crearAbono(e,r=null){try{console.log("Creando abono para venta ID:",e.idpedido||e.idPedido);const n=new FormData;n.append("idpedido",e.idpedido||e.idPedido),n.append("metodopago",e.metodopago||e.metodo_pago),n.append("cantidadpagar",e.cantidadpagar||e.total_pagado),n.append("TotalPagado",e.TotalPagado||e.total_pagado),r&&(n.append("comprobante",r),console.log("Imagen agregada al FormData:",r.name,r.size)),console.log("Datos del FormData:");for(let[s,l]of n.entries())console.log(`${s}:`,typeof l=="object"?`Archivo: ${l.name}`:l);const a=await fetch(`${Ni}/abonos`,{method:"POST",body:n});if(!a.ok){const s=await a.text();console.error("Error al crear abono - Status:",a.status),console.error("Error al crear abono - Response:",s);let l=`Error del servidor (${a.status})`;try{const c=JSON.parse(s);c.message&&(l=c.message,l.includes("too long for the column")?l="El método de pago seleccionado es muy largo. Use: efectivo, tarjeta, transferencia u otro.":l.includes("ID de pedido es requerido")?l="Error interno: ID de venta requerido":l.includes("Método de pago muy largo")&&(l="El método de pago es muy largo (máximo 20 caracteres)"))}catch{console.warn("No se pudo parsear el error como JSON")}throw new Error(l)}const i=await a.json();return console.log("Abono creado exitosamente:",i),i}catch(n){throw console.error("Error al crear abono:",n),new Error(`No se pudo crear el abono: ${n.message}`)}}async anularAbono(e){try{if(console.log("Anulando abono ID:",e),!e||e<=0)throw new Error("ID de abono inválido");const r=await fetch(`${Ni}/abonos/${e}/anular`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!r.ok){const a=await r.text();throw console.error("Error al anular abono:",a),new Error(`HTTP error! Status: ${r.status}. ${a}`)}const n=await r.json();return console.log("Abono anulado exitosamente:",n),n}catch(r){throw console.error("Error al anular abono:",r),new Error(`No se pudo anular el abono: ${r.message}`)}}async testConnection(){try{console.log("Testando conexión a:",Ni);const e=await fetch(`${Ni}/estado-venta`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("Test response status:",e.status),console.log("Test response ok:",e.ok),e.ok){const r=await e.json();return console.log("Test data:",r),{success:!0,data:r}}else{const r=await e.text();return console.log("Test error:",r),{success:!1,status:e.status,error:r}}}catch(e){return console.error("Error en test de conexión:",e),{success:!1,error:e.message}}}}const Io=new WM,Wc="https://deliciasoft-backend.onrender.com/api";class VM{async obtenerCategorias(){try{const e=await fetch(`${Wc}/categorias-productos`);if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);const r=await e.json();return console.log("Categorías obtenidas:",r),r}catch(e){throw console.error("Error al obtener categorías:",e),new Error("No se pudieron cargar las categorías de productos")}}async obtenerCategoriaPorId(e){try{const r=await fetch(`${Wc}/categorias-productos/${e}`);if(!r.ok)throw r.status===404?new Error("Categoría no encontrada"):new Error(`Error ${r.status}: ${r.statusText}`);return await r.json()}catch(r){throw console.error("Error al obtener categoría:",r),r}}async crearCategoria(e,r=null){try{this.validarDatosCategoria(e),r&&this.validarArchivoImagen(r),console.log("Creando categoría con datos:",e),console.log("Archivo imagen:",r?"Sí":"No");const n=new FormData;n.append("nombrecategoria",e.nombre.trim()),n.append("descripcion",e.descripcion.trim()),n.append("estado",e.estado!==void 0?e.estado:!0),r&&(n.append("imagen",r),console.log("Imagen agregada al FormData:",r.name,r.size,r.type)),console.log("FormData entries:");for(let s of n.entries())console.log(s[0]+":",s[1]);const a=await fetch(`${Wc}/categorias-productos`,{method:"POST",body:n});if(!a.ok){let s=`Error ${a.status}: ${a.statusText}`;try{const l=await a.json();console.error("Error del servidor:",l),s=l.message||s}catch(l){console.error("No se pudo parsear el error:",l)}throw new Error(s)}const i=await a.json();return console.log("Categoría creada exitosamente:",i),i}catch(n){throw console.error("Error al crear categoría:",n),n}}async actualizarCategoria(e,r,n=null){try{this.validarDatosCategoria(r),n&&this.validarArchivoImagen(n),console.log("Actualizando categoría con ID:",e,"Datos:",r),console.log("Nueva imagen:",n?"Sí":"No");const a=new FormData;a.append("nombrecategoria",r.nombre.trim()),a.append("descripcion",r.descripcion.trim()),a.append("estado",r.estado),n&&(a.append("imagen",n),console.log("Nueva imagen agregada al FormData:",n.name));const i=await fetch(`${Wc}/categorias-productos/${e}`,{method:"PUT",body:a});if(!i.ok){let l=`Error ${i.status}: ${i.statusText}`;try{const c=await i.json();console.error("Error del servidor:",c),l=c.message||l}catch(c){console.error("No se pudo parsear el error:",c)}throw new Error(l)}const s=await i.json();return console.log("Categoría actualizada exitosamente:",s),s}catch(a){throw console.error("Error al actualizar categoría:",a),a}}async eliminarCategoria(e){try{console.log("Eliminando categoría con ID:",e);const r=await fetch(`${Wc}/categorias-productos/${e}`,{method:"DELETE"});if(!r.ok){let a=`Error ${r.status}: ${r.statusText}`;try{a=(await r.json()).message||a}catch{}throw new Error(a)}const n=await r.json();return console.log("Categoría eliminada:",n),n}catch(r){throw console.error("Error al eliminar categoría:",r),r}}async toggleEstadoCategoria(e){try{console.log("Cambiando estado de categoría con ID:",e);const r=await fetch(`${Wc}/categorias-productos/${e}/estado`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!r.ok){let a=`Error ${r.status}: ${r.statusText}`;try{a=(await r.json()).message||a}catch{}throw new Error(a)}const n=await r.json();return console.log("Estado de categoría cambiado:",n),n}catch(r){throw console.error("Error al cambiar estado de categoría:",r),r}}async categoriaTieneProductos(e){try{console.log("Verificando productos asociados para categoría:",e);const r=await fetch(`${Wc}/categorias-productos/${e}/productos`);if(r.ok){const n=await r.json();return n&&n.length>0}else return r.status===404?(console.log("Endpoint de productos no encontrado, asumiendo sin productos asociados"),!1):(console.log("Error al verificar productos, permitiendo eliminación"),!1)}catch(r){return console.error("Error al verificar productos asociados:",r),!1}}validarDatosCategoria(e){const r=[];if((!e.nombre||e.nombre.trim()==="")&&r.push("El nombre de la categoría es obligatorio"),e.nombre&&e.nombre.trim().length>20&&r.push("El nombre no puede tener más de 20 caracteres"),(!e.descripcion||e.descripcion.trim()==="")&&r.push("La descripción es obligatoria"),e.descripcion&&e.descripcion.trim().length>50&&r.push("La descripción no puede tener más de 50 caracteres"),r.length>0)throw new Error(r.join(", "))}validarArchivoImagen(e){if(!e)return!0;const r=["image/jpeg","image/jpg","image/png","image/webp"],n=5*1024*1024;if(!r.includes(e.type))throw new Error("Solo se permiten archivos de imagen (JPEG, PNG, WebP)");if(e.size>n)throw new Error("El archivo no puede ser mayor a 5MB");return!0}async obtenerCategoriasActivas(){try{const e=await fetch(`${Wc}/categorias-productos/activas`);if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error al obtener categorías activas:",e),e}}async testearConexion(){try{console.log("Testeando conexión con:",`${Wc}/categorias-productos`);const e=await fetch(`${Wc}/categorias-productos`);return console.log("Status de respuesta:",e.status),e.ok}catch(e){return console.error("Error de conexión:",e),!1}}}const Ec=new VM,NN=({onProductoSeleccionado:t,onSiguiente:e,productosSeleccionados:r=[],onActualizarCantidad:n,onEliminarProducto:a})=>{const[i,s]=b.useState(null),[l,c]=b.useState(null),[u,f]=b.useState({show:!1,type:"",message:""}),[p,h]=b.useState(!1),[g,x]=b.useState(!1),[v,y]=b.useState([]),[E,C]=b.useState([]),[k,_]=b.useState(!0),[N,O]=b.useState(null),R=Yo(),{carrito:D,actualizarCantidadCarrito:B,eliminarDelCarrito:z,productosSeleccionados:I,agregarProductoSeleccionado:L,actualizarCantidadSeleccionado:M,eliminarProductoSeleccionado:F}=b.useContext(pl);b.useEffect(()=>{H()},[]),b.useEffect(()=>{const xe=localStorage.getItem("productosTemporales");if(xe)try{const Pe=JSON.parse(xe);console.log("Productos recuperados:",Pe),Pe.forEach(_e=>{L(_e)}),localStorage.removeItem("productosTemporales"),re("success","Productos recuperados correctamente")}catch(Pe){console.error("Error al recuperar productos:",Pe),localStorage.removeItem("productosTemporales")}},[]);const H=async()=>{try{_(!0),O(null);const[xe,Pe]=await Promise.all([Ec.obtenerCategoriasActivas(),Ms.obtenerProductos()]);console.log("Categorías obtenidas:",xe),console.log("Productos obtenidos:",Pe);const _e=xe.map(Je=>({id:Je.idcategoriaproducto||Je.id,nombre:Je.nombrecategoria||Je.nombre,icon:J(Je.nombrecategoria||Je.nombre),descripcion:Je.descripcion,imagen:Je.imagen})),ce=ee(Pe,_e);y(_e),C(ce),_e.length>0&&s(_e[0].id)}catch(xe){console.error("Error al cargar datos:",xe),O(`Error al cargar datos: ${xe.message}`),re("error","Error al cargar categorías y productos")}finally{_(!1)}},J=xe=>{const Pe=xe.toLowerCase();return Pe.includes("fresa")?"🍓":Pe.includes("dona")?"🍩":Pe.includes("postre")?"🍮":Pe.includes("cupcake")?"🧁":Pe.includes("arroz")?"🍚":Pe.includes("sandwich")||Pe.includes("sanduche")?"🥪":Pe.includes("torta")||Pe.includes("cake")?"🎂":Pe.includes("bebida")?"🥤":Pe.includes("helado")?"🍦":"🍰"},ee=(xe,Pe)=>{const _e={};return Pe.forEach(ce=>{_e[ce.id]=[]}),xe.forEach(ce=>{const Je=ce.idcategoria||ce.idcategoriaproducto;if(Je&&_e[Je]){const Te={id:ce.id,nombre:ce.nombre,imagen:ce.urlimagen||"https://via.placeholder.com/300x200?text=Producto",precio:ce.precio,descripcion:ce.descripcion||"Descripción no disponible",categoria:Je,estado:ce.estado,cantidad:ce.cantidad};_e[Je].push(Te)}}),_e},re=(xe,Pe)=>{f({show:!0,type:xe,message:Pe}),setTimeout(()=>{f({show:!1,type:"",message:""})},3e3)},te=()=>{const xe=localStorage.getItem("authToken");return console.log("Token encontrado:",xe),!!xe},K=xe=>{const Pe={...xe,cantidad:1};L(Pe),re("success",`${xe.nombre} ha sido agregado al pedido!`),setTimeout(()=>{const _e=document.getElementById("resumen-pedido");_e&&_e.scrollIntoView({behavior:"smooth",block:"start"})},100)},U=(xe,Pe)=>{const _e=r.find(Je=>Je.id===xe),ce=I.find(Je=>Je.id===xe);_e?Pe<=0?(a(xe),F(xe),re("error","Producto eliminado del pedido.")):(n(xe,Pe),M(xe,Pe),re("success","Cantidad actualizada.")):ce?Pe<=0?(F(xe),re("error","Producto eliminado del pedido.")):(M(xe,Pe),re("success","Cantidad actualizada.")):Pe<=0?(z(xe),re("error","Producto eliminado del pedido.")):(B(xe,Pe),re("success","Cantidad actualizada."))},j=xe=>{const Pe=r.find(ce=>ce.id===xe),_e=I.find(ce=>ce.id===xe);Pe?(a(xe),F(xe)):_e?F(xe):z(xe),re("error","Producto eliminado del pedido.")},Y=xe=>{c(xe)},G=()=>{c(null)},X=()=>{console.log("=== INICIANDO FUNCIÓN CONTINUAR ===");const xe=Fe();console.log("Todos los productos obtenidos:",xe);const Pe=xe.reduce((_e,ce)=>_e+(ce.cantidad||1),0);if(console.log("Cantidad total calculada:",Pe),Pe<10){re("error",`Necesitas al menos 10 productos en total. Tienes ${Pe} productos.`);return}if(Pe>100){re("error",`Máximo 100 productos permitidos. Tienes ${Pe} productos.`);return}if(!te()){console.log("Usuario no autenticado"),x(!0);return}console.log("Todo correcto, mostrando confirmación"),h(!0)},ie=()=>{h(!1),e()},ye=()=>{h(!1)},me=()=>{x(!1);const xe=Fe();localStorage.setItem("productosTemporales",JSON.stringify(xe)),R("/iniciar-sesion")},he=()=>{x(!1)},je=()=>{const xe=r.reduce((ce,Je)=>ce+Je.precio*Je.cantidad,0),Pe=D.reduce((ce,Je)=>ce+Je.precio*Je.cantidad,0),_e=I.reduce((ce,Je)=>ce+Je.precio*Je.cantidad,0);return xe+Pe+_e},Fe=()=>[...I,...D].reduce((_e,ce)=>{const Je=_e.find(Te=>Te.id===ce.id);return Je?Je.cantidad+=ce.cantidad:_e.push({...ce}),_e},[]);if(k)return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #e91e63",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("h3",{style:{color:"#2c3e50"}},"Cargando productos...")));if(N)return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center",backgroundColor:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"⚠️"),o.createElement("h3",{style:{color:"#e74c3c",marginBottom:"15px"}},"Error al cargar datos"),o.createElement("p",{style:{color:"#7f8c8d",marginBottom:"20px"}},N),o.createElement("button",{onClick:H,style:{padding:"12px 24px",border:"none",borderRadius:"10px",backgroundColor:"#e91e63",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer"}},"Reintentar")));const ue=E[i]||[];return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px"}},u.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:u.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ec4899, #be185d)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},u.message),o.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},o.createElement("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Selección de Productos"),o.createElement("p",{style:{color:"#7f8c8d",fontSize:"16px"}},"Elige tus productos favoritos")),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"10px",marginBottom:"30px",padding:"20px",backgroundColor:"white",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},v.map(xe=>o.createElement("button",{key:xe.id,onClick:()=>s(xe.id),style:{padding:"12px 20px",border:"none",borderRadius:"25px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:i===xe.id?"#e91e63":"#f8f9fa",color:i===xe.id?"white":"#2c3e50",boxShadow:i===xe.id?"0 4px 15px rgba(233,30,99,0.3)":"none",transform:i===xe.id?"translateY(-2px)":"none"}},o.createElement("span",{style:{marginRight:"8px"}},xe.icon),xe.nombre))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",marginBottom:"30px"}},ue.length===0?o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",backgroundColor:"white",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"📦"),o.createElement("h3",{style:{color:"#7f8c8d"}},"No hay productos disponibles en esta categoría")):ue.map(xe=>{const Pe=Fe().find(_e=>_e.id===xe.id);return o.createElement("div",{key:xe.id,style:{backgroundColor:"white",borderRadius:"20px",overflow:"hidden",boxShadow:Pe?"0 8px 25px rgba(233,30,99,0.2)":"0 4px 20px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"pointer",border:Pe?"2px solid #e91e63":"2px solid transparent",transform:Pe?"translateY(-5px)":"none"},onClick:()=>K(xe)},o.createElement("div",{style:{height:"200px",backgroundImage:`url(${xe.imagen})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"}},Pe&&o.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#e91e63",color:"white",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"}},"✓")),o.createElement("div",{style:{padding:"20px"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px",margin:"0 0 8px 0"}},xe.nombre),o.createElement("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#e91e63",margin:"0 0 15px 0"}},"$",xe.precio.toLocaleString()),o.createElement("button",{style:{width:"100%",padding:"12px",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:Pe?"#4caf50":"#e91e63",color:"white"},onClick:_e=>{_e.stopPropagation(),K(xe)}},Pe?"Seleccionado":"Seleccionar")))})),(r.length>0||D.length>0||I.length>0)&&o.createElement("div",{id:"resumen-pedido",style:{backgroundColor:"white",borderRadius:"20px",padding:"25px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"20px"}},o.createElement("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px",margin:"0 0 20px 0"}},"Resumen de Pedido (",Fe().length+D.length," productos)"),o.createElement("div",{style:{marginBottom:"20px"}},Fe().map(xe=>o.createElement("div",{key:`producto-${xe.id}`,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px 0",borderBottom:"1px solid #ecf0f1"}},o.createElement("div",null,o.createElement("span",{style:{fontSize:"14px",color:"#2c3e50",fontWeight:"500"}},xe.nombre),o.createElement("div",{style:{fontSize:"12px",color:"#7f8c8d",marginTop:"4px"}},"$",xe.precio.toLocaleString())),o.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},o.createElement("button",{onClick:()=>U(xe.id,xe.cantidad-1),style:{padding:"5px 10px",border:"none",borderRadius:"5px",backgroundColor:"#e74c3c",color:"white",cursor:"pointer"}},"-"),o.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},xe.cantidad),o.createElement("button",{onClick:()=>U(xe.id,xe.cantidad+1),style:{padding:"5px 10px",border:"none",borderRadius:"5px",backgroundColor:"#2ecc71",color:"white",cursor:"pointer"}},"+"),o.createElement("button",{onClick:()=>j(xe.id),style:{padding:"8px 16px",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#e74c3c",color:"white",transition:"all 0.3s ease"}},"Eliminar"),o.createElement("button",{onClick:()=>Y(xe),style:{padding:"8px 16px",border:"none",borderRadius:"8px",fontSize:"12px",fontWeight:"500",cursor:"pointer",backgroundColor:"#3498db",color:"white",transition:"all 0.3s ease"}},"Ver detalles"))))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"20px",borderTop:"2px solid #ecf0f1"}},o.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50"}},"Total: $",je().toLocaleString()),o.createElement("button",{onClick:X,style:{padding:"15px 30px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Continuar con Personalización →"))),l&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"500px",width:"90%",position:"relative",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"}},o.createElement("button",{onClick:G,style:{position:"absolute",top:"15px",right:"15px",width:"40px",height:"40px",border:"none",borderRadius:"50%",fontSize:"20px",cursor:"pointer",backgroundColor:"#e74c3c",color:"white",display:"flex",alignItems:"center",justifyContent:"center"}},"✕"),o.createElement("div",{style:{height:"200px",backgroundImage:`url(${l.imagen})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"15px",marginBottom:"20px"}}),o.createElement("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",margin:"0 0 10px 0"}},l.nombre),o.createElement("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#e91e63",marginBottom:"15px",margin:"0 0 15px 0"}},"$",l.precio.toLocaleString()),o.createElement("p",{style:{fontSize:"16px",color:"#7f8c8d",lineHeight:"1.5",margin:0}},l.descripcion))),p&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"}},o.createElement("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px"}},"¿Estás seguro que seleccionaste todo lo que deseas?"),o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"20px"}},o.createElement("button",{onClick:ye,style:{padding:"12px 25px",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",backgroundColor:"#e74c3c",color:"white",transition:"background-color 0.3s ease"}},"No, volver"),o.createElement("button",{onClick:ie,style:{padding:"12px 25px",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",backgroundColor:"#2ecc71",color:"white",transition:"background-color 0.3s ease"}},"Sí, continuar")))),g&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"450px",width:"90%",textAlign:"center",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"🔒"),o.createElement("h3",{style:{fontSize:"22px",fontWeight:"bold",color:"#2c3e50",marginBottom:"15px"}},"¡Inicia sesión para continuar!"),o.createElement("p",{style:{fontSize:"16px",color:"#7f8c8d",marginBottom:"25px",lineHeight:"1.5"}},"Para personalizar tu pedido y continuar con el proceso de compra, necesitas iniciar sesión en tu cuenta."),o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"15px"}},o.createElement("button",{onClick:he,style:{padding:"12px 25px",border:"2px solid #e74c3c",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",backgroundColor:"transparent",color:"#e74c3c",transition:"all 0.3s ease"}},"Cancelar"),o.createElement("button",{onClick:me,style:{padding:"12px 25px",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Iniciar Sesión")))),o.createElement("style",null,`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
        `))},GM=({selectedItems:t,onItemToggle:e,onContinue:r,onBack:n})=>{const[a]=b.useState([{id:1,nombre:"Chispas de Chocolate",imagen:"https://i.pinimg.com/736x/76/2c/7b/762c7bc7dac8135a749f7b8b3f8f070e.jpg",precio:0},{id:2,nombre:"Granola de Canela",imagen:"https://i.pinimg.com/736x/e5/a7/c4/e5a7c476f1ff55267038774bde297eeb.jpg",precio:0},{id:3,nombre:"Maní",imagen:"https://i.pinimg.com/736x/49/13/16/49131610f1afaaef6603c3fe16b943c3.jpg",precio:0},{id:4,nombre:"Chispas de colores",imagen:"https://i.pinimg.com/736x/8b/6d/40/8b6d40ca5b18d59b11ad2d2d3f061a88.jpg",precio:0},{id:5,nombre:"Oreo",imagen:"https://i.pinimg.com/736x/19/84/ee/1984eefed011f2db17a53d7ba24b5838.jpg",precio:0}]),[i,s]=b.useState({show:!1,type:"",message:""}),l=(f,p)=>{s({show:!0,type:f,message:p}),setTimeout(()=>{s({show:!1,type:"",message:""})},3e3)},c=()=>t.reduce((f,p)=>f+p.precio,0),u=f=>{t.some(h=>h.id===f.id)||t.length<3?e(f):l("error","Solo puedes seleccionar un máximo de 3 toppings.")};return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px"}},i.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:i.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ec4899, #be185d)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},i.message),o.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},o.createElement("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Selecciona Toppings"),o.createElement("p",{style:{color:"#7f8c8d",fontSize:"16px"}},"Personaliza tu pedido con deliciosos toppings (Máximo 3, ¡son gratis!)")),o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"25px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"30px"}},o.createElement("div",{style:{marginBottom:"20px"}},a.map(f=>{const p=t.some(h=>h.id===f.id);return o.createElement("div",{key:f.id,style:{display:"flex",alignItems:"center",gap:"15px",padding:"15px",margin:"10px 0",border:p?"2px solid #e91e63":"2px solid #ecf0f1",borderRadius:"15px",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:p?"#fce4ec":"#f8f9fa",transform:p?"translateY(-2px)":"none",boxShadow:p?"0 4px 15px rgba(233,30,99,0.2)":"0 2px 8px rgba(0,0,0,0.1)"},onClick:()=>u(f)},o.createElement("div",{style:{width:"60px",height:"60px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden",flexShrink:0}},o.createElement("img",{src:f.imagen,alt:f.nombre,style:{width:"100%",height:"100%",objectFit:"cover"},onError:h=>{h.target.src=`https://via.placeholder.com/60x60/E0E0E0/757575?text=${f.nombre.charAt(0)}`}})),o.createElement("div",{style:{flex:1}},o.createElement("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",margin:"0 0 5px 0"}},f.nombre),o.createElement("p",{style:{fontSize:"14px",color:"#e91e63",fontWeight:"600",margin:0}},"$",f.precio.toLocaleString())),o.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",border:p?"2px solid #e91e63":"2px solid #bdc3c7",backgroundColor:p?"#e91e63":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:p?"white":"#bdc3c7",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"}},p&&"✓"))}))),t.length>0&&o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"20px"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"15px",margin:"0 0 15px 0"}},"Toppings Seleccionados (",t.length,")"),o.createElement("div",{style:{marginBottom:"15px"}},t.map(f=>o.createElement("div",{key:f.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #ecf0f1"}},o.createElement("span",{style:{fontSize:"14px",color:"#2c3e50"}},f.nombre),o.createElement("span",{style:{fontSize:"14px",color:"#e91e63",fontWeight:"600"}},"$",f.precio.toLocaleString())))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"15px",borderTop:"2px solid #ecf0f1",fontWeight:"bold"}},o.createElement("span",{style:{fontSize:"16px",color:"#2c3e50"}},"Total Toppings:"),o.createElement("span",{style:{fontSize:"16px",color:"#e91e63"}},"$",c().toLocaleString()))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"15px"}},o.createElement("button",{onClick:n,style:{padding:"15px 25px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"600",cursor:"pointer",backgroundColor:"#95a5a6",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(149,165,166,0.3)"}},"← Anterior"),o.createElement("button",{onClick:r,style:{padding:"15px 25px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Continuar →")))},KM=({selectedItems:t,onItemToggle:e,onContinue:r,onBack:n})=>{const[a,i]=b.useState([]),[s,l]=b.useState(!0),[c,u]=b.useState(null);b.useEffect(()=>{(async()=>{try{l(!0);const h=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-adiciones",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!h.ok)throw new Error("Error al cargar adiciones");const x=(await h.json()).filter(v=>v.estado===!0).map(v=>({id:v.idadiciones,nombre:v.nombre,imagen:v.imagen||"https://via.placeholder.com/60x60/E0E0E0/757575?text=A",precio:parseFloat(v.precioadicion||0)}));i(x),u(null)}catch(h){console.error("Error al cargar adiciones:",h),u("No se pudieron cargar las adiciones"),i([])}finally{l(!1)}})()},[]);const f=()=>t.reduce((p,h)=>p+h.precio,0);return s?o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #e91e63",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",{style:{color:"#6c757d"}},"Cargando adiciones..."))):c?o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center",backgroundColor:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"⚠️"),o.createElement("h3",{style:{color:"#e91e63",marginBottom:"15px"}},c),o.createElement("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",border:"none",borderRadius:"10px",backgroundColor:"#e91e63",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer"}},"Reintentar"))):o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px"}},o.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},o.createElement("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Selecciona Adiciones"),o.createElement("p",{style:{color:"#7f8c8d",fontSize:"16px"}},"Agrega sabores únicos a tu pedido")),o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"25px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"30px"}},a.length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"📦"),o.createElement("p",{style:{color:"#6c757d"}},"No hay adiciones disponibles")):o.createElement("div",{style:{marginBottom:"20px"}},a.map(p=>{const h=t.some(g=>g.id===p.id);return o.createElement("div",{key:p.id,style:{display:"flex",alignItems:"center",gap:"15px",padding:"15px",margin:"10px 0",border:h?"2px solid #e91e63":"2px solid #ecf0f1",borderRadius:"15px",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:h?"#fce4ec":"#f8f9fa",transform:h?"translateY(-2px)":"none",boxShadow:h?"0 4px 15px rgba(233,30,99,0.2)":"0 2px 8px rgba(0,0,0,0.1)"},onClick:()=>e(p)},o.createElement("div",{style:{width:"60px",height:"60px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden",flexShrink:0}},o.createElement("img",{src:p.imagen,alt:p.nombre,style:{width:"100%",height:"100%",objectFit:"cover"},onError:g=>{g.target.src=`https://via.placeholder.com/60x60/E0E0E0/757575?text=${p.nombre.charAt(0)}`}})),o.createElement("div",{style:{flex:1}},o.createElement("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",margin:"0 0 5px 0"}},p.nombre),o.createElement("p",{style:{fontSize:"14px",color:"#e91e63",fontWeight:"600",margin:0}},"$",p.precio.toLocaleString())),o.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",border:h?"2px solid #e91e63":"2px solid #bdc3c7",backgroundColor:h?"#e91e63":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:h?"white":"#bdc3c7",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"}},h&&"✓"))}))),t.length>0&&o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"20px"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"15px",margin:"0 0 15px 0"}},"Adiciones Seleccionadas (",t.length,")"),o.createElement("div",{style:{marginBottom:"15px"}},t.map(p=>o.createElement("div",{key:p.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #ecf0f1"}},o.createElement("span",{style:{fontSize:"14px",color:"#2c3e50"}},p.nombre),o.createElement("span",{style:{fontSize:"14px",color:"#e91e63",fontWeight:"600"}},"$",p.precio.toLocaleString())))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"15px",borderTop:"2px solid #ecf0f1",fontWeight:"bold"}},o.createElement("span",{style:{fontSize:"16px",color:"#2c3e50"}},"Total Adiciones:"),o.createElement("span",{style:{fontSize:"16px",color:"#e91e63"}},"$",f().toLocaleString()))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"15px"}},o.createElement("button",{onClick:n,style:{padding:"15px 25px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"600",cursor:"pointer",backgroundColor:"#95a5a6",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(149,165,166,0.3)"}},"← Anterior"),o.createElement("button",{onClick:r,style:{padding:"15px 25px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Continuar →")),o.createElement("style",null,`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `))},YM=({selectedItems:t,onItemToggle:e,onContinue:r,onBack:n})=>{const[a,i]=b.useState([]),[s,l]=b.useState(!0),[c,u]=b.useState(null),[f,p]=b.useState({show:!1,type:"",message:""});b.useEffect(()=>{(async()=>{try{l(!0);const y=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-relleno",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!y.ok)throw new Error("Error al cargar salsas");const C=(await y.json()).filter(k=>k.estado===!0).map(k=>({id:k.idsalsa,nombre:k.nombre,imagen:k.imagen||"https://via.placeholder.com/60x60/E0E0E0/757575?text=S",precio:parseFloat(k.precioadicion||0)}));i(C),u(null)}catch(y){console.error("Error al cargar salsas:",y),u("No se pudieron cargar las salsas"),i([])}finally{l(!1)}})()},[]);const h=(v,y)=>{p({show:!0,type:v,message:y}),setTimeout(()=>{p({show:!1,type:"",message:""})},3e3)},g=()=>t.reduce((v,y)=>v+y.precio,0),x=v=>{t.some(E=>E.id===v.id)||t.length===2&&h("info","A partir de la tercera salsa, cada una tendrá un costo adicional."),e(v)};return s?o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #e91e63",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",{style:{color:"#6c757d"}},"Cargando salsas..."))):c?o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center",backgroundColor:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"⚠️"),o.createElement("h3",{style:{color:"#e91e63",marginBottom:"15px"}},c),o.createElement("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",border:"none",borderRadius:"10px",backgroundColor:"#e91e63",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer"}},"Reintentar"))):o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px"}},f.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:f.type==="info"?"linear-gradient(135deg, #e91e63, #f06292)":"linear-gradient(135deg, #dc3545, #e85a67)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},f.message),o.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},o.createElement("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Selecciona Salsas"),o.createElement("p",{style:{color:"#7f8c8d",fontSize:"16px"}},"Dale el toque final perfecto a tu pedido")),o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"25px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"30px"}},a.length===0?o.createElement("div",{style:{textAlign:"center",padding:"40px"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"📦"),o.createElement("p",{style:{color:"#6c757d"}},"No hay salsas disponibles")):o.createElement("div",{style:{marginBottom:"20px"}},a.map(v=>{const y=t.some(E=>E.id===v.id);return o.createElement("div",{key:v.id,style:{display:"flex",alignItems:"center",gap:"15px",padding:"15px",margin:"10px 0",border:y?"2px solid #e91e63":"2px solid #ecf0f1",borderRadius:"15px",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:y?"#fce4ec":"#f8f9fa",transform:y?"translateY(-2px)":"none",boxShadow:y?"0 4px 15px rgba(233,30,99,0.2)":"0 2px 8px rgba(0,0,0,0.1)"},onClick:()=>x(v)},o.createElement("div",{style:{width:"60px",height:"60px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden",flexShrink:0}},o.createElement("img",{src:v.imagen,alt:v.nombre,style:{width:"100%",height:"100%",objectFit:"cover"},onError:E=>{E.target.src=`https://via.placeholder.com/60x60/E0E0E0/757575?text=${v.nombre.charAt(0)}`}})),o.createElement("div",{style:{flex:1}},o.createElement("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",margin:"0 0 5px 0"}},v.nombre),o.createElement("p",{style:{fontSize:"14px",color:"#e91e63",fontWeight:"600",margin:0}},"$",v.precio.toLocaleString())),o.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",border:y?"2px solid #e91e63":"2px solid #bdc3c7",backgroundColor:y?"#e91e63":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:y?"white":"#bdc3c7",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"}},y&&"✓"))}))),t.length>0&&o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",marginBottom:"20px"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"15px",margin:"0 0 15px 0"}},"Salsas Seleccionadas (",t.length,")"),o.createElement("div",{style:{marginBottom:"15px"}},t.map(v=>o.createElement("div",{key:v.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #ecf0f1"}},o.createElement("span",{style:{fontSize:"14px",color:"#2c3e50"}},v.nombre),o.createElement("span",{style:{fontSize:"14px",color:"#e91e63",fontWeight:"600"}},"$",v.precio.toLocaleString())))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"15px",borderTop:"2px solid #ecf0f1",fontWeight:"bold"}},o.createElement("span",{style:{fontSize:"16px",color:"#2c3e50"}},"Total Salsas:"),o.createElement("span",{style:{fontSize:"16px",color:"#e91e63"}},"$",g().toLocaleString()))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"15px"}},o.createElement("button",{onClick:n,style:{padding:"15px 25px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"600",cursor:"pointer",backgroundColor:"#95a5a6",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(149,165,166,0.3)"}},"← Anterior"),o.createElement("button",{onClick:r,style:{padding:"15px 25px",border:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"600",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Continuar →")),o.createElement("style",null,`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
        `))},Bi="https://deliciasoft-backend-i6g9.onrender.com/api/sede";class JM{constructor(){this.baseHeaders={"Content-Type":"application/json"},this.multipartHeaders={}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r}catch{}throw new Error(r)}return e.json()}async obtenerSedes(){try{const e=await fetch(`${Bi}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return this.transformarSedesDesdeAPI(r)}catch(e){throw console.error("Error en obtenerSedes:",e),new Error("Error al cargar las sedes: "+e.message)}}async obtenerSedePorId(e){try{const r=await fetch(`${Bi}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Sede no encontrada");const n=await this.handleResponse(r);return this.transformarSedeDesdeAPI(n)}catch(r){throw console.error("Error en obtenerSedePorId:",r),r}}async crearSede(e){try{if(e instanceof FormData)return await this.crearSedeConImagen(e);const r=this.transformarSedeParaAPI(e);this.validarDatosSede(r);const n=await fetch(Bi,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)}),a=await this.handleResponse(n);return this.transformarSedeDesdeAPI(a)}catch(r){throw console.error("Error en crearSede:",r),new Error("Error al crear la sede: "+r.message)}}async crearSedeConImagen(e){try{const r=e.get("nombre"),n=e.get("telefono"),a=e.get("direccion");if(!r||!n||!a)throw new Error("Faltan datos obligatorios");const i=await fetch(`${Bi}`,{method:"POST",body:e});if(!i.ok)return console.warn(`POST ${Bi} falló, intentando endpoints alternativos...`),await this.crearSedeConImagenAlternativo(e);const s=await this.handleResponse(i);return this.transformarSedeDesdeAPI(s)}catch(r){return console.error("Error en crearSedeConImagen:",r),await this.crearSedeConImagenAlternativo(e)}}async crearSedeConImagenAlternativo(e){try{const r=[`${Bi}/crear`,`${Bi}/new`,`${Bi}/add`];for(const n of r)try{console.log(`Intentando con endpoint: ${n}`);const a=await fetch(n,{method:"POST",body:e});if(a.ok){const i=await this.handleResponse(a);return this.transformarSedeDesdeAPI(i)}}catch(a){console.warn(`Falló endpoint ${n}:`,a.message);continue}return await this.crearSedeDosEtapas(e)}catch(r){throw console.error("Error en métodos alternativos:",r),new Error("Error al crear la sede con imagen. Verifique la configuración del servidor.")}}async crearSedeDosEtapas(e){try{const r={nombre:e.get("nombre"),Telefono:e.get("telefono"),Direccion:e.get("direccion"),activo:e.get("estado")==="true"},n=await this.crearSede(r),a=e.get("imagen");if(a&&n.id)try{return await this.subirImagenSede(n.id,a),await this.obtenerSedePorId(n.id)}catch(i){return console.warn("Sede creada pero error al subir imagen:",i),n}return n}catch(r){throw console.error("Error en crearSedeDosEtapas:",r),r}}async subirImagenSede(e,r){try{const n=new FormData;n.append("imagen",r);const a=[`${Bi}/${e}/imagen`,`${Bi}/${e}/upload-image`,`${Bi}/${e}/photo`];for(const i of a)try{const s=await fetch(i,{method:"POST",body:n});if(s.ok)return await this.handleResponse(s)}catch{continue}throw new Error("No se pudo encontrar endpoint válido para subir imagen")}catch(n){throw console.error("Error al subir imagen:",n),n}}async actualizarSede(e,r){try{if(r instanceof FormData)return await this.actualizarSedeConImagen(e,r);const n=this.transformarSedeParaAPI(r);this.validarDatosSede(n);const a=await fetch(`${Bi}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarSedeDesdeAPI(i)}catch(n){throw console.error("Error en actualizarSede:",n),new Error("Error al actualizar la sede: "+n.message)}}async actualizarSedeConImagen(e,r){try{const n=r.get("nombre"),a=r.get("telefono"),i=r.get("direccion");if(!n||!a||!i)throw new Error("Faltan datos obligatorios");const s=await fetch(`${Bi}/${e}`,{method:"PUT",body:r});if(s.ok){const l=await this.handleResponse(s);return this.transformarSedeDesdeAPI(l)}return await this.actualizarSedeDosEtapas(e,r)}catch(n){return console.error("Error en actualizarSedeConImagen:",n),await this.actualizarSedeDosEtapas(e,r)}}async actualizarSedeDosEtapas(e,r){try{const n={nombre:r.get("nombre"),Telefono:r.get("telefono"),Direccion:r.get("direccion"),activo:r.get("estado")==="true"},a=await this.actualizarSede(e,n),i=r.get("imagen");if(i&&i.size>0)try{return await this.subirImagenSede(e,i),await this.obtenerSedePorId(e)}catch(s){return console.warn("Sede actualizada pero error al subir imagen:",s),a}return a}catch(n){throw console.error("Error en actualizarSedeDosEtapas:",n),n}}async eliminarSede(e){try{const r=await fetch(`${Bi}/${e}`,{method:"DELETE",headers:this.baseHeaders});if(!r.ok){let n="Error al eliminar la sede";try{const a=await r.json();a.message?n=a.message:a.error&&(n=a.error)}catch{r.status===500&&(n="No se puede eliminar la sede porque tiene registros asociados. Intenta desactivarla usando el switch de estado.")}throw new Error(n)}return await this.handleResponse(r),{success:!0,message:"Sede eliminada exitosamente"}}catch(r){throw console.error("Error en eliminarSede:",r),r}}async cambiarEstadoSede(e,r){try{const n=await this.obtenerSedePorId(e),a={...this.transformarSedeParaAPI(n),estado:r},i=await fetch(`${Bi}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(a)}),s=await this.handleResponse(i);return this.transformarSedeDesdeAPI(s)}catch(n){throw console.error("Error en cambiarEstadoSede:",n),new Error("Error al cambiar el estado de la sede: "+n.message)}}obtenerUrlImagen(e){return e?`${Bi.replace("/api/sede","")}/uploads/sedes/${e}`:null}validarDatosSede(e){const r=[];if((!e.nombre||e.nombre.trim()==="")&&r.push("El nombre de la sede es requerido"),!e.telefono||e.telefono.trim()===""?r.push("El teléfono es requerido"):/^[3][0-9]{9}$/.test(e.telefono.replace(/\s/g,""))||r.push("El teléfono debe ser un número colombiano válido (10 dígitos comenzando con 3)"),(!e.direccion||e.direccion.trim()==="")&&r.push("La dirección es requerida"),r.length>0)throw new Error("Datos inválidos: "+r.join(", "))}transformarSedeParaAPI(e){return{nombre:(e.nombre||"").trim(),telefono:(e.Telefono||e.telefono||"").replace(/\s/g,""),direccion:(e.Direccion||e.direccion||"").trim(),idimagen:e.idimagen||null,estado:e.estado!==void 0?!!(e.estado||e.activo):!0}}transformarSedeDesdeAPI(e){if(!e)return null;let r=e.imagenUrl||e.urlImagen||null;return e.idimagen&&!r&&(r=this.obtenerUrlImagen(e.idimagen)),{id:e.idsede,nombre:e.nombre||"",Telefono:e.telefono||"",Direccion:e.direccion||"",telefono:e.telefono||"",direccion:e.direccion||"",idimagen:e.idimagen||null,imagenUrl:r,estado:!!e.estado,activo:!!e.estado}}transformarSedesDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarSedeDesdeAPI(r)).filter(r=>r!==null):(console.warn("transformarSedesDesdeAPI: se esperaba un array, se recibió:",typeof e),[])}formatearTelefono(e){if(!e)return"";const r=e.replace(/\D/g,"");return r.length===10?`${r.slice(0,3)} ${r.slice(3,6)} ${r.slice(6)}`:e}validarFormatoImagen(e){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))throw new Error("Formato de imagen no válido. Use JPEG, PNG, GIF o WebP.");if(e.size>5242880)throw new Error("La imagen es demasiado grande. Máximo 5MB permitido.");return!0}}const ud=new JM,XM=({pedido:t,onSiguiente:e,onAnterior:r,onOpcionSeleccionada:n})=>{const[a,i]=b.useState(""),[s,l]=b.useState({fecha:"",hora:"",telefono:"",observaciones:""}),[c,u]=b.useState([]),[f,p]=b.useState({}),[h,g]=b.useState([]),[x,v]=b.useState(!0),y={horaInicio:"11:00",horaFin:"16:00",texto:"Lunes a Domingo: 11:00 AM - 4:00 PM"};b.useEffect(()=>{(async()=>{try{v(!0);const re=(await ud.obtenerSedes()).filter(te=>te.activo).map(te=>({id:te.id.toString(),nombre:te.nombre,direccion:te.Direccion||te.direccion,horarios:y.texto,horaInicio:y.horaInicio,horaFin:y.horaFin,icon:"🛒",telefono:te.Telefono||te.telefono,imagenUrl:te.imagenUrl}));g(re),re.length===0&&E("warning","⚠️ No hay sedes disponibles en este momento")}catch(ee){console.error("Error al cargar sedes:",ee),E("error","❌ Error al cargar las ubicaciones disponibles"),g([{id:"sede-principal",nombre:"Sede Principal",direccion:"Dirección no disponible",horarios:y.texto,horaInicio:y.horaInicio,horaFin:y.horaFin,icon:"🛒"}])}finally{v(!1)}})()},[]);const E=(J,ee)=>{const re={id:Date.now()+Math.random(),tipo:J,mensaje:ee,timestamp:Date.now()};u(te=>[...te,re]),setTimeout(()=>{u(te=>te.filter(K=>K.id!==re.id))},5e3)},C=J=>/^[3][0-9]{9}$/.test(J.replace(/\s/g,"")),k=J=>{if(!J)return!1;const ee=new Date(J),re=new Date,te=new Date;return re.setDate(re.getDate()+15),te.setDate(te.getDate()+30),ee>=re&&ee<=te},_=(J,ee)=>{if(!J||!ee||!a)return!1;const re=h.find(Y=>Y.id===a);if(!re)return!1;const te=Y=>{const[G,X]=Y.split(":").map(Number);return G*60+X},K=te(ee),U=te(re.horaInicio),j=te(re.horaFin);return K>=U&&K<j},N=()=>{if(!a)return"";const J=h.find(ee=>ee.id===a);return J?`${J.horaInicio} - ${J.horaFin}`:""};b.useEffect(()=>{const J={};if(a||(J.ubicacion="Debe seleccionar una ubicación"),s.fecha&&(k(s.fecha)||(J.fecha="La fecha debe estar entre 15 y 30 días desde hoy")),s.hora&&s.fecha&&!_(s.fecha,s.hora)){const ee=N();J.hora=`La hora debe estar dentro del horario de atención: ${ee}`}s.telefono&&(C(s.telefono)||(J.telefono="El teléfono debe ser un celular colombiano válido (10 dígitos)")),p(J)},[a,s,h]);const O=J=>{i(J);const ee=h.find(re=>re.id===J);E("success",`✅ Ubicación "${ee.nombre}" seleccionada correctamente`),s.hora&&l(re=>({...re,hora:""}))},R=J=>{l(ee=>({...ee,fecha:J})),J&&(k(J)?E("success","✅ Fecha válida seleccionada"):E("error","❌ La fecha debe estar entre 15 y 30 días desde hoy"))},D=J=>{if(l(ee=>({...ee,hora:J})),J&&s.fecha&&a)if(_(s.fecha,J))E("success","✅ Hora válida seleccionada");else{const ee=N();E("error",`❌ La hora debe estar dentro del horario: ${ee}`)}},B=J=>{l(ee=>({...ee,telefono:J})),J.length===10&&(C(J)?E("success","✅ Teléfono válido"):E("error","❌ Ingrese un teléfono celular colombiano válido"))},z=()=>{const ee=[{campo:"ubicacion",valor:a,mensaje:"Debe seleccionar una ubicación"},{campo:"fecha",valor:s.fecha,mensaje:"Debe seleccionar una fecha de entrega"},{campo:"hora",valor:s.hora,mensaje:"Debe seleccionar una hora de entrega"},{campo:"telefono",valor:s.telefono,mensaje:"Debe ingresar un teléfono de contacto"}].filter(re=>!re.valor);if(ee.length>0){ee.forEach(re=>{E("error",`❌ ${re.mensaje}`)});return}if(Object.keys(f).length>0){E("error","❌ Por favor corrija los errores antes de continuar");return}E("success","✅ Formulario completado correctamente"),setTimeout(()=>{const re=h.find(te=>te.id===a);n({ubicacion:a,ubicacionData:re,datosEntrega:s}),e()},1e3)},I=a&&s.fecha&&s.hora&&s.telefono&&Object.keys(f).length===0,L=new Date;L.setDate(L.getDate()+15);const M=L.toISOString().split("T")[0],F=new Date;F.setDate(F.getDate()+30);const H=F.toISOString().split("T")[0];return o.createElement("div",{className:"opciones-entrega-container"},o.createElement("div",{className:"alertas-container"},c.map(J=>o.createElement("div",{key:J.id,className:`alerta alerta-${J.tipo}`},o.createElement("span",{className:"alerta-mensaje"},J.mensaje),o.createElement("button",{className:"alerta-cerrar",onClick:()=>u(ee=>ee.filter(re=>re.id!==J.id))},"×")))),o.createElement("div",{className:"entrega-content"},o.createElement("div",{className:"entrega-header"},o.createElement("h2",{className:"section-title"},"Selecciona tu Ubicación"),o.createElement("div",{className:"alert-container"},o.createElement("div",{className:"alert-icon"},"⚠️"),o.createElement("span",{className:"alert-text"},"Tu pedido contiene productos personalizados."))),o.createElement("div",{className:"ubicaciones-container"},o.createElement("h3",{className:"subsection-title"},"Nuestros Carritos Móviles"),x?o.createElement("div",{className:"loading-container"},o.createElement("div",{className:"loading-spinner"}),o.createElement("span",null,"Cargando ubicaciones disponibles...")):o.createElement("div",{className:"ubicaciones-grid"},h.map(J=>o.createElement("label",{key:J.id,className:`ubicacion-card ${a===J.id?"selected":""} ${f.ubicacion?"error":""}`},o.createElement("input",{type:"radio",name:"ubicacion",value:J.id,checked:a===J.id,onChange:ee=>O(ee.target.value),className:"radio-input"}),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"ubicacion-icon"},J.imagenUrl?o.createElement("img",{src:J.imagenUrl,alt:J.nombre,className:"ubicacion-imagen",onError:ee=>{ee.target.style.display="none",ee.target.nextSibling.style.display="block"}}):null,o.createElement("span",{className:"ubicacion-icon-fallback",style:{display:J.imagenUrl?"none":"block"}},J.icon)),o.createElement("div",{className:"ubicacion-info"},o.createElement("span",{className:"ubicacion-nombre"},J.nombre),o.createElement("span",{className:"ubicacion-direccion"},J.direccion),o.createElement("span",{className:"ubicacion-horarios"},J.horarios),J.telefono&&o.createElement("span",{className:"ubicacion-telefono"},"📞 ",J.telefono)),o.createElement("div",{className:"radio-indicator"}))))),f.ubicacion&&o.createElement("span",{className:"error-message"},"* ",f.ubicacion),a&&!x&&o.createElement("div",{className:"formulario-entrega"},o.createElement("h3",{className:"form-title"},"Datos de tu Pedido"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},"📅"),"Fecha de entrega *"),o.createElement("input",{type:"date",value:s.fecha,min:M,max:H,onChange:J=>R(J.target.value),className:`form-input ${f.fecha?"error":""}`}),f.fecha&&o.createElement("span",{className:"error-message"},"* ",f.fecha),o.createElement("small",{className:"form-help"},"Entre 15 y 30 días desde hoy")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},"🕒"),"Hora de entrega *"),o.createElement("input",{type:"time",value:s.hora,min:"11:00",max:"15:30",onChange:J=>D(J.target.value),className:`form-input ${f.hora?"error":""}`,step:"1800"}),f.hora&&o.createElement("span",{className:"error-message"},"* ",f.hora),a&&o.createElement("small",{className:"form-help"},"Horario disponible: ",N()," (11:00 AM - 4:00 PM)"))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},"📱"),"Teléfono de contacto *"),o.createElement("input",{type:"tel",placeholder:"Ej: 3001234567",value:s.telefono,onChange:J=>B(J.target.value),className:`form-input ${f.telefono?"error":""}`,maxLength:"10"}),f.telefono&&o.createElement("span",{className:"error-message"},"* ",f.telefono),o.createElement("small",{className:"form-help"},"Celular colombiano de 10 dígitos")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},"💬"),"Observaciones adicionales (Opcional)"),o.createElement("textarea",{placeholder:"Deja aquí cualquier comentario adicional sobre tu pedido...",value:s.observaciones,onChange:J=>l(ee=>({...ee,observaciones:J.target.value})),className:"form-textarea",rows:"3",maxLength:"500"}),o.createElement("small",{className:"form-help"},s.observaciones.length,"/500 caracteres")))),o.createElement("div",{className:"acciones-footer"},o.createElement("button",{onClick:r,className:"btn-anterior"},o.createElement("span",{className:"btn-icon"},"←"),"Anterior"),o.createElement("button",{onClick:z,disabled:!I||x,className:"btn-continuar"},"Continuar",o.createElement("span",{className:"btn-icon"},"→")))))},ZM=({pedido:t,total:e,onSiguiente:r,onAnterior:n,onEliminarProducto:a,onActualizarCantidad:i})=>{const[s,l]=b.useState(""),[c,u]=b.useState({mostrar:!1,tipo:"",mensaje:""}),[f,p]=b.useState({}),[h,g]=b.useState(!1),[x,v]=b.useState(null),{productosSeleccionados:y}=b.useContext(pl),E=()=>t&&t.productos&&t.productos.length>0?t.productos:y||[],C=(L,M)=>{u({mostrar:!0,tipo:L,mensaje:M}),setTimeout(()=>{u({mostrar:!1,tipo:"",mensaje:""})},3e3)},k=L=>{p(M=>({...M,[L]:!M[L]}))},_=L=>{const M=E();if(M.length===1){C("error","⚠️ No puedes eliminar el último producto. Debe haber al menos un producto en el pedido.");return}const F=M.find(H=>H.id===L);v(F),g(!0)},N=()=>{a&&a(x.id),g(!1),v(null),C("success",`✅ Producto "${x.nombre}" eliminado correctamente del pedido.`)},O=()=>{g(!1),v(null),C("info","Eliminación de producto cancelada.")},R=(L,M)=>{if(M<=0){_(L);return}i&&(i(L,M),C("success","✅ Cantidad actualizada correctamente."))},D=()=>{const L=E();if(L.length===0)return C("error","❌ No hay productos en el pedido. Agrega al menos un producto."),!1;const M=L.reduce((F,H)=>F+(H.cantidad||1),0);return M<10?(C("error",`❌ Necesitas al menos 10 productos en total. Tienes ${M} productos.`),!1):M>100?(C("error",`❌ Máximo 100 productos permitidos. Tienes ${M} productos.`),!1):(C("success","✅ Pedido validado correctamente. Continuando al pago..."),setTimeout(()=>{r({...t,comentarios:s})},1e3),!0)},B=()=>{if(e&&typeof e=="number")return e;const L=E();let M=0;return M+=L.reduce((F,H)=>F+H.precio*(H.cantidad||1),0),t&&t.toppings&&(M+=t.toppings.reduce((F,H)=>F+(H.precio||0),0)),t&&t.adiciones&&(M+=t.adiciones.reduce((F,H)=>F+(H.precio||0),0)),t&&t.salsas&&(M+=t.salsas.reduce((F,H)=>F+(H.precio||0),0)),M},z=E(),I=B();return o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"20px",fontFamily:"Inter, sans-serif",display:"flex",justifyContent:"center",alignItems:"flex-start"}},c.mostrar&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:c.tipo==="success"?"linear-gradient(135deg, #10b981, #059669)":c.tipo==="error"?"linear-gradient(135deg, #ec4899, #be185d)":"linear-gradient(135deg, #0ea5e9, #0284c7)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("span",null,c.mensaje),o.createElement("button",{onClick:()=>u({mostrar:!1,tipo:"",mensaje:""}),style:{background:"none",border:"none",color:"white",fontSize:"1.2rem",cursor:"pointer",marginLeft:"15px"}},"×")),o.createElement("div",{style:{maxWidth:"900px",width:"100%",margin:"20px auto",background:"white",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",padding:"30px"}},o.createElement("div",{style:{textAlign:"center",marginBottom:"30px",borderBottom:"1px solid #eee",paddingBottom:"20px"}},o.createElement("h2",{style:{fontSize:"28px",fontWeight:"700",background:"linear-gradient(45deg, #e91e63, #f06292)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"10px"}},"Confirmación del Pedido"),o.createElement("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"20px",background:"#ffc10715",border:"2px solid #ffc10730",color:"#ffc107",fontWeight:"600",fontSize:"14px"}},o.createElement("span",{style:{fontSize:"18px"}},"⚠️"),o.createElement("span",null,"Revisa tu pedido antes de continuar"))),o.createElement("div",{style:{marginBottom:"30px"}},o.createElement("h3",{style:{fontSize:"22px",fontWeight:"600",color:"#495057",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}},"🛒 Resumen de Productos (",z.length,")"),z.length===0?o.createElement("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"40px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",border:"1px dashed #ced4da"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"📦"),o.createElement("h3",{style:{color:"#6c757d",marginBottom:"10px"}},"No hay productos en tu pedido"),o.createElement("p",{style:{color:"#adb5bd",marginBottom:"20px"}},"Por favor, regresa para agregar al menos un producto."),o.createElement("button",{onClick:n,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #007bff, #0056b3)",color:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 123, 255, 0.3)"}},"← Agregar Productos")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"15px"}},z.map(L=>o.createElement("div",{key:L.id,style:{background:"#ffffff",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",border:"1px solid #f0f2f5",overflow:"hidden"}},o.createElement("div",{style:{padding:"15px 20px",borderBottom:"1px solid #f0f2f5",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"}},o.createElement("div",{style:{flexGrow:1}},o.createElement("h4",{style:{fontSize:"18px",fontWeight:"700",color:"#343a40",margin:"0 0 5px 0"}},L.nombre),o.createElement("div",{style:{fontSize:"14px",color:"#6c757d"}},"Cantidad: ",o.createElement("span",{style:{fontWeight:"600"}},L.cantidad||1),o.createElement("span",{style:{margin:"0 8px"}},"•"),"Precio unitario: ",o.createElement("span",{style:{fontWeight:"600"}},"$",L.precio.toLocaleString()),o.createElement("span",{style:{margin:"0 8px"}},"•"),"Subtotal: ",o.createElement("span",{style:{fontWeight:"600",color:"#e91e63"}},"$",(L.precio*(L.cantidad||1)).toLocaleString()))),o.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},o.createElement("div",{style:{display:"flex",gap:"5px",alignItems:"center"}},o.createElement("button",{onClick:()=>R(L.id,(L.cantidad||1)-1),style:{padding:"5px 10px",border:"none",borderRadius:"5px",backgroundColor:"#e74c3c",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"}},"-"),o.createElement("span",{style:{padding:"5px 10px",fontSize:"14px",fontWeight:"bold",minWidth:"30px",textAlign:"center"}},L.cantidad||1),o.createElement("button",{onClick:()=>R(L.id,(L.cantidad||1)+1),style:{padding:"5px 10px",border:"none",borderRadius:"5px",backgroundColor:"#2ecc71",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"bold"}},"+")),o.createElement("button",{onClick:()=>k(L.id),style:{padding:"8px 15px",border:"1px solid #ced4da",borderRadius:"10px",background:"#f8f9fa",color:"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"5px"}},o.createElement("span",{style:{fontSize:"16px"}},"👁️"),f[L.id]?"Ocultar":"Ver detalles"),o.createElement("button",{onClick:()=>_(L.id),title:"Eliminar producto",style:{padding:"8px 15px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #dc3545, #e85a67)",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"5px"}},o.createElement("span",{style:{fontSize:"16px"}},"🗑️"),"Eliminar"))),f[L.id]&&o.createElement("div",{style:{padding:"20px",background:"#f8f9fa",borderTop:"1px solid #eee"}},t&&t.toppings&&t.toppings.length>0&&o.createElement("div",{style:{marginBottom:"15px"}},o.createElement("h5",{style:{fontSize:"15px",fontWeight:"600",color:"#495057",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"}},"🧁 Toppings Seleccionados (",t.toppings.length,"):"),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"}},t.toppings.map((M,F)=>o.createElement("span",{key:F,style:{padding:"6px 12px",background:"#e91e63",color:"white",borderRadius:"15px",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",gap:"5px"}},M.nombre,M.precio>0&&o.createElement("span",{style:{fontSize:"11px",opacity:.9}},"(+$",M.precio.toLocaleString(),")"))))),t&&t.adiciones&&t.adiciones.length>0&&o.createElement("div",{style:{marginBottom:"15px"}},o.createElement("h5",{style:{fontSize:"15px",fontWeight:"600",color:"#495057",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"}},"✨ Adiciones Seleccionadas (",t.adiciones.length,"):"),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"}},t.adiciones.map((M,F)=>o.createElement("span",{key:F,style:{padding:"6px 12px",background:"#17a2b8",color:"white",borderRadius:"15px",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",gap:"5px"}},M.nombre,o.createElement("span",{style:{fontSize:"11px",opacity:.9}},"(+$",M.precio.toLocaleString(),")"))))),t&&t.salsas&&t.salsas.length>0&&o.createElement("div",{style:{marginBottom:"15px"}},o.createElement("h5",{style:{fontSize:"15px",fontWeight:"600",color:"#495057",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"}},"🍯 Salsas Seleccionadas (",t.salsas.length,"):"),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"}},t.salsas.map((M,F)=>o.createElement("span",{key:F,style:{padding:"6px 12px",background:"#007bff",color:"white",borderRadius:"15px",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",gap:"5px"}},M.nombre,o.createElement("span",{style:{fontSize:"11px",opacity:.9}},"(+$",M.precio.toLocaleString(),")"))))),(!t||(!t.toppings||t.toppings.length===0)&&(!t.adiciones||t.adiciones.length===0)&&(!t.salsas||t.salsas.length===0))&&o.createElement("div",{style:{background:"#fff3cd",color:"#856404",padding:"15px",borderRadius:"10px",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px",textAlign:"center"}},o.createElement("span",{style:{fontSize:"20px",lineHeight:1}},"ℹ️"),o.createElement("div",null,o.createElement("strong",null,"Sin extras seleccionados"),o.createElement("br",null),o.createElement("small",null,"Este producto se servirá en su presentación estándar.")))))))),o.createElement("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",marginBottom:"30px",border:"1px solid #e9ecef"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#495057",marginBottom:"15px"}},"💰 Resumen de Costos"),o.createElement("div",{style:{marginBottom:"15px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #dee2e6"}},o.createElement("span",null,"Productos (",z.reduce((L,M)=>L+(M.cantidad||1),0)," unidades):"),o.createElement("span",null,"$",z.reduce((L,M)=>L+M.precio*(M.cantidad||1),0).toLocaleString())),t&&t.toppings&&t.toppings.length>0&&o.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #dee2e6"}},o.createElement("span",null,"Toppings (",t.toppings.length,"):"),o.createElement("span",null,"$",t.toppings.reduce((L,M)=>L+(M.precio||0),0).toLocaleString())),t&&t.adiciones&&t.adiciones.length>0&&o.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #dee2e6"}},o.createElement("span",null,"Adiciones (",t.adiciones.length,"):"),o.createElement("span",null,"$",t.adiciones.reduce((L,M)=>L+M.precio,0).toLocaleString())),t&&t.salsas&&t.salsas.length>0&&o.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #dee2e6"}},o.createElement("span",null,"Salsas (",t.salsas.length,"):"),o.createElement("span",null,"$",t.salsas.reduce((L,M)=>L+M.precio,0).toLocaleString()))),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"15px",borderTop:"2px solid #dee2e6",fontSize:"18px",fontWeight:"bold",color:"#e91e63"}},o.createElement("span",null,"Total del Pedido:"),o.createElement("span",null,"$",I.toLocaleString()))),o.createElement("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",marginBottom:"30px",border:"1px solid #e9ecef"}},o.createElement("label",{htmlFor:"comentarios",style:{fontSize:"18px",fontWeight:"600",color:"#495057",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"}},"💬 Comentarios adicionales"),o.createElement("textarea",{id:"comentarios",value:s,onChange:L=>l(L.target.value),placeholder:"Escribe aquí cualquier comentario especial para tu pedido...",rows:"4",maxLength:"500",style:{width:"100%",padding:"12px",border:"1px solid #ced4da",borderRadius:"10px",fontSize:"16px",fontFamily:"Inter, sans-serif",resize:"vertical",boxSizing:"border-box",outline:"none",transition:"border-color 0.3s ease, box-shadow 0.3s ease"},onFocus:L=>L.target.style.borderColor="#e91e63",onBlur:L=>L.target.style.borderColor="#ced4da"}),o.createElement("small",{style:{fontSize:"13px",color:"#6c757d",marginTop:"8px",display:"block",textAlign:"right"}},s.length,"/500 caracteres")),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"15px",paddingTop:"20px",borderTop:"1px solid #eee"}},o.createElement("button",{onClick:n,style:{padding:"12px 25px",border:"2px solid #6c757d",borderRadius:"10px",background:"white",color:"#6c757d",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"20px"}},"←"),"Anterior"),o.createElement("button",{onClick:D,disabled:z.length===0,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #e91e63, #f06292)",color:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(233, 30, 99, 0.3)",display:"flex",alignItems:"center",gap:"8px",opacity:z.length===0?.7:1,pointerEvents:z.length===0?"none":"auto"}},"Continuar al Pago",o.createElement("span",{style:{fontSize:"20px"}},"→")))),h&&x&&o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"30px",width:"90%",maxWidth:"450px",boxShadow:"0 15px 40px rgba(0,0,0,0.2)",textAlign:"center",animation:"fadeInUp 0.3s ease-out",position:"relative"}},o.createElement("button",{onClick:O,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#adb5bd"}},"×"),o.createElement("div",{style:{fontSize:"60px",marginBottom:"20px",lineHeight:"1"}},"🗑️"),o.createElement("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#495057",marginBottom:"15px"}},"¿Eliminar Producto?"),o.createElement("p",{style:{color:"#6c757d",fontSize:"16px",marginBottom:"30px"}},"Estás a punto de eliminar el producto ",o.createElement("strong",{style:{color:"#e91e63"}},'"',x.nombre,'"')," del pedido. Esta acción no se puede deshacer. ¿Estás seguro de que quieres continuar?"),o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"15px"}},o.createElement("button",{onClick:O,style:{padding:"12px 25px",border:"2px solid #6c757d",borderRadius:"10px",background:"white",color:"#6c757d",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease"}},"Cancelar"),o.createElement("button",{onClick:N,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #dc3545, #e85a67)",color:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(220, 53, 69, 0.3)"}},"Sí, Eliminar")))),o.createElement("style",null,`
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          
          @keyframes fadeInUp {
            from {
              transform: translateY(20px);
              opacity: 0;
            }
            to {
              transform: translateY(0);
              opacity: 1;
            }
          }
        `))},QM=({pedido:t,total:e,onPedidoCompletado:r,onAnterior:n,onOpcionSeleccionada:a,prepararDatosVenta:i})=>{const[s,l]=b.useState(""),[c,u]=b.useState(""),[f,p]=b.useState(!1),[h,g]=b.useState(null),[x,v]=b.useState(""),[y]=b.useState(()=>`PED-${Date.now().toString().slice(-6)}`),[E,C]=b.useState({show:!1,type:"",message:""}),[k,_]=b.useState(!1),[N,O]=b.useState(!1),[R,D]=b.useState([]),[B,z]=b.useState(!0),[I,L]=b.useState("");b.useEffect(()=>{(async()=>{try{z(!0),L("");const ye=(await ud.obtenerSedes()).filter(me=>me.activo).map(me=>({id:me.id.toString(),nombre:me.nombre,direccion:me.Direccion||me.direccion||"Dirección no disponible",horario:me.horario||"9:00 AM - 6:00 PM",telefono:me.Telefono||me.telefono}));D(ye),ye.length===0&&(L("No hay sedes disponibles"),D([{id:"san-benito",nombre:"San Benito",direccion:"CALLE 9 #7-34",horario:"9:00 AM - 6:00 PM"}]))}catch(ie){console.error("Error al cargar sedes:",ie),L(`Error al cargar sedes: ${ie.message}`),D([{id:"san-benito",nombre:"San Benito",direccion:"CALLE 9 #7-34",horario:"9:00 AM - 6:00 PM"}])}finally{z(!1)}})()},[]);const M=()=>{let X=0,ie=0;t!=null&&t.productos&&(X=t.productos.reduce((Fe,ue)=>Fe+ue.precio*(ue.cantidad||1),0)),t!=null&&t.toppings&&(ie+=t.toppings.reduce((Fe,ue)=>Fe+(ue.precio||0),0)),t!=null&&t.adiciones&&(ie+=t.adiciones.reduce((Fe,ue)=>Fe+(ue.precio||0),0)),t!=null&&t.salsas&&(ie+=t.salsas.reduce((Fe,ue)=>Fe+(ue.precio||0),0));const ye=X+ie,me=Math.round(ye*.19),he=ye+me,je=Math.round(he/2);return{subtotalProductos:X,subtotalExtras:ie,subtotalTotal:ye,iva:me,totalFinal:he,abono:je}},{subtotalProductos:F,subtotalExtras:H,subtotalTotal:J,iva:ee,totalFinal:re,abono:te}=M(),K=(X,ie)=>{C({show:!0,type:X,message:ie}),setTimeout(()=>{C({show:!1,type:"",message:""})},5e3)},U=X=>{l(X),v(""),g(null),_(!1),X==="transferencia"?(p(!0),u("")):p(!1)},j=X=>{const ie=X.target.files[0];if(v(""),_(!1),ie){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(ie.type)){v("Solo se permiten archivos de imagen (JPG, PNG, WEBP)"),g(null);return}if(ie.size>5*1024*1024){v("El archivo es demasiado grande. Máximo 5MB."),g(null);return}g(ie),_(!0),setTimeout(()=>{_(!1)},3e3)}},Y=()=>{const X=`Banco Bancolombia
Ahorro
Cuenta: 123-456-789
Cédula: 12.345.678
Nombre: Juan Pérez
Nequi: 300 123 45 67
Valor a transferir: $${te.toLocaleString()}`;navigator.clipboard.writeText(X).then(()=>{K("success","Datos bancarios copiados al portapapeles")})},G=async()=>{var X;if(!s){K("error","Por favor selecciona un método de pago.");return}if(s==="transferencia"&&!h){v("Es obligatorio subir el comprobante de transferencia");return}if(s==="efectivo"&&!c){K("error","Por favor selecciona una sede para el pago en efectivo.");return}O(!0);try{const ie=R.find(xe=>xe.id===c),ye=(ie==null?void 0:ie.nombre)||((X=R[0])==null?void 0:X.nombre)||"San Benito";console.log("🏪 Sede seleccionada:",ye),console.log("💳 Método de pago:",s),console.log("💰 Abono:",te),console.log("💰 Total:",re);const me=await i({metodo:s,sede:c,sedeNombre:ye,abono:te,total:re,numeroPedido:y,comprobante:h});console.log("📤 Datos de venta preparados:",me),console.log("🔄 Creando venta...");const he=await Io.crearVenta(me);console.log("✅ Venta creada exitosamente:",he);const je={idpedido:he.idVenta,metodopago:s,cantidadpagar:te,TotalPagado:te};console.log("🔄 Creando abono con datos:",je);const Fe=await Io.crearAbono(je,h);console.log("✅ Abono creado exitosamente:",Fe),s==="efectivo"?(await Io.actualizarEstadoVenta(he.idVenta,5),K("success",`¡Pedido creado exitosamente!
Número: ${y}
Sede: ${ye}
Dirección: ${(ie==null?void 0:ie.direccion)||"Ver en la sede"}
Horario: ${(ie==null?void 0:ie.horario)||"9:00 AM - 6:00 PM"}
Valor a pagar: $${te.toLocaleString()}

IMPORTANTE: Presenta este número de pedido al llegar a la sede.`)):s==="transferencia"&&K("success",`¡Pedido creado exitosamente!
Número: ${y}
Abono registrado: $${te.toLocaleString()}
Tu pedido quedará pendiente hasta verificar el comprobante de pago.
Te notificaremos cuando sea aprobado.`);const ue={metodo:s,sede:c,sedeNombre:ye,abono:te,total:re,numeroPedido:y,comprobante:h,idVenta:he.idVenta,idAbono:Fe.id||Fe.idabono};a(ue),setTimeout(()=>{console.log("🔄 Recargando página..."),window.location.reload()},3e3)}catch(ie){console.error("❌ Error al procesar pago:",ie);let ye="Error al crear el pedido";ie.message.includes("inventario")||ie.message.includes("Inventario")?ye=`Stock insuficiente: ${ie.message}`:ie.message.includes("INVENTARIO_INSUFICIENTE")?ye="No hay suficiente inventario disponible para completar el pedido":ie.message.includes("sede")?ye="Error con la sede seleccionada. Por favor intenta de nuevo":ye=ie.message||"Error desconocido al procesar el pedido",K("error",ye)}finally{O(!1)}};return o.createElement("div",{className:"opciones-pago-view"},N&&o.createElement("div",{className:"loading-overlay"},o.createElement("div",{className:"loading-spinner"},o.createElement("div",{className:"spinner"}),o.createElement("p",null,"Procesando pedido..."))),E.show&&o.createElement("div",{className:`custom-alert ${E.type}`},o.createElement("span",{className:"alert-icon"},E.type==="success"&&"✓",E.type==="error"&&"✗",E.type==="info"&&"i"),o.createElement("div",{className:"alert-message"},E.message.split(`
`).map((X,ie)=>o.createElement("p",{key:ie},X))),o.createElement("button",{className:"close-alert-btn",onClick:()=>C({show:!1,type:"",message:""})},"×")),k&&o.createElement("div",{className:"custom-alert success image-upload-alert"},o.createElement("span",{className:"alert-icon"},"📸"),o.createElement("div",{className:"alert-message"},o.createElement("p",null,"¡Imagen subida correctamente!"),o.createElement("p",{className:"file-name-display"},h==null?void 0:h.name)),o.createElement("button",{className:"close-alert-btn",onClick:()=>_(!1)},"×")),o.createElement("div",{className:"pago-contenido"},o.createElement("div",{className:"seccion-header"},o.createElement("h2",{className:"seccion-title"},"💳 Opciones de Pago"),o.createElement("div",{className:"numero-pedido"},o.createElement("span",null,"📋 Número de Pedido: ",o.createElement("strong",null,y))),o.createElement("div",{className:"alert-info"},o.createElement("span",{className:"alert-icon"},"ℹ️"),o.createElement("span",null,"Los productos personalizados requieren un abono del 50% para iniciar la producción"))),o.createElement("div",{className:"resumen-pago"},o.createElement("h3",{className:"resumen-title"},"📋 Resumen del Pedido"),(t==null?void 0:t.productos)&&t.productos.length>0&&o.createElement("div",{className:"productos-lista"},o.createElement("h4",{className:"subseccion-title"},"Productos:"),t.productos.map((X,ie)=>o.createElement("div",{key:ie,className:"producto-pago-item"},o.createElement("span",{className:"producto-nombre"},X.nombre),o.createElement("span",{className:"producto-cantidad"},"x",X.cantidad||1),o.createElement("span",{className:"producto-precio"},"$",(X.precio*(X.cantidad||1)).toLocaleString())))),(t==null?void 0:t.toppings)&&t.toppings.length>0&&o.createElement("div",{className:"extras-section"},o.createElement("h4",{className:"subseccion-title"},"Toppings:"),t.toppings.map((X,ie)=>o.createElement("div",{key:ie,className:"extra-item"},o.createElement("span",null,X.nombre),o.createElement("span",null,"$",(X.precio||0).toLocaleString())))),(t==null?void 0:t.adiciones)&&t.adiciones.length>0&&o.createElement("div",{className:"extras-section"},o.createElement("h4",{className:"subseccion-title"},"Adiciones:"),t.adiciones.map((X,ie)=>o.createElement("div",{key:ie,className:"extra-item"},o.createElement("span",null,X.nombre),o.createElement("span",null,"$",X.precio.toLocaleString())))),(t==null?void 0:t.salsas)&&t.salsas.length>0&&o.createElement("div",{className:"extras-section"},o.createElement("h4",{className:"subseccion-title"},"Salsas:"),t.salsas.map((X,ie)=>o.createElement("div",{key:ie,className:"extra-item"},o.createElement("span",null,X.nombre),o.createElement("span",null,"$",X.precio.toLocaleString())))),o.createElement("div",{className:"totales"},o.createElement("div",{className:"total-item"},o.createElement("span",null,"Productos:"),o.createElement("span",null,"$",F.toLocaleString())),H>0&&o.createElement("div",{className:"total-item"},o.createElement("span",null,"Extras (toppings/adiciones/salsas):"),o.createElement("span",null,"$",H.toLocaleString())),o.createElement("div",{className:"total-item"},o.createElement("span",null,"Subtotal:"),o.createElement("span",null,"$",J.toLocaleString())),o.createElement("div",{className:"total-item"},o.createElement("span",null,"IVA (19%):"),o.createElement("span",null,"$",ee.toLocaleString())),o.createElement("div",{className:"total-item total-final"},o.createElement("span",null,"Total:"),o.createElement("span",null,"$",re.toLocaleString())),o.createElement("div",{className:"total-item abono-destacado"},o.createElement("span",null,"📸 Abono requerido (50%):"),o.createElement("span",{className:"abono-valor"},"$",te.toLocaleString())))),o.createElement("div",{className:"metodos-pago"},o.createElement("h3",{className:"metodos-title"},"Selecciona tu método de pago"),o.createElement("div",{className:"metodos-grid"},o.createElement("div",{className:`metodo-card ${s==="transferencia"?"selected":""}`},o.createElement("label",{className:"metodo-label"},o.createElement("input",{type:"radio",name:"metodoPago",value:"transferencia",checked:s==="transferencia",onChange:()=>U("transferencia")}),o.createElement("div",{className:"metodo-content"},o.createElement("div",{className:"metodo-icon"},"🏦"),o.createElement("div",{className:"metodo-info"},o.createElement("h4",null,"Transferencia Bancaria"),o.createElement("p",null,"Bancolombia o Nequi")))),f&&o.createElement("div",{className:"datos-banco"},o.createElement("div",{className:"banco-info"},o.createElement("h5",null,"📝 Datos para transferencia:"),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Banco:"),o.createElement("span",null,"Bancolombia")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Tipo:"),o.createElement("span",null,"Cuenta de Ahorros")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Número:"),o.createElement("span",null,"123-456-789")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Cédula:"),o.createElement("span",null,"12.345.678")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Nombre:"),o.createElement("span",null,"Juan Pérez")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Nequi:"),o.createElement("span",null,"300 123 45 67")),o.createElement("div",{className:"dato-item destacado"},o.createElement("span",{className:"dato-label"},"Valor a transferir:"),o.createElement("span",null,"$",te.toLocaleString())),o.createElement("button",{className:"btn-copiar",onClick:Y},"📋 Copiar datos")),o.createElement("div",{className:"comprobante-section"},o.createElement("h5",null,"📎 Subir Comprobante ",o.createElement("span",{className:"obligatorio"},"*")),o.createElement("div",{className:"upload-area"},o.createElement("input",{type:"file",id:"comprobante",accept:"image/*",onChange:j,className:"file-input"}),o.createElement("label",{htmlFor:"comprobante",className:"upload-label"},h?o.createElement("div",{className:"file-selected"},o.createElement("span",{className:"file-icon"},"✅"),o.createElement("span",{className:"file-name"},h.name)):o.createElement("div",{className:"upload-placeholder"},o.createElement("span",{className:"upload-icon"},"📷"),o.createElement("span",null,"Seleccionar imagen del comprobante"),o.createElement("small",null,"JPG, PNG, WEBP (máx. 5MB)")))),x&&o.createElement("div",{className:"error-message"},o.createElement("span",{className:"error-icon"},"✗"),o.createElement("span",null,x))))),o.createElement("div",{className:`metodo-card ${s==="efectivo"?"selected":""}`},o.createElement("label",{className:"metodo-label"},o.createElement("input",{type:"radio",name:"metodoPago",value:"efectivo",checked:s==="efectivo",onChange:()=>U("efectivo")}),o.createElement("div",{className:"metodo-content"},o.createElement("div",{className:"metodo-icon"},"💵"),o.createElement("div",{className:"metodo-info"},o.createElement("h4",null,"Efectivo en Sede"),o.createElement("p",null,"Paga directamente en nuestras ubicaciones")))),s==="efectivo"&&o.createElement("div",{className:"sedes-efectivo"},o.createElement("h5",null,"📍 Selecciona la sede: ",o.createElement("span",{className:"obligatorio"},"*")),B&&o.createElement("div",{className:"loading-sedes"},o.createElement("div",{className:"loading-spinner-small"}),o.createElement("span",null,"Cargando sedes...")),I&&o.createElement("div",{className:"error-sedes"},o.createElement("span",{className:"error-icon"},"⚠️"),o.createElement("span",null,I)),!B&&R.map(X=>o.createElement("label",{key:X.id,className:`sede-option ${c===X.id?"selected":""}`},o.createElement("input",{type:"radio",name:"sede",value:X.id,checked:c===X.id,onChange:ie=>u(ie.target.value)}),o.createElement("div",{className:"sede-info"},o.createElement("span",{className:"sede-nombre"},X.nombre),o.createElement("span",{className:"sede-direccion"},X.direccion),o.createElement("span",{className:"sede-horario"},X.horario),X.telefono&&o.createElement("span",{className:"sede-telefono"},"📞 ",X.telefono)))),c&&o.createElement("div",{className:"valor-efectivo"},o.createElement("span",{className:"valor-label"},"Valor a pagar:"),o.createElement("span",{className:"valor-cantidad"},"$",te.toLocaleString())))))),o.createElement("div",{className:"acciones-footer"},o.createElement("button",{className:"btn-anterior",onClick:n},o.createElement("span",{className:"btn-icon"},"←"),"Anterior"),o.createElement("button",{className:"btn-continuar",onClick:G,disabled:N||!s||s==="efectivo"&&!c||s==="transferencia"&&!h},N?"Procesando...":"Completar Pedido",o.createElement("span",{className:"btn-icon"},"✓")))))},eF=()=>{const[t,e]=b.useState(null),[r,n]=b.useState(!1),[a,i]=b.useState(null),[s,l]=b.useState({show:!1,type:"",message:""}),[c,u]=b.useState([]),[f,p]=b.useState("todos"),[h,g]=b.useState(!0),[x,v]=b.useState(null),[y,E]=b.useState(null),[C,k]=b.useState([]);b.useEffect(()=>{_()},[]);const _=async()=>{g(!0),v(null);try{const M=await Ms.obtenerProductos();k(M),console.log("Productos disponibles cargados:",M);const F=await wd.obtenerDatosClienteLogueado();E(F),console.log("Cliente autenticado:",F);const H=await Io.obtenerVentas();console.log("Todas las ventas:",H);const J=H.filter(te=>{var U;const K=((U=te.nombreCliente)==null?void 0:U.toLowerCase())||"";return K.includes(F.nombre.toLowerCase())&&K.includes(F.apellido.toLowerCase())});console.log("Ventas del cliente:",J);const ee=te=>{const K=M.find(U=>U.idproductogeneral===te);return(K==null?void 0:K.nombre)||`ID: ${te}`},re=await Promise.all(J.map(async te=>{var K;try{const U=await Io.obtenerVentaPorId(te.idVenta);return console.log(`Detalle de venta ${te.idVenta}:`,U),{id:`P${te.idVenta.toString().padStart(3,"0")}`,idVenta:te.idVenta,fecha:new Date(te.fechaVenta).toLocaleDateString("es-CO"),hora:new Date(te.fechaVenta).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),estado:N(te.idEstadoVenta),cliente:te.nombreCliente,telefono:F.celular||"No registrado",ubicacion:`${F.direccion||"Sin dirección"}, ${F.barrio||"Sin barrio"}`,abono:((K=U==null?void 0:U.abonos)==null?void 0:K.reduce((j,Y)=>j+parseFloat(Y.TotalPagado||Y.monto||0),0))||0,total:parseFloat(te.total||0),metodoPago:te.metodoPago||"No especificado",tipoVenta:te.tipoVenta,productos:((U==null?void 0:U.detalleVenta)||[]).map(j=>({id:j.iddetalleventa,nombre:ee(j.idproductogeneral),cantidad:j.cantidad||1,precio:parseFloat(j.precioUnitario||0),subtotal:parseFloat(j.subtotal||0),toppings:(j.sabores||[]).map(Y=>Y.nombre),adicciones:(j.adiciones||[]).map(Y=>Y.nombre),salsas:(j.salsas||[]).map(Y=>Y.nombre)})),observaciones:te.tipoVenta==="pedido"?"Pedido programado":"Venta directa",abonos:((U==null?void 0:U.abonos)||[]).map(j=>({fecha:new Date().toLocaleDateString("es-CO"),monto:parseFloat(j.TotalPagado||j.monto||0),tipo:j.metodoPago||j.metodopago||"No especificado"}))}}catch(U){return console.error(`Error al obtener detalles de venta ${te.idVenta}:`,U),{id:`P${te.idVenta.toString().padStart(3,"0")}`,idVenta:te.idVenta,fecha:new Date(te.fechaVenta).toLocaleDateString("es-CO"),hora:new Date(te.fechaVenta).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),estado:N(te.idEstadoVenta),cliente:te.nombreCliente,telefono:F.celular||"No registrado",ubicacion:"No disponible",abono:0,total:parseFloat(te.total||0),metodoPago:te.metodoPago||"No especificado",tipoVenta:te.tipoVenta,productos:[],observaciones:"Error al cargar detalles",abonos:[]}}}));u(re),console.log("Pedidos transformados:",re)}catch(M){console.error("Error al cargar datos:",M),v(`Error al cargar el historial: ${M.message}`),O("error","Error al cargar el historial de pedidos")}finally{g(!1)}},N=M=>({1:"pendiente",2:"enProduccion",3:"entregadoVentas",4:"entregado",5:"abonado",6:"anulado"})[M]||"pendiente",O=(M,F)=>{l({show:!0,type:M,message:F}),setTimeout(()=>{l({show:!1,type:"",message:""})},3e3)},R=M=>{e(t===M?null:M)},D=M=>{const F=c.find(H=>H.id===M);F&&["pendiente","abonado"].includes(F.estado)?(i(M),n(!0)):O("error","Este pedido no se puede anular en su estado actual")},B=async()=>{try{const M=c.find(F=>F.id===a);M&&(await Io.anularVenta(M.idVenta),u(F=>F.map(H=>H.id===a?{...H,estado:"anulado"}:H)),O("success",`Pedido ${a} anulado exitosamente.`))}catch(M){console.error("Error al anular pedido:",M),O("error","Error al anular el pedido. Intente nuevamente.")}finally{n(!1),i(null)}},z=()=>{n(!1),i(null),O("info","Anulación de pedido cancelada.")},I={pendiente:{color:"#ffc107",label:"Pendiente"},abonado:{color:"#6f42c1",label:"Abonado"},enProduccion:{color:"#007bff",label:"En producción"},entregadoVentas:{color:"#17a2b8",label:"Por entregar"},anulado:{color:"#dc3545",label:"Anulado"},entregado:{color:"#9b9b9b",label:"Entregado"}},L=f==="todos"?c:c.filter(M=>M.estado===f);return h?o.createElement("div",{style:{minHeight:"400px",display:"flex",justifyContent:"center",alignItems:"center",background:"white",borderRadius:"15px"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"⏳"),o.createElement("p",{style:{color:"#6c757d"}},"Cargando tu historial de pedidos..."))):x?o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"40px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.08)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"❌"),o.createElement("h3",{style:{color:"#dc3545",marginBottom:"10px"}},"Error al cargar datos"),o.createElement("p",{style:{color:"#6c757d",marginBottom:"20px"}},x),o.createElement("button",{onClick:_,style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"#e91e63",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"Reintentar")):o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"20px",fontFamily:"Inter, sans-serif"}},s.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:s.type==="success"?"linear-gradient(135deg, #10b981, #059669)":s.type==="error"?"linear-gradient(135deg, #ec4899, #be185d)":"linear-gradient(135deg, #0ea5e9, #0284c7)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"}},s.message),o.createElement("div",{style:{maxWidth:"1200px",margin:"0 auto"}},o.createElement("div",{style:{background:"white",borderRadius:"20px",padding:"30px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",textAlign:"center"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"700",background:"linear-gradient(45deg, #e91e63, #f06292)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"10px"}},"Mi Historial de Pedidos"),y&&o.createElement("p",{style:{color:"#6c757d",fontSize:"16px"}},"Bienvenido/a ",y.nombre)),o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"20px",marginBottom:"20px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)",display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center"}},o.createElement("span",{style:{fontWeight:"600",color:"#495057",marginRight:"10px"}},"Filtrar por estado:"),o.createElement("button",{onClick:()=>p("todos"),style:{padding:"8px 16px",border:"none",borderRadius:"20px",background:f==="todos"?"#e91e63":"#f8f9fa",color:f==="todos"?"white":"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"}},"Todos (",c.length,")"),Object.entries(I).map(([M,F])=>{const H=c.filter(J=>J.estado===M).length;return o.createElement("button",{key:M,onClick:()=>p(M),style:{padding:"8px 16px",border:"none",borderRadius:"20px",background:f===M?F.color:"#f8f9fa",color:f===M?"white":"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"}},F.label," (",H,")")})),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},L.length===0?o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"40px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.08)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},"📋"),o.createElement("h3",{style:{color:"#6c757d"}},f==="todos"?"No tienes pedidos aún":"No hay pedidos con este estado")):L.map(M=>o.createElement("div",{key:M.id,style:{background:"white",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)",border:"2px solid #f8f9fa",overflow:"hidden"}},o.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #f8f9fa",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"}},o.createElement("div",null,o.createElement("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#495057",margin:"0 0 5px 0"}},"Pedido ",M.id),o.createElement("p",{style:{color:"#6c757d",fontSize:"14px",margin:"0"}},M.fecha," • ",M.hora)),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"20px",background:`${I[M.estado].color}15`,border:`2px solid ${I[M.estado].color}30`}},o.createElement("span",{style:{color:I[M.estado].color,fontWeight:"600",fontSize:"14px"}},I[M.estado].label))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},o.createElement("div",{style:{textAlign:"right",marginRight:"10px"}},o.createElement("div",{style:{fontSize:"14px",color:"#6c757d"}},"Total"),o.createElement("div",{style:{fontSize:"18px",fontWeight:"700",color:"#e91e63"}},"$",M.total.toLocaleString())),o.createElement("button",{onClick:()=>R(M.id),style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},t===M.id?"Ocultar":"Ver Detalles"),["pendiente","abonado"].includes(M.estado)&&o.createElement("button",{onClick:()=>D(M.id),style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #dc3545, #e85a67)",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"Anular"))),t===M.id&&o.createElement("div",{style:{padding:"20px",background:"#f8f9fa"}},M.productos&&M.productos.length>0&&o.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"20px"}},o.createElement("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"15px"}},"🍽️ Productos"),M.productos.map((F,H)=>{var J,ee,re;return o.createElement("div",{key:H,style:{padding:"15px",background:"#f8f9fa",borderRadius:"10px",marginBottom:"10px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},o.createElement("h5",{style:{margin:0}},F.nombre),o.createElement("div",null,o.createElement("div",null,"Cantidad: ",F.cantidad),o.createElement("div",{style:{color:"#e91e63",fontWeight:"600"}},"$",F.precio.toLocaleString()))),((J=F.toppings)==null?void 0:J.length)>0&&o.createElement("div",{style:{marginTop:"10px"}},o.createElement("strong",null,"Toppings:")," ",F.toppings.join(", ")),((ee=F.adicciones)==null?void 0:ee.length)>0&&o.createElement("div",{style:{marginTop:"5px"}},o.createElement("strong",null,"Adiciones:")," ",F.adicciones.join(", ")),((re=F.salsas)==null?void 0:re.length)>0&&o.createElement("div",{style:{marginTop:"5px"}},o.createElement("strong",null,"Salsas:")," ",F.salsas.join(", ")))}))))))),r&&o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"30px",maxWidth:"450px",textAlign:"center"}},o.createElement("div",{style:{fontSize:"60px",marginBottom:"20px"}},"⚠️"),o.createElement("h3",{style:{fontSize:"24px",marginBottom:"15px"}},"¿Anular Pedido?"),o.createElement("p",{style:{marginBottom:"30px"}},"¿Seguro que quieres anular el pedido ",a,"?"),o.createElement("div",{style:{display:"flex",gap:"15px",justifyContent:"center"}},o.createElement("button",{onClick:z,style:{padding:"12px 25px",border:"2px solid #6c757d",borderRadius:"10px",background:"white",cursor:"pointer"}},"Cancelar"),o.createElement("button",{onClick:B,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:"#dc3545",color:"white",cursor:"pointer"}},"Sí, Anular")))))},tF=()=>{const[t,e]=b.useState("productos"),[r,n]=b.useState({productos:[],toppings:[],adiciones:[],salsas:[],comentarios:"",opciones:{entrega:null,pago:null}}),[a,i]=b.useState("nuevo"),[s,l]=b.useState([]),[c,u]=b.useState([]),[f,p]=b.useState([]),{productosSeleccionados:h,limpiarProductosSeleccionados:g}=b.useContext(pl),x=H=>{e(H)},v=H=>{switch(i(H),H){case"nuevo":e("productos"),y();break;case"historial":e("historial");break}},y=()=>{n({productos:[],toppings:[],adiciones:[],salsas:[],comentarios:"",opciones:{entrega:null,pago:null}}),l([]),u([]),p([]),g()};b.useEffect(()=>{h&&h.length>0&&n(H=>({...H,productos:h}))},[h]);const E=H=>{n(J=>{const ee=[...J.productos],re=ee.find(te=>te.id===H.id);return re?re.cantidad=(re.cantidad||1)+1:ee.push({...H,cantidad:1}),{...J,productos:ee}})},C=H=>{n(J=>({...J,productos:J.productos.filter(ee=>ee.id!==H)}))},k=(H,J)=>{if(J<=0){C(H);return}n(ee=>({...ee,productos:ee.productos.map(re=>re.id===H?{...re,cantidad:J}:re)}))},_=()=>{n(H=>({...H,productos:h||[]})),e("toppings")},N=H=>{l(J=>J.find(re=>re.id===H.id)?J.filter(re=>re.id!==H.id):[...J,H])},O=H=>{u(J=>J.find(re=>re.id===H.id)?J.filter(re=>re.id!==H.id):[...J,H])},R=H=>{p(J=>J.find(re=>re.id===H.id)?J.filter(re=>re.id!==H.id):[...J,H])},D=()=>{n(H=>({...H,toppings:s})),e("adiciones")},B=()=>{n(H=>({...H,adiciones:c})),e("salsas")},z=()=>{n(H=>({...H,salsas:f})),e("entrega")},I=()=>{let H=0;const J=r.productos.length>0?r.productos:h||[];return H+=J.reduce((ee,re)=>ee+re.precio*(re.cantidad||1),0),H+=r.toppings.reduce((ee,re)=>ee+(re.precio||0),0),H+=r.adiciones.reduce((ee,re)=>ee+(re.precio||0),0),H+=r.salsas.reduce((ee,re)=>ee+(re.precio||0),0),H},L=H=>{n(J=>({...J,comentarios:H.comentarios||""})),e("pago")},M=async H=>{var Y,G,X;const J=r.productos.length>0?r.productos:h||[];console.log("📦 Productos a enviar:",J);let ee=null,re="Cliente Pedido Online";try{const ie=await wd.obtenerDatosClienteLogueado();ie&&ie.idcliente&&(ee=ie.idcliente,re=`${ie.nombre} ${ie.apellido}`,console.log("✅ Cliente autenticado:",re,"ID:",ee))}catch(ie){console.warn("⚠️ No se pudo obtener cliente autenticado, usando genérico:",ie)}const te=J.map(ie=>{var Fe,ue,xe;const ye=ie.precio*(ie.cantidad||1);let me=0;((Fe=r.toppings)==null?void 0:Fe.length)>0&&(me+=r.toppings.reduce((Pe,_e)=>Pe+(_e.precio||0),0)),((ue=r.adiciones)==null?void 0:ue.length)>0&&(me+=r.adiciones.reduce((Pe,_e)=>Pe+(_e.precio||0),0)),((xe=r.salsas)==null?void 0:xe.length)>0&&(me+=r.salsas.reduce((Pe,_e)=>Pe+(_e.precio||0),0));const he=ye+me,je=he*.19;return{idproductogeneral:ie.id,cantidad:ie.cantidad||1,preciounitario:ie.precio,subtotal:he,iva:je}}),K=I(),U=K*.19,j=H.sedeNombre||((G=(Y=r.opciones.entrega)==null?void 0:Y.ubicacionData)==null?void 0:G.nombre)||"San Benito";return console.log("🏪 Sede seleccionada:",j),console.log("👤 Cliente ID:",ee),console.log("📝 Nombre cliente:",re),{fechaventa:new Date().toISOString(),cliente:ee,clienteId:ee,clienteNombre:re,sede:j,sedeNombre:j,metodopago:H.metodo||r.opciones.pago,tipoventa:"pedido",total:K+U,detalleventa:te,datosEntrega:(X=r.opciones.entrega)==null?void 0:X.datosEntrega,comentarios:r.comentarios,extras:{toppings:r.toppings,adiciones:r.adiciones,salsas:r.salsas}}},F=()=>{switch(t){case"productos":return o.createElement(NN,{onProductoSeleccionado:E,onSiguiente:_,productosSeleccionados:r.productos,onEliminarProducto:C,onActualizarCantidad:k});case"toppings":return o.createElement(GM,{selectedItems:s,onItemToggle:N,onContinue:D,onBack:()=>e("productos")});case"adiciones":return o.createElement(KM,{selectedItems:c,onItemToggle:O,onContinue:B,onBack:()=>e("toppings")});case"salsas":return o.createElement(YM,{selectedItems:f,onItemToggle:R,onContinue:z,onBack:()=>e("adiciones")});case"entrega":return o.createElement(XM,{pedido:r,onSiguiente:()=>x("confirmacion"),onAnterior:()=>x("salsas"),onOpcionSeleccionada:H=>{n(J=>({...J,opciones:{...J.opciones,entrega:H}}))}});case"confirmacion":return o.createElement(ZM,{pedido:r,total:I(),onSiguiente:L,onAnterior:()=>x("entrega"),onEliminarProducto:C,onActualizarCantidad:k});case"pago":return o.createElement(QM,{pedido:r,total:I(),prepararDatosVenta:M,onPedidoCompletado:()=>{y(),v("historial")},onAnterior:()=>x("confirmacion"),onOpcionSeleccionada:H=>{n(J=>({...J,opciones:{...J.opciones,pago:H}}))}});case"historial":return o.createElement(eF,null);default:return o.createElement(NN,{onProductoSeleccionado:E,onSiguiente:_,productosSeleccionados:r.productos,onEliminarProducto:C,onActualizarCantidad:k})}};return o.createElement("div",{className:"pedidos-container"},o.createElement("div",{className:"pedidos-header"},o.createElement("h1",{className:"pedidos-title"},"SISTEMA DE PEDIDOS"),o.createElement("div",{className:"pedidos-nav"},o.createElement("button",{className:`nav-tab ${a==="nuevo"?"active":""}`,onClick:()=>v("nuevo")},"Nuevo pedido"),o.createElement("button",{className:`nav-tab ${a==="historial"?"active":""}`,onClick:()=>v("historial")},"Historial"))),a==="nuevo"&&o.createElement("div",{className:"progress-indicator"},o.createElement("div",{className:"progress-steps"},o.createElement("div",{className:`step ${t==="productos"?"active":""} ${["toppings","adiciones","salsas","entrega","confirmacion","pago"].includes(t)?"completed":""}`},o.createElement("span",{className:"step-number"},"1"),o.createElement("span",{className:"step-label"},"Productos")),o.createElement("div",{className:`step ${["toppings","adiciones","salsas"].includes(t)?"active":""} ${["entrega","confirmacion","pago"].includes(t)?"completed":""}`},o.createElement("span",{className:"step-number"},"2"),o.createElement("span",{className:"step-label"},"Personalización")),o.createElement("div",{className:`step ${t==="entrega"?"active":""} ${["confirmacion","pago"].includes(t)?"completed":""}`},o.createElement("span",{className:"step-number"},"3"),o.createElement("span",{className:"step-label"},"Entrega")),o.createElement("div",{className:`step ${t==="confirmacion"?"active":""} ${t==="pago"?"completed":""}`},o.createElement("span",{className:"step-number"},"4"),o.createElement("span",{className:"step-label"},"Confirmar")),o.createElement("div",{className:`step ${t==="pago"?"active":""}`},o.createElement("span",{className:"step-number"},"5"),o.createElement("span",{className:"step-label"},"Pago")))),o.createElement("div",{className:"pedidos-content"},F()))},rF=({onCodigoGenerado:t,onClose:e})=>{const[r,n]=b.useState(""),[a,i]=b.useState({show:!1,type:"",message:""}),[s,l]=b.useState(!1);b.useEffect(()=>(document.body.classList.add("hide-toggle"),()=>{document.body.classList.remove("hide-toggle")}),[]);const c=(f,p)=>{i({show:!0,type:f,message:p}),setTimeout(()=>{i({show:!1,type:"",message:""})},4e3)},u=async f=>{if(f.preventDefault(),!r.trim()){c("error","Por favor, ingresa tu correo electrónico.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){c("error","Por favor, ingresa un correo electrónico válido.");return}l(!0);try{console.log("Solicitando recuperación de contraseña para:",r);const h=await wd.solicitarRecuperacionPassword(r);h.success?(c("success","✅ Código enviado a tu correo electrónico"),sessionStorage.setItem("tempEmailRecovery",r),sessionStorage.setItem("tempRecoveryCode",h.codigo||""),console.log("✅ Código guardado en sessionStorage:",h.codigo),setTimeout(()=>{t(h.codigo)},1500)):c("error",h.message||"Error al enviar el código")}catch(h){console.error("Error:",h),c("error","Error de conexión. Inténtalo nuevamente.")}finally{l(!1)}};return o.createElement("div",{className:"recovery-overlay"},a.show&&o.createElement("div",{className:`custom-alert alert-${a.type}`},a.message),o.createElement("div",{className:"recovery-modal",style:{maxWidth:"480px",padding:"2rem 1.5rem 1.5rem",minHeight:"auto",maxHeight:"85vh"}},o.createElement("div",{className:"progress-indicator",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"step active"},o.createElement("div",{className:"step-circle"},"1"),o.createElement("span",null,"Correo")),o.createElement("div",{className:"step-line"}),o.createElement("div",{className:"step"},o.createElement("div",{className:"step-circle"},"2"),o.createElement("span",null,"Código")),o.createElement("div",{className:"step-line"}),o.createElement("div",{className:"step"},o.createElement("div",{className:"step-circle"},"3"),o.createElement("span",null,"Nueva Contraseña"))),o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"icon-container",style:{width:"60px",height:"60px",marginBottom:"1rem"}},o.createElement(Vp,{size:24})),o.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"}},"Recuperar Contraseña"),o.createElement("p",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},"Ingresa tu correo electrónico para enviarte un código de verificación")),o.createElement("div",{className:"modal-body"},o.createElement("form",{onSubmit:u},o.createElement("div",{className:"input-group",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"input-wrapper"},o.createElement(Vp,{className:"input-icon",size:18}),o.createElement("input",{type:"email",placeholder:"Correo Electrónico",value:r,onChange:f=>n(f.target.value),disabled:s,className:"styled-input",autoComplete:"email",autoFocus:!0,style:{width:"100%",padding:"14px 14px 14px 44px",fontSize:"15px"}}))),o.createElement("div",{style:{display:"flex",gap:"12px",marginBottom:"1rem"}},o.createElement("button",{type:"submit",className:"btn-primary",disabled:s||!r.trim(),style:{flex:"1",padding:"14px 20px",fontSize:"15px",fontWeight:"600",minHeight:"48px"}},s?o.createElement(o.Fragment,null,o.createElement("div",{className:"spinner"}),"Enviando..."):o.createElement(o.Fragment,null,"Enviar Código",o.createElement(RS,{size:16}))),o.createElement("button",{type:"button",onClick:e,className:"btn-secondary",disabled:s,style:{flex:"1",padding:"14px 20px",fontSize:"15px",fontWeight:"600",minHeight:"48px"}},"Cancelar")),o.createElement("div",{style:{background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.1)",borderRadius:"8px",padding:"12px",textAlign:"center"}},o.createElement("div",{style:{color:"#5f6368",fontSize:"13px",lineHeight:"1.4"}},"Te enviaremos un código de 6 dígitos para verificar tu identidad")))))),o.createElement("style",{jsx:!0},`
        .recovery-overlay {
          padding: 20px;
        }

        .styled-input:focus {
          border-color: #e91e63 !important;
          box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1) !important;
        }

        .btn-primary {
          background: #e91e63 !important;
          border: none !important;
          border-radius: 12px !important;
          color: white !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
        }

        .btn-primary:hover:not(:disabled) {
          background: #c2185b !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 4px 12px rgba(233, 30, 99, 0.3) !important;
        }

        .btn-secondary {
          background: white !important;
          border: 2px solid #f1f3f4 !important;
          border-radius: 12px !important;
          color: #5f6368 !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.3s ease !important;
        }

        .btn-secondary:hover:not(:disabled) {
          border-color: #e91e63 !important;
          color: #e91e63 !important;
          background: rgba(233, 30, 99, 0.05) !important;
        }

        .btn-primary:disabled, .btn-secondary:disabled {
          opacity: 0.6 !important;
          cursor: not-allowed !important;
          transform: none !important;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
          .recovery-modal {
            margin: 1rem !important;
            padding: 1.5rem 1rem !important;
            max-height: 90vh !important;
          }
        }
      `))},PN=({codigoCorrecto:t,onClose:e,onCodigoValido:r,correoEmail:n=null,esParaLogin:a=!1})=>{const[i,s]=b.useState(["","","","","",""]),[l,c]=b.useState({show:!1,type:"",message:""}),[u,f]=b.useState(!1),[p,h]=b.useState(0),g=a||n!==null,x=n||sessionStorage.getItem("tempEmailRecovery")||"tu@email.com",v=localStorage.getItem("redirectAfterLogin")==="/contactenos";b.useEffect(()=>(document.body.classList.add("hide-toggle"),()=>{document.body.classList.remove("hide-toggle")}),[]),b.useEffect(()=>{var M;(M=document.getElementById("code-0"))==null||M.focus()},[]);const y=(M,F)=>{c({show:!0,type:M,message:F}),setTimeout(()=>{c({show:!1,type:"",message:""})},3e3)},E=(M,F)=>{if(F&&!/^[0-9]$/.test(F))return;const H=[...i];if(H[M]=F,s(H),F&&M<5){const J=document.getElementById(`code-${M+1}`);J==null||J.focus()}},C=(M,F)=>{var H,J;if(F.key==="Backspace")if(!i[M]&&M>0){const ee=document.getElementById(`code-${M-1}`);ee==null||ee.focus()}else{const ee=[...i];ee[M]="",s(ee)}else F.key==="ArrowLeft"&&M>0?(H=document.getElementById(`code-${M-1}`))==null||H.focus():F.key==="ArrowRight"&&M<5?(J=document.getElementById(`code-${M+1}`))==null||J.focus():F.key==="Enter"&&_()},k=M=>{M.preventDefault();const H=M.clipboardData.getData("text").replace(/[^0-9]/g,"").split("").slice(0,6);H.length===6&&(s(H),setTimeout(()=>{var J;(J=document.getElementById("code-5"))==null||J.focus()},10))},_=()=>{const M=i.join("");if(M.length<6){y("error","Por favor, ingresa el código completo de 6 dígitos.");return}console.log("🔐 Código ingresado:",M),console.log("🔑 Código esperado:",t),f(!0),h(F=>F+1),setTimeout(()=>{g?(v?y("success","Verificando código..."):y("success","Verificando código e iniciando sesión..."),setTimeout(()=>{r(M)},800)):M===String(t)?(y("success","Código verificado correctamente"),setTimeout(()=>{r()},1e3)):(y("error","Código incorrecto. Inténtalo nuevamente."),s(["","","","","",""]),setTimeout(()=>{var F;(F=document.getElementById("code-0"))==null||F.focus()},100)),f(!1)},600)},N=()=>{g?y("success","Código de acceso reenviado"):y("success","Código reenviado a tu correo"),h(0),s(["","","","","",""]),setTimeout(()=>{var M;(M=document.getElementById("code-0"))==null||M.focus()},100)},O=i.join("").length===6,R=()=>g?v?"Verificar para Contacto":"Verificar Acceso":"Verificar Código",D=()=>g?v?"Ingresa el código de 6 dígitos para iniciar sesión y autocompletar el formulario":"Ingresa el código de 6 dígitos enviado a tu correo":"Ingresa el código de 6 dígitos enviado a",B=()=>g?v?"Verificar e Ir a Contacto":"Verificar e Iniciar":"Verificar",z=()=>g?o.createElement(uM,{size:24}):o.createElement(Gp,{size:24}),I=()=>g?null:o.createElement("div",{className:"progress-indicator",style:{marginBottom:"1.2rem"}},o.createElement("div",{className:"step completed"},o.createElement("div",{className:"step-circle"},o.createElement(oE,{size:16})),o.createElement("span",null,"Correo")),o.createElement("div",{className:"step-line completed"}),o.createElement("div",{className:"step active"},o.createElement("div",{className:"step-circle"},"2"),o.createElement("span",null,"Código")),o.createElement("div",{className:"step-line"}),o.createElement("div",{className:"step"},o.createElement("div",{className:"step-circle"},"3"),o.createElement("span",null,"Nueva Contraseña"))),L=()=>g&&v?"#fbbf24":"#e91e63";return o.createElement("div",{className:"recovery-overlay"},l.show&&o.createElement("div",{className:`custom-alert alert-${l.type}`},l.message),o.createElement("div",{className:"recovery-modal",style:{maxWidth:"480px",padding:"1.8rem 1.5rem"}},I(),v&&o.createElement("div",{style:{background:"linear-gradient(135deg, #fef3c7, #fcd34d)",color:"#92400e",padding:"12px",borderRadius:"8px",margin:"0 0 15px 0",fontSize:"13px",textAlign:"center",fontWeight:"600"}},"Una vez verificado, tus datos se autocompletarán automáticamente"),o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"icon-container",style:{width:"60px",height:"60px",marginBottom:"1rem"}},z()),o.createElement("h2",{style:{fontSize:"1.4rem",marginBottom:"0.5rem"}},R()),o.createElement("p",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},D()," ",o.createElement("strong",null,x))),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"code-input-container",style:{margin:"1.5rem 0"}},i.map((M,F)=>o.createElement("input",{key:F,id:`code-${F}`,type:"text",maxLength:"1",value:M,onChange:H=>E(F,H.target.value),onKeyDown:H=>C(F,H),onPaste:F===0?k:void 0,className:"code-digit-input",disabled:u,style:{borderColor:M?L():"#f1f3f4",background:M?"#ffffff":"#fafbfc",width:"44px",height:"52px"}}))),o.createElement("div",{style:{display:"flex",gap:"12px",marginBottom:"1rem"}},o.createElement("button",{onClick:_,className:"btn-primary",disabled:u||!O,style:{flex:"1",backgroundColor:L(),color:v?"#111827":"white",padding:"14px 20px",fontSize:"15px",minHeight:"48px"}},u?o.createElement(o.Fragment,null,o.createElement("div",{className:"spinner"}),"Verificando..."):o.createElement(o.Fragment,null,B(),o.createElement(RS,{size:16}))),o.createElement("button",{type:"button",onClick:e,className:"btn-secondary",disabled:u,style:{flex:"1",padding:"14px 20px",fontSize:"15px",minHeight:"48px"}},"Cancelar")),o.createElement("button",{type:"button",onClick:N,disabled:u,style:{width:"100%",background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.2)",borderRadius:"8px",padding:"12px",color:"#e91e63",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease"}},o.createElement(wM,{size:14}),"Reenviar código"),o.createElement("div",{style:{background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.1)",borderRadius:"8px",padding:"12px",marginTop:"1rem",textAlign:"center"}},o.createElement("div",{style:{color:"#5f6368",fontSize:"13px",lineHeight:"1.4"}},g?"Revisa tu bandeja de spam si no recibiste el código":"El código expira en 10 minutos por seguridad")),p>0&&o.createElement("div",{style:{textAlign:"center",marginTop:"1rem",color:p>=3?"#ef4444":"#9aa0a6",fontSize:"13px",fontWeight:p>=3?"600":"normal"}},"Intentos: ",p,"/3")))),o.createElement("style",{jsx:!0},`
        .recovery-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 1000;
          padding: 20px;
        }

        .recovery-modal {
          background: white;
          border-radius: 20px;
          width: 100%;
          position: relative;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          animation: modalSlideIn 0.4s ease-out;
          overflow-y: auto;
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(-50px) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .progress-indicator {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0;
        }

        .step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
        }

        .step-circle {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 14px;
          background: #f1f3f4;
          color: #9aa0a6;
          border: 2px solid #f1f3f4;
        }

        .step.active .step-circle {
          background: #e91e63;
          color: white;
          border-color: #e91e63;
        }

        .step.completed .step-circle {
          background: #10b981;
          color: white;
          border-color: #10b981;
        }

        .step span {
          font-size: 12px;
          color: #9aa0a6;
          font-weight: 500;
          text-align: center;
        }

        .step.active span {
          color: #e91e63;
          font-weight: 600;
        }

        .step.completed span {
          color: #10b981;
          font-weight: 600;
        }

        .step-line {
          width: 40px;
          height: 2px;
          background: #f1f3f4;
          margin: 0 5px;
          margin-top: -20px;
        }

        .step-line.completed {
          background: #10b981;
        }

        .icon-container {
          background: linear-gradient(135deg, #e91e63, #ad1457);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          margin: 0 auto;
          box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
        }

        .code-input-container {
          display: flex;
          gap: 8px;
          justify-content: center;
          align-items: center;
        }

        .code-digit-input {
          text-align: center;
          font-size: 18px;
          font-weight: 700;
          border: 2px solid;
          border-radius: 12px;
          transition: all 0.3s ease;
          outline: none;
        }

        .code-digit-input:focus {
          border-color: #e91e63 !important;
          box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1);
          transform: scale(1.05);
        }

        .custom-alert {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 2000;
          padding: 1rem 1.5rem;
          border-radius: 15px;
          color: white;
          font-weight: 600;
          font-size: 0.9rem;
          min-width: 300px;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
          animation: slideInRight 0.5s ease-out;
        }

        .alert-success {
          background: linear-gradient(135deg, #10b981, #059669);
        }

        .alert-error {
          background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        .btn-primary {
          background: #e91e63 !important;
          border: none !important;
          border-radius: 12px !important;
          color: white !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
          font-weight: 600 !important;
        }

        .btn-primary:hover:not(:disabled) {
          transform: translateY(-2px) !important;
          box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4) !important;
        }

        .btn-secondary {
          background: white !important;
          border: 2px solid #f1f3f4 !important;
          border-radius: 12px !important;
          color: #5f6368 !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.3s ease !important;
          font-weight: 600 !important;
        }

        .btn-secondary:hover:not(:disabled) {
          border-color: #e91e63 !important;
          color: #e91e63 !important;
          background: rgba(233, 30, 99, 0.05) !important;
        }

        .btn-primary:disabled, .btn-secondary:disabled {
          opacity: 0.6 !important;
          cursor: not-allowed !important;
          transform: none !important;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
          .recovery-modal {
            margin: 1rem !important;
            padding: 1.5rem 1rem !important;
            max-height: 90vh !important;
          }

          .code-input-container {
            gap: 4px !important;
          }

          .code-digit-input {
            width: 38px !important;
            height: 46px !important;
            font-size: 16px !important;
          }

          .custom-alert {
            right: 10px !important;
            left: 10px !important;
            min-width: auto !important;
          }
        }
      `))},nF=({onClose:t,onContrasenaCambiada:e})=>{const[r,n]=b.useState({nueva:"",confirmar:""}),[a,i]=b.useState({nueva:!1,confirmar:!1}),[s,l]=b.useState({show:!1,type:"",message:""}),[c,u]=b.useState(!1),f=sessionStorage.getItem("tempEmailRecovery")||"",[p]=b.useState(()=>sessionStorage.getItem("tempRecoveryCode")||"");b.useEffect(()=>(document.body.classList.add("hide-toggle"),()=>{document.body.classList.remove("hide-toggle")}),[]);const h=(_,N)=>{l({show:!0,type:_,message:N}),setTimeout(()=>{l({show:!1,type:"",message:""})},4e3)},g=(_,N)=>{n(O=>({...O,[_]:N}))},x=_=>{i(N=>({...N,[_]:!N[_]}))},v=()=>{const{nueva:_,confirmar:N}=r;return _.trim()?_.length<6?(h("error","La contraseña debe tener al menos 6 caracteres."),!1):N.trim()?_!==N?(h("error","Las contraseñas no coinciden."),!1):!0:(h("error","Por favor, confirma la nueva contraseña."),!1):(h("error","Por favor, ingresa la nueva contraseña."),!1)},y=async _=>{if(_.preventDefault(),!!v()){if(!f){h("error","No se encontró el correo de recuperación.");return}u(!0);try{console.log("Cambiando contraseña para:",f);const N=await wd.cambiarPasswordConCodigo(f,p,r.nueva);N.success?(h("success","✅ Contraseña actualizada correctamente"),sessionStorage.removeItem("tempEmailRecovery"),sessionStorage.removeItem("tempRecoveryCode"),setTimeout(()=>{e()},1500)):h("error",N.message||"Error al cambiar la contraseña")}catch(N){console.error("Error cambiando contraseña:",N),h("error","Error de conexión. Inténtalo nuevamente.")}finally{u(!1)}}},C=(_=>{if(!_)return{strength:0,label:"",color:"#ddd"};let N=0;_.length>=6&&N++,_.length>=8&&N++,/[A-Z]/.test(_)&&N++,/[0-9]/.test(_)&&N++,/[^A-Za-z0-9]/.test(_)&&N++;const O=[{label:"Muy débil",color:"#ef4444"},{label:"Débil",color:"#f97316"},{label:"Regular",color:"#eab308"},{label:"Buena",color:"#22c55e"},{label:"Excelente",color:"#10b981"}];return{strength:N,...O[Math.min(N-1,4)]||O[0]}})(r.nueva),k=r.nueva&&r.confirmar&&r.nueva===r.confirmar;return o.createElement("div",{className:"recovery-overlay"},s.show&&o.createElement("div",{className:`custom-alert alert-${s.type}`},s.message),o.createElement("div",{className:"recovery-modal",style:{maxWidth:"480px",padding:"2rem 1.5rem 1.5rem",minHeight:"auto",maxHeight:"85vh"}},o.createElement("div",{className:"progress-indicator",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"step completed"},o.createElement("div",{className:"step-circle"},o.createElement(oE,{size:16})),o.createElement("span",null,"Correo")),o.createElement("div",{className:"step-line completed"}),o.createElement("div",{className:"step completed"},o.createElement("div",{className:"step-circle"},o.createElement(oE,{size:16})),o.createElement("span",null,"Código")),o.createElement("div",{className:"step-line completed"}),o.createElement("div",{className:"step active"},o.createElement("div",{className:"step-circle"},"3"),o.createElement("span",null,"Nueva Contraseña"))),o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"icon-container",style:{width:"60px",height:"60px",marginBottom:"1rem"}},o.createElement(Wp,{size:24})),o.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"}},"Nueva Contraseña"),o.createElement("p",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},"Ingresa tu nueva contraseña para ",o.createElement("strong",null,f))),o.createElement("div",{className:"modal-body"},o.createElement("form",{onSubmit:y},o.createElement("div",{className:"input-group",style:{marginBottom:"1rem"}},o.createElement("div",{className:"input-wrapper"},o.createElement(Wp,{className:"input-icon",size:18}),o.createElement("input",{type:a.nueva?"text":"password",placeholder:"Nueva Contraseña",value:r.nueva,onChange:_=>g("nueva",_.target.value),disabled:c,className:"styled-input",style:{width:"100%",padding:"14px 44px 14px 44px",fontSize:"15px"}}),o.createElement("button",{type:"button",onClick:()=>x("nueva"),className:"password-toggle",disabled:c,style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#9ca3af"}},a.nueva?o.createElement(uh,{size:18}):o.createElement(dh,{size:18}))),r.nueva&&o.createElement("div",{style:{marginTop:"8px"}},o.createElement("div",{style:{width:"100%",height:"4px",backgroundColor:"#f3f4f6",borderRadius:"2px",overflow:"hidden"}},o.createElement("div",{style:{width:`${C.strength/5*100}%`,height:"100%",backgroundColor:C.color,transition:"all 0.3s ease"}})),o.createElement("p",{style:{fontSize:"12px",color:C.color,margin:"4px 0 0 0",fontWeight:"500"}},"Fortaleza: ",C.label))),o.createElement("div",{className:"input-group",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"input-wrapper"},o.createElement(Wp,{className:"input-icon",size:18}),o.createElement("input",{type:a.confirmar?"text":"password",placeholder:"Confirmar Nueva Contraseña",value:r.confirmar,onChange:_=>g("confirmar",_.target.value),disabled:c,className:"styled-input",style:{width:"100%",padding:"14px 44px 14px 44px",fontSize:"15px",borderColor:r.confirmar?k?"#22c55e":"#ef4444":"#f1f3f4"}}),o.createElement("button",{type:"button",onClick:()=>x("confirmar"),className:"password-toggle",disabled:c,style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#9ca3af"}},a.confirmar?o.createElement(uh,{size:18}):o.createElement(dh,{size:18}))),r.confirmar&&o.createElement("p",{style:{fontSize:"12px",color:k?"#22c55e":"#ef4444",margin:"4px 0 0 0",fontWeight:"500"}},k?"✅ Las contraseñas coinciden":"❌ Las contraseñas no coinciden")),o.createElement("div",{style:{display:"flex",gap:"12px",marginBottom:"1rem"}},o.createElement("button",{type:"submit",className:"btn-primary",disabled:c||!r.nueva||!r.confirmar||!k,style:{flex:"1",padding:"14px 20px",fontSize:"15px",fontWeight:"600",minHeight:"48px"}},c?o.createElement(o.Fragment,null,o.createElement("div",{className:"spinner"}),"Actualizando..."):o.createElement(o.Fragment,null,"Actualizar Contraseña",o.createElement(RS,{size:16}))),o.createElement("button",{type:"button",onClick:t,className:"btn-secondary",disabled:c,style:{flex:"1",padding:"14px 20px",fontSize:"15px",fontWeight:"600",minHeight:"48px"}},"Cancelar")),o.createElement("div",{style:{background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.1)",borderRadius:"8px",padding:"12px"}},o.createElement("h4",{style:{color:"#e91e63",fontSize:"13px",margin:"0 0 8px 0",fontWeight:"600"}},"💡 Recomendaciones para una contraseña segura:"),o.createElement("ul",{style:{color:"#5f6368",fontSize:"12px",margin:"0",paddingLeft:"16px",lineHeight:"1.5"}},o.createElement("li",null,"Al menos 8 caracteres de longitud"),o.createElement("li",null,"Incluye mayúsculas y minúsculas"),o.createElement("li",null,"Agrega números y símbolos"),o.createElement("li",null,"Evita información personal"))))))),o.createElement("style",{jsx:!0},`
        .input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .input-icon {
          position: absolute;
          left: 14px;
          color: #9ca3af;
          z-index: 1;
        }

        .styled-input:focus {
          border-color: #e91e63 !important;
          box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1) !important;
        }

        .btn-primary {
          background: #e91e63 !important;
          border: none !important;
          border-radius: 12px !important;
          color: white !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
        }

        .btn-primary:hover:not(:disabled) {
          background: #c2185b !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 4px 12px rgba(233, 30, 99, 0.3) !important;
        }

        .btn-secondary {
          background: white !important;
          border: 2px solid #f1f3f4 !important;
          border-radius: 12px !important;
          color: #5f6368 !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.3s ease !important;
        }

        .btn-secondary:hover:not(:disabled) {
          border-color: #e91e63 !important;
          color: #e91e63 !important;
          background: rgba(233, 30, 99, 0.05) !important;
        }

        .btn-primary:disabled, .btn-secondary:disabled {
          opacity: 0.6 !important;
          cursor: not-allowed !important;
          transform: none !important;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
          .recovery-modal {
            margin: 1rem !important;
            padding: 1.5rem 1rem !important;
            max-height: 90vh !important;
          }
        }
      `))},aF=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[s,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(null),[h,g]=b.useState({show:!1,type:"",message:""}),[x,v]=b.useState(!1),[y,E]=b.useState(!1),[C,k]=b.useState({email:"",password:""}),_=Yo(),N=(F,H)=>{g({show:!0,type:F,message:H}),setTimeout(()=>{g({show:!1,type:"",message:""})},4e3)},O=F=>{console.log("📝 Código recibido en LoginForm:",F),p(F),e(!1),n(!0)},R=()=>{e(!1),n(!1),i(!1),l(!1),u(null)},D=()=>{n(!1),i(!0)},B=()=>{N("success","Contraseña actualizada. Por favor inicia sesión."),R()},z=(F,H)=>{console.log("Iniciando proceso de login exitoso..."),console.log("Datos del usuario:",F),console.log("Tipo de usuario:",H);const J=localStorage.getItem("redirectAfterLogin");localStorage.setItem("authToken","jwt-token-"+Date.now()),localStorage.setItem("userRole",H),localStorage.setItem("userEmail",c.email),localStorage.setItem("userData",JSON.stringify(F));const ee={idcliente:F.idcliente||F.id,nombre:F.nombre||"",apellidos:F.apellidos||F.apellido||"",correo:F.correo||F.email||c.email,telefono:F.telefono||F.celular||F.phone||""};if(localStorage.setItem("user",JSON.stringify(ee)),J==="/contactenos"){localStorage.removeItem("redirectAfterLogin"),sessionStorage.setItem("fromLogin","true"),N("success",`Bienvenido ${F.nombre}! Te redirigimos al formulario de contacto`),setTimeout(()=>{_("/contactenos")},1e3);return}if(J){localStorage.removeItem("redirectAfterLogin"),sessionStorage.setItem("fromLogin","true"),N("success","Inicio de sesión exitoso"),setTimeout(()=>{_(J)},1500);return}N("success","Inicio de sesión exitoso"),setTimeout(()=>{if(H==="admin")console.log("Redirigiendo al dashboard de admin..."),_("/admin/pages/Dashboard");else{console.log("Redirigiendo según productos temporales...");const re=localStorage.getItem("productosTemporales");_(re?"/pedidos":"/")}},1500)},I=async F=>{if(!c){console.error("No hay datos de login pendientes"),N("error","Error: No hay datos de login");return}console.log("Enviando código al servidor para validación:",F),console.log("Email:",c.email),v(!0);try{const H=await wd.loginConValidacion(c.email,c.password,F);console.log("Respuesta del servidor:",H),H.success?(l(!1),console.log("Login exitoso, procesando redirección..."),z(H.user,H.userType)):(console.error("Error en login:",H.message),N("error",H.message||"Código incorrecto. Verifica tu email."))}catch(H){console.error("Error en completarLogin:",H),N("error","Error de conexión. Inténtalo nuevamente.")}finally{v(!1)}},L=F=>{k({...C,[F.target.name]:F.target.value})},M=async F=>{F.preventDefault();const{email:H,password:J}=C;if(!H.trim()||!J.trim()){N("error","Por favor, completa todos los campos.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(H)){N("error","Correo electrónico no válido.");return}if(J.length<6){N("error","La contraseña debe tener al menos 6 caracteres.");return}v(!0);try{console.log("Iniciando proceso de login para:",H);const re=localStorage.getItem("redirectAfterLogin");re==="/contactenos"&&N("success","Código de validación enviado. Una vez verificado, te redirigiremos al formulario de contacto");const te=await wd.enviarCodigoValidacionLoginConDeteccion(H);console.log("Resultado envío código:",te),te.success?(u({email:H,password:J}),(!re||re!=="/contactenos")&&N("success","Código de validación enviado a tu correo"),console.log("Mostrando modal de validación..."),l(!0)):N("error",te.message||"Error al enviar código de validación")}catch(re){console.error("Error en manejarSubmit:",re),N("error","Error de conexión. Inténtalo nuevamente.")}finally{v(!1)}};return o.createElement("div",{className:"form-container sign-in"},h.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:h.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ec4899, #be185d)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},h.message),localStorage.getItem("redirectAfterLogin")==="/contactenos"&&o.createElement("div",{style:{background:"linear-gradient(135deg, #fef3c7, #fcd34d)",color:"#92400e",padding:"15px",borderRadius:"12px",marginBottom:"20px",textAlign:"center",fontSize:"14px",fontWeight:"600",border:"2px solid #f59e0b"}},o.createElement("i",{className:"fas fa-info-circle",style:{marginRight:"8px"}}),"Inicia sesión para autocompletar tus datos en el formulario de contacto"),o.createElement("form",{className:"login-form",onSubmit:M},o.createElement("input",{type:"email",name:"email",placeholder:"Correo electrónico",value:C.email,onChange:L,disabled:x,required:!0}),o.createElement("div",{style:{position:"relative",width:"100%"}},o.createElement("input",{type:y?"text":"password",name:"password",placeholder:"Contraseña",value:C.password,onChange:L,disabled:x,required:!0,style:{width:"100%",paddingRight:"45px"}}),o.createElement("button",{type:"button",onClick:()=>E(!y),disabled:x,style:{position:"absolute",right:"12px",top:"30%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",transition:"color 0.3s ease",zIndex:10},onMouseEnter:F=>F.currentTarget.style.color="#ff58a6",onMouseLeave:F=>F.currentTarget.style.color="#666"},y?o.createElement(uh,{size:18}):o.createElement(dh,{size:18}))),o.createElement("a",{type:"button",className:"forgot-password",onClick:()=>e(!0),style:{cursor:x?"not-allowed":"pointer"}},"¿Olvidaste tu contraseña?"),o.createElement("button",{type:"submit",className:"hiddenn1",disabled:x,style:{opacity:x?.7:1,cursor:x?"not-allowed":"pointer"}},x?"Enviando código...":"Iniciar"),x&&o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"}},o.createElement("div",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}))),s&&c&&o.createElement(PN,{codigoCorrecto:"000000",onClose:R,onCodigoValido:I,correoEmail:c.email,esParaLogin:!0}),t&&o.createElement(rF,{onCodigoGenerado:O,onClose:R}),r&&o.createElement(PN,{codigoCorrecto:f,onClose:R,onCodigoValido:D}),a&&o.createElement(nF,{onClose:R,onContrasenaCambiada:B}),o.createElement("style",{jsx:!0},`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `))},oF=()=>{Yo();const[t,e]=b.useState(1),[r,n]=b.useState(!1),[a,i]=b.useState(!1),[s,l]=b.useState(!1),[c,u]=b.useState(!1),[f,p]=b.useState(null),[h,g]=b.useState({nombre:"",apellido:"",correo:"",tipoDocumento:"",documento:"",contacto:"",password:"",confirmPassword:""}),[x,v]=b.useState({show:!1,type:"",message:""}),[y,E]=b.useState({}),[C,k]=b.useState({}),[_,N]=b.useState({password:!1,confirmPassword:!1}),O={nombre:10,apellido:10,correo:100,documento:10,contacto:15,password:50};b.useEffect(()=>{const K=document.createElement("script");return K.src="https://www.google.com/recaptcha/api.js?render=6Lcz0MArAAAAAB0lZvM3iEc_5qvgWYWIQDfMg9-N",K.async=!0,K.defer=!0,document.head.appendChild(K),K.onload=()=>{window.grecaptcha.ready(()=>{console.log("reCAPTCHA v3 cargado correctamente")})},()=>{document.head.removeChild(K)}},[]);const R=async()=>{try{if(window.grecaptcha&&window.grecaptcha.ready){const K=await window.grecaptcha.execute("6Lcz0MArAAAAAB0lZvM3iEc_5qvgWYWIQDfMg9-N",{action:"register"});return p(K),K}}catch(K){console.error("Error ejecutando reCAPTCHA:",K)}return null},D=(K,U)=>{v({show:!0,type:K,message:U}),setTimeout(()=>{v({show:!1,type:"",message:""})},4e3)},B=async(K,U)=>{if(!U||U.trim()==="")return k(j=>({...j,[K]:""})),!0;i(!0);try{if(K==="correo"){if(await wd.verificarCorreoExistente(U)){const Y="Ya existe una cuenta con este correo. Por favor, inicia sesión.";return k(G=>({...G,[K]:Y})),!1}}else if(K==="documento"){const j=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/clientes");if(j.ok&&(await j.json()).some(X=>X.numerodocumento===U)){const X="Ya existe una cuenta con este documento. Por favor, inicia sesión.";return k(ie=>({...ie,[K]:X})),!1}}else if(K==="contacto"){const j=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/clientes");if(j.ok&&(await j.json()).some(X=>X.celular===U)){const X="Ya existe una cuenta con este número de contacto. Por favor, inicia sesión.";return k(ie=>({...ie,[K]:X})),!1}}return k(j=>({...j,[K]:""})),!0}catch(j){return console.error(`Error validando duplicado ${K}:`,j),k(Y=>({...Y,[K]:""})),!0}finally{i(!1)}},z=(K,U)=>{let j="";switch(K){case"nombre":case"apellido":U.trim()?U.trim().length<2?j=`${K==="nombre"?"Nombre":"Apellido"} debe tener al menos 2 caracteres`:U.length>O[K]?j=`${K==="nombre"?"Nombre":"Apellido"} no puede exceder ${O[K]} caracteres`:/^[a-zA-ZáéíóúÁÉÍÓÚñÑ]+$/.test(U)||(j="Solo se permiten letras, sin espacios"):j=`${K==="nombre"?"Nombre":"Apellido"} es requerido`;break;case"correo":U.trim()?U.length>O.correo?j=`Correo no puede exceder ${O.correo} caracteres`:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U)||(j="Formato de correo electrónico inválido"):j="Correo electrónico es requerido";break;case"tipoDocumento":U||(j="Tipo de documento es requerido");break;case"documento":U.trim()?U.length<6?j="Número de documento debe tener al menos 6 dígitos":U.length>O.documento?j=`Número de documento no puede exceder ${O.documento} dígitos`:/^\d+$/.test(U)||(j="Solo se permiten números"):j="Número de documento es requerido";break;case"contacto":U.trim()?U.length<10?j="Número de contacto debe tener al menos 10 dígitos":U.length>O.contacto?j=`Número de contacto no puede exceder ${O.contacto} dígitos`:/^\d+$/.test(U)||(j="Solo se permiten números"):j="Número de contacto es requerido";break;case"password":if(!_.password&&!U)return"";U?U.length<8?j="Contraseña debe tener al menos 8 caracteres":U.length>O.password?j=`Contraseña no puede exceder ${O.password} caracteres`:/(?=.*[A-Z])/.test(U)?/(?=.*[!@#$%^&*])/.test(U)||(j="Contraseña debe tener al menos un carácter especial (!@#$%^&*)"):j="Contraseña debe tener al menos una mayúscula":j="Contraseña es requerida";break;case"confirmPassword":if(!_.confirmPassword&&!U)return"";U?U!==h.password&&(j="Las contraseñas no coinciden"):j="Confirmación de contraseña es requerida";break}return j},I=async K=>{let{name:U,value:j}=K.target;(U==="password"||U==="confirmPassword")&&N(G=>({...G,[U]:!0})),U==="documento"?j=j.replace(/\D/g,"").substring(0,10):U==="contacto"?j=j.replace(/\D/g,"").substring(0,15):U==="nombre"||U==="apellido"?j=j.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ]/g,"").substring(0,10):U==="correo"?j=j.replace(/\s/g,"").substring(0,100):U==="password"&&(j=j.substring(0,50)),["nombre","apellido","correo","documento","contacto"].includes(U)&&(j=j.replace(/\s/g,"")),g(G=>({...G,[U]:j}));const Y=z(U,j);if(E(G=>({...G,[U]:Y})),U==="password"&&h.confirmPassword&&_.confirmPassword){const G=z("confirmPassword",h.confirmPassword);E(X=>({...X,confirmPassword:G}))}["correo","documento","contacto"].includes(U)&&j.trim()&&setTimeout(()=>{B(U,j)},1e3)},L=async()=>{let K=[],U=!0;const j={};switch(t){case 1:K=["tipoDocumento","documento"];break;case 2:K=["nombre","apellido"];break;case 3:K=["correo","contacto"];break;case 4:K=["password","confirmPassword"],N({password:!0,confirmPassword:!0});break}return K.forEach(Y=>{const G=z(Y,h[Y]);G&&(j[Y]=G,U=!1)}),t===1&&h.documento&&(!await B("documento",h.documento)||C.documento)&&(U=!1),t===3&&(h.correo&&(!await B("correo",h.correo)||C.correo)&&(U=!1),h.contacto&&(!await B("contacto",h.contacto)||C.contacto)&&(U=!1)),E(Y=>({...Y,...j})),U},M=async()=>{if(await L())t<4&&e(t+1);else{let U="Por favor, completa correctamente todos los campos del paso actual.";C.documento?U="Ya existe una cuenta con este documento. Inicia sesión en su lugar.":C.correo?U="Ya existe una cuenta con este correo. Inicia sesión en su lugar.":C.contacto&&(U="Ya existe una cuenta con este número. Inicia sesión en su lugar."),D("error",U)}},F=()=>{t>1&&e(t-1)},H=async K=>{if(K.preventDefault(),N({password:!0,confirmPassword:!0}),!await L()){D("error","Por favor, completa correctamente todos los campos.");return}const j=Object.keys(h);let Y=!1;const G={};if(j.forEach(X=>{const ie=z(X,h[X]);ie&&(G[X]=ie,Y=!0)}),Y){E(G),D("error","Por favor, corrige todos los errores antes de continuar.");return}if(Object.values(C).some(X=>X!=="")){D("error","Por favor, corrige los campos duplicados antes de continuar.");return}n(!0);try{const X=await R();if(!X){D("error","Error de verificación de seguridad. Inténtalo nuevamente.");return}const ie={...h,recaptchaToken:X},ye=await wd.registrarCliente(ie);ye.success?(D("success","¡Registro exitoso!"),setTimeout(()=>{window.location.reload()},2e3)):D("error",ye.message||"Error al registrar usuario")}catch(X){console.error("Error en registro:",X),D("error","Error de conexión. Inténtalo nuevamente.")}finally{n(!1)}},J=K=>{const U=y[K]||C[K];return h[K]?U?o.createElement("span",{className:"validation-icon error-icon"},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#ef4444",fillOpacity:"0.2",stroke:"#ef4444",strokeWidth:"2"}),o.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"#ef4444",strokeWidth:"2"}),o.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"#ef4444",strokeWidth:"2"}))):o.createElement("span",{className:"validation-icon success-icon"},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#10b981",fillOpacity:"0.2",stroke:"#10b981",strokeWidth:"2"}),o.createElement("polyline",{points:"9,12 12,15 16,10",stroke:"#10b981",strokeWidth:"2",fill:"none"}))):null},ee=K=>y[K]||C[K]||"",re=()=>{const K=h.password;return{length:K.length>=8,uppercase:/(?=.*[A-Z])/.test(K),special:/(?=.*[!@#$%^&*])/.test(K)}},te=()=>{switch(t){case 1:return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("select",{name:"tipoDocumento",className:`select-documento ${ee("tipoDocumento")?"error":""}`,value:h.tipoDocumento,onChange:I,disabled:r},o.createElement("option",{value:""},"Tipo de documento"),o.createElement("option",{value:"CC"},"Cédula de Ciudadanía"),o.createElement("option",{value:"CE"},"Cédula de Extranjería"),o.createElement("option",{value:"PA"},"Pasaporte"),o.createElement("option",{value:"NIT"},"NIT")),J("tipoDocumento")),ee("tipoDocumento")&&o.createElement("span",{className:"error-message"},ee("tipoDocumento"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"documento",placeholder:"Número de documento",value:h.documento,onChange:I,maxLength:O.documento,className:ee("documento")?"error":"",disabled:r}),J("documento")),o.createElement("small",{className:"char-counter"},h.documento.length,"/",O.documento),ee("documento")&&o.createElement("span",{className:"error-message"},ee("documento"))));case 2:return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"nombre",placeholder:"Nombre",value:h.nombre,onChange:I,maxLength:O.nombre,className:ee("nombre")?"error":"",disabled:r}),J("nombre")),o.createElement("small",{className:"char-counter"},h.nombre.length,"/",O.nombre),ee("nombre")&&o.createElement("span",{className:"error-message"},ee("nombre"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"apellido",placeholder:"Apellido",value:h.apellido,onChange:I,maxLength:O.apellido,className:ee("apellido")?"error":"",disabled:r}),J("apellido")),o.createElement("small",{className:"char-counter"},h.apellido.length,"/",O.apellido),ee("apellido")&&o.createElement("span",{className:"error-message"},ee("apellido"))));case 3:return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"email",name:"correo",placeholder:"Correo electrónico",value:h.correo,onChange:I,maxLength:O.correo,className:ee("correo")?"error":"",disabled:r}),J("correo")),o.createElement("small",{className:"char-counter"},h.correo.length,"/",O.correo),ee("correo")&&o.createElement("span",{className:"error-message"},ee("correo"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"contacto",placeholder:"Número de contacto",value:h.contacto,onChange:I,maxLength:O.contacto,className:ee("contacto")?"error":"",disabled:r}),J("contacto")),o.createElement("small",{className:"char-counter"},h.contacto.length,"/",O.contacto),ee("contacto")&&o.createElement("span",{className:"error-message"},ee("contacto"))));case 4:const K=re();return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container password-container"},o.createElement("input",{type:s?"text":"password",name:"password",placeholder:"Contraseña",value:h.password,onChange:I,className:ee("password")?"error":"",disabled:r}),o.createElement("button",{type:"button",className:"eye-button",onClick:()=>l(!s),disabled:r},o.createElement("i",{className:s?"fas fa-eye-slash":"fas fa-eye"})),J("password")),o.createElement("small",{className:"char-counter"},h.password.length,"/",O.password),ee("password")&&o.createElement("span",{className:"error-message"},ee("password")),h.password&&o.createElement("div",{className:"password-requirements-inline"},o.createElement("small",{style:{color:K.length?"#10b981":"#ef4444"}},o.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",marginRight:"4px"}},K.uppercase?o.createElement("polyline",{points:"20,6 9,17 4,12",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}):o.createElement(o.Fragment,null,o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}))),"Mayúscula"),o.createElement("small",{style:{color:K.special?"#10b981":"#ef4444"}},o.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",marginRight:"4px"}},K.special?o.createElement("polyline",{points:"20,6 9,17 4,12",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}):o.createElement(o.Fragment,null,o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}))),"Especial"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container password-container"},o.createElement("input",{type:c?"text":"password",name:"confirmPassword",placeholder:"Confirmar contraseña",value:h.confirmPassword,onChange:I,className:ee("confirmPassword")?"error":"",disabled:r}),o.createElement("button",{type:"button",className:"eye-button",onClick:()=>u(!c),disabled:r},o.createElement("i",{className:c?"fas fa-eye-slash":"fas fa-eye"})),J("confirmPassword")),ee("confirmPassword")&&o.createElement("span",{className:"error-message"},ee("confirmPassword"))));default:return null}};return o.createElement("div",{className:"form-container sign-up"},x.show&&o.createElement("div",{className:"custom-alert","data-type":x.type},x.message),o.createElement("form",{className:"login-form",onSubmit:H},o.createElement("div",{className:"registro-step-indicator"},o.createElement("div",{className:"registro-progress-bar"},o.createElement("div",{className:"registro-progress-fill",style:{width:`${t/4*100}%`}})),o.createElement("span",{className:"registro-step-text"},"Paso ",t," de 4")),o.createElement("div",{className:"registro-step-title"},t===1&&"Tipo y Número de Documento",t===2&&"Información Personal",t===3&&"Correo y Contacto",t===4&&"Contraseña"),te(),o.createElement("div",{className:"form-navigation"},t>1&&o.createElement("button",{type:"button",className:"nav-button prev-button",onClick:F,disabled:r},"← Anterior"),t<4?o.createElement("button",{type:"button",className:"nav-button next-button",onClick:M,disabled:r},"'Siguiente →'"):o.createElement("button",{type:"submit",className:"hiddenn1",disabled:r,style:{opacity:r?.7:1,cursor:r?"not-allowed":"pointer"}},r?"Registrando...":"Registrar"))))},iF=({onSignIn:t,onSignUp:e,hasDuplicates:r=!1})=>o.createElement("div",{className:"toggle-container"},o.createElement("div",{className:"toggle"},o.createElement("div",{className:"toggle-panel toggle-left"},o.createElement("h1",null,"Registrarse"),o.createElement("p",null,"¡Bienvenido a Delicias Darsy! Regístrate hoy y sé parte de una experiencia llena de sabor y calidad. "),o.createElement("small",{className:"texto-informativo"},"¿Ya tienes cuenta?"),o.createElement("button",{className:`hiddenn2 ${r?"duplicate-glow-effect":""}`,onClick:t},"Iniciar sesión")),o.createElement("div",{className:"toggle-panel toggle-right"},o.createElement("h1",null,"Inicia sesión"),o.createElement("p",null,"¡Bienvenido a Delicias Darsy! Endulza tu día iniciando sesión y descubre el sabor que alegra tus momentos. "),o.createElement("small",{className:"texto-informativo"},"¿Aún no tienes cuenta?"),o.createElement("button",{className:"hiddenn2",onClick:e},"Registrarse"))),o.createElement("style",{jsx:!0},`
      .duplicate-glow-effect {
        animation: glowPulse 2s ease-in-out infinite !important;
        box-shadow: 0 0 20px rgba(255, 88, 166, 0.8), 
                    0 0 40px rgba(255, 88, 166, 0.6), 
                    0 0 60px rgba(255, 88, 166, 0.4) !important;
        border: 2px solid rgba(255, 88, 166, 0.8) !important;
        background: linear-gradient(135deg, #ff58a6, #fc0278) !important;
        transform: scale(1.05) !important;
      }

      .duplicate-glow-effect:hover {
        animation: glowPulse 1s ease-in-out infinite !important;
        box-shadow: 0 0 25px rgba(255, 88, 166, 1), 
                    0 0 50px rgba(255, 88, 166, 0.8), 
                    0 0 75px rgba(255, 88, 166, 0.6) !important;
        transform: scale(1.08) !important;
      }

      @keyframes glowPulse {
        0%, 100% {
          box-shadow: 0 0 15px rgba(255, 88, 166, 0.6), 
                      0 0 30px rgba(255, 88, 166, 0.4), 
                      0 0 45px rgba(255, 88, 166, 0.2);
        }
        50% {
          box-shadow: 0 0 25px rgba(255, 88, 166, 1), 
                      0 0 50px rgba(255, 88, 166, 0.8), 
                      0 0 75px rgba(255, 88, 166, 0.6);
        }
      }
    `)),sF=()=>{const t=b.useRef(null),e=Yo(),r=()=>{t.current.classList.add("active")},n=()=>{t.current.classList.remove("active")},a=()=>{e("/")};return o.createElement("div",{className:"login-wrapper"},o.createElement("button",{className:"back-button",onClick:a},"⬅ Atrás"),o.createElement("div",{className:"containerlog",id:"container",ref:t},o.createElement(oF,null),o.createElement(aF,null),o.createElement(iF,{onSignIn:n,onSignUp:r})))},lF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var v;return x.categoria==="Obleas"||((v=x.categoriaproducto)==null?void 0:v.nombrecategoria)==="Obleas"}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},cF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var v;return x.categoria==="Mini Donas"||((v=x.categoriaproducto)==null?void 0:v.nombrecategoria)==="Mini Donas"}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},uF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var v;return x.categoria==="cupcakes"||((v=x.categoriaproducto)==null?void 0:v.nombrecategoria)==="cupcakes"}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},dF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var v;return x.categoria==="Arroz con leche"||((v=x.categoriaproducto)==null?void 0:v.nombrecategoria)==="Arroz con leche"}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},fF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var v;return x.categoria==="Postres"||((v=x.categoriaproducto)==null?void 0:v.nombrecategoria)==="Postres"}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},mF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const p=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const h=await p.json();console.log("Datos obtenidos:",h);const g=Array.isArray(h)?h.filter(x=>{var y;return(x.categoria||((y=x.categoriaproducto)==null?void 0:y.nombrecategoria)||"").toLowerCase().includes("sandwich")}):[{idproductogeneral:h.idcategoriaproducto,nombreproducto:h.nombrecategoria,precioproducto:0,categoria:h.nombrecategoria,urlimagen:(f=h.imagenes)==null?void 0:f.urlimg}];n(g)}catch(p){console.error("Error al cargar productos:",p),l(`Error: ${p.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((p=u.categoriaproducto)==null?void 0:p.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},"🍰"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},pF=()=>{const t=Yo(),{agregarProducto:e}=b.useContext(pl),[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(null);b.useEffect(()=>{(async()=>{try{i(!0),l(null);const f=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const p=await f.json();console.log("Productos obtenidos:",p);const h=Array.isArray(p)?p:[p];n(h)}catch(f){console.error("Error al cargar productos:",f),l(`Error: ${f.message}`)}finally{i(!1)}})()},[]);const c=u=>{var p,h,g;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto),descripcion:u.especificacionesreceta||((p=u.receta)==null?void 0:p.especificaciones),categoria:u.categoria||((h=u.categoriaproducto)==null?void 0:h.nombrecategoria),imagen:u.urlimagen||((g=u.imagenes)==null?void 0:g.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema 🍓"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentación favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},"🍰"),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. ¡Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,"←"),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos 🍰"),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>{var f,p,h;return o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen||(f=u.imagenes)!=null&&f.urlimg?o.createElement("img",{src:u.urlimagen||u.imagenes.urlimg,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:g=>{console.log("Error cargando imagen:",g.target.src),g.target.style.display="none",g.target.nextSibling.style.display="flex"}}):null,o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200",style:{display:u.urlimagen||(p=u.imagenes)!=null&&p.urlimg?"none":"flex"}},o.createElement("span",{className:"text-4xl"},u.categoria==="Postres"?"🍰":u.categoria==="Pasteles"?"🎂":u.categoria==="Fresas Con Crema"?"🍓":"🍽️"))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),(u.especificacionesreceta||((h=u.receta)==null?void 0:h.especificaciones))&&o.createElement("p",{className:"text-gray-600 text-sm mb-3"},u.especificacionesreceta||u.receta.especificaciones),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,"🛒"),o.createElement("span",null,"Añadir al Pedido"))))})),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},Cp="https://deliciasoft-backend-i6g9.onrender.com/api";class hF{constructor(){this.token=localStorage.getItem("authToken"),this.userEmail=localStorage.getItem("userEmail"),this.userRole=localStorage.getItem("userRole")}actualizarToken(){this.token=localStorage.getItem("authToken"),this.userEmail=localStorage.getItem("userEmail"),this.userRole=localStorage.getItem("userRole")}getHeaders(){const e={"Content-Type":"application/json",Accept:"application/json"};return this.token&&(e.Authorization=`Bearer ${this.token}`),e}async obtenerPerfilCliente(){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesión de cliente activa");console.log("Obteniendo perfil para:",this.userEmail);const e=await fetch(`${Cp}/clientes`,{method:"GET",headers:this.getHeaders()});if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);const n=(await e.json()).find(i=>i.correo===this.userEmail&&i.estado===!0);if(!n)throw new Error("Cliente no encontrado o inactivo");const a=this.transformarClienteDesdeAPI(n);return localStorage.setItem("userData",JSON.stringify(n)),console.log("Perfil obtenido:",a),a}catch(e){throw console.error("Error al obtener perfil:",e),e}}async actualizarPerfil(e){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesión de cliente activa");const n=(await this.obtenerPerfilCliente()).idCliente;console.log("Actualizando cliente ID:",n),console.log("Datos a actualizar:",e);const a=this.transformarClienteParaAPI(e);(!e.contrasena||e.contrasena==="********")&&delete a.hashcontrasena;const i=await fetch(`${Cp}/clientes/${n}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(a)});if(!i.ok){const l=await i.json();throw new Error(l.message||`Error ${i.status}`)}const s=await i.json();return localStorage.setItem("userData",JSON.stringify(s)),this.transformarClienteDesdeAPI(s)}catch(r){throw console.error("Error al actualizar perfil:",r),r}}async cambiarContrasena(e,r){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesión de cliente activa");if(!(await fetch(`${Cp}/auth/direct-login`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({correo:this.userEmail,password:e,userType:"cliente"})})).ok)throw new Error("La contraseña actual es incorrecta");const i=(await this.obtenerPerfilCliente()).idCliente,s=await fetch(`${Cp}/clientes/${i}/password`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({nuevaContrasena:r})});if(!s.ok){const l=await s.json();throw new Error(l.message||"Error al cambiar contraseña")}return await s.json()}catch(n){throw console.error("Error al cambiar contraseña:",n),n}}async suspenderCuenta(){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesión de cliente activa");const r=(await this.obtenerPerfilCliente()).idCliente,n=await fetch(`${Cp}/clientes/${r}/estado`,{method:"PATCH",headers:this.getHeaders()});if(!n.ok){const i=await n.json();throw new Error(i.message||"Error al suspender cuenta")}const a=await n.json();return this.cerrarSesion(),a}catch(e){throw console.error("Error al suspender cuenta:",e),e}}async validarSesion(){try{return this.actualizarToken(),!this.token||!this.userEmail||this.userRole!=="cliente"?!1:(await this.obtenerPerfilCliente(),!0)}catch(e){return console.error("Sesión inválida:",e),!1}}cerrarSesion(){localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData"),localStorage.removeItem("userName")}transformarClienteDesdeAPI(e){return{idCliente:e.idcliente,tipoDocumento:e.tipodocumento||"CC",numeroDocumento:e.numerodocumento||"",nombre:e.nombre||"",apellido:e.apellido||"",correo:e.correo||"",contrasena:"********",direccion:e.direccion||"",barrio:e.barrio||"",ciudad:e.ciudad||"",fechaNacimiento:e.fechanacimiento?this.formatearFechaDesdeAPI(e.fechanacimiento):"",celular:e.celular||"",estado:e.estado??!0,nombreCompleto:`${e.nombre||""} ${e.apellido||""}`.trim()}}transformarClienteParaAPI(e){const r={tipodocumento:e.tipoDocumento||"CC",numerodocumento:e.numeroDocumento||"",nombre:e.nombre||"",apellido:e.apellido||"",correo:e.correo||"",direccion:e.direccion||"",barrio:e.barrio||"",ciudad:e.ciudad||"",celular:e.celular||"",estado:e.estado??!0};if(e.contrasena&&e.contrasena!=="********"&&(r.hashcontrasena=e.contrasena),e.fechaNacimiento)try{const n=new Date(e.fechaNacimiento);r.fechanacimiento=n.toISOString()}catch(n){console.warn("Error al formatear fecha:",n),r.fechanacimiento=null}else r.fechanacimiento=null;return r}formatearFechaDesdeAPI(e){if(!e)return"";try{return new Date(e).toISOString().split("T")[0]}catch(r){return console.warn("Error al formatear fecha desde API:",r),""}}hayDatosEnLocalStorage(){try{return!!localStorage.getItem("userData")}catch{return!1}}obtenerDatosLocalStorage(){try{const e=localStorage.getItem("userData");if(e){const r=JSON.parse(e);return this.transformarClienteDesdeAPI(r)}return null}catch(e){return console.error("Error al leer localStorage:",e),null}}}const zd=new hF,kN="https://deliciasoft-backend-i6g9.onrender.com/api";class gF{generarCodigoSuspension(){return Math.floor(1e5+Math.random()*9e5).toString()}async enviarTokenSuspension(e){try{const r=this.generarCodigoSuspension();console.log("Enviando token de suspensión a:",e);try{const n=await fetch(`${kN}/auth/send-reset-token`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e,userType:"cliente"})});if(n.ok){const a=await n.json();return sessionStorage.setItem(`suspension_token_${e}`,JSON.stringify({codigo:a.token||r,timestamp:Date.now(),expiresIn:5*60*1e3})),{success:!0,codigo:a.token||r,message:"Token de suspensión enviado a tu correo electrónico"}}else throw new Error("Endpoint no disponible")}catch(n){return console.warn("Usando auth service como fallback o modo desarrollo:",n),console.log("%c🔐 TOKEN DE SUSPENSIÓN (Modo Desarrollo)","background: #ff6b35; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),console.log(`%c📧 Correo: ${e}`,"color: #333; font-weight: bold;"),console.log(`%c🔢 Código: ${r}`,"color: #ff6b35; font-weight: bold; font-size: 16px;"),console.log("%c⏰ Válido por: 5 minutos","color: #666;"),sessionStorage.setItem(`suspension_token_${e}`,JSON.stringify({codigo:r,timestamp:Date.now(),expiresIn:5*60*1e3})),{success:!0,codigo:r,message:"Token de suspensión generado (modo desarrollo). Usa el código: "+r,isDevelopment:!0}}}catch(r){return console.error("Error al enviar token de suspensión:",r),{success:!1,message:"Error al enviar el token de suspensión: "+r.message}}}async validarTokenSuspension(e,r){try{try{const c=await fetch(`${kN}/auth/verify-reset-token`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e,token:r,userType:"cliente"})});if(c.ok){const u=await c.json();return{success:u.valid||u.success||!1,message:u.message||(u.valid||u.success?"Token válido":"Token inválido")}}}catch{console.warn("Backend no disponible para validación, usando modo desarrollo")}const n=sessionStorage.getItem(`suspension_token_${e}`);if(!n)return{success:!1,message:"No hay token activo para este correo"};const{codigo:a,timestamp:i,expiresIn:s}=JSON.parse(n);return Date.now()-i>s?(sessionStorage.removeItem(`suspension_token_${e}`),{success:!1,message:"El token ha expirado. Solicita uno nuevo."}):r===a?(sessionStorage.removeItem(`suspension_token_${e}`),{success:!0,message:"Token válido"}):{success:!1,message:"El código ingresado es incorrecto"}}catch(n){return console.error("Error al validar token:",n),{success:!1,message:"Error al validar el token: "+n.message}}}limpiarTokensExpirados(){try{const e=Object.keys(sessionStorage),r=Date.now();e.forEach(n=>{if(n.startsWith("suspension_token_"))try{const a=JSON.parse(sessionStorage.getItem(n));r-a.timestamp>a.expiresIn&&sessionStorage.removeItem(n)}catch{sessionStorage.removeItem(n)}})}catch(e){console.warn("Error al limpiar tokens expirados:",e)}}tieneTokenActivo(e){try{const r=sessionStorage.getItem(`suspension_token_${e}`);if(!r)return!1;const{timestamp:n,expiresIn:a}=JSON.parse(r);return Date.now()-n<a}catch{return!1}}obtenerTiempoRestanteToken(e){try{const r=sessionStorage.getItem(`suspension_token_${e}`);if(!r)return 0;const{timestamp:n,expiresIn:a}=JSON.parse(r),i=Date.now(),s=a-(i-n);return Math.max(0,Math.ceil(s/1e3))}catch{return 0}}}const Gg=new gF,vF=()=>{const[t,e]=b.useState({}),r=b.useCallback((y,E,C=!1)=>C&&(!y||y.trim()==="")?`El ${E} es obligatorio`:y&&y.length>0&&y[0]===" "?`El ${E} no puede empezar con espacios`:y&&y.trim().length<2&&C?`El ${E} debe tener al menos 2 caracteres`:null,[]),n=b.useCallback(y=>{if(!y||y.trim()==="")return"El número de documento es obligatorio";const E=y.replace(/\D/g,"");return E.length<6?"El número de documento debe tener al menos 6 dígitos":E.length>10?"El número de documento no puede tener más de 10 dígitos":null},[]),a=b.useCallback(y=>{if(!y||y.trim()==="")return null;const E=y.replace(/\D/g,"");return E.length<7?"El número de teléfono debe tener al menos 7 dígitos":E.length>10?"El número de teléfono no puede tener más de 10 dígitos":null},[]),i=b.useCallback(y=>!y||y.trim()===""?"El correo electrónico es obligatorio":y[0]===" "?"El correo no puede empezar con espacios":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y)?null:"Por favor ingresa un correo electrónico válido",[]),s=b.useCallback(y=>{if(!y)return null;const E=new Date(y),C=new Date,k=C.getFullYear()-E.getFullYear(),_=C.getMonth(),N=E.getMonth();let O=k;return(_<N||_===N&&C.getDate()<E.getDate())&&O--,O<13?"Debes tener al menos 13 años para registrarte":O>120?"Por favor ingresa una fecha de nacimiento válida":null},[]),l=b.useCallback(y=>!y||y.trim()===""?"La contraseña es obligatoria":y[0]===" "?"La contraseña no puede empezar con espacios":y.length<6?"La contraseña debe tener al menos 6 caracteres":null,[]),c=b.useCallback((y,E)=>!y||y.trim()===""?"Por favor confirma tu contraseña":y!==E?"Las contraseñas no coinciden":null,[]),u=b.useCallback(y=>{const E={},C=r(y.nombre,"nombre",!0);C&&(E.nombre=C);const k=r(y.apellido,"apellido",!0);k&&(E.apellido=k);const _=i(y.correo);_&&(E.correo=_);const N=n(y.numeroDocumento);if(N&&(E.numeroDocumento=N),y.celular){const O=a(y.celular);O&&(E.celular=O)}if(y.fechaNacimiento){const O=s(y.fechaNacimiento);O&&(E.fechaNacimiento=O)}return e(E),Object.keys(E).length===0},[r,i,n,a,s]),f=b.useCallback(y=>{const E={},C=r(y.currentPassword,"contraseña actual",!0);C&&(E.currentPassword=C);const k=l(y.newPassword);k&&(E.newPassword=k);const _=c(y.confirmPassword,y.newPassword);return _&&(E.confirmPassword=_),e(E),Object.keys(E).length===0},[r,l,c]),p=b.useCallback(()=>{e({})},[]),h=b.useCallback(y=>{e(E=>{const C={...E};return delete C[y],C})},[]),g=b.useCallback((y,E,C={})=>{let k=null;switch(y){case"nombre":k=r(E,"nombre",!0);break;case"apellido":k=r(E,"apellido",!0);break;case"correo":k=i(E);break;case"numeroDocumento":k=n(E);break;case"celular":k=a(E);break;case"fechaNacimiento":k=s(E);break;case"currentPassword":k=r(E,"contraseña actual",!0);break;case"newPassword":k=l(E);break;case"confirmPassword":k=c(E,C.newPassword);break}return e(_=>({..._,[y]:k})),!k},[r,i,n,a,s,l,c]),x=b.useCallback(y=>y.replace(/\D/g,""),[]),v=b.useCallback(y=>y&&y.replace(/^\s+/,""),[]);return{errores:t,validarPerfilCompleto:u,validarCambioContrasena:f,validarCampo:g,limpiarErrores:p,limpiarError:h,formatearNumero:x,formatearTexto:v,validarTexto:r,validarEmail:i,validarNumeroDocumento:n,validarTelefono:a,validarFechaNacimiento:s,validarContrasena:l,validarConfirmacionContrasena:c}},bF=()=>{const[t,e]=b.useState(!0),[r,n]=b.useState(!1),[a,i]=b.useState(null),[s,l]=b.useState(null),[c,u]=b.useState(null),[f,p]=b.useState(""),[h,g]=b.useState(""),[x,v]=b.useState(!1),[y,E]=b.useState(!1),[C,k]=b.useState(0),_=Yo(),{errores:N,validarPerfilCompleto:O,validarCambioContrasena:R,validarCampo:D,limpiarErrores:B,limpiarError:z,formatearNumero:I,formatearTexto:L}=vF(),M=b.useCallback((me,he)=>{console.log(`${me.toUpperCase()}: ${he}`)},[]);b.useEffect(()=>{let me;return x&&(a!=null&&a.correo)&&(me=setInterval(()=>{const he=Gg.obtenerTiempoRestanteToken(a.correo);k(he),he<=0&&(v(!1),clearInterval(me))},1e3)),()=>{me&&clearInterval(me)}},[x,a==null?void 0:a.correo]);const F=b.useCallback(()=>{const me=Math.floor(C/60),he=C%60;return`${me}:${he.toString().padStart(2,"0")}`},[C]),H=b.useCallback(async(me=!0)=>{try{if(me&&e(!0),u(null),B(),!await zd.validarSesion()){M("warning","Sesión expirada. Redirigiendo al login..."),setTimeout(()=>_("/iniciar-sesion"),2e3);return}const je=await zd.obtenerPerfilCliente();i(je),l({...je})}catch(he){console.error("Error al cargar perfil:",he),u(he.message);const je=zd.obtenerDatosLocalStorage();je?(i(je),l({...je}),M("warning","Usando datos guardados. Algunos datos pueden no estar actualizados.")):(M("error","Error al cargar perfil. Redirigiendo al login..."),setTimeout(()=>_("/iniciar-sesion"),3e3))}finally{me&&e(!1)}},[_,M,B]),J=b.useCallback((me,he)=>{let je=he;switch(me){case"nombre":case"apellido":case"barrio":case"ciudad":je=L(he);break;case"numeroDocumento":case"celular":je=I(he),me==="numeroDocumento"&&je.length>10&&(je=je.substring(0,10)),me==="celular"&&je.length>10&&(je=je.substring(0,10));break;case"correo":je=L(he.toLowerCase());break}i(Fe=>({...Fe,[me]:je})),D(me,je,a)},[L,I,D,a]),ee=b.useCallback(me=>{const he=me.direccion?me.direccion.split(",")[0].trim():"";i(je=>({...je,direccion:he,barrio:me.barrio||"",ciudad:me.ciudad||""})),["direccion","barrio","ciudad"].forEach(je=>{z(je)})},[z]),re=b.useCallback(async(me=a)=>{try{if(n(!0),u(null),!O(me))return M("warning","Por favor corrige los errores en el formulario"),{success:!1,error:"Datos inválidos"};const je=await zd.actualizarPerfil(me);return i(je),l({...je}),B(),M("success","¡Perfil actualizado exitosamente!"),{success:!0}}catch(he){return console.error("Error al actualizar perfil:",he),u(he.message),M("error",he.message),{success:!1,error:he.message}}finally{n(!1)}},[a,O,M,B]),te=b.useCallback(async me=>{try{return n(!0),u(null),R(me)?(await zd.cambiarContrasena(me.currentPassword,me.newPassword),B(),M("success","¡Contraseña actualizada correctamente!"),{success:!0}):(M("warning","Por favor corrige los errores en las contraseñas"),{success:!1,error:"Datos de contraseña inválidos"})}catch(he){return console.error("Error al cambiar contraseña:",he),u(he.message),M("error",he.message),{success:!1,error:he.message}}finally{n(!1)}},[R,M,B]),K=b.useCallback(async()=>{try{if(E(!0),g(""),!(a!=null&&a.correo))throw new Error("No se encontró el correo del usuario");const me=await Gg.enviarTokenSuspension(a.correo);if(me.success){v(!0);const he=Gg.obtenerTiempoRestanteToken(a.correo);k(he),me.isDevelopment?M("info","Código de suspensión generado. Revisa la consola del navegador."):M("success","Código de suspensión enviado a tu correo electrónico.")}else throw new Error(me.message||"Error al enviar el token")}catch(me){console.error("Error al enviar token:",me),g(me.message),M("error",me.message)}finally{E(!1)}},[a==null?void 0:a.correo,M]),U=b.useCallback(me=>{const he=me.replace(/\D/g,"").substring(0,6);p(he),h&&g("")},[h]),j=b.useCallback(async()=>{try{if(n(!0),u(null),!(a!=null&&a.correo))throw new Error("No se encontró el correo del usuario");if(!f||f.length!==6)return g("El código debe tener 6 dígitos"),{success:!1,error:"Código inválido"};const me=await Gg.validarTokenSuspension(a.correo,f);return me.success?(await zd.suspenderCuenta(),p(""),g(""),v(!1),M("warning","Tu cuenta ha sido suspendida. Contacta al administrador para reactivarla."),setTimeout(()=>_("/iniciar-sesion"),3e3),{success:!0}):(g(me.message),{success:!1,error:me.message})}catch(me){return console.error("Error al suspender cuenta:",me),u(me.message),g(me.message),M("error",me.message),{success:!1,error:me.message}}finally{n(!1)}},[f,a==null?void 0:a.correo,M,_]),Y=b.useCallback(()=>{p(""),g(""),v(!1),k(0)},[]),G=b.useCallback(()=>{const me=(a==null?void 0:a.nombre)||"Usuario";zd.cerrarSesion(),M("info",`¡Hasta pronto ${me}!`),setTimeout(()=>{_("/iniciar-sesion"),window.location.reload()},2e3)},[a,_,M]),X=b.useCallback(()=>{H(!1)},[H]),ie=b.useCallback(()=>{s&&(i({...s}),B())},[s,B]),ye=b.useCallback(()=>!a||!s?!1:JSON.stringify(a)!==JSON.stringify(s),[a,s]);return b.useEffect(()=>{H()},[H]),{loading:t,updating:r,userData:a,originalData:s,error:c,errores:N,suspendToken:f,tokenError:h,tokenEnviado:x,enviandoToken:y,tiempoRestante:C,setUserData:i,handleInputChange:J,handlePlaceSelect:ee,actualizarPerfil:re,cambiarContrasena:te,suspenderCuenta:j,cerrarSesion:G,recargarPerfil:X,cancelarEdicion:ie,hayCambiosSinGuardar:ye,setSuspendToken:p,handleTokenChange:U,setTokenError:g,enviarTokenSuspension:K,cancelarSuspension:Y,formatearTiempoRestante:F,validarCampo:D,limpiarErrores:B,limpiarError:z,showAlert:M}};function yF(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(f){try{u(n.next(f))}catch(p){s(p)}}function c(f){try{u(n.throw(f))}catch(p){s(p)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(t,[])).next())})}function wF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ty,AN;function xF(){return AN||(AN=1,Ty=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),Ty}var EF=xF(),SF=wF(EF);const _N="__googleMapsScriptId";var fm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(fm||(fm={}));class tf{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:a,id:i=_N,language:s,libraries:l=[],mapIds:c,nonce:u,region:f,retries:p=3,url:h="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=a,this.id=i||_N,this.language=s,this.libraries=l,this.mapIds=c,this.nonce=u,this.region=f,this.retries=p,this.url=h,this.version=g,tf.instance){if(!SF(this.options,tf.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(tf.instance.options)}`);return tf.instance}tf.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?fm.FAILURE:this.done?fm.SUCCESS:this.loading?fm.LOADING:fm.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(i=>{let s,l,c,u="The Google Maps JavaScript API",f="google",p="importLibrary",h="__ib__",g=document,x=window;x=x[f]||(x[f]={});const v=x.maps||(x.maps={}),y=new Set,E=new URLSearchParams,C=()=>s||(s=new Promise((k,_)=>yF(this,void 0,void 0,function*(){var N;yield l=g.createElement("script"),l.id=this.id,E.set("libraries",[...y]+"");for(c in i)E.set(c.replace(/[A-Z]/g,O=>"_"+O[0].toLowerCase()),i[c]);E.set("callback",f+".maps."+h),l.src=this.url+"?"+E,v[h]=k,l.onerror=()=>s=_(Error(u+" could not load.")),l.nonce=this.nonce||((N=g.querySelector("script[nonce]"))===null||N===void 0?void 0:N.nonce)||"",g.head.append(l)})));v[p]?console.warn(u+" only loads once. Ignoring:",i):v[p]=(k,..._)=>y.add(k)&&C().then(()=>v[p](k,..._))})(n);const a=this.libraries.map(i=>this.importLibrary(i));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),i=>{const s=new ErrorEvent("error",{error:i});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const _I=({value:t,onChange:e,onPlaceSelect:r,placeholder:n="Ingrese su dirección",error:a="",disabled:i=!1,style:s={}})=>{const l=b.useRef(null),c=b.useRef(null),[u,f]=b.useState(!1),[p,h]=b.useState([]),[g,x]=b.useState(!1),v=new tf({apiKey:"AIzaSyChcaitO44DwrtStITwPnMCNLI89JoIA4M",version:"weekly",libraries:["places"]});b.useEffect(()=>{v.load().then(()=>{f(!0)}).catch(k=>{console.error("Error loading Google Maps API:",k)})},[]),b.useEffect(()=>{if(u&&l.current&&!i){const k=new window.google.maps.places.Autocomplete(l.current,{types:["address"],componentRestrictions:{country:"co"},fields:["address_components","formatted_address","geometry","name"]});return c.current=k,k.addListener("place_changed",()=>{const _=k.getPlace();if(_.formatted_address){const N=y(_),O=_.formatted_address.split(",")[0].trim();e(O),r&&r({...N,direccion:O}),x(!1)}}),()=>{c.current&&window.google.maps.event.clearInstanceListeners(c.current)}}},[u,i,e,r]);const y=k=>{var B,z,I,L;const _=k.address_components||[];let N="",O="",R="";_.forEach(M=>{const F=M.types;(F.includes("sublocality_level_1")||F.includes("sublocality")||F.includes("neighborhood"))&&(N=M.long_name),(F.includes("locality")||F.includes("administrative_area_level_2")&&!O)&&(O=M.long_name),F.includes("administrative_area_level_1")&&(R=M.long_name)});const D=k.formatted_address?k.formatted_address.split(",")[0].trim():"";return{...k,address_components:_,direccion:D,direccionCompleta:k.formatted_address,barrio:N,ciudad:O,departamento:R,coordenadas:{lat:(z=(B=k.geometry)==null?void 0:B.location)==null?void 0:z.lat(),lng:(L=(I=k.geometry)==null?void 0:I.location)==null?void 0:L.lng()}}},E=k=>{const _=k.target.value;e(_),u&&_.length>2?new window.google.maps.places.AutocompleteService().getPlacePredictions({input:_,componentRestrictions:{country:"co"},types:["address"]},(O,R)=>{R===window.google.maps.places.PlacesServiceStatus.OK&&O?(h(O.slice(0,5)),x(!0)):(h([]),x(!1))}):(x(!1),h([]))},C=k=>{new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:k.place_id,fields:["address_components","formatted_address","geometry","name"]},(N,O)=>{if(O===window.google.maps.places.PlacesServiceStatus.OK&&N){const R=y(N);e(R.direccion),r&&r(R),x(!1)}})};return o.createElement("div",{style:{position:"relative",width:"100%"}},o.createElement("input",{ref:l,type:"text",value:t,onChange:E,onFocus:()=>t.length>2&&p.length>0&&x(!0),onBlur:()=>setTimeout(()=>x(!1),200),placeholder:u?n:"Cargando Google Maps...",disabled:i||!u,className:`modal-input ${a?"error":""}`,style:s}),g&&p.length>0&&o.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ccc",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},p.map((k,_)=>o.createElement("div",{key:k.place_id,onClick:()=>C(k),style:{padding:"8px 12px",cursor:"pointer",borderBottom:_<p.length-1?"1px solid #eee":"none",fontSize:"12px"},onMouseEnter:N=>N.target.style.backgroundColor="#f5f5f5",onMouseLeave:N=>N.target.style.backgroundColor="white"},o.createElement("div",{style:{fontWeight:"bold",marginBottom:"2px"}},k.structured_formatting.main_text),o.createElement("div",{style:{color:"#666",fontSize:"11px"}},k.structured_formatting.secondary_text)))),a&&o.createElement("small",{style:{color:"red",fontSize:"10px",display:"block",marginTop:"2px"}},a),!u&&o.createElement("small",{style:{color:"#666",fontSize:"10px",display:"block",marginTop:"2px"}},"Cargando Google Maps..."))},CF=()=>{const t=Yo(),[e,r]=b.useState("profile"),[n,a]=b.useState(!1),[i,s]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(!1),[p,h]=b.useState(!1),[g,x]=b.useState(!1),[v,y]=b.useState({show:!1,type:"",message:""}),[E,C]=b.useState(!1),{loading:k,updating:_,userData:N,errores:O,suspendToken:R,tokenError:D,tokenEnviado:B,enviandoToken:z,tiempoRestante:I,handleInputChange:L,handlePlaceSelect:M,actualizarPerfil:F,cambiarContrasena:H,suspenderCuenta:J,cerrarSesion:ee,cancelarEdicion:re,hayCambiosSinGuardar:te,handleTokenChange:K,enviarTokenSuspension:U,cancelarSuspension:j,formatearTiempoRestante:Y,limpiarError:G}=bF(),[X,ie]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),ye=(Te,Le)=>{y({show:!0,type:Te,message:Le}),setTimeout(()=>{y({show:!1,type:"",message:""})},4e3)},me=async()=>{const Te=await F();Te.success?(a(!1),ye("success","¡Perfil actualizado exitosamente!")):ye("error",Te.error||"Error al actualizar el perfil")},he=Te=>{const{name:Le,value:Ze}=Te.target;ie(Be=>({...Be,[Le]:Ze}))},je=async()=>{const Te=await H(X);Te.success?(ie({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1),h(!1),x(!1),ye("success","¡Contraseña actualizada correctamente!")):ye("error",Te.error||"Error al cambiar la contraseña")},Fe=async()=>{const Te=await J();Te.success?(c(!1),ye("warning","Tu cuenta ha sido suspendida.")):ye("error",Te.error||"Error al suspender la cuenta")},ue=()=>{s(!1),ee(),ye("info","¡Hasta pronto!")},xe=()=>{te()?window.confirm("Tienes cambios sin guardar. ¿Estás seguro de que quieres salir?")&&t(-1):t(-1)},Pe=()=>{re(),a(!1)},_e=(Te,Le)=>{if(Te.target===Te.currentTarget)switch(Le){case"suspend":c(!1);break;case"logout":s(!1);break}};if(k)return o.createElement("div",{className:"profile-container loading-container"},o.createElement("div",{className:"loading-content"},o.createElement(Jf,{className:"loading-spinner",size:48}),o.createElement("h2",null,"Cargando perfil..."),o.createElement("p",null,"Obteniendo tus datos desde el servidor")));const ce=()=>o.createElement("div",{className:"content-body"},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(Iy,{className:"section-icon"}),"Información Personal"),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Tipo de Documento"),o.createElement("select",{name:"tipoDocumento",value:(N==null?void 0:N.tipoDocumento)||"CC",onChange:Te=>L("tipoDocumento",Te.target.value),disabled:!n,className:"form-select"},o.createElement("option",{value:"CC"},"Cédula de Ciudadanía"),o.createElement("option",{value:"CE"},"Cédula de Extranjería"),o.createElement("option",{value:"PA"},"Pasaporte"))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Número de Documento *"),o.createElement("input",{type:"text",value:(N==null?void 0:N.numeroDocumento)||"",onChange:Te=>L("numeroDocumento",Te.target.value),onFocus:()=>G("numeroDocumento"),disabled:!n,className:`form-input ${O.numeroDocumento?"error":""}`,placeholder:"Máximo 10 dígitos",maxLength:"10"}),O.numeroDocumento&&o.createElement("small",{className:"error-text"},O.numeroDocumento)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Nombres *"),o.createElement("input",{type:"text",value:(N==null?void 0:N.nombre)||"",onChange:Te=>L("nombre",Te.target.value),onFocus:()=>G("nombre"),disabled:!n,className:`form-input ${O.nombre?"error":""}`,placeholder:"Ingresa tu nombre"}),O.nombre&&o.createElement("small",{className:"error-text"},O.nombre)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Apellidos *"),o.createElement("input",{type:"text",value:(N==null?void 0:N.apellido)||"",onChange:Te=>L("apellido",Te.target.value),onFocus:()=>G("apellido"),disabled:!n,className:`form-input ${O.apellido?"error":""}`,placeholder:"Ingresa tu apellido"}),O.apellido&&o.createElement("small",{className:"error-text"},O.apellido)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Fecha de Nacimiento"),o.createElement("div",{className:"input-with-icon"},o.createElement(YD,{className:"input-icon"}),o.createElement("input",{type:"date",value:(N==null?void 0:N.fechaNacimiento)||"",onChange:Te=>L("fechaNacimiento",Te.target.value),onFocus:()=>G("fechaNacimiento"),disabled:!n,className:`form-input ${O.fechaNacimiento?"error":""}`,max:new Date(new Date().setFullYear(new Date().getFullYear()-13)).toISOString().split("T")[0]})),O.fechaNacimiento&&o.createElement("small",{className:"error-text"},O.fechaNacimiento),o.createElement("small",{className:"help-text"},"Debes tener al menos 13 años"))),o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(Mv,{className:"section-icon"}),"Información de Contacto"),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Correo Electrónico *"),o.createElement("div",{className:"input-with-icon"},o.createElement(Vp,{className:"input-icon"}),o.createElement("input",{type:"email",value:(N==null?void 0:N.correo)||"",onChange:Te=>L("correo",Te.target.value),onFocus:()=>G("correo"),disabled:!n,className:`form-input ${O.correo?"error":""}`,placeholder:"tucorreo@ejemplo.com"})),O.correo&&o.createElement("small",{className:"error-text"},O.correo)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Número de Celular"),o.createElement("div",{className:"input-with-icon"},o.createElement(Mv,{className:"input-icon"}),o.createElement("input",{type:"tel",value:(N==null?void 0:N.celular)||"",onChange:Te=>L("celular",Te.target.value),onFocus:()=>G("celular"),disabled:!n,className:`form-input ${O.celular?"error":""}`,placeholder:"Máximo 10 dígitos",maxLength:"10"})),O.celular&&o.createElement("small",{className:"error-text"},O.celular)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Dirección"),o.createElement("div",{className:"input-with-icon"},o.createElement(sE,{className:"input-icon"}),n?o.createElement(_I,{value:(N==null?void 0:N.direccion)||"",onChange:Te=>L("direccion",Te),onPlaceSelect:M,placeholder:"Busca tu dirección",error:O.direccion,disabled:!n}):o.createElement("input",{type:"text",value:(N==null?void 0:N.direccion)||"",disabled:!0,className:"form-input",placeholder:"Calle 123 #45-67"})),O.direccion&&o.createElement("small",{className:"error-text"},O.direccion)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Barrio"),o.createElement("input",{type:"text",value:(N==null?void 0:N.barrio)||"",onChange:Te=>L("barrio",Te.target.value),disabled:!n,className:"form-input",placeholder:"Se llena automáticamente con la dirección",readOnly:n}),o.createElement("small",{className:"help-text"},"Se completa automáticamente al seleccionar la dirección")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Ciudad"),o.createElement("input",{type:"text",value:(N==null?void 0:N.ciudad)||"",onChange:Te=>L("ciudad",Te.target.value),disabled:!n,className:"form-input",placeholder:"Se llena automáticamente con la dirección",readOnly:n}),o.createElement("small",{className:"help-text"},"Se completa automáticamente al seleccionar la dirección"))))),Je=()=>o.createElement("div",{className:"content-body"},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(Wp,{className:"section-icon"}),"Cambiar Contraseña"),u?o.createElement("div",{className:"password-change-form"},o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Contraseña Actual *"),o.createElement("div",{className:"password-group"},o.createElement("input",{type:p?"text":"password",name:"currentPassword",value:X.currentPassword,onChange:he,className:`form-input ${O.currentPassword?"error":""}`,placeholder:"Ingresa tu contraseña actual",disabled:_}),o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>h(!p),disabled:_},p?o.createElement(uh,{size:20}):o.createElement(dh,{size:20}))),O.currentPassword&&o.createElement("small",{className:"error-text"},O.currentPassword)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Nueva Contraseña *"),o.createElement("div",{className:"password-group"},o.createElement("input",{type:g?"text":"password",name:"newPassword",value:X.newPassword,onChange:he,className:`form-input ${O.newPassword?"error":""}`,placeholder:"Mínimo 6 caracteres",disabled:_}),o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>x(!g),disabled:_},g?o.createElement(uh,{size:20}):o.createElement(dh,{size:20}))),O.newPassword&&o.createElement("small",{className:"error-text"},O.newPassword)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Confirmar Nueva Contraseña *"),o.createElement("input",{type:"password",name:"confirmPassword",value:X.confirmPassword,onChange:he,className:`form-input ${O.confirmPassword?"error":""}`,placeholder:"Confirma tu nueva contraseña",disabled:_}),O.confirmPassword&&o.createElement("small",{className:"error-text"},O.confirmPassword)),o.createElement("div",{className:"button-group"},o.createElement("button",{onClick:()=>{f(!1),ie({currentPassword:"",newPassword:"",confirmPassword:""}),h(!1),x(!1)},className:"modern-button secondary-button",disabled:_},o.createElement(Xf,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:je,className:"modern-button success-button",disabled:_},_?o.createElement(Jf,{className:"spinner",size:18}):o.createElement(EN,{size:18}),o.createElement("span",null,"Actualizar Contraseña")))):o.createElement("div",null,o.createElement("p",{className:"security-text"},"Mantén tu cuenta segura actualizando tu contraseña regularmente."),o.createElement("button",{onClick:()=>f(!0),className:"modern-button primary-button",disabled:_},o.createElement(Wp,{size:18}),o.createElement("span",null,"Cambiar Contraseña")))),o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(Gp,{className:"section-icon"}),"Suspender Cuenta"),E?o.createElement(o.Fragment,null,B?o.createElement(o.Fragment,null,o.createElement("p",{className:"security-text"},"Se ha enviado un código de verificación de 6 dígitos a tu correo: ",o.createElement("strong",null,N==null?void 0:N.correo)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Código de Verificación"),o.createElement("div",{className:"input-with-icon"},o.createElement(iM,{className:"input-icon"}),o.createElement("input",{type:"text",value:R,onChange:Te=>K(Te.target.value),placeholder:"123456",className:`form-input ${D?"error":""}`,disabled:_,maxLength:"6",style:{textAlign:"center",fontSize:"18px",letterSpacing:"4px"}})),D&&o.createElement("p",{className:"error-text"},D),I>0&&o.createElement("div",{className:"token-timer"},o.createElement("small",{className:"help-text"},"Código válido por: ",o.createElement("strong",null,Y())))),o.createElement("div",{className:"token-actions"},o.createElement("p",{className:"security-text"},"¿No recibiste el código? Revisa tu carpeta de spam o solicita uno nuevo cuando expire.")),o.createElement("div",{className:"button-group"},o.createElement("button",{onClick:()=>{C(!1),j()},className:"modern-button secondary-button",disabled:_},o.createElement(Xf,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:Fe,className:"modern-button warning-button",disabled:_||!R.trim()||R.length!==6},_?o.createElement(Jf,{className:"spinner",size:18}):o.createElement(Oy,{size:18}),o.createElement("span",null,"Confirmar Suspensión"))),I<=0&&o.createElement("div",{className:"token-expired"},o.createElement("p",{className:"error-text"},"El código ha expirado."),o.createElement("button",{onClick:U,className:"modern-button primary-button",disabled:z},z?o.createElement(Jf,{className:"spinner",size:18}):o.createElement(Vp,{size:18}),o.createElement("span",null,"Enviar Nuevo Código")))):o.createElement(o.Fragment,null,o.createElement("p",{className:"security-text"},"Para suspender tu cuenta, enviaremos un código de verificación de 6 dígitos a tu correo electrónico: ",o.createElement("strong",null,N==null?void 0:N.correo)),o.createElement("div",{className:"button-group"},o.createElement("button",{onClick:()=>{C(!1),j()},className:"modern-button secondary-button",disabled:z},o.createElement(Xf,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:U,className:"modern-button warning-button",disabled:z},z?o.createElement(Jf,{className:"spinner",size:18}):o.createElement(Vp,{size:18}),o.createElement("span",null,"Enviar Código"))))):o.createElement(o.Fragment,null,o.createElement("p",{className:"security-text"},"Desactiva temporalmente tu cuenta. Tu información se mantendrá segura y podrás reactivarla cuando desees contactando al administrador."),o.createElement("div",{className:"suspend-info"},o.createElement("p",{className:"suspend-warning"},o.createElement("strong",null,"¿Qué sucede cuando suspendes tu cuenta?")),o.createElement("ul",{className:"suspend-list"},o.createElement("li",null,'• Tu cuenta será marcada como "Desactivada"'),o.createElement("li",null,"• No podrás iniciar sesión hasta reactivarla"),o.createElement("li",null,"• Tus datos personales permanecen seguros"),o.createElement("li",null,"• Puedes reactivarla contactando al soporte"))),o.createElement("button",{onClick:()=>C(!0),className:"modern-button warning-button",disabled:_},o.createElement(Oy,{size:18}),o.createElement("span",null,"Suspender Cuenta"))))));return o.createElement("div",{className:"profile-container"},v.show&&o.createElement("div",{className:`alert alert-${v.type}`},o.createElement("div",{className:"alert-content"},v.type==="success"&&o.createElement(XD,{size:20}),v.type==="warning"&&o.createElement(Oy,{size:20}),v.type==="info"&&o.createElement(Gp,{size:20}),v.type==="error"&&o.createElement(Xf,{size:20}),o.createElement("span",null,v.message))),o.createElement("button",{onClick:xe,className:"back-button-corner"},o.createElement(VD,{size:20}),o.createElement("span",null,"Regresar")),o.createElement("div",{className:"profile-layout"},o.createElement("aside",{className:"profile-sidebar"},o.createElement("div",{className:"profile-avatar"},o.createElement("div",{className:"avatar-circle"},o.createElement(Iy,{size:48})),o.createElement("h2",{className:"profile-name"},N==null?void 0:N.nombre," ",N==null?void 0:N.apellido),o.createElement("p",{className:"profile-email"},N==null?void 0:N.correo),!(N!=null&&N.estado)&&o.createElement("span",{className:"status-badge suspended"},"Cuenta Suspendida")),o.createElement("nav",null,o.createElement("ul",{className:"profile-nav"},o.createElement("li",{className:"nav-item"},o.createElement("button",{className:`nav-button ${e==="profile"?"active":""}`,onClick:()=>r("profile")},o.createElement(Iy,{className:"nav-icon",size:20}),"Mi Perfil")),o.createElement("li",{className:"nav-item"},o.createElement("button",{className:`nav-button ${e==="security"?"active":""}`,onClick:()=>r("security")},o.createElement(Gp,{className:"nav-icon",size:20}),"Seguridad")))),o.createElement("div",{className:"logout-section"},o.createElement("button",{onClick:()=>s(!0),className:"modern-button logout-button",disabled:_},o.createElement(_y,{size:20}),o.createElement("span",null,"Cerrar Sesión")))),o.createElement("main",{className:"profile-main"},o.createElement("header",{className:"content-header"},o.createElement("div",{className:"header-content"},o.createElement("h1",{className:"header-title"},e==="profile"?"Mi Información Personal":"Configuración de Seguridad"),o.createElement("p",{className:"header-subtitle"},e==="profile"?"Mantén tu información actualizada para un mejor servicio":"Protege tu cuenta con configuraciones de seguridad")),e==="profile"&&o.createElement("div",{className:"header-actions"},n?o.createElement("div",{className:"edit-actions"},o.createElement("button",{onClick:Pe,className:"modern-button secondary-button",disabled:_},o.createElement(Xf,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:me,className:"modern-button success-button",disabled:_},_?o.createElement(Jf,{className:"spinner",size:18}):o.createElement(EN,{size:18}),o.createElement("span",null,"Guardar"))):o.createElement("button",{onClick:()=>a(!0),className:"modern-button primary-button-header",disabled:_},o.createElement(vM,{size:18}),o.createElement("span",null,"Editar Perfil")))),e==="profile"?ce():Je())),i&&o.createElement("div",{className:"modal-overlay",onClick:Te=>_e(Te,"logout")},o.createElement("div",{className:"modern-modal",onClick:Te=>Te.stopPropagation()},o.createElement("div",{className:"modal-header"},o.createElement(_y,{size:48,className:"modal-icon logout-icon"}),o.createElement("h3",{className:"modal-title"},"¿Cerrar Sesión?")),o.createElement("p",{className:"modal-text"},"¿Estás seguro que deseas cerrar sesión? Tendrás que iniciar sesión nuevamente para acceder a tu perfil y realizar pedidos."),o.createElement("div",{className:"modal-buttons"},o.createElement("button",{onClick:()=>s(!1),className:"modern-button secondary-button",disabled:_},o.createElement(Xf,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:ue,className:"modern-button danger-button",disabled:_},o.createElement(_y,{size:18}),o.createElement("span",null,"Cerrar Sesión"))))))};var NF={};function PF(t){if(Array.isArray(t))return t}function kF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function lE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function OI(t,e){if(t){if(typeof t=="string")return lE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lE(t,e):void 0}}function AF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kv(t,e){return PF(t)||kF(t,e)||OI(t,e)||AF()}function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}function ur(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e){for(var n=[],a=0;a<e.length;a++){var i=e[a];if(i){var s=Ma(i);if(s==="string"||s==="number")n.push(i);else if(s==="object"){var l=Array.isArray(i)?i:Object.entries(i).map(function(c){var u=kv(c,2),f=u[0],p=u[1];return p?f:null});n=l.length?n.concat(l.filter(function(c){return!!c})):n}}}return n.join(" ").trim()}}function _F(t){if(Array.isArray(t))return lE(t)}function OF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fv(t){return _F(t)||OF(t)||OI(t)||IF()}function LS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){if(Ma(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ma(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function II(t){var e=TF(t,"string");return Ma(e)=="symbol"?e:e+""}function RF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,II(n.key),n)}}function jS(t,e,r){return r&&RF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H0(t,e,r){return(e=II(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ry(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=LF(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function LF(t,e){if(t){if(typeof t=="string")return ON(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ON(t,e):void 0}}function ON(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Ue=function(){function t(){LS(this,t)}return jS(t,null,[{key:"innerWidth",value:function(r){if(r){var n=r.offsetWidth,a=getComputedStyle(r);return n=n+(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)),n}return 0}},{key:"width",value:function(r){if(r){var n=r.offsetWidth,a=getComputedStyle(r);return n=n-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)),n}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var r=document.documentElement;return(window.pageYOffset||r.scrollTop)-(r.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var r=document.documentElement;return(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}},{key:"getOuterWidth",value:function(r,n){if(r){var a=r.getBoundingClientRect().width||r.offsetWidth;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return a}return 0}},{key:"getOuterHeight",value:function(r,n){if(r){var a=r.getBoundingClientRect().height||r.offsetHeight;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return a}return 0}},{key:"getClientHeight",value:function(r,n){if(r){var a=r.clientHeight;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return a}return 0}},{key:"getClientWidth",value:function(r,n){if(r){var a=r.clientWidth;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return a}return 0}},{key:"getViewport",value:function(){var r=window,n=document,a=n.documentElement,i=n.getElementsByTagName("body")[0],s=r.innerWidth||a.clientWidth||i.clientWidth,l=r.innerHeight||a.clientHeight||i.clientHeight;return{width:s,height:l}}},{key:"getOffset",value:function(r){if(r){var n=r.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(r){if(r)for(var n=r.parentNode.childNodes,a=0,i=0;i<n.length;i++){if(n[i]===r)return a;n[i].nodeType===1&&a++}return-1}},{key:"addMultipleClasses",value:function(r,n){if(r&&n)if(r.classList)for(var a=n.split(" "),i=0;i<a.length;i++)r.classList.add(a[i]);else for(var s=n.split(" "),l=0;l<s.length;l++)r.className=r.className+(" "+s[l])}},{key:"removeMultipleClasses",value:function(r,n){if(r&&n)if(r.classList)for(var a=n.split(" "),i=0;i<a.length;i++)r.classList.remove(a[i]);else for(var s=n.split(" "),l=0;l<s.length;l++)r.className=r.className.replace(new RegExp("(^|\\b)"+s[l].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(r,n){r&&n&&(r.classList?r.classList.add(n):r.className=r.className+(" "+n))}},{key:"removeClass",value:function(r,n){r&&n&&(r.classList?r.classList.remove(n):r.className=r.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(r,n){return r?r.classList?r.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(r.className):!1}},{key:"addStyles",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&Object.entries(n).forEach(function(a){var i=kv(a,2),s=i[0],l=i[1];return r.style[s]=l})}},{key:"find",value:function(r,n){return r?Array.from(r.querySelectorAll(n)):[]}},{key:"findSingle",value:function(r,n){return r?r.querySelector(n):null}},{key:"setAttributes",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r){var i=function(l,c){var u,f,p=r!=null&&(u=r.$attrs)!==null&&u!==void 0&&u[l]?[r==null||(f=r.$attrs)===null||f===void 0?void 0:f[l]]:[];return[c].flat().reduce(function(h,g){if(g!=null){var x=Ma(g);if(x==="string"||x==="number")h.push(g);else if(x==="object"){var v=Array.isArray(g)?i(l,g):Object.entries(g).map(function(y){var E=kv(y,2),C=E[0],k=E[1];return l==="style"&&(k||k===0)?"".concat(C.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?C:void 0});h=v.length?h.concat(v.filter(function(y){return!!y})):h}}return h},p)};Object.entries(a).forEach(function(s){var l=kv(s,2),c=l[0],u=l[1];if(u!=null){var f=c.match(/^on(.+)/);f?r.addEventListener(f[1].toLowerCase(),u):c==="p-bind"?n.setAttributes(r,u):(u=c==="class"?Fv(new Set(i("class",u))).join(" ").trim():c==="style"?i("style",u).join(";").trim():u,(r.$attrs=r.$attrs||{})&&(r.$attrs[c]=u),r.setAttribute(c,u))}})}}},{key:"getAttribute",value:function(r,n){if(r){var a=r.getAttribute(n);return isNaN(a)?a==="true"||a==="false"?a==="true":a:+a}}},{key:"isAttributeEquals",value:function(r,n,a){return r?this.getAttribute(r,n)===a:!1}},{key:"isAttributeNotEquals",value:function(r,n,a){return!this.isAttributeEquals(r,n,a)}},{key:"getHeight",value:function(r){if(r){var n=r.offsetHeight,a=getComputedStyle(r);return n=n-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth)),n}return 0}},{key:"getWidth",value:function(r){if(r){var n=r.offsetWidth,a=getComputedStyle(r);return n=n-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),n}return 0}},{key:"alignOverlay",value:function(r,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r&&n&&(a==="self"?this.relativePosition(r,n):(i&&(r.style.minWidth=t.getOuterWidth(n)+"px"),this.absolutePosition(r,n)))}},{key:"absolutePosition",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(r&&n){var i=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),s=i.height,l=i.width,c=n.offsetHeight,u=n.offsetWidth,f=n.getBoundingClientRect(),p=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),g=this.getViewport(),x,v;f.top+c+s>g.height?(x=f.top+p-s,x<0&&(x=p),r.style.transformOrigin="bottom"):(x=c+f.top+p,r.style.transformOrigin="top");var y=f.left;a==="left"?y+l>g.width?v=Math.max(0,y+h+u-l):v=y+h:y+u-l<0?v=h:v=y+u-l+h,r.style.top=x+"px",r.style.left=v+"px"}}},{key:"relativePosition",value:function(r,n){if(r&&n){var a=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),i=n.offsetHeight,s=n.getBoundingClientRect(),l=this.getViewport(),c,u;s.top+i+a.height>l.height?(c=-1*a.height,s.top+c<0&&(c=-1*s.top),r.style.transformOrigin="bottom"):(c=i,r.style.transformOrigin="top"),a.width>l.width?u=s.left*-1:s.left+a.width>l.width?u=(s.left+a.width-l.width)*-1:u=0,r.style.top=c+"px",r.style.left=u+"px"}}},{key:"flipfitCollision",value:function(r,n){var a=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",l=arguments.length>4?arguments[4]:void 0;if(r&&n){var c=n.getBoundingClientRect(),u=this.getViewport(),f=i.split(" "),p=s.split(" "),h=function(E,C){return C?+E.substring(E.search(/(\+|-)/g))||0:E.substring(0,E.search(/(\+|-)/g))||E},g={my:{x:h(f[0]),y:h(f[1]||f[0]),offsetX:h(f[0],!0),offsetY:h(f[1]||f[0],!0)},at:{x:h(p[0]),y:h(p[1]||p[0]),offsetX:h(p[0],!0),offsetY:h(p[1]||p[0],!0)}},x={left:function(){var E=g.my.offsetX+g.at.offsetX;return E+c.left+(g.my.x==="left"?0:-1*(g.my.x==="center"?a.getOuterWidth(r)/2:a.getOuterWidth(r)))},top:function(){var E=g.my.offsetY+g.at.offsetY;return E+c.top+(g.my.y==="top"?0:-1*(g.my.y==="center"?a.getOuterHeight(r)/2:a.getOuterHeight(r)))}},v={count:{x:0,y:0},left:function(){var E=x.left(),C=t.getWindowScrollLeft();r.style.left=E+C+"px",this.count.x===2?(r.style.left=C+"px",this.count.x=0):E<0&&(this.count.x++,g.my.x="left",g.at.x="right",g.my.offsetX*=-1,g.at.offsetX*=-1,this.right())},right:function(){var E=x.left()+t.getOuterWidth(n),C=t.getWindowScrollLeft();r.style.left=E+C+"px",this.count.x===2?(r.style.left=u.width-t.getOuterWidth(r)+C+"px",this.count.x=0):E+t.getOuterWidth(r)>u.width&&(this.count.x++,g.my.x="right",g.at.x="left",g.my.offsetX*=-1,g.at.offsetX*=-1,this.left())},top:function(){var E=x.top(),C=t.getWindowScrollTop();r.style.top=E+C+"px",this.count.y===2?(r.style.left=C+"px",this.count.y=0):E<0&&(this.count.y++,g.my.y="top",g.at.y="bottom",g.my.offsetY*=-1,g.at.offsetY*=-1,this.bottom())},bottom:function(){var E=x.top()+t.getOuterHeight(n),C=t.getWindowScrollTop();r.style.top=E+C+"px",this.count.y===2?(r.style.left=u.height-t.getOuterHeight(r)+C+"px",this.count.y=0):E+t.getOuterHeight(n)>u.height&&(this.count.y++,g.my.y="bottom",g.at.y="top",g.my.offsetY*=-1,g.at.offsetY*=-1,this.top())},center:function(E){if(E==="y"){var C=x.top()+t.getOuterHeight(n)/2;r.style.top=C+t.getWindowScrollTop()+"px",C<0?this.bottom():C+t.getOuterHeight(n)>u.height&&this.top()}else{var k=x.left()+t.getOuterWidth(n)/2;r.style.left=k+t.getWindowScrollLeft()+"px",k<0?this.left():k+t.getOuterWidth(r)>u.width&&this.right()}}};v[g.at.x]("x"),v[g.at.y]("y"),this.isFunction(l)&&l(g)}}},{key:"findCollisionPosition",value:function(r){if(r){var n=r==="top"||r==="bottom",a=r==="left"?"right":"left",i=r==="top"?"bottom":"top";return n?{axis:"y",my:"center ".concat(i),at:"center ".concat(r)}:{axis:"x",my:"".concat(a," center"),at:"".concat(r," center")}}}},{key:"getParents",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.parentNode===null?n:this.getParents(r.parentNode,n.concat([r.parentNode]))}},{key:"getScrollableParents",value:function(r){var n=this,a=[];if(r){var i=this.getParents(r),s=/(auto|scroll)/,l=function(_){var N=_?getComputedStyle(_):null;return N&&(s.test(N.getPropertyValue("overflow"))||s.test(N.getPropertyValue("overflow-x"))||s.test(N.getPropertyValue("overflow-y")))},c=function(_){a.push(_.nodeName==="BODY"||_.nodeName==="HTML"||n.isDocument(_)?window:_)},u=Ry(i),f;try{for(u.s();!(f=u.n()).done;){var p,h=f.value,g=h.nodeType===1&&((p=h.dataset)===null||p===void 0?void 0:p.scrollselectors);if(g){var x=g.split(","),v=Ry(x),y;try{for(v.s();!(y=v.n()).done;){var E=y.value,C=this.findSingle(h,E);C&&l(C)&&c(C)}}catch(k){v.e(k)}finally{v.f()}}h.nodeType===1&&l(h)&&c(h)}}catch(k){u.e(k)}finally{u.f()}}return a}},{key:"getHiddenElementOuterHeight",value:function(r){if(r){r.style.visibility="hidden",r.style.display="block";var n=r.offsetHeight;return r.style.display="none",r.style.visibility="visible",n}return 0}},{key:"getHiddenElementOuterWidth",value:function(r){if(r){r.style.visibility="hidden",r.style.display="block";var n=r.offsetWidth;return r.style.display="none",r.style.visibility="visible",n}return 0}},{key:"getHiddenElementDimensions",value:function(r){var n={};return r&&(r.style.visibility="hidden",r.style.display="block",n.width=r.offsetWidth,n.height=r.offsetHeight,r.style.display="none",r.style.visibility="visible"),n}},{key:"fadeIn",value:function(r,n){if(r){r.style.opacity=0;var a=+new Date,i=0,s=function(){i=+r.style.opacity+(new Date().getTime()-a)/n,r.style.opacity=i,a=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}}},{key:"fadeOut",value:function(r,n){if(r)var a=1,i=50,s=i/n,l=setInterval(function(){a=a-s,a<=0&&(a=0,clearInterval(l)),r.style.opacity=a},i)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(r){return!!(r&&r.constructor&&r.call&&r.apply)}},{key:"appendChild",value:function(r,n){if(this.isElement(n))n.appendChild(r);else if(n.el&&n.el.nativeElement)n.el.nativeElement.appendChild(r);else throw new Error("Cannot append "+n+" to "+r)}},{key:"removeChild",value:function(r,n){if(this.isElement(n))n.removeChild(r);else if(n.el&&n.el.nativeElement)n.el.nativeElement.removeChild(r);else throw new Error("Cannot remove "+r+" from "+n)}},{key:"isElement",value:function(r){return(typeof HTMLElement>"u"?"undefined":Ma(HTMLElement))==="object"?r instanceof HTMLElement:r&&Ma(r)==="object"&&r!==null&&r.nodeType===1&&typeof r.nodeName=="string"}},{key:"isDocument",value:function(r){return(typeof Document>"u"?"undefined":Ma(Document))==="object"?r instanceof Document:r&&Ma(r)==="object"&&r!==null&&r.nodeType===9}},{key:"scrollInView",value:function(r,n){var a=getComputedStyle(r).getPropertyValue("border-top-width"),i=a?parseFloat(a):0,s=getComputedStyle(r).getPropertyValue("padding-top"),l=s?parseFloat(s):0,c=r.getBoundingClientRect(),u=n.getBoundingClientRect(),f=u.top+document.body.scrollTop-(c.top+document.body.scrollTop)-i-l,p=r.scrollTop,h=r.clientHeight,g=this.getOuterHeight(n);f<0?r.scrollTop=p+f:f+g>h&&(r.scrollTop=p+f-h+g)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(r){if(r){var n=getComputedStyle(r);return r.offsetWidth-r.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var a=document.createElement("div");a.className="p-scrollbar-measure",document.body.appendChild(a);var i=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),this.calculatedScrollbarWidth=i,i}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var r=this.resolveUserAgent();this.browser={},r.browser&&(this.browser[r.browser]=!0,this.browser.version=r.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var r=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(r)||/(webkit)[ ]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[];return{browser:n[1]||"",version:n[2]||"0"}}},{key:"blockBodyScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",n=!!document.body.style.getPropertyValue("--scrollbar-width");!n&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,r)}},{key:"unblockBodyScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,r)}},{key:"isVisible",value:function(r){return r&&(r.clientHeight!==0||r.getClientRects().length!==0||getComputedStyle(r).display!=="none")}},{key:"isExist",value:function(r){return!!(r!==null&&typeof r<"u"&&r.nodeName&&r.parentNode)}},{key:"getFocusableElements",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=t.find(r,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=Ry(a),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;getComputedStyle(c).display!=="none"&&getComputedStyle(c).visibility!=="hidden"&&i.push(c)}}catch(u){s.e(u)}finally{s.f()}return i}},{key:"getFirstFocusableElement",value:function(r,n){var a=t.getFocusableElements(r,n);return a.length>0?a[0]:null}},{key:"getLastFocusableElement",value:function(r,n){var a=t.getFocusableElements(r,n);return a.length>0?a[a.length-1]:null}},{key:"focus",value:function(r,n){var a=n===void 0?!0:!n;r&&document.activeElement!==r&&r.focus({preventScroll:a})}},{key:"focusFirstElement",value:function(r,n){if(r){var a=t.getFirstFocusableElement(r);return a&&t.focus(a,n),a}}},{key:"getCursorOffset",value:function(r,n,a,i){if(r){var s=getComputedStyle(r),l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.visibility="hidden",l.style.pointerEvents="none",l.style.overflow=s.overflow,l.style.width=s.width,l.style.height=s.height,l.style.padding=s.padding,l.style.border=s.border,l.style.overflowWrap=s.overflowWrap,l.style.whiteSpace=s.whiteSpace,l.style.lineHeight=s.lineHeight,l.innerHTML=n.replace(/\r\n|\r|\n/g,"<br />");var c=document.createElement("span");c.textContent=i,l.appendChild(c);var u=document.createTextNode(a);l.appendChild(u),document.body.appendChild(l);var f=c.offsetLeft,p=c.offsetTop,h=c.clientHeight;return document.body.removeChild(l),{left:Math.abs(f-r.scrollLeft),top:Math.abs(p-r.scrollTop)+h}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(r,n,a){r[n].apply(r,a)}},{key:"isClickable",value:function(r){var n=r.nodeName,a=r.parentElement&&r.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||a==="INPUT"||a==="TEXTAREA"||a==="BUTTON"||a==="A"||this.hasClass(r,"p-button")||this.hasClass(r.parentElement,"p-button")||this.hasClass(r.parentElement,"p-checkbox")||this.hasClass(r.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(r,n){if(typeof n=="string")r.style.cssText=n;else for(var a in n)r.style[a]=n[a]}},{key:"exportCSV",value:function(r,n){var a=new Blob([r],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,n+".csv");else{var i=t.saveAs({name:n+".csv",src:URL.createObjectURL(a)});i||(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r)))}}},{key:"saveAs",value:function(r){if(r){var n=document.createElement("a");if(n.download!==void 0){var a=r.name,i=r.src;return n.setAttribute("href",i),n.setAttribute("download",a),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),!0}}return!1}},{key:"createInlineStyle",value:function(r,n){var a=document.createElement("style");return t.addNonce(a,r),n||(n=document.head),n.appendChild(a),a}},{key:"removeInlineStyle",value:function(r){if(this.isExist(r)){try{r.parentNode.removeChild(r)}catch{}r=null}return r}},{key:"addNonce",value:function(r,n){try{n||(n=NF.REACT_APP_CSS_NONCE)}catch{}n&&r.setAttribute("nonce",n)}},{key:"getTargetElement",value:function(r){if(!r)return null;if(r==="document")return document;if(r==="window")return window;if(Ma(r)==="object"&&r.hasOwnProperty("current"))return this.isExist(r.current)?r.current:null;var n=function(s){return!!(s&&s.constructor&&s.call&&s.apply)},a=n(r)?r():r;return this.isDocument(a)||this.isExist(a)?a:null}},{key:"getAttributeNames",value:function(r){var n,a,i;for(a=[],i=r.attributes,n=0;n<i.length;++n)a.push(i[n].nodeName);return a.sort(),a}},{key:"isEqualElement",value:function(r,n){var a,i,s,l,c;if(a=t.getAttributeNames(r),i=t.getAttributeNames(n),a.join(",")!==i.join(","))return!1;for(var u=0;u<a.length;++u)if(s=a[u],s==="style")for(var f=r.style,p=n.style,h=/^\d+$/,g=0,x=Object.keys(f);g<x.length;g++){var v=x[g];if(!h.test(v)&&f[v]!==p[v])return!1}else if(r.getAttribute(s)!==n.getAttribute(s))return!1;for(l=r.firstChild,c=n.firstChild;l&&c;l=l.nextSibling,c=c.nextSibling){if(l.nodeType!==c.nodeType)return!1;if(l.nodeType===1){if(!t.isEqualElement(l,c))return!1}else if(l.nodeValue!==c.nodeValue)return!1}return!(l||c)}},{key:"hasCSSAnimation",value:function(r){if(r){var n=getComputedStyle(r),a=parseFloat(n.getPropertyValue("animation-duration")||"0");return a>0}return!1}},{key:"hasCSSTransition",value:function(r){if(r){var n=getComputedStyle(r),a=parseFloat(n.getPropertyValue("transition-duration")||"0");return a>0}return!1}}])}();H0(Ue,"DATA_PROPS",["data-"]);H0(Ue,"ARIA_PROPS",["aria","focus-target"]);function jF(){var t=new Map;return{on:function(r,n){var a=t.get(r);a?a.push(n):a=[n],t.set(r,a)},off:function(r,n){var a=t.get(r);a&&a.splice(a.indexOf(n)>>>0,1)},emit:function(r,n){var a=t.get(r);a&&a.slice().forEach(function(i){return i(n)})}}}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cE.apply(null,arguments)}function IN(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=DF(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function DF(t,e){if(t){if(typeof t=="string")return TN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TN(t,e):void 0}}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Me=function(){function t(){LS(this,t)}return jS(t,null,[{key:"equals",value:function(r,n,a){return a&&r&&Ma(r)==="object"&&n&&Ma(n)==="object"?this.deepEquals(this.resolveFieldData(r,a),this.resolveFieldData(n,a)):this.deepEquals(r,n)}},{key:"deepEquals",value:function(r,n){if(r===n)return!0;if(r&&n&&Ma(r)==="object"&&Ma(n)==="object"){var a=Array.isArray(r),i=Array.isArray(n),s,l,c;if(a&&i){if(l=r.length,l!==n.length)return!1;for(s=l;s--!==0;)if(!this.deepEquals(r[s],n[s]))return!1;return!0}if(a!==i)return!1;var u=r instanceof Date,f=n instanceof Date;if(u!==f)return!1;if(u&&f)return r.getTime()===n.getTime();var p=r instanceof RegExp,h=n instanceof RegExp;if(p!==h)return!1;if(p&&h)return r.toString()===n.toString();var g=Object.keys(r);if(l=g.length,l!==Object.keys(n).length)return!1;for(s=l;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,g[s]))return!1;for(s=l;s--!==0;)if(c=g[s],!this.deepEquals(r[c],n[c]))return!1;return!0}return r!==r&&n!==n}},{key:"resolveFieldData",value:function(r,n){if(!r||!n)return null;try{var a=r[n];if(this.isNotEmpty(a))return a}catch{}if(Object.keys(r).length){if(this.isFunction(n))return n(r);if(this.isNotEmpty(r[n]))return r[n];if(n.indexOf(".")===-1)return r[n];for(var i=n.split("."),s=r,l=0,c=i.length;l<c;++l){if(s==null)return null;s=s[i[l]]}return s}return null}},{key:"findDiffKeys",value:function(r,n){return!r||!n?{}:Object.keys(r).filter(function(a){return!n.hasOwnProperty(a)}).reduce(function(a,i){return a[i]=r[i],a},{})}},{key:"reduceKeys",value:function(r,n){var a={};return!r||!n||n.length===0||Object.keys(r).filter(function(i){return n.some(function(s){return i.startsWith(s)})}).forEach(function(i){a[i]=r[i],delete r[i]}),a}},{key:"reorderArray",value:function(r,n,a){r&&n!==a&&(a>=r.length&&(a=a%r.length,n=n%r.length),r.splice(a,0,r.splice(n,1)[0]))}},{key:"findIndexInList",value:function(r,n,a){var i=this;return n?a?n.findIndex(function(s){return i.equals(s,r,a)}):n.findIndex(function(s){return s===r}):-1}},{key:"getJSXElement",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return this.isFunction(r)?r.apply(void 0,a):r}},{key:"getItemValue",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return this.isFunction(r)?r.apply(void 0,a):r}},{key:"getProp",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r?r[n]:void 0;return i===void 0?a[n]:i}},{key:"getPropCaseInsensitive",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.toFlatCase(n);for(var s in r)if(r.hasOwnProperty(s)&&this.toFlatCase(s)===i)return r[s];for(var l in a)if(a.hasOwnProperty(l)&&this.toFlatCase(l)===i)return a[l]}},{key:"getMergedProps",value:function(r,n){return Object.assign({},n,r)}},{key:"getDiffProps",value:function(r,n){return this.findDiffKeys(r,n)}},{key:"getPropValue",value:function(r){if(!this.isFunction(r))return r;for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(a.length===1){var s=a[0];return r(Array.isArray(s)?s[0]:s)}return r.apply(void 0,a)}},{key:"getComponentProp",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(r)?this.getProp(r.props,n,a):void 0}},{key:"getComponentProps",value:function(r,n){return this.isNotEmpty(r)?this.getMergedProps(r.props,n):void 0}},{key:"getComponentDiffProps",value:function(r,n){return this.isNotEmpty(r)?this.getDiffProps(r.props,n):void 0}},{key:"isValidChild",value:function(r,n,a){if(r){var i,s=this.getComponentProp(r,"__TYPE")||(r.type?r.type.displayName:void 0);!s&&r!==null&&r!==void 0&&(i=r.type)!==null&&i!==void 0&&(i=i._payload)!==null&&i!==void 0&&i.value&&(s=r.type._payload.value.find(function(u){return u===n}));var l=s===n;try{var c}catch{}return l}return!1}},{key:"getRefElement",value:function(r){return r?Ma(r)==="object"&&r.hasOwnProperty("current")?r.current:r:null}},{key:"combinedRefs",value:function(r,n){r&&n&&(typeof n=="function"?n(r.current):n.current=r.current)}},{key:"removeAccents",value:function(r){return r&&r.search(/[\xC0-\xFF]/g)>-1&&(r=r.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),r}},{key:"toFlatCase",value:function(r){return this.isNotEmpty(r)&&this.isString(r)?r.replace(/(-|_)/g,"").toLowerCase():r}},{key:"toCapitalCase",value:function(r){return this.isNotEmpty(r)&&this.isString(r)?r[0].toUpperCase()+r.slice(1):r}},{key:"trim",value:function(r){return this.isNotEmpty(r)&&this.isString(r)?r.trim():r}},{key:"isEmpty",value:function(r){return r==null||r===""||Array.isArray(r)&&r.length===0||!(r instanceof Date)&&Ma(r)==="object"&&Object.keys(r).length===0}},{key:"isNotEmpty",value:function(r){return!this.isEmpty(r)}},{key:"isFunction",value:function(r){return!!(r&&r.constructor&&r.call&&r.apply)}},{key:"isObject",value:function(r){return r!==null&&r instanceof Object&&r.constructor===Object}},{key:"isDate",value:function(r){return r!==null&&r instanceof Date&&r.constructor===Date}},{key:"isArray",value:function(r){return r!==null&&Array.isArray(r)}},{key:"isString",value:function(r){return r!==null&&typeof r=="string"}},{key:"isPrintableCharacter",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(r)&&r.length===1&&r.match(/\S| /)}},{key:"isLetter",value:function(r){return/^[a-zA-Z\u00C0-\u017F]$/.test(r)}},{key:"isScalar",value:function(r){return r!=null&&(typeof r=="string"||typeof r=="number"||typeof r=="bigint"||typeof r=="boolean")}},{key:"findLast",value:function(r,n){var a;if(this.isNotEmpty(r))try{a=r.findLast(n)}catch{a=Fv(r).reverse().find(n)}return a}},{key:"findLastIndex",value:function(r,n){var a=-1;if(this.isNotEmpty(r))try{a=r.findLastIndex(n)}catch{a=r.lastIndexOf(Fv(r).reverse().find(n))}return a}},{key:"sort",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,l=this.compare(r,n,i,a),c=a;return(this.isEmpty(r)||this.isEmpty(n))&&(c=s===1?a:s),c*l}},{key:"compare",value:function(r,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,l=this.isEmpty(r),c=this.isEmpty(n);return l&&c?s=0:l?s=i:c?s=-i:typeof r=="string"&&typeof n=="string"?s=a(r,n):s=r<n?-1:r>n?1:0,s}},{key:"localeComparator",value:function(r){return new Intl.Collator(r,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(r,n){var a=IN(r),i;try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.key===n)return s.children||[];if(s.children){var l=this.findChildrenByKey(s.children,n);if(l.length>0)return l}}}catch(c){a.e(c)}finally{a.f()}return[]}},{key:"mutateFieldData",value:function(r,n,a){if(!(Ma(r)!=="object"||typeof n!="string"))for(var i=n.split("."),s=r,l=0,c=i.length;l<c;++l){if(l+1-c===0){s[i[l]]=a;break}s[i[l]]||(s[i[l]]={}),s=s[i[l]]}}},{key:"getNestedValue",value:function(r,n){return n.split(".").reduce(function(a,i){return a&&a[i]!==void 0?a[i]:void 0},r)}},{key:"absoluteCompare",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!r||!n||i>a)return!0;if(Ma(r)!==Ma(n))return!1;var s=Object.keys(r),l=Object.keys(n);if(s.length!==l.length)return!1;for(var c=0,u=s;c<u.length;c++){var f=u[c],p=r[f],h=n[f],g=t.isObject(p)&&t.isObject(h),x=t.isFunction(p)&&t.isFunction(h);if((g||x)&&!this.absoluteCompare(p,h,a,i+1)||!g&&p!==h)return!1}return!0}},{key:"selectiveCompare",value:function(r,n,a){if(r===n)return!0;if(!r||!n||Ma(r)!=="object"||Ma(n)!=="object")return!1;if(!a)return this.absoluteCompare(r,n,1);var i=IN(a),s;try{for(i.s();!(s=i.n()).done;){var l=s.value,c=this.getNestedValue(r,l),u=this.getNestedValue(n,l),f=Ma(c)==="object"&&c!==null&&Ma(u)==="object"&&u!==null;if(f&&!this.absoluteCompare(c,u,1)||!f&&c!==u)return!1}}catch(p){i.e(p)}finally{i.f()}return!0}}])}(),RN=0;function W0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return RN++,"".concat(t).concat(RN)}function LN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function MF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(r),!0).forEach(function(n){H0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ga=function(){function t(){LS(this,t)}return jS(t,null,[{key:"getJSXIcon",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=null;if(r!==null){var s=Ma(r),l=ur(n.className,s==="string"&&r);if(i=b.createElement("span",cE({},n,{className:l,key:W0("icon")})),s!=="string"){var c=MF({iconProps:n,element:i},a);return Me.getJSXElement(r,c)}}return i}}])}();function jN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(r),!0).forEach(function(n){H0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $v(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var r=function(s){return typeof s=="function"},n=e.classNameMergeFunction,a=r(n);return t.reduce(function(i,s){if(!s)return i;var l=function(){var f=s[c];if(c==="style")i.style=DN(DN({},i.style),s.style);else if(c==="className"){var p="";a?p=n(i.className,s.className):p=[i.className,s.className].join(" ").trim(),i.className=p||void 0}else if(r(f)){var h=i[c];i[c]=h?function(){h.apply(void 0,arguments),f.apply(void 0,arguments)}:f}else i[c]=f};for(var c in s)l();return i},{})}}function FF(){var t=[],e=function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,f=a(l,c,u),p=f.value+(f.key===l?0:u)+1;return t.push({key:l,value:p}),p},r=function(l){t=t.filter(function(c){return c.value!==l})},n=function(l,c){return a(l,c).value},a=function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Fv(t).reverse().find(function(f){return c?!0:f.key===l})||{key:l,value:u}},i=function(l){return l&&parseInt(l.style.zIndex,10)||0};return{get:i,set:function(l,c,u,f){c&&(c.style.zIndex=String(e(l,u,f)))},clear:function(l){l&&(r(Pc.get(l)),l.style.zIndex="")},getCurrent:function(l,c){return n(l,c)}}}var Pc=FF(),mo=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Kp=Object.freeze({AND:"and",OR:"or"});function MN(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=$F(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function $F(t,e){if(t){if(typeof t=="string")return FN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FN(t,e):void 0}}function FN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Yp={filter:function(e,r,n,a,i){var s=[];if(!e)return s;var l=MN(e),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(typeof u=="string"){if(this.filters[a](u,n,i)){s.push(u);continue}}else{var f=MN(r),p;try{for(f.s();!(p=f.n()).done;){var h=p.value,g=Me.resolveFieldData(u,h);if(this.filters[a](g,n,i)){s.push(u);break}}}catch(x){f.e(x)}finally{f.f()}}}}catch(x){l.e(x)}finally{l.f()}return s},filters:{startsWith:function(e,r,n){if(r==null||r.trim()==="")return!0;if(e==null)return!1;var a=Me.removeAccents(r.toString()).toLocaleLowerCase(n),i=Me.removeAccents(e.toString()).toLocaleLowerCase(n);return i.slice(0,a.length)===a},contains:function(e,r,n){if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;var a=Me.removeAccents(r.toString()).toLocaleLowerCase(n),i=Me.removeAccents(e.toString()).toLocaleLowerCase(n);return i.indexOf(a)!==-1},notContains:function(e,r,n){if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;var a=Me.removeAccents(r.toString()).toLocaleLowerCase(n),i=Me.removeAccents(e.toString()).toLocaleLowerCase(n);return i.indexOf(a)===-1},endsWith:function(e,r,n){if(r==null||r.trim()==="")return!0;if(e==null)return!1;var a=Me.removeAccents(r.toString()).toLocaleLowerCase(n),i=Me.removeAccents(e.toString()).toLocaleLowerCase(n);return i.indexOf(a,i.length-a.length)!==-1},equals:function(e,r,n){return r==null||typeof r=="string"&&r.trim()===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():Me.removeAccents(e.toString()).toLocaleLowerCase(n)===Me.removeAccents(r.toString()).toLocaleLowerCase(n)},notEquals:function(e,r,n){return r==null||typeof r=="string"&&r.trim()===""||e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():Me.removeAccents(e.toString()).toLocaleLowerCase(n)!==Me.removeAccents(r.toString()).toLocaleLowerCase(n)},in:function(e,r){if(r==null||r.length===0)return!0;for(var n=0;n<r.length;n++)if(Me.equals(e,r[n]))return!0;return!1},notIn:function(e,r){if(r==null||r.length===0)return!0;for(var n=0;n<r.length;n++)if(Me.equals(e,r[n]))return!1;return!0},between:function(e,r){return r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1]},lt:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r},lte:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r},gt:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r},gte:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r},dateIs:function(e,r){return r==null?!0:e==null?!1:e.toDateString()===r.toDateString()},dateIsNot:function(e,r){return r==null?!0:e==null?!1:e.toDateString()!==r.toDateString()},dateBefore:function(e,r){return r==null?!0:e==null?!1:e.getTime()<r.getTime()},dateAfter:function(e,r){return r==null?!0:e==null?!1:e.getTime()>r.getTime()}},register:function(e,r){this.filters[e]=r}};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function zF(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BF(t){var e=zF(t,"string");return fh(e)=="symbol"?e:e+""}function hl(t,e,r){return(e=BF(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qF(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function UF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _i=qF(function t(){UF(this,t)});hl(_i,"ripple",!1);hl(_i,"inputStyle","outlined");hl(_i,"locale","en");hl(_i,"appendTo",null);hl(_i,"cssTransition",!0);hl(_i,"autoZIndex",!0);hl(_i,"hideOverlaysOnDocumentScrolling",!1);hl(_i,"nonce",null);hl(_i,"nullSortOrder",1);hl(_i,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});hl(_i,"pt",void 0);hl(_i,"filterMatchModeOptions",{text:[mo.STARTS_WITH,mo.CONTAINS,mo.NOT_CONTAINS,mo.ENDS_WITH,mo.EQUALS,mo.NOT_EQUALS],numeric:[mo.EQUALS,mo.NOT_EQUALS,mo.LESS_THAN,mo.LESS_THAN_OR_EQUAL_TO,mo.GREATER_THAN,mo.GREATER_THAN_OR_EQUAL_TO],date:[mo.DATE_IS,mo.DATE_IS_NOT,mo.DATE_BEFORE,mo.DATE_AFTER]});hl(_i,"changeTheme",function(t,e,r,n){var a,i=document.getElementById(r);if(!i)throw Error("Element with id ".concat(r," not found."));var s=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",r),l.setAttribute("href",s),l.addEventListener("load",function(){n&&n()}),(a=i.parentNode)===null||a===void 0||a.replaceChild(l,i)});var HF={en:{accept:"Yes",addRule:"Add Rule",am:"AM",apply:"Apply",cancel:"Cancel",choose:"Choose",chooseDate:"Choose Date",chooseMonth:"Choose Month",chooseYear:"Choose Year",clear:"Clear",completed:"Completed",contains:"Contains",custom:"Custom",dateAfter:"Date is after",dateBefore:"Date is before",dateFormat:"mm/dd/yy",dateIs:"Date is",dateIsNot:"Date is not",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],emptyFilterMessage:"No results found",emptyMessage:"No available options",emptySearchMessage:"No results found",emptySelectionMessage:"No selected item",endsWith:"Ends with",equals:"Equals",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],filter:"Filter",firstDayOfWeek:0,gt:"Greater than",gte:"Greater than or equal to",lt:"Less than",lte:"Less than or equal to",matchAll:"Match All",matchAny:"Match Any",medium:"Medium",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nextDecade:"Next Decade",nextHour:"Next Hour",nextMinute:"Next Minute",nextMonth:"Next Month",nextSecond:"Next Second",nextYear:"Next Year",noFilter:"No Filter",notContains:"Not contains",notEquals:"Not equals",now:"Now",passwordPrompt:"Enter a password",pending:"Pending",pm:"PM",prevDecade:"Previous Decade",prevHour:"Previous Hour",prevMinute:"Previous Minute",prevMonth:"Previous Month",prevSecond:"Previous Second",prevYear:"Previous Year",reject:"No",removeRule:"Remove Rule",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",showMonthAfterYear:!1,startsWith:"Starts with",strong:"Strong",today:"Today",upload:"Upload",weak:"Weak",weekHeader:"Wk",aria:{cancelEdit:"Cancel Edit",close:"Close",collapseRow:"Row Collapsed",editRow:"Edit Row",expandRow:"Row Expanded",falseLabel:"False",filterConstraint:"Filter Constraint",filterOperator:"Filter Operator",firstPageLabel:"First Page",gridView:"Grid View",hideFilterMenu:"Hide Filter Menu",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",lastPageLabel:"Last Page",listLabel:"Option List",listView:"List View",moveAllToSource:"Move All to Source",moveAllToTarget:"Move All to Target",moveBottom:"Move Bottom",moveDown:"Move Down",moveToSource:"Move to Source",moveToTarget:"Move to Target",moveTop:"Move Top",moveUp:"Move Up",navigation:"Navigation",next:"Next",nextPageLabel:"Next Page",nullLabel:"Not Selected",pageLabel:"Page {page}",otpLabel:"Please enter one time password character {0}",passwordHide:"Hide Password",passwordShow:"Show Password",previous:"Previous",prevPageLabel:"Previous Page",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",rowsPerPageLabel:"Rows per page",saveEdit:"Save Edit",scrollTop:"Scroll Top",selectAll:"All items selected",selectRow:"Row Selected",showFilterMenu:"Show Filter Menu",slide:"Slide",slideNumber:"{slideNumber}",star:"1 star",stars:"{star} stars",trueLabel:"True",unselectAll:"All items unselected",unselectRow:"Row Unselected",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out"}}};function js(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe key detected");var r=_i.locale;try{return TI(r)[t]}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function ki(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe ariaKey detected");var r=_i.locale;try{var n=TI(r).aria[t];if(n)for(var a in e)e.hasOwnProperty(a)&&(n=n.replace("{".concat(a,"}"),e[a]));return n}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function TI(t){var e=t||_i.locale;if(e.includes("__proto__")||e.includes("prototype"))throw new Error("Unsafe locale detected");return HF[e]}var ra=o.createContext(),Fn=_i;function WF(t){if(Array.isArray(t))return t}function VF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function uE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function RI(t,e){if(t){if(typeof t=="string")return uE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uE(t,e):void 0}}function GF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kc(t,e){return WF(t)||VF(t,e)||RI(t,e)||GF()}var Om=function(e){var r=b.useRef(null);return b.useEffect(function(){return r.current=e,function(){r.current=null}},[e]),r.current},Fs=function(e){return b.useEffect(function(){return e},[])},wu=function(e){var r=e.target,n=r===void 0?"document":r,a=e.type,i=e.listener,s=e.options,l=e.when,c=l===void 0?!0:l,u=b.useRef(null),f=b.useRef(null),p=Om(i),h=Om(s),g=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=C.target;Me.isNotEmpty(k)&&(x(),(C.when||c)&&(u.current=Ue.getTargetElement(k))),!f.current&&u.current&&(f.current=function(_){return i&&i(_)},u.current.addEventListener(a,f.current,s))},x=function(){f.current&&(u.current.removeEventListener(a,f.current,s),f.current=null)},v=function(){x(),p=null,h=null},y=b.useCallback(function(){c?u.current=Ue.getTargetElement(n):(x(),u.current=null)},[n,c]);return b.useEffect(function(){y()},[y]),b.useEffect(function(){var E="".concat(p)!=="".concat(i),C=h!==s,k=f.current;k&&(E||C)?(x(),c&&g()):k||v()},[i,s,c]),Fs(function(){v()}),[g,x]},KF=function(e,r){var n=b.useState(e),a=Kc(n,2),i=a[0],s=a[1],l=b.useState(e),c=Kc(l,2),u=c[0],f=c[1],p=b.useRef(!1),h=b.useRef(null),g=function(){return window.clearTimeout(h.current)};return $s(function(){p.current=!0}),Fs(function(){g()}),b.useEffect(function(){p.current&&(g(),h.current=window.setTimeout(function(){f(i)},r))},[i,r]),[i,u,s]},Bd={},YF=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=b.useState(function(){return W0()}),a=Kc(n,1),i=a[0],s=b.useState(0),l=Kc(s,2),c=l[0],u=l[1];return b.useEffect(function(){if(r){Bd[e]||(Bd[e]=[]);var f=Bd[e].push(i);return u(f),function(){delete Bd[e][f-1];var p=Bd[e].length-1,h=Me.findLastIndex(Bd[e],function(g){return g!==void 0});h!==p&&Bd[e].splice(h+1),u(void 0)}}},[e,i,r]),c};function JF(t){if(Array.isArray(t))return uE(t)}function XF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $N(t){return JF(t)||XF(t)||RI(t)||ZF()}var QF={TOOLTIP:1200},LI={escKeyListeners:new Map,onGlobalKeyDown:function(e){if(e.code==="Escape"){var r=LI.escKeyListeners,n=Math.max.apply(Math,$N(r.keys())),a=r.get(n),i=Math.max.apply(Math,$N(a.keys())),s=a.get(i);s(e)}},refreshGlobalKeyDownListener:function(){var e=Ue.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,r){var n=this,a=Kc(r,2),i=a[0],s=a[1],l=this.escKeyListeners;l.has(i)||l.set(i,new Map);var c=l.get(i);if(c.has(s))throw new Error("Unexpected: global esc key listener with priority [".concat(i,", ").concat(s,"] already exists."));return c.set(s,e),this.refreshGlobalKeyDownListener(),function(){c.delete(s),c.size===0&&l.delete(i),n.refreshGlobalKeyDownListener()}}},e$=function(e){var r=e.callback,n=e.when,a=e.priority;b.useEffect(function(){if(n)return LI.addListener(r,a)},[r,n,a])},$n=function(){var e=b.useContext(ra);return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return $v(n,e==null?void 0:e.ptOptions)}},$s=function(e){var r=b.useRef(!1);return b.useEffect(function(){if(!r.current)return r.current=!0,e&&e()},[])},jI=function(e){var r=e.target,n=e.listener,a=e.options,i=e.when,s=i===void 0?!0:i,l=b.useContext(ra),c=b.useRef(null),u=b.useRef(null),f=b.useRef([]),p=Om(n),h=Om(a),g=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Me.isNotEmpty(C.target)&&(x(),(C.when||s)&&(c.current=Ue.getTargetElement(C.target))),!u.current&&c.current){var k=l?l.hideOverlaysOnDocumentScrolling:Fn.hideOverlaysOnDocumentScrolling,_=f.current=Ue.getScrollableParents(c.current);_.some(function(N){return N===document.body||N===window})||_.push(k?window:document.body),u.current=function(N){return n&&n(N)},_.forEach(function(N){return N.addEventListener("scroll",u.current,a)})}},x=function(){if(u.current){var C=f.current;C.forEach(function(k){return k.removeEventListener("scroll",u.current,a)}),u.current=null}},v=function(){x(),f.current=null,p=null,h=null},y=b.useCallback(function(){s?c.current=Ue.getTargetElement(r):(x(),c.current=null)},[r,s]);return b.useEffect(function(){y()},[y]),b.useEffect(function(){var E="".concat(p)!=="".concat(n),C=h!==a,k=u.current;k&&(E||C)?(x(),s&&g()):k||v()},[n,a,s]),Fs(function(){v()}),[g,x]},DS=function(e){var r=e.listener,n=e.when,a=n===void 0?!0:n;return wu({target:"window",type:"resize",listener:r,when:a})},DI=function(e){var r=e.target,n=e.overlay,a=e.listener,i=e.when,s=i===void 0?!0:i,l=e.type,c=l===void 0?"click":l,u=b.useRef(null),f=b.useRef(null),p=wu({target:"window",type:c,listener:function(H){a&&a(H,{type:"outside",valid:H.which!==3&&I(H)})},when:s}),h=Kc(p,2),g=h[0],x=h[1],v=DS({listener:function(H){a&&a(H,{type:"resize",valid:!Ue.isTouchDevice()})},when:s}),y=Kc(v,2),E=y[0],C=y[1],k=wu({target:"window",type:"orientationchange",listener:function(H){a&&a(H,{type:"orientationchange",valid:!0})},when:s}),_=Kc(k,2),N=_[0],O=_[1],R=jI({target:r,listener:function(H){a&&a(H,{type:"scroll",valid:!0})},when:s}),D=Kc(R,2),B=D[0],z=D[1],I=function(H){return u.current&&!(u.current.isSameNode(H.target)||u.current.contains(H.target)||f.current&&f.current.contains(H.target))},L=function(){g(),E(),N(),B()},M=function(){x(),C(),O(),z()};return b.useEffect(function(){s?(u.current=Ue.getTargetElement(r),f.current=Ue.getTargetElement(n)):(M(),u.current=f.current=null)},[r,n,s]),Fs(function(){M()}),[L,M]},t$=0,of=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=b.useState(!1),a=Kc(n,2),i=a[0],s=a[1],l=b.useRef(null),c=b.useContext(ra),u=Ue.isClient()?window.document:void 0,f=r.document,p=f===void 0?u:f,h=r.manual,g=h===void 0?!1:h,x=r.name,v=x===void 0?"style_".concat(++t$):x,y=r.id,E=y===void 0?void 0:y,C=r.media,k=C===void 0?void 0:C,_=function(B){var z=B.querySelector('style[data-primereact-style-id="'.concat(v,'"]'));if(z)return z;if(E!==void 0){var I=p.getElementById(E);if(I)return I}return p.createElement("style")},N=function(B){i&&e!==B&&(l.current.textContent=B)},O=function(){if(!(!p||i)){var B=(c==null?void 0:c.styleContainer)||p.head;l.current=_(B),l.current.isConnected||(l.current.type="text/css",E&&(l.current.id=E),k&&(l.current.media=k),Ue.addNonce(l.current,c&&c.nonce||Fn.nonce),B.appendChild(l.current),v&&l.current.setAttribute("data-primereact-style-id",v)),l.current.textContent=e,s(!0)}},R=function(){!p||!l.current||(Ue.removeInlineStyle(l.current),s(!1))};return b.useEffect(function(){g||O()},[g]),{id:E,name:v,update:N,unload:R,load:O,isLoaded:i}},ma=function(e,r){var n=b.useRef(!1);return b.useEffect(function(){if(!n.current){n.current=!0;return}return e&&e()},r)};function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function r$(t){if(Array.isArray(t))return dE(t)}function n$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a$(t,e){if(t){if(typeof t=="string")return dE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dE(t,e):void 0}}function o$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zN(t){return r$(t)||n$(t)||a$(t)||o$()}function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function i$(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s$(t){var e=i$(t,"string");return mh(e)=="symbol"?e:e+""}function fE(t,e,r){return(e=s$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(r),!0).forEach(function(n){fE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var l$=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,c$=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,u$=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,d$=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,f$=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(c$,`
    `).concat(u$,`
    `).concat(d$,`
}
`),yn={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.css,n=ii(ii({},e.defaultProps),yn.defaultProps),a={},i=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return yn.context=p,yn.cProps=f,Me.getMergedProps(f,n)},s=function(f){return Me.getDiffProps(f,n)},l=function(){var f,p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;p.hasOwnProperty("pt")&&p.pt!==void 0&&(p=p.pt);var v=h,y=/./g.test(v)&&!!g[v.split(".")[0]],E=y?Me.toFlatCase(v.split(".")[1]):Me.toFlatCase(v),C=g.hostName&&Me.toFlatCase(g.hostName),k=C||g.props&&g.props.__TYPE&&Me.toFlatCase(g.props.__TYPE)||"",_=E==="transition",N="data-pc-",O=function(re){return re!=null&&re.props?re.hostName?re.props.__TYPE===re.hostName?re.props:O(re.parent):re.parent:void 0},R=function(re){var te,K;return((te=g.props)===null||te===void 0?void 0:te[re])||((K=O(g))===null||K===void 0?void 0:K[re])};yn.cParams=g,yn.cName=k;var D=R("ptOptions")||yn.context.ptOptions||{},B=D.mergeSections,z=B===void 0?!0:B,I=D.mergeProps,L=I===void 0?!1:I,M=function(){var re=xu.apply(void 0,arguments);return Array.isArray(re)?{className:ur.apply(void 0,zN(re))}:Me.isString(re)?{className:re}:re!=null&&re.hasOwnProperty("className")&&Array.isArray(re.className)?{className:ur.apply(void 0,zN(re.className))}:re},F=x?y?MI(M,v,g):FI(M,v,g):void 0,H=y?void 0:G0(V0(p,k),M,v,g),J=!_&&ii(ii({},E==="root"&&fE({},"".concat(N,"name"),g.props&&g.props.__parentMetadata?Me.toFlatCase(g.props.__TYPE):k)),{},fE({},"".concat(N,"section"),E));return z||!z&&H?L?$v([F,H,Object.keys(J).length?J:{}],{classNameMergeFunction:(f=yn.context.ptOptions)===null||f===void 0?void 0:f.classNameMergeFunction}):ii(ii(ii({},F),H),Object.keys(J).length?J:{}):ii(ii({},H),Object.keys(J).length?J:{})},c=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=f.props,h=f.state,g=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l((p||{}).pt,k,ii(ii({},f),_))},x=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l(k,_,N,!1)},v=function(){return yn.context.unstyled||Fn.unstyled||p.unstyled},y=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return v()?void 0:xu(r&&r.classes,k,ii({props:p,state:h},_))},E=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(N){var O,R=xu(r&&r.inlineStyles,k,ii({props:p,state:h},_)),D=xu(a,k,ii({props:p,state:h},_));return $v([D,R],{classNameMergeFunction:(O=yn.context.ptOptions)===null||O===void 0?void 0:O.classNameMergeFunction})}};return{ptm:g,ptmo:x,sx:E,cx:y,isUnstyled:v}};return ii(ii({getProps:i,getOtherProps:s,setMetaData:c},e),{},{defaultProps:n})}},xu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=String(Me.toFlatCase(r)).split("."),i=a.shift(),s=Me.isNotEmpty(e)?Object.keys(e).find(function(l){return Me.toFlatCase(l)===i}):"";return i?Me.isObject(e)?xu(Me.getItemValue(e[s],n),a.join("."),n):void 0:Me.getItemValue(e,n)},V0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e==null?void 0:e._usept,i=function(l){var c,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=n?n(l):l,p=Me.toFlatCase(r);return(c=u?p!==yn.cName?f==null?void 0:f[p]:void 0:f==null?void 0:f[p])!==null&&c!==void 0?c:f};return Me.isNotEmpty(a)?{_usept:a,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},G0=function(e,r,n,a){var i=function(v){return r(v,n,a)};if(e!=null&&e.hasOwnProperty("_usept")){var s=e._usept||yn.context.ptOptions||{},l=s.mergeSections,c=l===void 0?!0:l,u=s.mergeProps,f=u===void 0?!1:u,p=s.classNameMergeFunction,h=i(e.originalValue),g=i(e.value);return h===void 0&&g===void 0?void 0:Me.isString(g)?g:Me.isString(h)?h:c||!c&&g?f?$v([h,g],{classNameMergeFunction:p}):ii(ii({},h),g):g}return i(e)},m$=function(){return V0(yn.context.pt||Fn.pt,void 0,function(e){return Me.getItemValue(e,yn.cParams)})},p$=function(){return V0(yn.context.pt||Fn.pt,void 0,function(e){return xu(e,yn.cName,yn.cParams)||Me.getItemValue(e,yn.cParams)})},MI=function(e,r,n){return G0(m$(),e,r,n)},FI=function(e,r,n){return G0(p$(),e,r,n)},Fl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,a=n.name,i=n.styled,s=i===void 0?!1:i,l=n.hostName,c=l===void 0?"":l,u=MI(xu,"global.css",yn.cParams),f=Me.toFlatCase(a),p=of(l$,{name:"base",manual:!0}),h=p.load,g=of(f$,{name:"common",manual:!0}),x=g.load,v=of(u,{name:"global",manual:!0}),y=v.load,E=of(e,{name:a,manual:!0}),C=E.load,k=function(N){if(!c){var O=G0(V0((yn.cProps||{}).pt,f),xu,"hooks.".concat(N)),R=FI(xu,"hooks.".concat(N));O==null||O(),R==null||R()}};k("useMountEffect"),$s(function(){h(),y(),r()||(x(),s||C())}),ma(function(){k("useUpdateEffect")}),Fs(function(){k("useUnmountEffect")})},Sa={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return Me.getMergedProps(e,Sa.defaultProps)},getOtherProps:function(e){return Me.getDiffProps(e,Sa.defaultProps)},getPTI:function(e){var r=Me.isEmpty(e.label),n=Sa.getOtherProps(e),a={className:ur("p-icon",{"p-icon-spin":e.spin},e.className),role:r?void 0:"img","aria-label":r?void 0:e.label,"aria-hidden":e.label?r:void 0};return Me.getMergedProps(n,a)}};function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mE.apply(null,arguments)}var $I=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",mE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"}))}));$I.displayName="ArrowDownIcon";function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pE.apply(null,arguments)}var zI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",pE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"}))}));zI.displayName="ArrowUpIcon";function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hE.apply(null,arguments)}var ug=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",hE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"}))}));ug.displayName="SpinnerIcon";function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gE.apply(null,arguments)}var BI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",gE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"}))}));BI.displayName="AngleDoubleLeftIcon";function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vE.apply(null,arguments)}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function h$(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g$(t){var e=h$(t,"string");return ph(e)=="symbol"?e:e+""}function v$(t,e,r){return(e=g$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$(t){if(Array.isArray(t))return t}function y$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function w$(t,e){if(t){if(typeof t=="string")return qN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qN(t,e):void 0}}function x$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$(t,e){return b$(t)||y$(t,e)||w$(t,e)||x$()}var S$=`
@layer primereact {
    .p-ripple {
        overflow: hidden;
        position: relative;
    }
    
    .p-ink {
        display: block;
        position: absolute;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 100%;
        transform: scale(0);
    }
    
    .p-ink-active {
        animation: ripple 0.4s linear;
    }
    
    .p-ripple-disabled .p-ink {
        display: none;
    }
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}

`,C$={root:"p-ink"},mm=yn.extend({defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:S$,classes:C$},getProps:function(e){return Me.getMergedProps(e,mm.defaultProps)},getOtherProps:function(e){return Me.getDiffProps(e,mm.defaultProps)}});function UN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function N$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(r),!0).forEach(function(n){v$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ai=b.memo(b.forwardRef(function(t,e){var r=b.useState(!1),n=E$(r,2),a=n[0],i=n[1],s=b.useRef(null),l=b.useRef(null),c=$n(),u=b.useContext(ra),f=mm.getProps(t,u),p=u&&u.ripple||Fn.ripple,h={props:f};of(mm.css.styles,{name:"ripple",manual:!p});var g=mm.setMetaData(N$({},h)),x=g.ptm,v=g.cx,y=function(){return s.current&&s.current.parentElement},E=function(){l.current&&l.current.addEventListener("pointerdown",k)},C=function(){l.current&&l.current.removeEventListener("pointerdown",k)},k=function(B){var z=Ue.getOffset(l.current),I=B.pageX-z.left+document.body.scrollTop-Ue.getWidth(s.current)/2,L=B.pageY-z.top+document.body.scrollLeft-Ue.getHeight(s.current)/2;_(I,L)},_=function(B,z){!s.current||getComputedStyle(s.current,null).display==="none"||(Ue.removeClass(s.current,"p-ink-active"),O(),s.current.style.top=z+"px",s.current.style.left=B+"px",Ue.addClass(s.current,"p-ink-active"))},N=function(B){Ue.removeClass(B.currentTarget,"p-ink-active")},O=function(){if(s.current&&!Ue.getHeight(s.current)&&!Ue.getWidth(s.current)){var B=Math.max(Ue.getOuterWidth(l.current),Ue.getOuterHeight(l.current));s.current.style.height=B+"px",s.current.style.width=B+"px"}};if(b.useImperativeHandle(e,function(){return{props:f,getInk:function(){return s.current},getTarget:function(){return l.current}}}),$s(function(){i(!0)}),ma(function(){a&&s.current&&(l.current=y(),O(),E())},[a]),ma(function(){s.current&&!l.current&&(l.current=y(),O(),E())}),Fs(function(){s.current&&(l.current=null,C())}),!p)return null;var R=c({"aria-hidden":!0,className:ur(v("root"))},mm.getOtherProps(f),x("root"));return b.createElement("span",vE({role:"presentation",ref:s},R,{onAnimationEnd:N}))}));Ai.displayName="Ripple";function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bE.apply(null,arguments)}var qI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",bE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"}))}));qI.displayName="AngleDownIcon";function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yE.apply(null,arguments)}var UI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",yE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"}))}));UI.displayName="AngleUpIcon";function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function P$(t){if(Array.isArray(t))return wE(t)}function k$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function A$(t,e){if(t){if(typeof t=="string")return wE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wE(t,e):void 0}}function _$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$(t){return P$(t)||k$(t)||A$(t)||_$()}var pm={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return pm.DEFAULT_MASKS[e]?pm.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,r,n){n||!Ue.isAndroid()||this.validateKey(e,e.data,r)},onKeyPress:function(e,r,n){n||Ue.isAndroid()||e.ctrlKey||e.altKey||e.metaKey||this.validateKey(e,e.key,r)},onPaste:function(e,r,n){if(!n){var a=this.getRegex(r),i=e.clipboardData.getData("text");O$(i).forEach(function(s){if(!a.test(s))return e.preventDefault(),!1})}},validateKey:function(e,r,n){if(r!=null){var a=r.length<=2;if(a){var i=this.getRegex(n);i.test(r)||e.preventDefault()}}},validate:function(e,r){var n=e.target.value,a=!0,i=this.getRegex(r);return n&&!i.test(n)&&(a=!1),a}};function I$(t){if(Array.isArray(t))return t}function T$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function R$(t,e){if(t){if(typeof t=="string")return HN(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HN(t,e):void 0}}function L$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j$(t,e){return I$(t)||T$(t,e)||R$(t,e)||L$()}var xE={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return Me.getMergedProps(e,xE.defaultProps)},getOtherProps:function(e){return Me.getDiffProps(e,xE.defaultProps)}},K0=b.memo(function(t){var e=xE.getProps(t),r=b.useContext(ra),n=b.useState(e.visible&&Ue.isClient()),a=j$(n,2),i=a[0],s=a[1];$s(function(){Ue.isClient()&&!i&&(s(!0),e.onMounted&&e.onMounted())}),ma(function(){e.onMounted&&e.onMounted()},[i]),Fs(function(){e.onUnmounted&&e.onUnmounted()});var l=e.element||e.children;if(l&&i){var c=e.appendTo||r&&r.appendTo||Fn.appendTo;return Me.isFunction(c)&&(c=c()),c||(c=document.body),c==="self"?l:$p.createPortal(l,c)}return null});K0.displayName="Portal";function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zv.apply(null,arguments)}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function D$(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M$(t){var e=D$(t,"string");return hh(e)=="symbol"?e:e+""}function HI(t,e,r){return(e=M$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function F$(t){if(Array.isArray(t))return EE(t)}function $$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WI(t,e){if(t){if(typeof t=="string")return EE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?EE(t,e):void 0}}function z$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B$(t){return F$(t)||$$(t)||WI(t)||z$()}function q$(t){if(Array.isArray(t))return t}function U$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function H$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zf(t,e){return q$(t)||U$(t,e)||WI(t,e)||H$()}var W$={root:function(e){var r=e.positionState,n=e.classNameState;return ur("p-tooltip p-component",HI({},"p-tooltip-".concat(r),!0),n)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},V$={arrow:function(e){var r=e.context;return{top:r.bottom?"0":r.right||r.left||!r.right&&!r.left&&!r.top&&!r.bottom?"50%":null,bottom:r.top?"0":null,left:r.right||!r.right&&!r.left&&!r.top&&!r.bottom?"0":r.top||r.bottom?"50%":null,right:r.left?"0":null}}},G$=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,Kg=yn.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:W$,styles:G$,inlineStyles:V$}});function WN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(r),!0).forEach(function(n){HI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ru=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=Kg.getProps(t,n),i=b.useState(!1),s=Zf(i,2),l=s[0],c=s[1],u=b.useState(a.position||"right"),f=Zf(u,2),p=f[0],h=f[1],g=b.useState(""),x=Zf(g,2),v=x[0],y=x[1],E=b.useState(!1),C=Zf(E,2),k=C[0],_=C[1],N=l&&a.closeOnEscape,O=YF("tooltip",N),R={props:a,state:{visible:l,position:p,className:v},context:{right:p==="right",left:p==="left",top:p==="top",bottom:p==="bottom"}},D=Kg.setMetaData(R),B=D.ptm,z=D.cx,I=D.sx,L=D.isUnstyled;Fl(Kg.css.styles,L,{name:"tooltip"}),e$({callback:function(){et()},when:N,priority:[QF.TOOLTIP,O]});var M=b.useRef(null),F=b.useRef(null),H=b.useRef(null),J=b.useRef(null),ee=b.useRef(!0),re=b.useRef({}),te=b.useRef(null),K=DS({listener:function(Re){!Ue.isTouchDevice()&&et(Re)}}),U=Zf(K,2),j=U[0],Y=U[1],G=jI({target:H.current,listener:function(Re){et(Re)},when:l}),X=Zf(G,2),ie=X[0],ye=X[1],me=function(Re){return!(a.content||Pe(Re,"tooltip"))},he=function(Re){return!(a.content||Pe(Re,"tooltip")||a.children)},je=function(Re){return Pe(Re,"mousetrack")||a.mouseTrack},Fe=function(Re){return Pe(Re,"disabled")==="true"||_e(Re,"disabled")||a.disabled},ue=function(Re){return Pe(Re,"showondisabled")||a.showOnDisabled},xe=function(){return Pe(H.current,"autohide")||a.autoHide},Pe=function(Re,Qe){return _e(Re,"data-pr-".concat(Qe))?Re.getAttribute("data-pr-".concat(Qe)):null},_e=function(Re,Qe){return Re&&Re.hasAttribute(Qe)},ce=function(Re){var Qe=[Pe(Re,"showevent")||a.showEvent],jt=[Pe(Re,"hideevent")||a.hideEvent];if(je(Re))Qe=["mousemove"],jt=["mouseleave"];else{var gt=Pe(Re,"event")||a.event;gt==="focus"&&(Qe=["focus"],jt=["blur"]),gt==="both"&&(Qe=["focus","mouseenter"],jt=k?["blur"]:["mouseleave","blur"])}return{showEvents:Qe,hideEvents:jt}},Je=function(Re){return Pe(Re,"position")||p},Te=function(Re){var Qe=Pe(Re,"mousetracktop")||a.mouseTrackTop,jt=Pe(Re,"mousetrackleft")||a.mouseTrackLeft;return{top:Qe,left:jt}},Le=function(Re,Qe){if(F.current){var jt=Pe(Re,"tooltip")||a.content;jt?(F.current.innerHTML="",F.current.appendChild(document.createTextNode(jt)),Qe()):a.children&&Qe()}},Ze=function(Re){Le(H.current,function(){var Qe=te.current,jt=Qe.pageX,gt=Qe.pageY;a.autoZIndex&&!Pc.get(M.current)&&Pc.set("tooltip",M.current,n&&n.autoZIndex||Fn.autoZIndex,a.baseZIndex||n&&n.zIndex.tooltip||Fn.zIndex.tooltip),M.current.style.left="",M.current.style.top="",xe()&&(M.current.style.pointerEvents="none");var At=je(H.current)||Re==="mouse";(At&&!J.current||At)&&(J.current={width:Ue.getOuterWidth(M.current),height:Ue.getOuterHeight(M.current)}),Dt(H.current,{x:jt,y:gt},Re)})},Be=function(Re){Re.type&&Re.type==="focus"&&_(!0),H.current=Re.currentTarget;var Qe=Fe(H.current),jt=he(ue(H.current)&&Qe?H.current.firstChild:H.current);if(!(jt||Qe))if(te.current=Re,l)pt("updateDelay",Ze);else{var gt=nt(a.onBeforeShow,{originalEvent:Re,target:H.current});gt&&pt("showDelay",function(){c(!0),nt(a.onShow,{originalEvent:Re,target:H.current})})}},et=function(Re){if(Re&&Re.type==="blur"&&_(!1),rt(),l){var Qe=nt(a.onBeforeHide,{originalEvent:Re,target:H.current});Qe&&pt("hideDelay",function(){!xe()&&ee.current===!1||(Pc.clear(M.current),Ue.removeClass(M.current,"p-tooltip-active"),c(!1),nt(a.onHide,{originalEvent:Re,target:H.current}))})}else!a.onBeforeHide&&!ct("hideDelay")&&c(!1)},Dt=function(Re,Qe,jt){var gt=0,At=0,kr=jt||p;if((je(Re)||kr=="mouse")&&Qe){var xr={width:Ue.getOuterWidth(M.current),height:Ue.getOuterHeight(M.current)};gt=Qe.x,At=Qe.y;var Xr=Te(Re),Zr=Xr.top,Qt=Xr.left;switch(kr){case"left":gt=gt-(xr.width+Qt),At=At-(xr.height/2-Zr);break;case"right":case"mouse":gt=gt+Qt,At=At-(xr.height/2-Zr);break;case"top":gt=gt-(xr.width/2-Qt),At=At-(xr.height+Zr);break;case"bottom":gt=gt-(xr.width/2-Qt),At=At+Zr;break}gt<=0||J.current.width>xr.width?(M.current.style.left="0px",M.current.style.right=window.innerWidth-xr.width-gt+"px"):(M.current.style.right="",M.current.style.left=gt+"px"),M.current.style.top=At+"px",Ue.addClass(M.current,"p-tooltip-active")}else{var ln=Ue.findCollisionPosition(kr),Sn=Pe(Re,"my")||a.my||ln.my,dt=Pe(Re,"at")||a.at||ln.at;M.current.style.padding="0px",Ue.flipfitCollision(M.current,Re,Sn,dt,function(Et){var Tt=Et.at,Gt=Tt.x,br=Tt.y,Kr=Et.my.x,_t=a.at?Gt!=="center"&&Gt!==Kr?Gt:br:Et.at["".concat(ln.axis)];M.current.style.padding="",h(_t),Ut(_t),Ue.addClass(M.current,"p-tooltip-active")})}},Ut=function(Re){if(M.current){var Qe=getComputedStyle(M.current);Re==="left"?M.current.style.left=parseFloat(Qe.left)-parseFloat(Qe.paddingLeft)*2+"px":Re==="top"&&(M.current.style.top=parseFloat(Qe.top)-parseFloat(Qe.paddingTop)*2+"px")}},Vt=function(){xe()||(ee.current=!1)},Jt=function(Re){xe()||(ee.current=!0,et(Re))},dr=function(Re){if(Re){var Qe=ce(Re),jt=Qe.showEvents,gt=Qe.hideEvents,At=Lt(Re);jt.forEach(function(kr){return At==null?void 0:At.addEventListener(kr,Be)}),gt.forEach(function(kr){return At==null?void 0:At.addEventListener(kr,et)})}},lr=function(Re){if(Re){var Qe=ce(Re),jt=Qe.showEvents,gt=Qe.hideEvents,At=Lt(Re);jt.forEach(function(kr){return At==null?void 0:At.removeEventListener(kr,Be)}),gt.forEach(function(kr){return At==null?void 0:At.removeEventListener(kr,et)})}},ct=function(Re){return Pe(H.current,Re.toLowerCase())||a[Re]},pt=function(Re,Qe){rt();var jt=ct(Re);jt?re.current["".concat(Re)]=setTimeout(function(){return Qe()},jt):Qe()},nt=function(Re){if(Re){for(var Qe=arguments.length,jt=new Array(Qe>1?Qe-1:0),gt=1;gt<Qe;gt++)jt[gt-1]=arguments[gt];var At=Re.apply(void 0,jt);return At===void 0&&(At=!0),At}return!0},rt=function(){Object.values(re.current).forEach(function(Re){return clearTimeout(Re)})},Lt=function(Re){if(Re){if(ue(Re)){if(!Re.hasWrapper){var Qe=document.createElement("div"),jt=Re.nodeName==="INPUT";return jt?Ue.addMultipleClasses(Qe,"p-tooltip-target-wrapper p-inputwrapper"):Ue.addClass(Qe,"p-tooltip-target-wrapper"),Re.parentNode.insertBefore(Qe,Re),Qe.appendChild(Re),Re.hasWrapper=!0,Qe}return Re.parentElement}else if(Re.hasWrapper){var gt;(gt=Re.parentElement).replaceWith.apply(gt,B$(Re.parentElement.childNodes)),delete Re.hasWrapper}return Re}return null},hr=function(Re){rr(Re),tr(Re)},tr=function(Re){Wr(Re||a.target,dr)},rr=function(Re){Wr(Re||a.target,lr)},Wr=function(Re,Qe){if(Re=Me.getRefElement(Re),Re)if(Ue.isElement(Re))Qe(Re);else{var jt=function(At){var kr=Ue.find(document,At);kr.forEach(function(xr){Qe(xr)})};Re instanceof Array?Re.forEach(function(gt){jt(gt)}):jt(Re)}};$s(function(){l&&H.current&&Fe(H.current)&&et()}),ma(function(){return tr(),function(){rr()}},[Be,et,a.target]),ma(function(){if(l){var ke=Je(H.current),Re=Pe(H.current,"classname");h(ke),y(Re),Ze(ke),j(),ie()}else h(a.position||"right"),y(""),H.current=null,J.current=null,ee.current=!0;return function(){Y(),ye()}},[l]),ma(function(){var ke=Je(H.current);l&&ke!=="mouse"&&pt("updateDelay",function(){Le(H.current,function(){Dt(H.current)})})},[a.content]),Fs(function(){et(),Pc.clear(M.current)}),b.useImperativeHandle(e,function(){return{props:a,updateTargetEvents:hr,loadTargetEvents:tr,unloadTargetEvents:rr,show:Be,hide:et,getElement:function(){return M.current},getTarget:function(){return H.current}}});var Nr=function(){var Re=me(H.current),Qe=r({id:a.id,className:ur(a.className,z("root",{positionState:p,classNameState:v})),style:a.style,role:"tooltip","aria-hidden":l,onMouseEnter:function(kr){return Vt()},onMouseLeave:function(kr){return Jt(kr)}},Kg.getOtherProps(a),B("root")),jt=r({className:z("arrow"),style:I("arrow",K$({},R))},B("arrow")),gt=r({className:z("text")},B("text"));return b.createElement("div",zv({ref:M},Qe),b.createElement("div",jt),b.createElement("div",zv({ref:F},gt),Re&&a.children))};if(l){var bt=Nr();return b.createElement(K0,{element:bt,appendTo:a.appendTo,visible:!0})}return null}));Ru.displayName="Tooltip";function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bv.apply(null,arguments)}function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function Y$(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J$(t){var e=Y$(t,"string");return gh(e)=="symbol"?e:e+""}function X$(t,e,r){return(e=J$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Z$={root:function(e){var r=e.props,n=e.isFilled,a=e.context;return ur("p-inputtext p-component",{"p-disabled":r.disabled,"p-filled":n,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":a&&a.inputStyle==="filled"})}},Yg=yn.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:Z$}});function VN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(r),!0).forEach(function(n){X$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var MS=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=Yg.getProps(t,n),i=Yg.setMetaData(GN(GN({props:a},a.__parentMetadata),{},{context:{disabled:a.disabled,iconPosition:a.iconPosition}})),s=i.ptm,l=i.cx,c=i.isUnstyled;Fl(Yg.css.styles,c,{name:"inputtext",styled:!0});var u=b.useRef(e),f=function(C){a.onKeyDown&&a.onKeyDown(C),a.keyfilter&&pm.onKeyPress(C,a.keyfilter,a.validateOnly)},p=function(C){a.onBeforeInput&&a.onBeforeInput(C),a.keyfilter&&pm.onBeforeInput(C,a.keyfilter,a.validateOnly)},h=function(C){var k=C.target,_=!0;a.keyfilter&&a.validateOnly&&(_=pm.validate(C,a.keyfilter)),a.onInput&&a.onInput(C,_),Me.isNotEmpty(k.value)?Ue.addClass(k,"p-filled"):Ue.removeClass(k,"p-filled")},g=function(C){a.onPaste&&a.onPaste(C),a.keyfilter&&pm.onPaste(C,a.keyfilter,a.validateOnly)};b.useEffect(function(){Me.combinedRefs(u,e)},[u,e]);var x=b.useMemo(function(){return Me.isNotEmpty(a.value)||Me.isNotEmpty(a.defaultValue)},[a.value,a.defaultValue]),v=Me.isNotEmpty(a.tooltip);b.useEffect(function(){var E;x||(E=u.current)!==null&&E!==void 0&&E.value?Ue.addClass(u.current,"p-filled"):Ue.removeClass(u.current,"p-filled")},[a.disabled,x]);var y=r({className:ur(a.className,l("root",{context:n,isFilled:x})),onBeforeInput:p,onInput:h,onKeyDown:f,onPaste:g},Yg.getOtherProps(a),s("root"));return b.createElement(b.Fragment,null,b.createElement("input",Bv({ref:u},y)),v&&b.createElement(Ru,Bv({target:u,content:a.tooltip,pt:s("tooltip")},a.tooltipOptions)))}));MS.displayName="InputText";function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jp.apply(null,arguments)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Q$(t){if(Array.isArray(t))return SE(t)}function ez(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VI(t,e){if(t){if(typeof t=="string")return SE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?SE(t,e):void 0}}function tz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rz(t){return Q$(t)||ez(t)||VI(t)||tz()}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function nz(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function az(t){var e=nz(t,"string");return vh(e)=="symbol"?e:e+""}function oz(t,e,r){return(e=az(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iz(t){if(Array.isArray(t))return t}function sz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function lz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cz(t,e){return iz(t)||sz(t,e)||VI(t,e)||lz()}var uz={root:function(e){var r=e.props,n=e.focusedState,a=e.stacked,i=e.horizontal,s=e.vertical;return ur("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":r.value!=null&&r.value.toString().length>0,"p-inputwrapper-focus":n,"p-inputnumber-buttons-stacked":a,"p-inputnumber-buttons-horizontal":i,"p-inputnumber-buttons-vertical":s,"p-invalid":r.invalid})},input:function(e){var r=e.props,n=e.context;return ur("p-inputnumber-input",{"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var r=e.props;return ur("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":r.disabled})},incrementIcon:"p-button-icon",decrementButton:function(e){var r=e.props;return ur("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":r.disabled})},decrementIcon:"p-button-icon"},dz=`
@layer primereact {
    .p-inputnumber {
        display: inline-flex;
    }
    
    .p-inputnumber-button {
        display: flex;
        align-items: center;
        justify-content: center;
        flex: 0 0 auto;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
        display: none;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        padding: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-input {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-bottom-left-radius: 0;
        padding: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-button-group {
        display: flex;
        flex-direction: column;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
        flex: 1 1 auto;
    }
    
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
        order: 3;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }
    
    .p-inputnumber-buttons-horizontal .p-inputnumber-input {
        order: 2;
        border-radius: 0;
    }
    
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
        order: 1;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .p-inputnumber-buttons-vertical {
        flex-direction: column;
    }
    
    .p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
        order: 1;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        width: 100%;
    }
    
    .p-inputnumber-buttons-vertical .p-inputnumber-input {
        order: 2;
        border-radius: 0;
        text-align: center;
    }
    
    .p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
        order: 3;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        width: 100%;
    }
    
    .p-inputnumber-input {
        flex: 1 1 auto;
    }
    
    .p-fluid .p-inputnumber {
        width: 100%;
    }
    
    .p-fluid .p-inputnumber .p-inputnumber-input {
        width: 1%;
    }
    
    .p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
        width: 100%;
    }
}
`,Jg=yn.extend({defaultProps:{__TYPE:"InputNumber",__parentMetadata:null,allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:null,disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:null,inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,invalid:!1,variant:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onKeyUp:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,roundingMode:void 0,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null,children:void 0},css:{classes:uz,styles:dz}});function KN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(r),!0).forEach(function(n){oz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GI=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=Jg.getProps(t,n),i=b.useState(!1),s=cz(i,2),l=s[0],c=s[1],u=Qf(Qf({props:a},a.__parentMetadata),{},{state:{focused:l}}),f=Jg.setMetaData(u),p=f.ptm,h=f.cx,g=f.isUnstyled;Fl(Jg.css.styles,g,{name:"inputnumber"});var x=b.useRef(null),v=b.useRef(null),y=b.useRef(null),E=b.useRef(null),C=b.useRef(null),k=b.useRef(null),_=b.useRef(null),N=b.useRef(null),O=b.useRef(null),R=b.useRef(null),D=b.useRef(null),B=b.useRef(null),z=b.useRef(null),I=b.useRef(null),L=b.useRef(null),M=b.useRef(null),F=b.useRef(null),H=b.useRef(null),J=b.useRef(!1),ee=a.locale||n&&n.locale||Fn.locale,re=a.showButtons&&a.buttonLayout==="stacked",te=a.showButtons&&a.buttonLayout==="horizontal",K=a.showButtons&&a.buttonLayout==="vertical",U=a.inputMode||(a.mode==="decimal"&&!a.minFractionDigits?"numeric":"decimal"),j=function(){var ae,we;return{localeMatcher:a.localeMatcher,style:a.mode,currency:a.currency,currencyDisplay:a.currencyDisplay,useGrouping:a.useGrouping,minimumFractionDigits:(ae=a.minFractionDigits)!==null&&ae!==void 0?ae:void 0,maximumFractionDigits:(we=a.maxFractionDigits)!==null&&we!==void 0?we:void 0,roundingMode:a.roundingMode}},Y=function(){C.current=new Intl.NumberFormat(ee,j());var ae=rz(new Intl.NumberFormat(ee,{useGrouping:!1}).format(9876543210)).reverse(),we=new Map(ae.map(function($e,Xe){return[$e,Xe]}));R.current=new RegExp("[".concat(ae.join(""),"]"),"g"),D.current=ye(),B.current=me(),z.current=he(),I.current=ie(),L.current=X(),M.current=Fe(),F.current=je(),H.current=function($e){return we.get($e)}},G=function(ae){return ae.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},X=function(){return new Intl.NumberFormat(ee,{useGrouping:!1}).format(1.1).trim().replace(R.current,"")},ie=function(){var ae=new Intl.NumberFormat(ee,Qf(Qf({},j()),{},{useGrouping:!1}));return new RegExp("[".concat(ae.format(1.1).replace(z.current,"").trim().replace(R.current,""),"]"),"g")},ye=function(){var ae=new Intl.NumberFormat(ee,{useGrouping:!0});return k.current=ae.format(1e6).trim().replace(R.current,"").charAt(0),new RegExp("[".concat(k.current,"]"),"g")},me=function(){var ae=new Intl.NumberFormat(ee,{useGrouping:!1});return new RegExp("[".concat(ae.format(-1).trim().replace(R.current,""),"]"),"g")},he=function(){if(a.currency){var ae=new Intl.NumberFormat(ee,{style:"currency",currency:a.currency,currencyDisplay:a.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:a.roundingMode});return new RegExp("[".concat(ae.format(1).replace(/\s/g,"").replace(R.current,"").replace(D.current,""),"]"),"g")}return new RegExp("[]","g")},je=function(){if(a.prefix)_.current=a.prefix;else{var ae=new Intl.NumberFormat(ee,{style:a.mode,currency:a.currency,currencyDisplay:a.currencyDisplay});_.current=ae.format(1).split("1")[0]}return new RegExp("".concat(G(_.current||"")),"g")},Fe=function(){if(a.suffix)N.current=a.suffix;else{var ae=new Intl.NumberFormat(ee,{style:a.mode,currency:a.currency,currencyDisplay:a.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:a.roundingMode});N.current=ae.format(1).split("1")[1]}return new RegExp("".concat(G(N.current||"")),"g")},ue=function(ae){if(ae!=null){if(ae==="-")return ae;if(a.format){var we=new Intl.NumberFormat(ee,j()),$e=we.format(ae);return a.prefix&&($e=a.prefix+$e),a.suffix&&($e=$e+a.suffix),$e}return ae.toString()}return""},xe=function(ae){var we=ae.replace(M.current,"").replace(F.current,"").trim().replace(/\s/g,"").replace(z.current,"").replace(D.current,"").replace(B.current,"-").replace(I.current,".").replace(R.current,H.current);if(we){if(we==="-")return we;var $e=+we;return isNaN($e)?null:$e}return null},Pe=function(ae,we,$e){var Xe=we||500;vt(),y.current=setTimeout(function(){Pe(ae,40,$e)},Xe),_e(ae,$e)},_e=function(ae,we){if(v.current){var $e=a.step*we,Xe=xe(v.current.value)||0,st=ln(Xe+$e);if(a.maxLength&&a.maxLength<ue(st).length)return;Zr(ae,Xe,st),!Ue.isTouchDevice()&&dt(st,null,"spin"),Kr(ae,st)}},ce=function(ae){!a.disabled&&!a.readOnly&&(Ue.isTouchDevice()||Ue.focus(v.current,a.autoFocus),Pe(ae,null,1),ae.preventDefault())},Je=function(){!a.disabled&&!a.readOnly&&vt()},Te=function(){!a.disabled&&!a.readOnly&&vt()},Le=function(){!a.disabled&&!a.readOnly&&vt()},Ze=function(ae){!a.disabled&&!a.readOnly&&(ae.keyCode===32||ae.keyCode===13)&&Pe(ae,null,1)},Be=function(ae){!a.disabled&&!a.readOnly&&(Ue.isTouchDevice()||Ue.focus(v.current,a.autoFocus),Pe(ae,null,-1),ae.preventDefault())},et=function(){!a.disabled&&!a.readOnly&&vt()},Dt=function(){!a.disabled&&!a.readOnly&&vt()},Ut=function(){!a.disabled&&!a.readOnly&&vt()},Vt=function(ae){!a.disabled&&!a.readOnly&&(ae.keyCode===32||ae.keyCode===13)&&Pe(ae,null,-1)},Jt=function(ae){if(!(a.disabled||a.readOnly)&&(O.current&&(ae.target.value=E.current,O.current=!1),!Ue.isAndroid())){var we=ae.nativeEvent.inputType,$e=ae.nativeEvent.data;we==="insertText"&&/\D/.test($e)&&(ae.target.value=E.current)}},dr=function(ae){if(!(!Ue.isAndroid()||a.disabled||a.readOnly)&&!(a.onKeyUp&&(a.onKeyUp(ae),ae.defaultPrevented))){var we=ae.which||ae.keyCode;we!==13&&ae.preventDefault();var $e=String.fromCharCode(we),Xe=Lt($e),st=nt($e);48<=we&&we<=57||st||Xe?Nr(ae,$e,{isDecimalSign:Xe,isMinusSign:st}):xr(ae,ae.target.value,null,"delete-single")}},lr=function(ae){if(!(a.disabled||a.readOnly)){if(ae.altKey||ae.ctrlKey||ae.metaKey){ae.key.toLowerCase()==="x"&&(ae.ctrlKey||ae.metaKey)?O.current=!1:O.current=!0;return}if(!(a.onKeyDown&&(a.onKeyDown(ae),ae.defaultPrevented))&&(E.current=ae.target.value,!Ue.isAndroid())){var we=ae.target.selectionStart,$e=ae.target.selectionEnd,Xe=ae.target.value,st=null;switch(ae.code){case"ArrowUp":_e(ae,1),ae.preventDefault();break;case"ArrowDown":_e(ae,-1),ae.preventDefault();break;case"ArrowLeft":At(Xe.charAt(we-1))||ae.preventDefault();break;case"ArrowRight":At(Xe.charAt(we))||ae.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":st=ln(xe(Xe)),v.current.value=ue(st),v.current.setAttribute("aria-valuenow",st),Kr(ae,st);break;case"Backspace":if(ae.preventDefault(),we===$e){var Ot=Xe.charAt(we-1);if(At(Ot)){var Yt=rr(Xe),Ar=Yt.decimalCharIndex,$r=Yt.decimalCharIndexWithoutPrefix,An=br(Xe);if(D.current.test(Ot))D.current.lastIndex=0,st=Xe.slice(0,we-2)+Xe.slice(we-1);else if(I.current.test(Ot))I.current.lastIndex=0,An?v.current.setSelectionRange(we-1,we-1):st=Xe.slice(0,we-1)+Xe.slice(we);else if(Ar>0&&we>Ar){var In=hr()&&(a.minFractionDigits||0)<An?"":"0";st=Xe.slice(0,we-1)+In+Xe.slice(we)}else $r===1?(st=Xe.slice(0,we-1)+"0"+Xe.slice(we),st=xe(st)>0?st:""):st=Xe.slice(0,we-1)+Xe.slice(we)}else if(z.current.test(Ot)){var Pr=Wr(Xe),Dr=Pr.minusCharIndex,Rr=Pr.currencyCharIndex;Dr===Rr-1&&(st=Xe.slice(0,Dr)+Xe.slice(we))}xr(ae,st,null,"delete-single")}else st=Re(Xe,we,$e),xr(ae,st,null,"delete-range");break;case"Delete":if(ae.preventDefault(),we===$e){var rn=Xe.charAt(we),wn=rr(Xe),na=wn.decimalCharIndex,Kn=wn.decimalCharIndexWithoutPrefix;if(At(rn)){var Nn=br(Xe);if(D.current.test(rn))D.current.lastIndex=0,st=Xe.slice(0,we)+Xe.slice(we+2);else if(I.current.test(rn))I.current.lastIndex=0,Nn?v.current.setSelectionRange(we+1,we+1):st=Xe.slice(0,we)+Xe.slice(we+1);else if(na>0&&we>na){var aa=hr()&&(a.minFractionDigits||0)<Nn?"":"0";st=Xe.slice(0,we)+aa+Xe.slice(we+1)}else Kn===1?(st=Xe.slice(0,we)+"0"+Xe.slice(we+1),st=xe(st)>0?st:""):st=Xe.slice(0,we)+Xe.slice(we+1)}xr(ae,st,null,"delete-back-single")}else st=Re(Xe,we,$e),xr(ae,st,null,"delete-range");break;case"End":ae.preventDefault(),Me.isEmpty(a.max)||Kr(ae,a.max);break;case"Home":ae.preventDefault(),Me.isEmpty(a.min)||Kr(ae,a.min);break;default:ae.preventDefault();var ya=ae.key;if(ya){var cn=Lt(ya),Ya=nt(ya);(Number(ya)>=0&&Number(ya)<=9||Ya||cn)&&Nr(ae,ya,{isDecimalSign:cn,isMinusSign:Ya})}break}}}},ct=function(ae){if(ae.preventDefault(),!(a.disabled||a.readOnly)){var we=(ae.clipboardData||window.clipboardData).getData("Text");if(we){var $e=xe(we);if($e!=null)if(tr($e)){var Xe=ue($e);v.current.value=Xe,Kr(ae,$e)}else Nr(ae,$e.toString())}}},pt=function(){return Me.isEmpty(a.min)||a.min<0},nt=function(ae){return B.current.test(ae)||ae==="-"?(B.current.lastIndex=0,!0):!1},rt=function(ae){return tr(ae)?ae.toString().replace(/\.(?=[^.]*$)/,L.current):ae},Lt=function(ae){return I.current.test(ae)||tr(ae)?(I.current.lastIndex=0,!0):!1},hr=function(){return a.mode==="decimal"},tr=function(ae){var we=new Intl.NumberFormat(ee,j()),$e=xe(we.format(ae));return $e===null?!1:$e%1!==0},rr=function(ae){var we=ae.search(I.current);I.current.lastIndex=0;var $e=ae.replace(F.current,"").trim().replace(/\s/g,"").replace(z.current,""),Xe=$e.search(I.current);return I.current.lastIndex=0,{decimalCharIndex:we,decimalCharIndexWithoutPrefix:Xe}},Wr=function(ae){var we=ae.search(I.current);I.current.lastIndex=0;var $e=ae.search(B.current);B.current.lastIndex=0;var Xe=ae.search(M.current);M.current.lastIndex=0;var st=ae.search(z.current);return st===0&&_.current&&_.current.length>1&&(st=_.current.trim().length),z.current.lastIndex=0,{decimalCharIndex:we,minusCharIndex:$e,suffixCharIndex:Xe,currencyCharIndex:st}},Nr=function(ae,we){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},Xe=we.search(B.current);if(B.current.lastIndex=0,!(!pt()&&Xe!==-1)){var st=v.current.selectionStart,Ot=v.current.selectionEnd,Yt=v.current.value.trim(),Ar=Wr(Yt),$r=Ar.decimalCharIndex,An=Ar.minusCharIndex,In=Ar.suffixCharIndex,Pr=Ar.currencyCharIndex,Dr=C.current.resolvedOptions().maximumFractionDigits,Rr;if($e.isMinusSign){var rn=An===-1;(st===0||st===Pr+1)&&(Rr=Yt,(rn||Ot!==0)&&(Rr=ke(Yt,we,0,Ot)),xr(ae,Rr,we,"insert"))}else if($e.isDecimalSign){if($r>0&&st===$r)xr(ae,Yt,we,"insert");else if($r>st&&$r<Ot)Rr=ke(Yt,we,st,Ot),xr(ae,Rr,we,"insert");else if($r===-1&&(Dr||a.maxFractionDigits)){var wn=U!=="numeric"||U==="numeric"&&(a.min||a.max);wn&&(Rr=ke(Yt,we,st,Ot),xr(ae,Rr,we,"insert"))}}else{var na=st!==Ot?"range-insert":"insert";if($r>0&&st>$r){if(st+we.length-($r+1)<=Dr){var Kn=Pr>=st?Pr-1:In>=st?In:Yt.length;Rr=Yt.slice(0,st)+we+Yt.slice(st+we.length,Kn)+Yt.slice(Kn),xr(ae,Rr,we,na)}}else Rr=ke(Yt,we,st,Ot),xr(ae,Rr,we,na)}}},bt=function(ae){return ae&&ae.replace(M.current,"").trim().replace(/\s/g,"").replace(z.current,"")},ke=function(ae,we,$e,Xe){var st=Lt(we)?we:we.split(I.current);if(st.length===2){var Ot=ae.slice($e,Xe).search(I.current);return I.current.lastIndex=0,Ot>0?ae.slice(0,$e)+ue(we)+bt(ae).slice(Xe):ae||ue(we)}else{if(Lt(we)&&ae.length===0)return ue("0.");if(Xe-$e===ae.length)return ue(we);if($e===0){var Yt=Me.isLetter(ae[Xe])?Xe-1:Xe;return we+ae.slice(Yt)}else if(Xe===ae.length)return ae.slice(0,$e)+we}var Ar=ae.slice($e,Xe),$r=/\s$/.test(Ar)?" ":"";return ae.slice(0,$e)+we+$r+ae.slice(Xe)},Re=function(ae,we,$e){var Xe;return $e-we===ae.length?Xe="":we===0?Xe=ae.slice($e):$e===ae.length?Xe=ae.slice(0,we):Xe=ae.slice(0,we)+ae.slice($e),Xe},Qe=function(){var ae=v.current.selectionStart,we=v.current.value,$e=we.length,Xe=null,st=(_.current||"").length;we=we.replace(F.current,""),ae=ae-st;var Ot=we.charAt(ae);if(At(Ot))return ae+st;for(var Yt=ae-1;Yt>=0;)if(Ot=we.charAt(Yt),At(Ot)){Xe=Yt+st;break}else Yt--;if(Xe!==null)v.current.setSelectionRange(Xe+1,Xe+1);else{for(Yt=ae;Yt<$e;)if(Ot=we.charAt(Yt),At(Ot)){Xe=Yt+st;break}else Yt++;Xe!==null&&v.current.setSelectionRange(Xe,Xe)}return Xe||0},jt=function(){J.current=!0},gt=function(){Qe()},At=function(ae){return ae.length===1&&(R.current.test(ae)||I.current.test(ae)||D.current.test(ae)||B.current.test(ae))?(kr(),!0):!1},kr=function(){R.current.lastIndex=0,I.current.lastIndex=0,D.current.lastIndex=0,B.current.lastIndex=0},xr=function(ae,we,$e,Xe){var st=v.current.value,Ot=null;we!=null&&(Ot=Xr(xe(we)),dt(Ot,$e,Xe,we),Zr(ae,st,Ot))},Xr=function(ae){return!ae&&!a.allowEmpty?a.min||0:ae},Zr=function(ae,we,$e){a.onChange&&Qt(we,$e)&&a.onChange({originalEvent:ae,value:$e})},Qt=function(ae,we){if(we===null&&ae!==null)return!0;if(we!=null){var $e=typeof ae=="string"?xe(ae):ae;return we!==$e}return!1},ln=function(ae){return ae==="-"?null:Sn(ae)},Sn=function(ae){return Me.isEmpty(ae)?null:a.min!==null&&ae<a.min?a.min:a.max!==null&&ae>a.max?a.max:ae},dt=function(ae,we,$e,Xe){we=we||"";var st=v.current,Ot=st.value,Yt=ue(ae),Ar=Ot.length;if(Yt!==Xe&&(Yt=Gt(Yt,Xe)),Ar===0){st.value=Yt,st.setSelectionRange(0,0);var $r=Qe(),An=$r+we.length+(Lt(we)?1:0);st.setSelectionRange(An,An)}else{var In=st.selectionStart,Pr=st.selectionEnd;if(a.maxLength&&a.maxLength<Yt.length)return;st.value=Yt;var Dr=Yt.length;if($e==="range-insert"){var Rr=xe((Ot||"").slice(0,In)),rn=Rr!==null?Rr.toString():"",wn=rn.split("").join("(".concat(k.current,")?")),na=new RegExp(wn,"g");na.test(Yt);var Kn=we.split("").join("(".concat(k.current,")?")),Nn=new RegExp(Kn,"g");Nn.test(Yt.slice(na.lastIndex)),Pr=na.lastIndex+Nn.lastIndex,st.setSelectionRange(Pr,Pr)}else if(Dr===Ar)if($e==="insert"||$e==="delete-back-single"){var aa=Pr;we==="0"?aa=Pr+1:aa=aa+Number(Lt(ae)||Lt(we)),st.setSelectionRange(aa,aa)}else $e==="delete-single"?st.setSelectionRange(Pr-1,Pr-1):($e==="delete-range"||$e==="spin")&&st.setSelectionRange(Pr,Pr);else if($e==="delete-back-single"){var ya=Ot.charAt(Pr-1),cn=Ot.charAt(Pr),Ya=Ar-Dr,Oi=D.current.test(cn);Oi&&Ya===1?Pr=Pr+1:!Oi&&At(ya)&&(Pr=Pr+(-1*Ya+1)),D.current.lastIndex=0,st.setSelectionRange(Pr,Pr)}else if(Ot==="-"&&$e==="insert"){st.setSelectionRange(0,0);var Ft=Qe(),Ae=Ft+we.length+1;st.setSelectionRange(Ae,Ae)}else Pr=Pr+(Dr-Ar),st.setSelectionRange(Pr,Pr)}st.setAttribute("aria-valuenow",ae)},Et=function(ae){ae=Xr(ae);var we=v.current,$e=we.value,Xe=Tt(ae);$e!==Xe&&(we.value=Xe,we.setAttribute("aria-valuenow",ae))},Tt=function(ae){return ue(Xr(ae))},Gt=function(ae,we){if(ae&&we){var $e=we.search(I.current);I.current.lastIndex=0;var Xe=rt(ae).split(I.current)[0].replace(M.current,"").trim();return $e!==-1?Xe+we.slice($e):ae}return ae},br=function(ae){if(ae){var we=ae.split(I.current);if(we.length===2)return bt(we[1]).length}return 0},Kr=function(ae,we){a.onValueChange&&a.onValueChange({originalEvent:ae,value:we,stopPropagation:function(){ae==null||ae.stopPropagation()},preventDefault:function(){ae==null||ae.preventDefault()},target:{name:a.name,id:a.id,value:we}})},_t=function(ae){if(c(!0),a.onFocus&&a.onFocus(ae),(a.suffix||a.currency||a.prefix)&&v.current&&!J.current){var we=v.current.value,$e=(_.current||"").length,Xe=(N.current||"").length,st=we.length===0?0:we.length-Xe;v.current.setSelectionRange($e,st)}},at=function(ae){if(c(!1),J.current=!1,v.current){var we=v.current.value;if(Qt(we,a.value)){var $e=ln(xe(we));Et($e),Kr(ae,$e)}}a.onBlur&&a.onBlur(ae)},vt=function(){y.current&&clearInterval(y.current)},Kt=function(){var ae=Sn(a.value);Et(a.format?ae:rt(ae));var we=ln(a.value);a.value!==null&&a.value!==we&&Kr(null,we)},cr=function(){return C.current};b.useImperativeHandle(e,function(){return{props:a,focus:function(){return Ue.focus(v.current)},getFormatter:cr,getElement:function(){return x.current},getInput:function(){return v.current}}}),b.useEffect(function(){Me.combinedRefs(v,a.inputRef)},[v,a.inputRef]),Fs(function(){vt()}),$s(function(){Y();var Ye=ln(a.value);a.value!==null&&a.value!==Ye&&Kr(null,Ye)}),ma(function(){Y(),Kt()},[ee,a.locale,a.localeMatcher,a.mode,a.currency,a.currencyDisplay,a.useGrouping,a.minFractionDigits,a.maxFractionDigits,a.suffix,a.prefix]),ma(function(){Kt()},[a.value]),ma(function(){a.disabled&&vt()},[a.disabled]);var gr=function(){var ae=ur(a.inputClassName,h("input",{context:n})),we=Tt(a.value);return b.createElement(MS,Jp({ref:v,id:a.inputId,style:a.inputStyle,role:"spinbutton",className:ae,defaultValue:we,type:a.type,size:a.size,tabIndex:a.tabIndex,inputMode:U,maxLength:a.maxLength,disabled:a.disabled,required:a.required,pattern:a.pattern,placeholder:a.placeholder,readOnly:a.readOnly,name:a.name,autoFocus:a.autoFocus,onKeyDown:lr,onKeyPress:dr,onInput:Jt,onClick:gt,onPointerDown:jt,onBlur:at,onFocus:_t,onPaste:ct,min:a.min,max:a.max,"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.value},Rt,nr,{pt:p("input"),unstyled:a.unstyled,__parentMetadata:{parent:u}}))},Bt=function(){var ae=r({className:h("incrementIcon")},p("incrementIcon")),we=a.incrementButtonIcon||b.createElement(UI,ae),$e=ga.getJSXIcon(we,Qf({},ae),{props:a}),Xe=r({type:"button",className:ur(a.incrementButtonClassName,h("incrementButton")),onPointerLeave:Te,onPointerDown:function(Ot){return ce(Ot)},onPointerUp:Je,onKeyDown:function(Ot){return Ze(Ot)},onKeyUp:Le,disabled:a.disabled,tabIndex:-1,"aria-hidden":!0},p("incrementButton"));return b.createElement("button",Xe,$e,b.createElement(Ai,null))},it=function(){var ae=r({className:h("decrementIcon")},p("decrementIcon")),we=a.decrementButtonIcon||b.createElement(qI,ae),$e=ga.getJSXIcon(we,Qf({},ae),{props:a}),Xe=r({type:"button",className:ur(a.decrementButtonClassName,h("decrementButton")),onPointerLeave:Dt,onPointerDown:function(Ot){return Be(Ot)},onPointerUp:et,onKeyDown:function(Ot){return Vt(Ot)},onKeyUp:Ut,disabled:a.disabled,tabIndex:-1,"aria-hidden":!0},p("decrementButton"));return b.createElement("button",Xe,$e,b.createElement(Ai,null))},xt=function(){var ae=a.showButtons&&Bt(),we=a.showButtons&&it(),$e=r({className:h("buttonGroup")},p("buttonGroup"));return re?b.createElement("span",$e,ae,we):b.createElement(b.Fragment,null,ae,we)},Ht=Me.isNotEmpty(a.tooltip),ir=Jg.getOtherProps(a),nr=Me.reduceKeys(ir,Ue.DATA_PROPS),Rt=Me.reduceKeys(ir,Ue.ARIA_PROPS),yr=gr(),Vr=xt(),Ur=r({id:a.id,className:ur(a.className,h("root",{focusedState:l,stacked:re,horizontal:te,vertical:K})),style:a.style},ir,p("root"));return b.createElement(b.Fragment,null,b.createElement("span",Jp({ref:x},Ur),yr,Vr),Ht&&b.createElement(Ru,Jp({target:x,content:a.tooltip,pt:p("tooltip")},a.tooltipOptions)))}));GI.displayName="InputNumber";function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CE.apply(null,arguments)}var KI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",CE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"}))}));KI.displayName="AngleDoubleRightIcon";function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NE.apply(null,arguments)}var YI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",NE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"}))}));YI.displayName="AngleRightIcon";function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PE.apply(null,arguments)}var JI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",PE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"}))}));JI.displayName="AngleLeftIcon";function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kE.apply(null,arguments)}var Y0=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",kE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))}));Y0.displayName="ChevronDownIcon";function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AE.apply(null,arguments)}var XI=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",AE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"}))}));XI.displayName="ChevronUpIcon";function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_E.apply(null,arguments)}var J0=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",_E({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));J0.displayName="TimesIcon";var md=jF();function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OE.apply(null,arguments)}function ZI(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},IE(t,e)}function QI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,IE(t,e)}var Ly={exports:{}},jy,YN;function fz(){if(YN)return jy;YN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jy=t,jy}var Dy,JN;function mz(){if(JN)return Dy;JN=1;var t=fz();function e(){}function r(){}return r.resetWarningCache=e,Dy=function(){function n(s,l,c,u,f,p){if(p!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Dy}var XN;function pz(){return XN||(XN=1,Ly.exports=mz()()),Ly.exports}var hz=pz();const ua=sa(hz);function gz(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function vz(t,e){t.classList?t.classList.add(e):gz(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ZN(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function bz(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ZN(t.className,e):t.setAttribute("class",ZN(t.className&&t.className.baseVal||"",e))}const QN={disabled:!1},eT=o.createContext(null);var tT=function(e){return e.scrollTop},zp="unmounted",Yd="exited",Jd="entering",cm="entered",TE="exiting",Lu=function(t){QI(e,t);function e(n,a){var i;i=t.call(this,n,a)||this;var s=a,l=s&&!s.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?l?(c=Yd,i.appearStatus=Jd):c=cm:n.unmountOnExit||n.mountOnEnter?c=zp:c=Yd,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(a,i){var s=a.in;return s&&i.status===zp?{status:Yd}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var i=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==Jd&&s!==cm&&(i=Jd):(s===Jd||s===cm)&&(i=TE)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,i,s,l;return i=s=l=a,a!=null&&typeof a!="number"&&(i=a.exit,s=a.enter,l=a.appear!==void 0?a.appear:s),{exit:i,enter:s,appear:l}},r.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Jd){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:$p.findDOMNode(this);s&&tT(s)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yd&&this.setState({status:zp})},r.performEnter=function(a){var i=this,s=this.props.enter,l=this.context?this.context.isMounting:a,c=this.props.nodeRef?[l]:[$p.findDOMNode(this),l],u=c[0],f=c[1],p=this.getTimeouts(),h=l?p.appear:p.enter;if(!a&&!s||QN.disabled){this.safeSetState({status:cm},function(){i.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:Jd},function(){i.props.onEntering(u,f),i.onTransitionEnd(h,function(){i.safeSetState({status:cm},function(){i.props.onEntered(u,f)})})})},r.performExit=function(){var a=this,i=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:$p.findDOMNode(this);if(!i||QN.disabled){this.safeSetState({status:Yd},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:TE},function(){a.props.onExiting(l),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:Yd},function(){a.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},r.setNextCallback=function(a){var i=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,i.nextCallback=null,a(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(a,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:$p.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===zp)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=ZI(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o.createElement(eT.Provider,{value:null},typeof s=="function"?s(a,l):o.cloneElement(o.Children.only(s),l))},e}(o.Component);Lu.contextType=eT;Lu.propTypes={};function em(){}Lu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:em,onEntering:em,onEntered:em,onExit:em,onExiting:em,onExited:em};Lu.UNMOUNTED=zp;Lu.EXITED=Yd;Lu.ENTERING=Jd;Lu.ENTERED=cm;Lu.EXITING=TE;var yz=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return vz(e,n)})},My=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return bz(e,n)})},FS=function(t){QI(e,t);function e(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,c){var u=n.resolveArguments(l,c),f=u[0],p=u[1];n.removeClasses(f,"exit"),n.addClass(f,p?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,c)},n.onEntering=function(l,c){var u=n.resolveArguments(l,c),f=u[0],p=u[1],h=p?"appear":"enter";n.addClass(f,h,"active"),n.props.onEntering&&n.props.onEntering(l,c)},n.onEntered=function(l,c){var u=n.resolveArguments(l,c),f=u[0],p=u[1],h=p?"appear":"enter";n.removeClasses(f,h),n.addClass(f,h,"done"),n.props.onEntered&&n.props.onEntered(l,c)},n.onExit=function(l){var c=n.resolveArguments(l),u=c[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var c=n.resolveArguments(l),u=c[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var c=n.resolveArguments(l),u=c[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,c){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,c]},n.getClassNames=function(l){var c=n.props.classNames,u=typeof c=="string",f=u&&c?c+"-":"",p=u?""+f+l:c[l],h=u?p+"-active":c[l+"Active"],g=u?p+"-done":c[l+"Done"];return{baseClassName:p,activeClassName:h,doneClassName:g}},n}var r=e.prototype;return r.addClass=function(a,i,s){var l=this.getClassNames(i)[s+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&s==="done"&&u&&(l+=" "+u),s==="active"&&a&&tT(a),l&&(this.appliedClasses[i][s]=l,yz(a,l))},r.removeClasses=function(a,i){var s=this.appliedClasses[i],l=s.base,c=s.active,u=s.done;this.appliedClasses[i]={},l&&My(a,l),c&&My(a,c),u&&My(a,u)},r.render=function(){var a=this.props;a.classNames;var i=ZI(a,["classNames"]);return o.createElement(Lu,OE({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(o.Component);FS.defaultProps={classNames:""};FS.propTypes={};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function wz(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xz(t){var e=wz(t,"string");return bh(e)=="symbol"?e:e+""}function Ez(t,e,r){return(e=xz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var RE={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(e){return Me.getMergedProps(e,RE.defaultProps)},getOtherProps:function(e){return Me.getDiffProps(e,RE.defaultProps)}};function eP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(r),!0).forEach(function(n){Ez(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $S=b.forwardRef(function(t,e){var r=RE.getProps(t),n=b.useContext(ra),a=r.disabled||r.options&&r.options.disabled||n&&!n.cssTransition||!Fn.cssTransition,i=function(v,y){r.onEnter&&r.onEnter(v,y),r.options&&r.options.onEnter&&r.options.onEnter(v,y)},s=function(v,y){r.onEntering&&r.onEntering(v,y),r.options&&r.options.onEntering&&r.options.onEntering(v,y)},l=function(v,y){r.onEntered&&r.onEntered(v,y),r.options&&r.options.onEntered&&r.options.onEntered(v,y)},c=function(v){r.onExit&&r.onExit(v),r.options&&r.options.onExit&&r.options.onExit(v)},u=function(v){r.onExiting&&r.onExiting(v),r.options&&r.options.onExiting&&r.options.onExiting(v)},f=function(v){r.onExited&&r.onExited(v),r.options&&r.options.onExited&&r.options.onExited(v)};if(ma(function(){if(a){var x=Me.getRefElement(r.nodeRef);r.in?(i(x,!0),s(x,!0),l(x,!0)):(c(x),u(x),f(x))}},[r.in]),a)return r.in?r.children:null;var p={nodeRef:r.nodeRef,in:r.in,appear:r.appear,onEnter:i,onEntering:s,onEntered:l,onExit:c,onExiting:u,onExited:f},h={classNames:r.classNames,timeout:r.timeout,unmountOnExit:r.unmountOnExit},g=Fy(Fy(Fy({},h),r.options||{}),p);return b.createElement(FS,g,r.children)});$S.displayName="CSSTransition";function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LE.apply(null,arguments)}var rT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",LE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"}))}));rT.displayName="SearchIcon";function jE(){return jE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jE.apply(null,arguments)}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Sz(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cz(t){var e=Sz(t,"string");return yh(e)=="symbol"?e:e+""}function nT(t,e,r){return(e=Cz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nz(t){if(Array.isArray(t))return t}function Pz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kz(t,e){if(t){if(typeof t=="string")return tP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tP(t,e):void 0}}function Az(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hu(t,e){return Nz(t)||Pz(t,e)||kz(t,e)||Az()}var _z=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,Xg=yn.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:_z}});function rP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(r),!0).forEach(function(n){nT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zS=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=Xg.getProps(t,n),i=Om(t)||{},s=a.orientation==="vertical",l=a.orientation==="horizontal",c=a.orientation==="both",u=b.useState(c?{rows:0,cols:0}:0),f=hu(u,2),p=f[0],h=f[1],g=b.useState(c?{rows:0,cols:0}:0),x=hu(g,2),v=x[0],y=x[1],E=b.useState(0),C=hu(E,2),k=C[0],_=C[1],N=b.useState(c?{rows:0,cols:0}:0),O=hu(N,2),R=O[0],D=O[1],B=b.useState(a.numToleratedItems),z=hu(B,2),I=z[0],L=z[1],M=b.useState(a.loading||!1),F=hu(M,2),H=F[0],J=F[1],ee=b.useState([]),re=hu(ee,2),te=re[0],K=re[1],U=Xg.setMetaData({props:a,state:{first:p,last:v,page:k,numItemsInViewport:R,numToleratedItems:I,loading:H,loaderArr:te}}),j=U.ptm;of(Xg.css.styles,{name:"virtualscroller"});var Y=b.useRef(null),G=b.useRef(null),X=b.useRef(null),ie=b.useRef(null),ye=b.useRef(c?{top:0,left:0}:0),me=b.useRef(null),he=b.useRef(null),je=b.useRef({}),Fe=b.useRef({}),ue=b.useRef(null),xe=b.useRef(null),Pe=b.useRef(null),_e=b.useRef(null),ce=b.useRef(!1),Je=b.useRef(null),Te=b.useRef(!1),Le=DS({listener:function(it){return kr()},when:!a.disabled}),Ze=hu(Le,1),Be=Ze[0],et=wu({target:"window",type:"orientationchange",listener:function(it){return kr()},when:!a.disabled}),Dt=hu(et,1),Ut=Dt[0],Vt=function(){return Y},Jt=function(it){return Math.floor((it+I*4)/(a.step||1))},dr=function(it){G.current=it||G.current||Ue.findSingle(Y.current,".p-virtualscroller-content")},lr=function(it){return a.step?k!==Jt(it):!0},ct=function(it){ye.current=c?{top:0,left:0}:0,Y.current&&Y.current.scrollTo(it)},pt=function(it){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",Ht=tr(),ir=Ht.numToleratedItems,nr=bt(),Rt=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$e=arguments.length>1?arguments[1]:void 0;return we<=$e?0:we},yr=function(we,$e,Xe){return we*$e+Xe},Vr=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ct({left:we,top:$e,behavior:xt})},Ur=c?{rows:0,cols:0}:0,Ye=!1;c?(Ur={rows:Rt(it[0],ir[0]),cols:Rt(it[1],ir[1])},Vr(yr(Ur.cols,a.itemSize[1],nr.left),yr(Ur.rows,a.itemSize[0],nr.top)),Ye=p.rows!==Ur.rows||p.cols!==Ur.cols):(Ur=Rt(it,ir),l?Vr(yr(Ur,a.itemSize,nr.left),0):Vr(0,yr(Ur,a.itemSize,nr.top)),Ye=p!==Ur),ce.current=Ye,h(Ur)},nt=function(it,xt){var Ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(xt){var ir=hr(),nr=ir.first,Rt=ir.viewport,yr=function(){var $e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ct({left:$e,top:Xe,behavior:Ht})},Vr=xt==="to-start",Ur=xt==="to-end";if(Vr){if(c)Rt.first.rows-nr.rows>it[0]?yr(Rt.first.cols*a.itemSize[1],(Rt.first.rows-1)*a.itemSize[0]):Rt.first.cols-nr.cols>it[1]&&yr((Rt.first.cols-1)*a.itemSize[1],Rt.first.rows*a.itemSize[0]);else if(Rt.first-nr>it){var Ye=(Rt.first-1)*a.itemSize;l?yr(Ye,0):yr(0,Ye)}}else if(Ur){if(c)Rt.last.rows-nr.rows<=it[0]+1?yr(Rt.first.cols*a.itemSize[1],(Rt.first.rows+1)*a.itemSize[0]):Rt.last.cols-nr.cols<=it[1]+1&&yr((Rt.first.cols+1)*a.itemSize[1],Rt.first.rows*a.itemSize[0]);else if(Rt.last-nr<=it+1){var ae=(Rt.first+1)*a.itemSize;l?yr(ae,0):yr(0,ae)}}}else pt(it,Ht)},rt=function(){return H?a.loaderDisabled?te:[]:Zr()},Lt=function(){return a.columns&&c||l?H&&a.loaderDisabled?c?te[0]:te:a.columns.slice(c?p.cols:p,c?v.cols:v):a.columns},hr=function(){var it=function(Ur,Ye){return Math.floor(Ur/(Ye||Ur))},xt=p,Ht=0;if(Y.current){var ir=Y.current,nr=ir.scrollTop,Rt=ir.scrollLeft;if(c)xt={rows:it(nr,a.itemSize[0]),cols:it(Rt,a.itemSize[1])},Ht={rows:xt.rows+R.rows,cols:xt.cols+R.cols};else{var yr=l?Rt:nr;xt=it(yr,a.itemSize),Ht=xt+R}}return{first:p,last:v,viewport:{first:xt,last:Ht}}},tr=function(){var it=bt(),xt=Y.current?Y.current.offsetWidth-it.left:0,Ht=Y.current?Y.current.offsetHeight-it.top:0,ir=function(Ur,Ye){return Math.ceil(Ur/(Ye||Ur))},nr=function(Ur){return Math.ceil(Ur/2)},Rt=c?{rows:ir(Ht,a.itemSize[0]),cols:ir(xt,a.itemSize[1])}:ir(l?xt:Ht,a.itemSize),yr=I||(c?[nr(Rt.rows),nr(Rt.cols)]:nr(Rt));return{numItemsInViewport:Rt,numToleratedItems:yr}},rr=function(){var it=tr(),xt=it.numItemsInViewport,Ht=it.numToleratedItems,ir=function(yr,Vr,Ur){var Ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Nr(yr+Vr+(yr<Ur?2:3)*Ur,Ye)},nr=c?{rows:ir(p.rows,xt.rows,Ht[0]),cols:ir(p.cols,xt.cols,Ht[1],!0)}:ir(p,xt,Ht);D(xt),L(Ht),y(nr),a.showLoader&&K(c?Array.from({length:xt.rows}).map(function(){return Array.from({length:xt.cols})}):Array.from({length:xt})),a.lazy&&Promise.resolve().then(function(){Je.current={first:a.step?c?{rows:0,cols:p.cols}:0:p,last:Math.min(a.step?a.step:nr,(a.items||[]).length)},a.onLazyLoad&&a.onLazyLoad(Je.current)})},Wr=function(it){a.autoSize&&!it&&Promise.resolve().then(function(){if(G.current){G.current.style.minHeight=G.current.style.minWidth="auto",G.current.style.position="relative",Y.current.style.contain="none";var xt=[Ue.getWidth(Y.current),Ue.getHeight(Y.current)],Ht=xt[0],ir=xt[1];(c||l)&&(Y.current.style.width=(Ht<ue.current?Ht:a.scrollWidth||ue.current)+"px"),(c||s)&&(Y.current.style.height=(ir<xe.current?ir:a.scrollHeight||xe.current)+"px"),G.current.style.minHeight=G.current.style.minWidth="",G.current.style.position="",Y.current.style.contain=""}})},Nr=function(){var it,xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ht=arguments.length>1?arguments[1]:void 0;return a.items?Math.min(Ht?((it=a.columns||a.items[0])===null||it===void 0?void 0:it.length)||0:(a.items||[]).length,xt):0},bt=function(){if(G.current){var it=getComputedStyle(G.current),xt=parseFloat(it.paddingLeft)+Math.max(parseFloat(it.left)||0,0),Ht=parseFloat(it.paddingRight)+Math.max(parseFloat(it.right)||0,0),ir=parseFloat(it.paddingTop)+Math.max(parseFloat(it.top)||0,0),nr=parseFloat(it.paddingBottom)+Math.max(parseFloat(it.bottom)||0,0);return{left:xt,right:Ht,top:ir,bottom:nr,x:xt+Ht,y:ir+nr}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},ke=function(){if(Y.current){var it=Y.current.parentElement,xt=a.scrollWidth||"".concat(Y.current.offsetWidth||it.offsetWidth,"px"),Ht=a.scrollHeight||"".concat(Y.current.offsetHeight||it.offsetHeight,"px"),ir=function(Rt,yr){return Y.current.style[Rt]=yr};c||l?(ir("height",Ht),ir("width",xt)):ir("height",Ht)}},Re=function(){var it=a.items;if(it){var xt=bt(),Ht=function(nr,Rt,yr){var Vr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return Fe.current=tm(tm({},Fe.current),nT({},"".concat(nr),(Rt||[]).length*yr+Vr+"px"))};c?(Ht("height",it,a.itemSize[0],xt.y),Ht("width",a.columns||it[1],a.itemSize[1],xt.x)):l?Ht("width",a.columns||it,a.itemSize,xt.x):Ht("height",it,a.itemSize,xt.y)}},Qe=function(it){if(G.current&&!a.appendOnly){var xt=it?it.first:p,Ht=function(yr,Vr){return yr*Vr},ir=function(){var yr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ie.current&&(ie.current.style.top="-".concat(Vr,"px")),je.current=tm(tm({},je.current),{transform:"translate3d(".concat(yr,"px, ").concat(Vr,"px, 0)")})};if(c)ir(Ht(xt.cols,a.itemSize[1]),Ht(xt.rows,a.itemSize[0]));else{var nr=Ht(xt,a.itemSize);l?ir(nr,0):ir(0,nr)}}},jt=function(it){var xt=it.target,Ht=bt(),ir=function(Rr,rn){return Rr?Rr>rn?Rr-rn:Rr:0},nr=function(Rr,rn){return Math.floor(Rr/(rn||Rr))},Rt=function(Rr,rn,wn,na,Kn,Nn){return Rr<=Kn?Kn:Nn?wn-na-Kn:rn+Kn-1},yr=function(Rr,rn,wn,na,Kn,Nn,aa){return Rr<=Nn?0:Math.max(0,aa?Rr<rn?wn:Rr-Nn:Rr>rn?wn:Rr-2*Nn)},Vr=function(Rr,rn,wn,na,Kn,Nn){var aa=rn+na+2*Kn;return Rr>=Kn&&(aa=aa+(Kn+1)),Nr(aa,Nn)},Ur=ir(xt.scrollTop,Ht.top),Ye=ir(xt.scrollLeft,Ht.left),ae=c?{rows:0,cols:0}:0,we=v,$e=!1,Xe=ye.current;if(c){var st=ye.current.top<=Ur,Ot=ye.current.left<=Ye;if(!a.appendOnly||a.appendOnly&&(st||Ot)){var Yt={rows:nr(Ur,a.itemSize[0]),cols:nr(Ye,a.itemSize[1])},Ar={rows:Rt(Yt.rows,p.rows,v.rows,R.rows,I[0],st),cols:Rt(Yt.cols,p.cols,v.cols,R.cols,I[1],Ot)};ae={rows:yr(Yt.rows,Ar.rows,p.rows,v.rows,R.rows,I[0],st),cols:yr(Yt.cols,Ar.cols,p.cols,v.cols,R.cols,I[1],Ot)},we={rows:Vr(Yt.rows,ae.rows,v.rows,R.rows,I[0]),cols:Vr(Yt.cols,ae.cols,v.cols,R.cols,I[1],!0)},$e=ae.rows!==p.rows||we.rows!==v.rows||ae.cols!==p.cols||we.cols!==v.cols||ce.current,Xe={top:Ur,left:Ye}}}else{var $r=l?Ye:Ur,An=ye.current<=$r;if(!a.appendOnly||a.appendOnly&&An){var In=nr($r,a.itemSize),Pr=Rt(In,p,v,R,I,An);ae=yr(In,Pr,p,v,R,I,An),we=Vr(In,ae,v,R,I),$e=ae!==p||we!==v||ce.current,Xe=$r}}return{first:ae,last:we,isRangeChanged:$e,scrollPos:Xe}},gt=function(it){var xt=jt(it),Ht=xt.first,ir=xt.last,nr=xt.isRangeChanged,Rt=xt.scrollPos;if(nr){var yr={first:Ht,last:ir};if(Qe(yr),h(Ht),y(ir),ye.current=Rt,a.onScrollIndexChange&&a.onScrollIndexChange(yr),a.lazy&&lr(Ht)){var Vr={first:a.step?Math.min(Jt(Ht)*a.step,(a.items||[]).length-a.step):Ht,last:Math.min(a.step?(Jt(Ht)+1)*a.step:ir,(a.items||[]).length)},Ur=!Je.current||Je.current.first!==Vr.first||Je.current.last!==Vr.last;Ur&&a.onLazyLoad&&a.onLazyLoad(Vr),Je.current=Vr}}},At=function(it){if(a.onScroll&&a.onScroll(it),a.delay){if(me.current&&clearTimeout(me.current),lr(p)){if(!H&&a.showLoader){var xt=jt(it),Ht=xt.isRangeChanged,ir=Ht||(a.step?lr(p):!1);ir&&J(!0)}me.current=setTimeout(function(){gt(it),H&&a.showLoader&&(!a.lazy||a.loading===void 0)&&(J(!1),_(Jt(p)))},a.delay)}}else gt(it)},kr=function(){he.current&&clearTimeout(he.current),he.current=setTimeout(function(){if(Y.current){var it=[Ue.getWidth(Y.current),Ue.getHeight(Y.current)],xt=it[0],Ht=it[1],ir=xt!==ue.current,nr=Ht!==xe.current,Rt=c?ir||nr:l?ir:s?nr:!1;Rt&&(L(a.numToleratedItems),ue.current=xt,xe.current=Ht,Pe.current=Ue.getWidth(G.current),_e.current=Ue.getHeight(G.current))}},a.resizeDelay)},xr=function(it){var xt=(a.items||[]).length,Ht=c?p.rows+it:p+it;return{index:Ht,count:xt,first:Ht===0,last:Ht===xt-1,even:Ht%2===0,odd:Ht%2!==0,props:a}},Xr=function(it,xt){var Ht=te.length||0;return tm({index:it,count:Ht,first:it===0,last:it===Ht-1,even:it%2===0,odd:it%2!==0,props:a},xt)},Zr=function(){var it=a.items;return it&&!H?c?it.slice(a.appendOnly?0:p.rows,v.rows).map(function(xt){return a.columns?xt:xt.slice(a.appendOnly?0:p.cols,v.cols)}):l&&a.columns?it:it.slice(a.appendOnly?0:p,v):[]},Qt=function(){Y.current&&Sn()&&(dr(G.current),ln(),Be(),Ut(),ue.current=Ue.getWidth(Y.current),xe.current=Ue.getHeight(Y.current),Pe.current=Ue.getWidth(G.current),_e.current=Ue.getHeight(G.current))},ln=function(){!a.disabled&&Sn()&&(ke(),rr(),Re())},Sn=function(){if(Ue.isVisible(Y.current)){var it=Y.current.getBoundingClientRect();return it.width>0&&it.height>0}return!1};b.useEffect(function(){!Te.current&&Sn()&&(Qt(),Te.current=!0)}),ma(function(){ln()},[a.itemSize,a.scrollHeight,a.scrollWidth]),ma(function(){a.numToleratedItems!==I&&L(a.numToleratedItems)},[a.numToleratedItems]),ma(function(){a.numToleratedItems===I&&ln()},[I]),ma(function(){var Bt=i.items!==void 0&&i.items!==null,it=a.items!==void 0&&a.items!==null,xt=Bt?i.items.length:0,Ht=it?a.items.length:0,ir=xt!==Ht;if(c&&!ir){var nr=Bt&&i.items.length>0?i.items[0].length:0,Rt=it&&a.items.length>0?a.items[0].length:0;ir=nr!==Rt}(!Bt||ir)&&ln();var yr=H;a.lazy&&i.loading!==a.loading&&a.loading!==H&&(J(a.loading),yr=a.loading),Wr(yr)}),ma(function(){ye.current=c?{top:0,left:0}:0},[a.orientation]),b.useImperativeHandle(e,function(){return{props:a,getElementRef:Vt,scrollTo:ct,scrollToIndex:pt,scrollInView:nt,getRenderedRange:hr}});var dt=function(it){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ht=Xr(it,xt),ir=Me.getJSXElement(a.loadingTemplate,Ht);return b.createElement(b.Fragment,{key:it},ir)},Et=function(){var it="p-virtualscroller-loading-icon",xt=r({className:it},j("loadingIcon")),Ht=a.loadingIcon||b.createElement(ug,jE({},xt,{spin:!0})),ir=ga.getJSXIcon(Ht,tm({},xt),{props:a});if(!a.loaderDisabled&&a.showLoader&&H){var nr=ur("p-virtualscroller-loader",{"p-component-overlay":!a.loadingTemplate}),Rt=ir;if(a.loadingTemplate)Rt=te.map(function(Ur,Ye){return dt(Ye,c&&{numCols:R.cols})});else if(a.loaderIconTemplate){var yr={iconClassName:it,element:Rt,props:a};Rt=Me.getJSXElement(a.loaderIconTemplate,yr)}var Vr=r({className:nr},j("loader"));return b.createElement("div",Vr,Rt)}return null},Tt=function(){if(a.showSpacer){var it=r({ref:X,style:Fe.current,className:"p-virtualscroller-spacer"},j("spacer"));return b.createElement("div",it)}return null},Gt=function(it,xt){var Ht=xr(xt),ir=Me.getJSXElement(a.itemTemplate,it,Ht);return b.createElement(b.Fragment,{key:Ht.index},ir)},br=function(){var it=Zr();return it.map(Gt)},Kr=function(){var it=br(),xt=ur("p-virtualscroller-content",{"p-virtualscroller-loading":H}),Ht=r({ref:G,style:je.current,className:xt},j("content")),ir=b.createElement("div",Ht,it);if(a.contentTemplate){var nr={style:je.current,className:xt,spacerStyle:Fe.current,contentRef:function(yr){return G.current=Me.getRefElement(yr)},spacerRef:function(yr){return X.current=Me.getRefElement(yr)},stickyRef:function(yr){return ie.current=Me.getRefElement(yr)},items:Zr(),getItemOptions:function(yr){return xr(yr)},children:it,element:ir,props:a,loading:H,getLoaderOptions:function(yr,Vr){return Xr(yr,Vr)},loadingTemplate:a.loadingTemplate,itemSize:a.itemSize,rows:rt(),columns:Lt(),vertical:s,horizontal:l,both:c};return Me.getJSXElement(a.contentTemplate,nr)}return ir};if(a.disabled){var _t=Me.getJSXElement(a.contentTemplate,{items:a.items,rows:a.items,columns:a.columns});return b.createElement(b.Fragment,null,a.children,_t)}var at=ur("p-virtualscroller",{"p-virtualscroller-inline":a.inline,"p-virtualscroller-both p-both-scroll":c,"p-virtualscroller-horizontal p-horizontal-scroll":l},a.className),vt=Et(),Kt=Kr(),cr=Tt(),gr=r({ref:Y,className:at,tabIndex:a.tabIndex,style:a.style,onScroll:function(it){return At(it)}},Xg.getOtherProps(a),j("root"));return b.createElement("div",gr,Kt,cr,vt)}));zS.displayName="VirtualScroller";function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DE.apply(null,arguments)}var ap=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",DE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));ap.displayName="CheckIcon";function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yc.apply(null,arguments)}function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function Oz(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iz(t){var e=Oz(t,"string");return Im(e)=="symbol"?e:e+""}function X0(t,e,r){return(e=Iz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tz(t){if(Array.isArray(t))return t}function Rz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Lz(t,e){if(t){if(typeof t=="string")return nP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nP(t,e):void 0}}function jz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Np(t,e){return Tz(t)||Rz(t,e)||Lz(t,e)||jz()}function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){X0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Mz={root:function(e){var r=e.props,n=e.focusedState,a=e.overlayVisibleState,i=e.context;return ur("p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-focus":n,"p-variant-filled":r.variant?r.variant==="filled":i&&i.inputStyle==="filled","p-dropdown-clearable":r.showClear&&!r.disabled,"p-inputwrapper-filled":Me.isNotEmpty(r.value),"p-inputwrapper-focus":n||a})},input:function(e){var r=e.props,n=e.label;return r.editable?"p-dropdown-label p-inputtext":ur("p-dropdown-label p-inputtext",{"p-placeholder":n===null&&r.placeholder,"p-dropdown-label-empty":n===null&&!r.placeholder})},trigger:"p-dropdown-trigger",emptyMessage:"p-dropdown-empty-message",itemGroup:function(e){var r=e.optionGroupLabel;return ur("p-dropdown-item-group",{"p-dropdown-item-empty":!r||r.length===0})},itemGroupLabel:"p-dropdown-item-group-label",dropdownIcon:"p-dropdown-trigger-icon p-clickable",loadingIcon:"p-dropdown-trigger-icon p-clickable",clearIcon:"p-dropdown-clear-icon p-clickable",filterIcon:"p-dropdown-filter-icon",filterClearIcon:"p-dropdown-filter-clear-icon",filterContainer:function(e){var r=e.clearIcon;return ur("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!r})},filterInput:function(e){var r=e.props,n=e.context;return ur("p-dropdown-filter p-inputtext p-component",{"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},list:function(e){var r=e.virtualScrollerOptions;return"p-dropdown-items"},panel:function(e){var r=e.context;return ur("p-dropdown-panel p-component",{"p-input-filled":r&&r.inputStyle==="filled"||Fn.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||Fn.ripple===!1})},item:function(e){var r=e.selected,n=e.disabled,a=e.label,i=e.index,s=e.focusedOptionIndex,l=e.highlightOnSelect;return ur("p-dropdown-item",{"p-highlight":r&&l,"p-disabled":n,"p-focus":i===s,"p-dropdown-item-empty":!a||a.length===0})},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",wrapper:"p-dropdown-items-wrapper",header:"p-dropdown-header",footer:"p-dropdown-footer",transition:"p-connected-overlay"},Fz=`
@layer primereact {
    .p-dropdown {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
    }
    
    .p-dropdown-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .p-dropdown-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        text-overflow: ellipsis;
        cursor: pointer;
    }
    
    .p-dropdown-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    input.p-dropdown-label  {
        cursor: default;
    }
    
    .p-dropdown .p-dropdown-panel {
        min-width: 100%;
    }
    
    .p-dropdown-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-dropdown-items-wrapper {
        overflow: auto;
    }
    
    .p-dropdown-item {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-dropdown-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-dropdown-filter {
        width: 100%;
    }
    
    .p-dropdown-filter-container {
        position: relative;
    }
    
    .p-dropdown-clear-icon,
    .p-dropdown-filter-icon,
    .p-dropdown-filter-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
        right: 2rem;
    }
    
    .p-fluid .p-dropdown {
        display: flex;
    }
    
    .p-fluid .p-dropdown .p-dropdown-label {
        width: 1%;
    }
}
`,$z={wrapper:function(e){var r=e.props;return{maxHeight:r.scrollHeight||"auto"}},panel:function(e){var r=e.props;return Dz({},r.panelStyle)}},Zg=yn.extend({defaultProps:{__TYPE:"Dropdown",__parentMetadata:null,appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,autoOptionFocus:!1,checkmark:!1,children:void 0,className:null,clearIcon:null,collapseIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterDelay:300,filterIcon:null,filterInputAutoFocus:!1,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,focusOnHover:!0,highlightOnSelect:!0,id:null,inputId:null,inputRef:null,invalid:!1,itemTemplate:null,loading:!1,loadingIcon:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,options:null,optionValue:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",selectOnFocus:!1,showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,valueTemplate:null,variant:null,virtualScrollerOptions:null},css:{classes:Mz,styles:Fz,inlineStyles:$z}}),aT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",Yc({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("rect",{width:"1",height:"1",fill:"currentColor",fillOpacity:"0"}))}));aT.displayName="BlankIcon";var oT=b.memo(function(t){var e=$n(),r=t.ptm,n=t.cx,a=t.selected,i=t.disabled,s=t.option,l=t.label,c=t.index,u=t.focusedOptionIndex,f=t.ariaSetSize,p=t.checkmark,h=t.highlightOnSelect,g=t.onInputKeyDown,x=function(N){return r(N,{context:{selected:a,disabled:i,focused:c===u}})},v=function(N,O){t.onClick&&t.onClick({originalEvent:N,option:s})},y=t.template?Me.getJSXElement(t.template,t.option):t.label,E=e({id:"dropdownItem_".concat(c),role:"option",className:ur(s.className,n("item",{selected:a,disabled:i,label:l,index:c,focusedOptionIndex:u,highlightOnSelect:h})),style:t.style,tabIndex:0,onClick:function(N){return v(N)},onKeyDown:function(N){return g(N)},onMouseMove:function(N){return t==null?void 0:t.onMouseMove(N,c)},"aria-setsize":f,"aria-posinset":c+1,"aria-label":l,"aria-selected":a,"data-p-highlight":a,"data-p-focused":u===c,"data-p-disabled":i},x("item")),C=e({className:n("itemLabel")},x("itemLabel")),k=function(){if(a){var N=e({className:n("checkIcon")},x("checkIcon"));return b.createElement(ap,N)}var O=e({className:n("blankIcon")},x("blankIcon"));return b.createElement(aT,O)};return b.createElement("li",Yc({key:t.label},E),p&&k(),b.createElement("span",C,y),b.createElement(Ai,null))});oT.displayName="DropdownItem";function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){X0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var iT=b.memo(b.forwardRef(function(t,e){var r=$n(),n=t.ptm,a=t.cx,i=t.sx,s=b.useContext(ra),l=b.useRef(null),c=!(t.visibleOptions&&t.visibleOptions.length)&&t.hasFilter,u=t.visibleOptions?t.visibleOptions.length:0,f={filter:function(z){return x(z)},reset:function(){return t.resetFilter()}},p=function(z,I){return n(z,pc({hostName:t.hostName},I))},h=function(){t.onEnter(function(){if(t.virtualScrollerRef.current){var z=t.getSelectedOptionIndex();z!==-1&&setTimeout(function(){return t.virtualScrollerRef.current.scrollToIndex(z)},0)}})},g=function(){t.onEntered(function(){t.filter&&t.filterInputAutoFocus&&Ue.focus(l.current,!1)})},x=function(z){t.onFilterInputChange&&t.onFilterInputChange(z)},v=function(){if(t.panelFooterTemplate){var z=Me.getJSXElement(t.panelFooterTemplate,t,t.onOverlayHide),I=r({className:a("footer")},p("footer"));return b.createElement("div",I,z)}return null},y=function(z,I){if(t.focusOnHover){var L;t==null||(L=t.changeFocusedOptionIndex)===null||L===void 0||L.call(t,z,I)}},E=function(z,I){var L=Me.getJSXElement(z,t)||js(I?"emptyFilterMessage":"emptyMessage"),M=r({className:a("emptyMessage")},p("emptyMessage"));return b.createElement("li",M,L)},C=function(z,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M={height:L.props?L.props.itemSize:void 0};if(M=pc(pc({},M),z.style),z.group&&t.optionGroupLabel){var F=t.optionGroupLabel,H=t.optionGroupTemplate?Me.getJSXElement(t.optionGroupTemplate,z,I):t.getOptionGroupLabel(z),J=I+"_"+t.getOptionGroupRenderKey(z),ee=r({className:a("itemGroup",{optionGroupLabel:F}),style:M,"data-p-highlight":t.selected},p("itemGroup")),re=r({className:a("itemGroupLabel")},p("itemGroupLabel"));return b.createElement("li",Yc({key:J},ee),b.createElement("span",re,H))}var te=t.getOptionRenderKey(z)+"_"+I,K=t.getOptionLabel(z),U=t.isOptionDisabled(z);return b.createElement(oT,{key:te,label:K,index:I,focusedOptionIndex:t.focusedOptionIndex,option:z,ariaSetSize:u,onInputKeyDown:t.onInputKeyDown,style:M,template:t.itemTemplate,selected:t.isSelected(z),highlightOnSelect:t.highlightOnSelect,disabled:U,onClick:t.onOptionClick,onMouseMove:y,ptm:n,cx:a,checkmark:t.checkmark})},k=function(){return Me.isNotEmpty(t.visibleOptions)?t.visibleOptions.map(C):t.hasFilter?E(t.emptyFilterMessage,!0):E(t.emptyMessage)},_=function(){if(t.showFilterClear&&t.filterValue){var z=js("clear"),I=r({className:a("filterClearIcon"),"aria-label":z,onClick:function(){return t.onFilterClearIconClick(function(){return Ue.focus(l.current)})}},p("filterClearIcon")),L=t.filterClearIcon||b.createElement(J0,I),M=ga.getJSXIcon(L,pc({},I),{props:t});return M}return null},N=function(){if(t.filter){var z=_(),I=r({className:a("filterIcon")},p("filterIcon")),L=t.filterIcon||b.createElement(rT,I),M=ga.getJSXIcon(L,pc({},I),{props:t}),F=r({className:a("filterContainer",{clearIcon:z})},p("filterContainer")),H=r({ref:l,type:"text",autoComplete:"off",className:a("filterInput",{context:s}),placeholder:t.filterPlaceholder,onKeyDown:t.onFilterInputKeyDown,onChange:function(K){return x(K)},value:t.filterValue},p("filterInput")),J=b.createElement("div",F,b.createElement("input",H),z,M);if(t.filterTemplate){var ee={className:ur("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!z}),element:J,filterOptions:f,filterInputKeyDown:t.onFilterInputKeyDown,filterInputChange:x,filterIconClassName:"p-dropdown-filter-icon",clearIcon:z,props:t};J=Me.getJSXElement(t.filterTemplate,ee)}var re=r({className:a("header")},p("header"));return b.createElement("div",re,J)}return null},O=function(){if(t.virtualScrollerOptions){var z=pc(pc({},t.virtualScrollerOptions),{style:pc(pc({},t.virtualScrollerOptions.style),{height:t.scrollHeight}),className:ur("p-dropdown-items-wrapper",t.virtualScrollerOptions.className),items:t.visibleOptions,autoSize:!0,onLazyLoad:function(H){return t.virtualScrollerOptions.onLazyLoad(pc(pc({},H),{filter:t.filterValue}))},itemTemplate:function(H,J){return H&&C(H,J.index,J)},contentTemplate:function(H){var J=t.hasFilter?t.emptyFilterMessage:t.emptyMessage,ee=c?E(J):H.children,re=r({ref:H.contentRef,style:H.style,className:ur(H.className,a("list",{virtualScrollerProps:t.virtualScrollerOptions})),role:"listbox","aria-label":ki("listLabel")},p("list"));return b.createElement("ul",re,ee)}});return b.createElement(zS,Yc({ref:t.virtualScrollerRef},z,{pt:n("virtualScroller")}))}var I=k(),L=r({className:a("wrapper"),style:i("wrapper")},p("wrapper")),M=r({className:a("list"),role:"listbox","aria-label":ki("listLabel")},p("list"));return b.createElement("div",L,b.createElement("ul",M,I))},R=function(){var z=N(),I=O(),L=v(),M=r({className:ur(t.panelClassName,a("panel",{context:s})),style:i("panel"),onClick:t.onClick},p("panel")),F=r({classNames:a("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,unmountOnExit:!0,onEnter:h,onEntered:g,onExit:t.onExit,onExited:t.onExited},p("transition"));return b.createElement($S,Yc({nodeRef:e},F),b.createElement("div",Yc({ref:e},M),t.firstFocusableElement,z,I,L,t.lastFocusableElement))},D=R();return b.createElement(K0,{element:D,appendTo:t.appendTo})}));iT.displayName="DropdownPanel";function zz(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Bz(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function Bz(t,e){if(t){if(typeof t=="string")return iP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iP(t,e):void 0}}function iP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(r),!0).forEach(function(n){X0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wh=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=Zg.getProps(t,n),i=KF("",a.filterDelay||0),s=Np(i,3),l=s[0],c=s[1],u=s[2],f=b.useState(!1),p=Np(f,2),h=p[0],g=p[1],x=b.useState(-1),v=Np(x,2),y=v[0],E=v[1],C=b.useState(!1),k=Np(C,2),_=k[0],N=k[1],O=b.useRef(!1),R=b.useRef(null),D=b.useRef(null),B=b.useRef(null),z=b.useRef(null),I=b.useRef(a.inputRef),L=b.useRef(a.focusInputRef),M=b.useRef(null),F=b.useRef(null),H=b.useRef(null),J=a.virtualScrollerOptions&&a.virtualScrollerOptions.lazy,ee=Me.isNotEmpty(c),re=a.appendTo||n&&n.appendTo||Fn.appendTo,te=Zg.setMetaData(hc(hc({props:a},a.__parentMetadata),{},{state:{filter:c,focused:h,overlayVisible:_}})),K=te.ptm,U=te.cx,j=te.sx,Y=te.isUnstyled;Fl(Zg.css.styles,Y,{name:"dropdown"});var G=DI({target:R,overlay:D,listener:function(Ae,Pt){var vr=Pt.type,Cn=Pt.valid;Cn&&(vr==="outside"?ue(Ae)||vt():n.hideOverlaysOnDocumentScrolling?vt():Ue.isDocument(Ae.target)||xt())},when:_}),X=Np(G,2),ie=X[0],ye=X[1],me=function(Ae){return(Ae||[]).reduce(function(Pt,vr,Cn){Pt.push(hc(hc({},vr),{},{group:!0,index:Cn}));var hn=we(vr);return hn&&hn.forEach(function(_n){return Pt.push(_n)}),Pt},[])},he=function(){var Ae=a.optionGroupLabel?me(a.options):a.options;if(ee&&!J){var Pt=c.trim().toLocaleLowerCase(a.filterLocale),vr=a.filterBy?a.filterBy.split(","):[a.optionLabel||"label"];if(a.optionGroupLabel){var Cn=[],hn=zz(a.options),_n;try{for(hn.s();!(_n=hn.n()).done;){var vo=_n.value,za=Yp.filter(we(vo),vr,Pt,a.filterMatchMode,a.filterLocale);za&&za.length&&Cn.push(hc(hc({},vo),X0({},"".concat(a.optionGroupChildren),za)))}}catch(Hr){hn.e(Hr)}finally{hn.f()}return me(Cn)}return Yp.filter(Ae,vr,Pt,a.filterMatchMode,a.filterLocale)}return Ae},je=function(Ae){var Pt=Ae.relatedTarget===L.current?Ue.getFirstFocusableElement(D.current,':not([data-p-hidden-focusable="true"])'):L.current;Ue.focus(Pt)},Fe=function(Ae){var Pt=Ae.relatedTarget===L.current?Ue.getLastFocusableElement(D.current,':not([data-p-hidden-focusable="true"])'):L.current;Ue.focus(Pt)},ue=function(Ae){return Ue.isAttributeEquals(Ae.target,"data-pc-section","clearicon")||Ue.isAttributeEquals(Ae.target.parentElement||Ae.target,"data-pc-section","filterclearicon")},xe=function(Ae){a.disabled||a.loading||(a.onClick&&a.onClick(Ae),!Ae.defaultPrevented&&(ue(Ae)||Ae.target.tagName==="INPUT"||((!D.current||!(D.current&&D.current.contains(Ae.target)))&&(Ue.focus(L.current),_?vt():at()),Ae.preventDefault(),O.current=!0)))},Pe=function(Ae){a.showOnFocus&&!_&&at(),g(!0),a.onFocus&&a.onFocus(Ae)},_e=function(Ae){g(!1),a.onBlur&&setTimeout(function(){var Pt=I.current?I.current.value:void 0;a.onBlur({originalEvent:Ae.originalEvent,value:Pt,stopPropagation:function(){Ae.originalEvent.stopPropagation()},preventDefault:function(){Ae.originalEvent.preventDefault()},target:{name:a.name,id:a.id,value:Pt}})},200)},ce=function(Ae,Pt){var vr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Tt({originalEvent:Ae,option:Pt}),vr&&(vt(),Ue.focus(L.current))},Je=function(Ae){md.emit("overlay-click",{originalEvent:Ae,target:R.current})},Te=function(Ae){if(a.disabled){Ae.preventDefault();return}var Pt=Ue.isAndroid()?Ae.key:Ae.code;switch(Pt){case"ArrowDown":tr(Ae);break;case"ArrowUp":rr(Ae);break;case"ArrowLeft":case"ArrowRight":Wr(Ae,a.editable);break;case"Home":Nr(Ae);break;case"End":bt(Ae);break;case"PageDown":Re(Ae);break;case"PageUp":ke(Ae);break;case"Space":Qe(Ae,a.editable);break;case"NumpadEnter":case"Enter":jt(Ae);break;case"Escape":gt(Ae);break;case"Tab":At(Ae);break;case"Backspace":kr(Ae,a.editable);break;case"ShiftLeft":case"ShiftRight":break;default:var vr=Ae.metaKey||Ae.ctrlKey||Ae.altKey;!vr&&Me.isPrintableCharacter(Ae.key)&&(!_&&!a.editable&&at(),!a.editable&&dr(Ae,Ae.key));break}O.current=!1},Le=function(Ae){switch(Ae.code){case"ArrowDown":tr(Ae);break;case"ArrowUp":rr(Ae);break;case"ArrowLeft":case"ArrowRight":Wr(Ae,!0);break;case"Enter":case"NumpadEnter":jt(Ae),Ae.preventDefault();break;case"Escape":gt(Ae);break}},Ze=function(){return Ue.getFocusableElements(D.current,':not([data-p-hidden-focusable="true"])').length>0},Be=function(Ae){var Pt;return et(Ae)&&((Pt=nr(Ae))===null||Pt===void 0?void 0:Pt.toLocaleLowerCase(a.filterLocale).startsWith(H.current.toLocaleLowerCase(a.filterLocale)))},et=function(Ae){return Me.isNotEmpty(Ae)&&!(Ur(Ae)||Vr(Ae))},Dt=function(){return Me.isNotEmpty(a.value)},Ut=function(Ae){return et(Ae)&&_t(Ae)},Vt=function(){return Dt?Pr.findIndex(function(Ae){return Ut(Ae)}):-1},Jt=function(){var Ae=Vt();return Ae<0?ct():Ae},dr=function(Ae,Pt){H.current=(H.current||"")+Pt;var vr=-1,Cn=!1;return Me.isNotEmpty(H.current)&&(y!==-1?(vr=Pr.slice(y).findIndex(function(hn){return Be(hn)}),vr=vr===-1?Pr.slice(0,y).findIndex(function(hn){return Be(hn)}):vr+y):vr=Pr.findIndex(function(hn){return Be(hn)}),vr!==-1&&(Cn=!0),vr===-1&&y===-1&&(vr=Jt()),vr!==-1&&Lt(Ae,vr)),F.current&&clearTimeout(F.current),F.current=setTimeout(function(){H.current="",F.current=null},500),Cn},lr=function(){var Ae=Vt();return Ae<0?pt():Ae},ct=function(){return Pr.findIndex(function(Ae){return et(Ae)})},pt=function(){return Me.findLastIndex(Pr,function(Ae){return et(Ae)})},nt=function(Ae){var Pt=Ae<Pr.length-1?Pr.slice(Ae+1).findIndex(function(vr){return et(vr)}):-1;return Pt>-1?Pt+Ae+1:Ae},rt=function(Ae){var Pt=Ae>0?Me.findLastIndex(Pr.slice(0,Ae),function(vr){return et(vr)}):-1;return Pt>-1?Pt:Ae},Lt=function(Ae,Pt){y!==Pt&&(E(Pt),hr(Pt),a.selectOnFocus&&ce(Ae,Pr[Pt],!1))},hr=function(Ae){var Pt=Ue.findSingle(D.current,'li[id="dropdownItem_'.concat(Ae,'"]'));Pt&&Pt.focus()},tr=function(Ae){if(!_)at(),a.editable&&Lt(Ae,Vt());else{var Pt=y!==-1?nt(y):O.current?ct():Jt();Lt(Ae,Pt)}Ae.preventDefault()},rr=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ae.altKey&&!Pt)y!==-1&&ce(Ae,Pr[y]),state.overlayVisible&&vt(),Ae.preventDefault();else{var vr=y!==-1?rt(y):O.current?pt():lr();Lt(Ae,vr),!_&&at(),Ae.preventDefault()}},Wr=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Pt&&E(-1)},Nr=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Pt?(Ae.currentTarget.setSelectionRange(0,0),E(-1)):(Lt(Ae,ct()),!_&&at()),Ae.preventDefault()},bt=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Pt){var vr=Ae.currentTarget,Cn=vr.value.length;vr.setSelectionRange(Cn,Cn),E(-1)}else Lt(Ae,pt()),!_&&at();Ae.preventDefault()},ke=function(Ae){Ae.preventDefault()},Re=function(Ae){Ae.preventDefault()},Qe=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!Pt&&jt(Ae)},jt=function(Ae){_?y!==-1&&ce(Ae,Pr[y]):(E(-1),tr(Ae)),Ae.preventDefault()},gt=function(Ae){_&&vt(),Ae.preventDefault()},At=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Pt||(_&&!Ze()?(Ue.focus(B.current),Ae.preventDefault()):(y!==-1&&ce(Ae,Pr[y]),_&&vt()))},kr=function(Ae){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Ae&&Pt&&!_&&at()},xr=function(Ae,Pt){if(!Pt||!(Ae!=null&&Ae.length))return-1;var vr=Pt.toLocaleLowerCase(),Cn=Ae.findIndex(function(hn){return nr(hn).toLocaleLowerCase()===vr});return Cn!==-1?Cn:Ae.findIndex(function(hn){return nr(hn).toLocaleLowerCase().startsWith(vr)})},Xr=function(Ae){!_&&at();var Pt=null;Ae.target.value&&Pr&&(Pt=xr(Pr,Ae.target.value)),E(Pt),a.onChange&&a.onChange({originalEvent:Ae.originalEvent,value:Ae.target.value,stopPropagation:function(){Ae.originalEvent.stopPropagation()},preventDefault:function(){Ae.originalEvent.preventDefault()},target:{name:a.name,id:a.id,value:Ae.target.value}})},Zr=function(Ae){g(!0),vt(),a.onFocus&&a.onFocus(Ae)},Qt=function(Ae){var Pt=Ae.option;Pt.disabled||(Tt(Ae),Ue.focus(L.current)),vt()},ln=function(Ae){var Pt=Ae.target.value;u(Pt),a.onFilter&&a.onFilter({originalEvent:Ae,filter:Pt})},Sn=function(Ae){dt(Ae)},dt=function(Ae){u(""),a.onFilter&&a.onFilter({filter:""}),Ae&&Ae()},Et=function(Ae){a.onChange&&a.onChange({originalEvent:Ae,value:void 0,stopPropagation:function(){Ae==null||Ae.stopPropagation()},preventDefault:function(){Ae==null||Ae.preventDefault()},target:{name:a.name,id:a.id,value:void 0}}),a.filter&&dt(),ir(),E(-1)},Tt=function(Ae){if(Dr!==Ae.option){ir(Ae.option),E(-1);var Pt=Rt(Ae.option),vr=Kr(Ae.option,Pr);a.onChange&&a.onChange({originalEvent:Ae.originalEvent,value:Pt,stopPropagation:function(){Ae.originalEvent.stopPropagation()},preventDefault:function(){Ae.originalEvent.preventDefault()},target:{name:a.name,id:a.id,value:Pt}}),Lt(Ae.originalEvent,vr)}},Gt=function(Ae){if(Ae=Ae||Pr,Ae)if(a.optionGroupLabel)for(var Pt=0;Pt<Ae.length;Pt++){var vr=Kr(a.value,we(Ae[Pt]));if(vr!==-1)return{group:Pt,option:vr}}else return Kr(a.value,Ae);return-1},br=function(){return a.optionValue?null:a.dataKey},Kr=function(Ae,Pt){var vr=br();return Pt.findIndex(function(Cn){return Me.equals(Ae,Rt(Cn),vr)})},_t=function(Ae){return Me.equals(a.value,Rt(Ae),br())},at=function(){E(y!==-1?y:a.autoOptionFocus?Jt():a.editable?-1:Vt()),N(!0)},vt=function(){N(!1),O.current=!1},Kt=function(){a.editable&&!_&&O.current===!1&&Ue.focus(I.current)},cr=function(Ae){Pc.set("overlay",D.current,n&&n.autoZIndex||Fn.autoZIndex,n&&n.zIndex.overlay||Fn.zIndex.overlay),Ue.addStyles(D.current,{position:"absolute",top:"0",left:"0"}),xt(),Ae&&Ae()},gr=function(Ae){Ae&&Ae(),ie(),a.onShow&&a.onShow()},Bt=function(){ye()},it=function(){a.filter&&a.resetFilterOnHide&&dt(),Pc.clear(D.current),a.onHide&&a.onHide()},xt=function(){Ue.alignOverlay(D.current,I.current.parentElement,a.appendTo||n&&n.appendTo||Fn.appendTo)},Ht=function(){var Ae=Ue.findSingle(D.current,'li[data-p-focused="true"]');if(Ae&&Ae.scrollIntoView)Ae.scrollIntoView({block:"nearest",inline:"nearest"});else{var Pt=Ue.findSingle(D.current,'li[data-p-highlight="true"]');Pt&&Pt.scrollIntoView&&Pt.scrollIntoView({block:"nearest",inline:"nearest"})}},ir=function(Ae){I.current&&(I.current.value=Ae?nr(Ae):a.value||"",L.current&&(L.current.value=I.current.value))},nr=function(Ae){if(Me.isScalar(Ae))return"".concat(Ae);var Pt=a.optionLabel?Me.resolveFieldData(Ae,a.optionLabel):Ae.label;return"".concat(Pt)},Rt=function(Ae){if(a.useOptionAsValue)return Ae;var Pt=a.optionValue?Me.resolveFieldData(Ae,a.optionValue):Ae?Ae.value:Me.resolveFieldData(Ae,"value");return a.optionValue||Me.isNotEmpty(Pt)?Pt:Ae},yr=function(Ae){return a.dataKey?Me.resolveFieldData(Ae,a.dataKey):nr(Ae)},Vr=function(Ae){return a.optionGroupLabel&&Ae.group},Ur=function(Ae){return a.optionDisabled?Me.isFunction(a.optionDisabled)?a.optionDisabled(Ae):Me.resolveFieldData(Ae,a.optionDisabled):Ae&&Ae.disabled!==void 0?Ae.disabled:!1},Ye=function(Ae){return Me.resolveFieldData(Ae,a.optionGroupLabel)},ae=function(Ae){return Me.resolveFieldData(Ae,a.optionGroupLabel)},we=function(Ae){return Me.resolveFieldData(Ae,a.optionGroupChildren)},$e=function(){if(a.editable&&I.current){var Ae=Dr?nr(Dr):null,Pt=Ae||a.value||"";I.current.value=Pt,L.current&&(L.current.value=Pt)}},Xe=function(){var Ae=Gt(a.options);return Ae!==-1?a.optionGroupLabel?we(a.options[Ae.group])[Ae.option]:a.options[Ae]:null};b.useImperativeHandle(e,function(){return{props:a,show:at,hide:vt,clear:Et,focus:function(){return Ue.focus(L.current)},getElement:function(){return R.current},getOverlay:function(){return D.current},getInput:function(){return I.current},getFocusInput:function(){return L.current},getVirtualScroller:function(){return M.current}}}),b.useEffect(function(){Me.combinedRefs(I,a.inputRef),Me.combinedRefs(L,a.focusInputRef)},[I,a.inputRef,L,a.focusInputRef]),$s(function(){a.autoFocus&&Ue.focus(L.current,a.autoFocus),xt()}),ma(function(){_&&(a.value||y>=0)&&Ht()},[_,a.value,y]),ma(function(){_&&c&&a.filter&&xt()},[_,c,a.filter]),ma(function(){M.current&&M.current.scrollInView(0)},[c]),ma(function(){$e(),I.current&&(I.current.selectedIndex=1)}),Fs(function(){Pc.clear(D.current)});var st=function(){var Ae={value:"",label:a.placeholder};if(Dr){var Pt=Rt(Dr);Ae={value:Im(Pt)==="object"?a.options.findIndex(function(_n){return _n===Pt}):Pt,label:nr(Dr)}}var vr=r({className:"p-hidden-accessible p-dropdown-hidden-select"},K("hiddenSelectedMessage")),Cn=r({ref:I,required:a.required,defaultValue:Ae.value,name:a.name,tabIndex:-1},K("select")),hn=r({value:Ae.value},K("option"));return b.createElement("div",vr,b.createElement("select",Cn,b.createElement("option",hn,Ae.label)))},Ot=function(){var Ae=Me.isNotEmpty(Dr)?nr(Dr):null;a.editable&&(Ae=Ae||a.value||"");var Pt=r({className:"p-hidden-accessible"},K("hiddenSelectedMessage")),vr=r(hc({ref:L,id:a.inputId,defaultValue:Ae,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:Pe,onBlur:_e,onKeyDown:Te,disabled:a.disabled,tabIndex:a.disabled?-1:a.tabIndex||0},wn),K("input"));return b.createElement("div",Pt,b.createElement("input",vr))},Yt=function(){var Ae=Me.isNotEmpty(Dr)?nr(Dr):null;if(a.editable){var Pt=Ae||a.value||"",vr=r(hc({ref:I,type:"text",defaultValue:Pt,className:U("input",{label:Ae}),disabled:a.disabled,placeholder:a.placeholder,maxLength:a.maxLength,onInput:Xr,onFocus:Zr,onKeyDown:Te,onBlur:_e,tabIndex:a.disabled?-1:a.tabIndex||0,"aria-haspopup":"listbox"},wn),K("input"));return b.createElement("input",vr)}var Cn=a.valueTemplate?Me.getJSXElement(a.valueTemplate,Dr,a):Ae||a.placeholder||a.emptyMessage||b.createElement(b.Fragment,null," "),hn=r({ref:I,className:U("input",{label:Ae}),tabIndex:"-1"},K("input"));return b.createElement("span",hn,Cn)},Ar=function(Ae){(Ae.key==="Enter"||Ae.code==="Space")&&(Et(Ae),Ae.preventDefault())},$r=function(){if(a.value!=null&&a.showClear&&!a.disabled&&!Me.isEmpty(a.options)){var Ae=r({className:U("clearIcon"),onPointerUp:Et,tabIndex:a.editable?-1:a.tabIndex||"0",onKeyDown:Ar,"aria-label":js("clear")},K("clearIcon")),Pt=a.clearIcon||b.createElement(J0,Ae);return ga.getJSXIcon(Pt,hc({},Ae),{props:a})}return null},An=function(){var Ae=r({className:U("loadingIcon"),"data-pr-overlay-visible":_},K("loadingIcon")),Pt=a.loadingIcon||b.createElement(ug,{spin:!0}),vr=ga.getJSXIcon(Pt,hc({},Ae),{props:a}),Cn=a.placeholder||a.ariaLabel,hn=r({className:U("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":_,"aria-label":Cn},K("trigger"));return b.createElement("div",hn,vr)},In=function(){var Ae=r({className:U("dropdownIcon"),"data-pr-overlay-visible":_},K("dropdownIcon")),Pt=_?a.collapseIcon||b.createElement(XI,Ae):a.dropdownIcon||b.createElement(Y0,Ae),vr=ga.getJSXIcon(Pt,hc({},Ae),{props:a}),Cn=a.placeholder||a.ariaLabel,hn=r({className:U("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":_,"aria-label":Cn},K("trigger"));return b.createElement("div",hn,vr)},Pr=he(),Dr=Xe(),Rr=Me.isNotEmpty(a.tooltip),rn=Zg.getOtherProps(a),wn=Me.reduceKeys(rn,Ue.ARIA_PROPS),na=st(),Kn=Ot(),Nn=Yt(),aa=a.loading?An():In(),ya=$r(),cn=r({id:a.id,ref:R,className:ur(a.className,U("root",{context:n,focusedState:h,overlayVisibleState:_})),style:a.style,onClick:function(Ae){return xe(Ae)},onMouseDown:a.onMouseDown,onContextMenu:a.onContextMenu,onFocus:Kt,"data-p-disabled":a.disabled,"data-p-focus":h,"aria-activedescendant":h?"dropdownItem_".concat(y):void 0},rn,K("root")),Ya=r({ref:B,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:je,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},K("hiddenFirstFocusableEl")),Oi=r({ref:z,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:Fe,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},K("hiddenLastFocusableEl"));return b.createElement(b.Fragment,null,b.createElement("div",cn,Kn,na,Nn,ya,aa,b.createElement(iT,Yc({hostName:"Dropdown",ref:D,visibleOptions:Pr,virtualScrollerRef:M},a,{appendTo:re,cx:U,filterValue:l,focusedOptionIndex:y,getOptionGroupChildren:we,getOptionGroupLabel:ae,getOptionGroupRenderKey:Ye,getOptionLabel:nr,getOptionRenderKey:yr,getSelectedOptionIndex:Gt,hasFilter:ee,in:_,isOptionDisabled:Ur,isSelected:_t,onOverlayHide:vt,onClick:Je,onEnter:cr,onEntered:gr,onExit:Bt,onExited:it,onFilterClearIconClick:Sn,onFilterInputChange:ln,onFilterInputKeyDown:Le,onOptionClick:Qt,onInputKeyDown:Te,ptm:K,resetFilter:dt,changeFocusedOptionIndex:Lt,firstFocusableElement:b.createElement("span",Ya),lastFocusableElement:b.createElement("span",Oi),sx:j}))),Rr&&b.createElement(Ru,Yc({target:R,content:a.tooltip,pt:K("tooltip")},a.tooltipOptions)))}));wh.displayName="Dropdown";function qz(t){if(Array.isArray(t))return t}function Uz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function lP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Hz(t,e){if(t){if(typeof t=="string")return lP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lP(t,e):void 0}}function Wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vz(t,e){return qz(t)||Uz(t,e)||Hz(t,e)||Wz()}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function Gz(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kz(t){var e=Gz(t,"string");return Tm(e)=="symbol"?e:e+""}function Jo(t,e,r){return(e=Kz(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yz={root:"p-paginator p-component",left:"p-paginator-left-content",end:"p-paginator-right-content",firstPageIcon:"p-paginator-icon",firstPageButton:function(e){var r=e.disabled;return ur("p-paginator-first p-paginator-element p-link",{"p-disabled":r})},prevPageIcon:"p-paginator-icon",prevPageButton:function(e){var r=e.disabled;return ur("p-paginator-prev p-paginator-element p-link",{"p-disabled":r})},nextPageIcon:"p-paginator-icon",nextPageButton:function(e){var r=e.disabled;return ur("p-paginator-next p-paginator-element p-link",{"p-disabled":r})},lastPageIcon:"p-paginator-icon",lastPageButton:function(e){var r=e.disabled;return ur("p-paginator-last p-paginator-element p-link",{"p-disabled":r})},pageButton:function(e){var r=e.pageLink,n=e.startPageInView,a=e.endPageInView,i=e.page;return ur("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":r===n,"p-paginator-page-end":r===a,"p-highlight":r-1===i})},pages:"p-paginator-pages"},Jz=`
@layer primereact {
    .p-paginator {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .p-paginator-left-content {
        margin-right: auto;
    }
    
    .p-paginator-right-content {
        margin-left: auto;
    }
    
    .p-paginator-page,
    .p-paginator-next,
    .p-paginator-last,
    .p-paginator-first,
    .p-paginator-prev,
    .p-paginator-current {
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        user-select: none;
        overflow: hidden;
        position: relative;
    }
    
    .p-paginator-element:focus {
        z-index: 1;
        position: relative;
    }
}
`,Qg=yn.extend({defaultProps:{__TYPE:"Paginator",__parentMetadata:null,totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})",children:void 0},css:{classes:Yz,styles:Jz}}),Xz=yn.extend({defaultProps:{__TYPE:"CurrentPageReport",pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null,children:void 0}}),Zz=yn.extend({defaultProps:{__TYPE:"FirstPageLink",disabled:!1,onClick:null,template:null,firstPageLinkIcon:null,children:void 0}}),Qz=yn.extend({defaultProps:{__TYPE:"JumpToPageInput",page:null,rows:null,pageCount:null,disabled:!1,template:null,onChange:null,children:void 0,metaData:null,ptm:null}}),eB=yn.extend({defaultProps:{__TYPE:"LastPageLink",disabled:!1,onClick:null,template:null,lastPageLinkIcon:null,children:void 0}}),tB=yn.extend({defaultProps:{__TYPE:"NextPageLink",disabled:!1,onClick:null,template:null,nextPageLinkIcon:null,children:void 0}}),rB=yn.extend({defaultProps:{__TYPE:"PageLinks",value:null,page:null,rows:null,pageCount:null,links:null,template:null,children:void 0}}),nB=yn.extend({defaultProps:{__TYPE:"PrevPageLink",disabled:!1,onClick:null,template:null,prevPageLinkIcon:null,children:void 0}}),aB=yn.extend({defaultProps:{__TYPE:"RowsPerPageDropdown",options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null,disabled:!1,children:void 0}});function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var sT=b.memo(function(t){var e=$n(),r=b.useContext(ra),n=Xz.getProps(t,r),a={currentPage:n.page+1,totalPages:n.totalPages,first:Math.min(n.first+1,n.totalRecords),last:Math.min(n.first+n.rows,n.totalRecords),rows:n.rows,totalRecords:n.totalRecords},i=n.reportTemplate.replace("{currentPage}",a.currentPage).replace("{totalPages}",a.totalPages).replace("{first}",a.first).replace("{last}",a.last).replace("{rows}",a.rows).replace("{totalRecords}",a.totalRecords),s=e({"aria-live":"polite",className:"p-paginator-current"},n.ptm("current",{hostName:n.hostName})),l=b.createElement("span",s,i);if(n.template){var c=uP(uP({},a),{ariaLive:"polite",className:"p-paginator-current",element:l,props:n});return Me.getJSXElement(n.template,c)}return l});sT.displayName="CurrentPageReport";function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lT=b.memo(function(t){var e=$n(),r=b.useContext(ra),n=Zz.getProps(t,r),a=n.ptm,i=n.cx,s=function(y){return a(y,{hostName:n.hostName,context:{disabled:n.disabled}})},l=ur("p-paginator-first p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("firstPageIcon")},s("firstPageIcon")),f=n.firstPageLinkIcon||b.createElement(BI,u),p=ga.getJSXIcon(f,oB({},u),{props:n}),h=e({type:"button",className:i("firstPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":ki("firstPageLabel")},s("firstPageButton")),g=b.createElement("button",h,p,b.createElement(Ai,null));if(n.template){var x={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:g,props:n};return Me.getJSXElement(n.template,x)}return g});lT.displayName="FirstPageLink";function iB(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function sB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var qi=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),hs=iB(function t(){sB(this,t)});Jo(hs,"ripple",!1);Jo(hs,"inputStyle","outlined");Jo(hs,"locale","en");Jo(hs,"appendTo",null);Jo(hs,"cssTransition",!0);Jo(hs,"autoZIndex",!0);Jo(hs,"hideOverlaysOnDocumentScrolling",!1);Jo(hs,"nonce",null);Jo(hs,"nullSortOrder",1);Jo(hs,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Jo(hs,"pt",void 0);Jo(hs,"filterMatchModeOptions",{text:[qi.STARTS_WITH,qi.CONTAINS,qi.NOT_CONTAINS,qi.ENDS_WITH,qi.EQUALS,qi.NOT_EQUALS],numeric:[qi.EQUALS,qi.NOT_EQUALS,qi.LESS_THAN,qi.LESS_THAN_OR_EQUAL_TO,qi.GREATER_THAN,qi.GREATER_THAN_OR_EQUAL_TO],date:[qi.DATE_IS,qi.DATE_IS_NOT,qi.DATE_BEFORE,qi.DATE_AFTER]});Jo(hs,"changeTheme",function(t,e,r,n){var a,i=document.getElementById(r);if(!i)throw Error("Element with id ".concat(r," not found."));var s=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",r),l.setAttribute("href",s),l.addEventListener("load",function(){n&&n()}),(a=i.parentNode)===null||a===void 0||a.replaceChild(l,i)});var lB={en:{accept:"Yes",addRule:"Add Rule",am:"AM",apply:"Apply",cancel:"Cancel",choose:"Choose",chooseDate:"Choose Date",chooseMonth:"Choose Month",chooseYear:"Choose Year",clear:"Clear",completed:"Completed",contains:"Contains",custom:"Custom",dateAfter:"Date is after",dateBefore:"Date is before",dateFormat:"mm/dd/yy",dateIs:"Date is",dateIsNot:"Date is not",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],emptyFilterMessage:"No results found",emptyMessage:"No available options",emptySearchMessage:"No results found",emptySelectionMessage:"No selected item",endsWith:"Ends with",equals:"Equals",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],filter:"Filter",firstDayOfWeek:0,gt:"Greater than",gte:"Greater than or equal to",lt:"Less than",lte:"Less than or equal to",matchAll:"Match All",matchAny:"Match Any",medium:"Medium",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nextDecade:"Next Decade",nextHour:"Next Hour",nextMinute:"Next Minute",nextMonth:"Next Month",nextSecond:"Next Second",nextYear:"Next Year",noFilter:"No Filter",notContains:"Not contains",notEquals:"Not equals",now:"Now",passwordPrompt:"Enter a password",pending:"Pending",pm:"PM",prevDecade:"Previous Decade",prevHour:"Previous Hour",prevMinute:"Previous Minute",prevMonth:"Previous Month",prevSecond:"Previous Second",prevYear:"Previous Year",reject:"No",removeRule:"Remove Rule",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",showMonthAfterYear:!1,startsWith:"Starts with",strong:"Strong",today:"Today",upload:"Upload",weak:"Weak",weekHeader:"Wk",aria:{cancelEdit:"Cancel Edit",close:"Close",collapseRow:"Row Collapsed",editRow:"Edit Row",expandRow:"Row Expanded",falseLabel:"False",filterConstraint:"Filter Constraint",filterOperator:"Filter Operator",firstPageLabel:"First Page",gridView:"Grid View",hideFilterMenu:"Hide Filter Menu",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",lastPageLabel:"Last Page",listLabel:"Option List",listView:"List View",moveAllToSource:"Move All to Source",moveAllToTarget:"Move All to Target",moveBottom:"Move Bottom",moveDown:"Move Down",moveToSource:"Move to Source",moveToTarget:"Move to Target",moveTop:"Move Top",moveUp:"Move Up",navigation:"Navigation",next:"Next",nextPageLabel:"Next Page",nullLabel:"Not Selected",pageLabel:"Page {page}",otpLabel:"Please enter one time password character {0}",passwordHide:"Hide Password",passwordShow:"Show Password",previous:"Previous",prevPageLabel:"Previous Page",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",rowsPerPageLabel:"Rows per page",saveEdit:"Save Edit",scrollTop:"Scroll Top",selectAll:"All items selected",selectRow:"Row Selected",showFilterMenu:"Show Filter Menu",slide:"Slide",slideNumber:"{slideNumber}",star:"1 star",stars:"{star} stars",trueLabel:"True",unselectAll:"All items unselected",unselectRow:"Row Unselected",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out"}}};function cT(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe ariaKey detected");var r=hs.locale;try{var n=cB(r).aria[t];if(n)for(var a in e)e.hasOwnProperty(a)&&(n=n.replace("{".concat(a,"}"),e[a]));return n}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function cB(t){var e=t||hs.locale;if(e.includes("__proto__")||e.includes("prototype"))throw new Error("Unsafe locale detected");return lB[e]}var uT=b.memo(function(t){$n();var e=b.useContext(ra),r=Qz.getProps(t,e),n=cT("jumpToPageInputLabel"),a=function(u){r.onChange&&r.onChange(r.rows*(u.value-1),r.rows)},i=r.totalPages>0?r.page+1:0,s=b.createElement(GI,{value:i,onChange:a,className:"p-paginator-page-input",disabled:r.disabled,pt:r.ptm("JTPInput"),unstyled:r.unstyled,__parentMetadata:{parent:r.metaData},"aria-label":n});if(r.template){var l={value:i,onChange:a,disabled:r.disabled,className:"p-paginator-page-input","aria-label":n,element:s,props:r};return Me.getJSXElement(r.template,l)}return s});uT.displayName="JumpToPageInput";function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dT=b.memo(function(t){var e=$n(),r=b.useContext(ra),n=eB.getProps(t,r),a=n.ptm,i=n.cx,s=function(y){return a(y,{hostName:n.hostName,context:{disabled:n.disabled}})},l=ur("p-paginator-last p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("lastPageIcon")},s("lastPageIcon")),f=n.lastPageLinkIcon||b.createElement(KI,u),p=ga.getJSXIcon(f,uB({},u),{props:n}),h=e({type:"button",className:i("lastPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":ki("lastPageLabel")},s("lastPageButton")),g=b.createElement("button",h,p,b.createElement(Ai,null));if(n.template){var x={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:g,props:n};return Me.getJSXElement(n.template,x)}return g});dT.displayName="LastPageLink";function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fT=b.memo(function(t){var e=$n(),r=b.useContext(ra),n=tB.getProps(t,r),a=n.ptm,i=n.cx,s=function(y){return a(y,{hostName:n.hostName,context:{disabled:n.disabled}})},l=ur("p-paginator-next p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("nextPageIcon")},s("nextPageIcon")),f=n.nextPageLinkIcon||b.createElement(YI,u),p=ga.getJSXIcon(f,dB({},u),{props:n}),h=e({type:"button",className:i("nextPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":ki("nextPageLabel")},s("nextPageButton")),g=b.createElement("button",h,p,b.createElement(Ai,null));if(n.template){var x={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:g,nextPageLinkIcon:p,props:n};return Me.getJSXElement(n.template,x)}return g});fT.displayName="NextPageLink";var mT=b.memo(function(t){var e=$n(),r=b.useContext(ra),n=rB.getProps(t,r),a=n.ptm,i=n.cx,s=function(g,x){return a(x,{hostName:n.hostName,context:{active:g-1===n.page}})},l=function(g,x){n.onClick&&n.onClick({originalEvent:g,value:x}),g.preventDefault()},c;if(n.value){var u=n.value[0],f=n.value[n.value.length-1];c=n.value.map(function(h){var g=ur("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":h===u,"p-paginator-page-end":h===f,"p-highlight":h-1===n.page}),x=e({type:"button",onClick:function(C){return l(C,h)},className:i("pageButton",{pageLink:h,startPageInView:u,endPageInView:f,page:n.page}),disabled:n.disabled,"aria-label":ki("pageLabel",{page:h}),"aria-current":h-1===n.page?"true":void 0},s(h,"pageButton")),v=b.createElement("button",x,h,b.createElement(Ai,null));if(n.template){var y={onClick:function(C){return l(C,h)},className:g,view:{startPage:u-1,endPage:f-1},page:h-1,currentPage:n.page,totalPages:n.totalPages,ariaLabel:ki("pageLabel",{page:h}),ariaCurrent:h-1===n.page?"true":void 0,element:v,props:n};v=Me.getJSXElement(n.template,y)}return b.createElement(b.Fragment,{key:h},v)})}var p=e({className:i("pages")},a("pages",{hostName:n.hostName}));return b.createElement("span",p,c)});mT.displayName="PageLinks";function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pT=b.memo(function(t){var e=$n(),r=b.useContext(ra),n=nB.getProps(t,r),a=n.ptm,i=n.cx,s=function(y){return a(y,{hostName:n.hostName,context:{disabled:n.disabled}})},l=ur("p-paginator-prev p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("prevPageIcon")},s("prevPageIcon")),f=n.prevPageLinkIcon||b.createElement(JI,u),p=ga.getJSXIcon(f,fB({},u),{props:n}),h=e({type:"button",className:i("prevPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":ki("prevPageLabel")},s("prevPageButton")),g=b.createElement("button",h,p,b.createElement(Ai,null));if(n.template){var x={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:g,props:n};return Me.getJSXElement(n.template,x)}return g});pT.displayName="PrevPageLink";var hT=b.memo(function(t){$n();var e=b.useContext(ra),r=aB.getProps(t,e),n=r.options&&r.options.length>0,a=n?r.options.map(function(u){return{label:String(u),value:u}}):[],i=js("choose"),s=cT("jumpToPageDropdownLabel"),l=n?b.createElement(b.Fragment,null,b.createElement(wh,{value:r.value,options:a,onChange:r.onChange,appendTo:r.appendTo,disabled:r.disabled,placeholder:i,"aria-label":s,pt:r.ptm("RPPDropdown"),unstyled:r.unstyled,__parentMetadata:{parent:r.metaData}})):null;if(r.template){var c={value:r.value,options:a,onChange:r.onChange,appendTo:r.appendTo,currentPage:r.page,totalPages:r.pageCount,totalRecords:r.totalRecords,disabled:r.disabled,ariaLabel:s,element:l,props:r};return Me.getJSXElement(r.template,c)}return l});hT.displayName="RowsPerPageDropdown";function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gT=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=Qg.getProps(t,n),i=mB({props:a},a.__parentMetadata),s=Qg.setMetaData(i),l=s.ptm,c=s.cx,u=s.isUnstyled;Fl(Qg.css.styles,u,{name:"paginator"});var f=b.useRef(null),p=Math.floor(a.first/a.rows),h=Math.ceil(a.totalRecords/a.rows),g=p===0,x=p===h-1,v=h===0,y=function(){var K=h,U=Math.min(a.pageLinkSize,K),j=Math.max(0,Math.ceil(p-U/2)),Y=Math.min(K-1,j+U-1),G=a.pageLinkSize-(Y-j+1);return j=Math.max(0,j-G),[j,Y]},E=function(){for(var K=[],U=y(),j=U[0],Y=U[1],G=j;G<=Y;G++)K.push(G+1);return K},C=function(K,U){var j=h,Y=Math.floor(K/U);if(Y>=0&&Y<j){var G={first:K,rows:U,page:Y,totalPages:j};a.onPageChange&&a.onPageChange(G)}},k=function(K){C(0,a.rows),K.preventDefault()},_=function(K){C(a.first-a.rows,a.rows),K.preventDefault()},N=function(K){C((K.value-1)*a.rows,a.rows)},O=function(K){C(a.first+a.rows,a.rows),K.preventDefault()},R=function(K){C((h-1)*a.rows,a.rows),K.preventDefault()},D=function(K){var U=K.value;C(0,U)};b.useImperativeHandle(e,function(){return{props:a,getElement:function(){return f.current}}}),ma(function(){p>0&&a.first>=a.totalRecords&&C((h-1)*a.rows,a.rows)},[a.totalRecords]);var B=function(K,U){var j;switch(K){case"FirstPageLink":j=b.createElement(lT,{hostName:"Paginator",key:K,page:p,totalPages:h,totalRecords:a.totalRecords,rows:a.rows,onClick:k,disabled:g||v,template:U,firstPageLinkIcon:a.firstPageLinkIcon,ptm:l,cx:c});break;case"PrevPageLink":j=b.createElement(pT,{hostName:"Paginator",key:K,page:p,totalPages:h,totalRecords:a.totalRecords,rows:a.rows,onClick:_,disabled:g||v,template:U,prevPageLinkIcon:a.prevPageLinkIcon,ptm:l,cx:c});break;case"NextPageLink":j=b.createElement(fT,{hostName:"Paginator",key:K,page:p,totalPages:h,totalRecords:a.totalRecords,rows:a.rows,onClick:O,disabled:x||v,template:U,nextPageLinkIcon:a.nextPageLinkIcon,ptm:l,cx:c});break;case"LastPageLink":j=b.createElement(dT,{hostName:"Paginator",key:K,page:p,totalPages:h,totalRecords:a.totalRecords,rows:a.rows,onClick:R,disabled:x||v,template:U,lastPageLinkIcon:a.lastPageLinkIcon,ptm:l,cx:c});break;case"PageLinks":j=b.createElement(mT,{hostName:"Paginator",key:K,page:p,totalPages:h,totalRecords:a.totalRecords,rows:a.rows,value:E(),onClick:N,template:U,ptm:l,cx:c});break;case"RowsPerPageDropdown":j=b.createElement(hT,{hostName:"Paginator",key:K,value:a.rows,page:p,totalPages:h,totalRecords:a.totalRecords,options:a.rowsPerPageOptions,onChange:D,appendTo:a.dropdownAppendTo,template:U,disabled:v,unstyled:a.unstyled,ptm:l,cx:c,metaData:i});break;case"CurrentPageReport":j=b.createElement(sT,{hostName:"Paginator",reportTemplate:a.currentPageReportTemplate,key:K,page:p,totalPages:h,totalRecords:a.totalRecords,rows:a.rows,first:a.first,template:U,ptm:l});break;case"JumpToPageInput":j=b.createElement(uT,{hostName:"Paginator",key:K,rows:a.rows,page:p,totalPages:h,onChange:C,disabled:v,template:U,ptm:l,unstyled:a.unstyled,metaData:i});break;default:j=null;break}return j},z=function(){var K=a.template;return K?Tm(K)==="object"?K.layout?K.layout.split(" ").map(function(U){var j=U.trim();return B(j,K[j])}):Object.entries(K).map(function(U){var j=Vz(U,2),Y=j[0],G=j[1];return B(Y,G)}):K.split(" ").map(function(U){return B(U.trim())}):null};if(!a.alwaysShow&&h<=1)return null;var I=Me.getJSXElement(a.leftContent,a),L=Me.getJSXElement(a.rightContent,a),M=z(),F=r({className:c("left")},l("left")),H=I&&b.createElement("div",F,I),J=r({className:c("end")},l("end")),ee=L&&b.createElement("div",J,L),re=r({ref:f,className:ur(a.className,c("root")),style:a.style},Qg.getOtherProps(a),l("root"));return b.createElement("div",re,H,M,ee)}));gT.displayName="Paginator";function ME(){return ME=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ME.apply(null,arguments)}var vT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",ME({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"}))}));vT.displayName="BarsIcon";function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FE.apply(null,arguments)}var BS=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",FE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))}));BS.displayName="ChevronRightIcon";function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(null,arguments)}var bT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",$E({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"}))}));bT.displayName="PencilIcon";function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xp.apply(null,arguments)}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function pB(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hB(t){var e=pB(t,"string");return xh(e)=="symbol"?e:e+""}function yu(t,e,r){return(e=hB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var gB={root:function(e){var r=e.props;return ur("p-badge p-component",yu({"p-badge-no-gutter":Me.isNotEmpty(r.value)&&String(r.value).length===1,"p-badge-dot":Me.isEmpty(r.value),"p-badge-lg":r.size==="large","p-badge-xl":r.size==="xlarge"},"p-badge-".concat(r.severity),r.severity!==null))}},vB=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,ev=yn.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:gB,styles:vB}});function gP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(r),!0).forEach(function(n){yu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yT=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=ev.getProps(t,n),i=ev.setMetaData(bB({props:a},a.__parentMetadata)),s=i.ptm,l=i.cx,c=i.isUnstyled;Fl(ev.css.styles,c,{name:"badge"});var u=b.useRef(null);b.useImperativeHandle(e,function(){return{props:a,getElement:function(){return u.current}}});var f=r({ref:u,style:a.style,className:ur(a.className,l("root"))},ev.getOtherProps(a),s("root"));return b.createElement("span",f,a.value)}));yT.displayName="Badge";var yB={icon:function(e){var r=e.props;return ur("p-button-icon p-c",yu({},"p-button-icon-".concat(r.iconPos),r.label))},loadingIcon:function(e){var r=e.props,n=e.className;return ur(n,{"p-button-loading-icon":r.loading})},label:"p-button-label p-c",root:function(e){var r=e.props,n=e.size,a=e.disabled;return ur("p-button p-component",yu(yu(yu(yu({"p-button-icon-only":(r.icon||r.loading)&&!r.label&&!r.children,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":a,"p-button-loading":r.loading,"p-button-outlined":r.outlined,"p-button-raised":r.raised,"p-button-link":r.link,"p-button-text":r.text,"p-button-rounded":r.rounded,"p-button-loading-label-only":r.loading&&!r.icon&&r.label},"p-button-loading-".concat(r.iconPos),r.loading&&r.label),"p-button-".concat(n),n),"p-button-".concat(r.severity),r.severity),"p-button-plain",r.plain))}},tv=yn.extend({defaultProps:{__TYPE:"Button",__parentMetadata:null,badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,plain:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0},css:{classes:yB}});function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){yu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bp=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=tv.getProps(t,n),i=a.disabled||a.loading,s=$y($y({props:a},a.__parentMetadata),{},{context:{disabled:i}}),l=tv.setMetaData(s),c=l.ptm,u=l.cx,f=l.isUnstyled;Fl(tv.css.styles,f,{name:"button",styled:!0});var p=b.useRef(e);if(b.useEffect(function(){Me.combinedRefs(p,e)},[p,e]),a.visible===!1)return null;var h=function(){var B=ur("p-button-icon p-c",yu({},"p-button-icon-".concat(a.iconPos),a.label)),z=r({className:u("icon")},c("icon"));B=ur(B,{"p-button-loading-icon":a.loading});var I=r({className:u("loadingIcon",{className:B})},c("loadingIcon")),L=a.loading?a.loadingIcon||b.createElement(ug,Xp({},I,{spin:!0})):a.icon;return ga.getJSXIcon(L,$y({},z),{props:a})},g=function(){var B=r({className:u("label")},c("label"));return a.label?b.createElement("span",B,a.label):!a.children&&!a.label&&b.createElement("span",Xp({},B,{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))},x=function(){if(a.badge){var B=r({className:ur(a.badgeClassName),value:a.badge,unstyled:a.unstyled,__parentMetadata:{parent:s}},c("badge"));return b.createElement(yT,B,a.badge)}return null},v=!i||a.tooltipOptions&&a.tooltipOptions.showOnDisabled,y=Me.isNotEmpty(a.tooltip)&&v,E={large:"lg",small:"sm"},C=E[a.size],k=h(),_=g(),N=x(),O=a.label?a.label+(a.badge?" "+a.badge:""):a["aria-label"],R=r({ref:p,"aria-label":O,"data-pc-autofocus":a.autoFocus,className:ur(a.className,u("root",{size:C,disabled:i})),disabled:i},tv.getOtherProps(a),c("root"));return b.createElement(b.Fragment,null,b.createElement("button",R,k,_,a.children,N,b.createElement(Ai,null)),y&&b.createElement(Ru,Xp({target:p,content:a.tooltip,pt:c("tooltip")},a.tooltipOptions)))}));Bp.displayName="Button";function zE(){return zE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zE.apply(null,arguments)}var wT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",zE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"}))}));wT.displayName="FilterIcon";function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(null,arguments)}var xT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",BE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"}))}));xT.displayName="FilterSlashIcon";function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qE.apply(null,arguments)}var ET=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",qE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"}))}));ET.displayName="PlusIcon";function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UE.apply(null,arguments)}var ST=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",UE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"}))}));ST.displayName="TrashIcon";function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HE.apply(null,arguments)}var CT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",HE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"}),b.createElement("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"}),b.createElement("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"}),b.createElement("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"}))}));CT.displayName="SortAltIcon";function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WE.apply(null,arguments)}var NT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",WE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z",fill:"currentColor"}))}));NT.displayName="SortAmountDownIcon";function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VE.apply(null,arguments)}var PT=b.memo(b.forwardRef(function(t,e){var r=Sa.getPTI(t);return b.createElement("svg",VE({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),b.createElement("path",{d:"M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z",fill:"currentColor"}))}));PT.displayName="SortAmountUpAltIcon";function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fa.apply(null,arguments)}function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function wB(t,e){if(Eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xB(t){var e=wB(t,"string");return Eh(e)=="symbol"?e:e+""}function ea(t,e,r){return(e=xB(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function EB(t){if(Array.isArray(t))return GE(t)}function SB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kT(t,e){if(t){if(typeof t=="string")return GE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GE(t,e):void 0}}function CB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qa(t){return EB(t)||SB(t)||kT(t)||CB()}function NB(t){if(Array.isArray(t))return t}function PB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ia(t,e){return NB(t)||PB(t,e)||kT(t,e)||kB()}var zy=function(e){switch(e){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(e+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},Ka=yn.extend({defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidateOnClose:!1,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:null,rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(e,r){return Me.getComponentProp(e,r,Ka.defaultProps)},getCProps:function(e){return Me.getComponentProps(e,Ka.defaultProps)},getCOtherProps:function(e){return Me.getComponentDiffProps(e,Ka.defaultProps)}});function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AB=`
@layer primereact {
    .p-datatable {
        position: relative;
    }

    .p-datatable > .p-datatable-wrapper {
        overflow: auto;
    }

    .p-datatable-table {
        border-spacing: 0px;
        width: 100%;
    }

    .p-datatable .p-sortable-disabled {
        cursor: auto;
    }

    .p-datatable .p-sortable-column {
        cursor: pointer;
        user-select: none;
    }

    .p-datatable .p-sortable-column .p-column-title,
    .p-datatable .p-sortable-column .p-sortable-column-icon,
    .p-datatable .p-sortable-column .p-sortable-column-badge {
        vertical-align: middle;
    }

    .p-datatable .p-sortable-column .p-sortable-column-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }

    .p-datatable-selectable .p-selectable-row,
    .p-datatable-selectable-cell .p-selectable-cell {
        cursor: pointer;
    }

    .p-datatable-drag-selection-helper {
        position: absolute;
        z-index: 99999999;
    }

    /* Scrollable */
    .p-datatable-scrollable > .p-datatable-wrapper {
        position: relative;
    }

    .p-datatable-scrollable-table > .p-datatable-thead {
        position: sticky;
        top: 0;
        z-index: 2;
    }

    .p-datatable.p-datatable-gridlines .p-datatable-scrollable-table > .p-datatable-thead {
        top: -1px;
    }

    .p-datatable-scrollable-table > .p-datatable-frozen-tbody {
        position: sticky;
        z-index: 1;
    }

    .p-datatable-scrollable-table > .p-datatable-tfoot {
        position: sticky;
        bottom: 0;
        z-index: 1;
    }

    .p-datatable-scrollable .p-frozen-column {
        position: sticky;
        background: inherit;
    }

    .p-datatable-scrollable th.p-frozen-column {
        z-index: 1;
    }

    .p-datatable-flex-scrollable {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .p-datatable-flex-scrollable > .p-datatable-wrapper {
        display: flex;
        flex-direction: column;
        flex: 1;
        height: 100%;
    }

    .p-datatable-scrollable-table > .p-datatable-tbody > .p-rowgroup-header {
        position: sticky;
        z-index: 1;
    }

    /* Resizable */
    .p-datatable-resizable-table > .p-datatable-thead > tr > th,
    .p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
    .p-datatable-resizable-table > .p-datatable-tbody > tr > td {
        overflow: hidden;
        white-space: nowrap;
    }

    .p-datatable-resizable-table > .p-datatable-thead > tr > th.p-resizable-column:not(.p-frozen-column) {
        background-clip: padding-box;
        position: relative;
    }

    .p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-resizable-column:last-child .p-column-resizer {
        display: none;
    }

    .p-datatable .p-column-resizer {
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        width: 0.5rem;
        height: 100%;
        padding: 0px;
        cursor: col-resize;
        border: 1px solid transparent;
    }

    .p-datatable .p-column-header-content {
        display: flex;
        align-items: center;
    }

    .p-datatable .p-column-resizer-helper {
        width: 1px;
        position: absolute;
        z-index: 10;
        display: none;
    }

    .p-datatable .p-row-editor-init,
    .p-datatable .p-row-editor-save,
    .p-datatable .p-row-editor-cancel {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    /* Expand */
    .p-datatable .p-row-toggler {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    /* Reorder */
    .p-datatable-reorder-indicator-up,
    .p-datatable-reorder-indicator-down {
        position: absolute;
        display: none;
    }

    .p-reorderable-column,
    .p-datatable-reorderablerow-handle {
        cursor: move;
    }

    /* Loader */
    .p-datatable .p-datatable-loading-overlay {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
    }

    /* Filter */
    .p-column-filter-row {
        display: flex;
        align-items: center;
        width: 100%;
    }

    .p-column-filter-menu {
        display: inline-flex;
        margin-left: auto;
    }

    .p-column-filter-row .p-column-filter-element {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-column-filter-menu-button,
    .p-column-filter-clear-button {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    .p-column-filter-overlay {
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-column-filter-row-items {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-column-filter-row-item {
        cursor: pointer;
    }

    .p-column-filter-add-button,
    .p-column-filter-remove-button {
        justify-content: center;
    }

    .p-column-filter-add-button .p-button-label,
    .p-column-filter-remove-button .p-button-label {
        flex-grow: 0;
    }

    .p-column-filter-buttonbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    /* Responsive */
    .p-datatable .p-datatable-tbody > tr > td > .p-column-title {
        display: none;
    }

    /* VirtualScroller */
    .p-datatable-virtualscroller-spacer {
        display: flex;
    }

    .p-datatable .p-virtualscroller .p-virtualscroller-loading {
        transform: none;
        min-height: 0;
        position: sticky;
        top: 0;
        left: 0;
    }

    /* Alignment */
    .p-datatable .p-datatable-thead > tr > th.p-align-left > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-left,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-left {
        text-align: left;
        justify-content: flex-start;
    }

    .p-datatable .p-datatable-thead > tr > th.p-align-right > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-right,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-right {
        text-align: right;
        justify-content: flex-end;
    }

    .p-datatable .p-datatable-thead > tr > th.p-align-center > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-center,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-center {
        text-align: center;
        justify-content: center;
    }
}
`,_B={root:function(e){var r=e.props,n=e.selectable;return ur("p-datatable p-component",{"p-datatable-hoverable-rows":r.rowHover,"p-datatable-selectable":n&&!r.cellSelection,"p-datatable-selectable-cell":n&&r.cellSelection,"p-datatable-resizable":r.resizableColumns,"p-datatable-resizable-fit":r.resizableColumns&&r.columnResizeMode==="fit","p-datatable-scrollable":r.scrollable,"p-datatable-flex-scrollable":r.scrollable&&r.scrollHeight==="flex","p-datatable-responsive-stack":r.responsiveLayout==="stack","p-datatable-responsive-scroll":r.responsiveLayout==="scroll","p-datatable-striped":r.stripedRows,"p-datatable-gridlines":r.showGridlines,"p-datatable-grouped-header":r.headerColumnGroup!=null,"p-datatable-grouped-footer":r.footerColumnGroup!=null,"p-datatable-sm":r.size==="small","p-datatable-lg":r.size==="large"})},loadingIcon:"p-datatable-loading-icon",loadingOverlay:"p-datatable-loading-overlay p-component-overlay",header:"p-datatable-header",wrapper:"p-datatable-wrapper",table:function(e){var r=e.props;return ur("p-datatable-table",{"p-datatable-scrollable-table":r.scrollable,"p-datatable-resizable-table":r.resizableColumns,"p-datatable-resizable-table-fit":r.resizableColumns&&r.columnResizeMode==="fit"})},thead:"p-datatable-thead",tfoot:"p-datatable-tfoot",footer:"p-datatable-footer",checkIcon:"p-checkbox-icon",resizeHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-datatable-reorder-indicator-up",reorderIndicatorDown:"p-datatable-reorder-indicator-down",paginator:function(e){var r=e.position;return ur("p-paginator-"+r)},bodyCell:function(e){var r=e.selectionMode,n=e.editor,a=e.editingState,i=e.frozen,s=e.cellSelected,l=e.align,c=e.bodyProps,u=e.getCellParams;return ur(ea({"p-selection-column":r!==null,"p-editable-column":n,"p-cell-editing":n&&a,"p-frozen-column":i,"p-selectable-cell":c.allowCellSelection&&c.isSelectable({data:u(),index:c.rowIndex}),"p-highlight":s},"p-align-".concat(l),!!l))},columnTitle:"p-column-title",bodyRow:function(e){var r=e.rowProps;return ur({"p-highlight":!r.allowCellSelection&&r.selected||r.contextMenuSelected,"p-highlight-contextmenu":r.contextMenuSelected,"p-selectable-row":r.allowRowSelection&&r.isSelectable({data:r.rowData,index:r.rowIndex}),"p-row-odd":r.rowIndex%2!==0})},rowGroupTogglerIcon:"p-row-toggler-icon",rowGroupToggler:"p-row-toggler p-link",rowGroupHeader:"p-rowgroup-header",rowGroupHeaderName:"p-rowgroup-header-name",rowGroupFooter:"p-rowgroup-footer",rowReorderIcon:"p-datatable-reorderablerow-handle",rowTogglerIcon:"p-row-toggler-icon",rowToggler:"p-row-toggler p-link",rowEditorSaveIcon:"p-row-editor-save-icon",rowEditorSaveButton:"p-row-editor-save p-link",rowEditorCancelIcon:"p-row-editor-cancel-icon",rowEditorCancelButton:"p-row-editor-cancel p-link",rowEditorInitIcon:"p-row-editor-init-icon",rowEditorInitButton:"p-row-editor-init p-link",rowExpansion:"p-datatable-row-expansion",virtualScrollerSpacer:function(e){var r=e.className;return r},tbody:function(e){var r=e.className;return r},filterInput:"p-fluid p-column-filter-element",filterMenuButton:function(e){var r=e.overlayVisibleState,n=e.hasFilter;return ur("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":r,"p-column-filter-menu-button-active":n()})},headerFilterClearButton:function(e){var r=e.hasRowFilter;return ur("p-column-filter-clear-button p-link",{"p-hidden-space":!r()})},filterSeparator:"p-column-filter-separator",filterRowItem:function(e){var r=e.isRowMatchModeSelected,n=e.isShowMatchModes,a=e.value;return n()?ur("p-column-filter-row-item",{"p-highlight":a&&r(a)}):void 0},filterRowItems:"p-column-filter-row-items",filterOperator:"p-column-filter-operator",filterConstraints:"p-column-filter-constraints",filterConstraint:"p-column-filter-constraint",filterAddRule:"p-column-filter-add-rule",filterButtonBar:"p-column-filter-buttonbar",filterOverlay:function(e){var r=e.columnFilterProps,n=e.context,a=e.getColumnProp;return ur("p-column-filter-overlay p-component p-fluid",a("filterMenuClassName"),{"p-column-filter-overlay-menu":r.display==="menu","p-input-filled":n&&n.inputStyle==="filled"||Fn.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||Fn.ripple===!1})},columnFilter:function(e){var r=e.columnFilterProps;return ur("p-column-filter p-fluid",{"p-column-filter-row":r.display==="row","p-column-filter-menu":r.display==="menu"})},columnResizer:"p-column-resizer",emptyMessage:"p-datatable-emptymessage",sortBadge:"p-sortable-column-badge",sortIcon:"p-sortable-column-icon",headerTitle:"p-column-title",headerContent:"p-column-header-content",headerCell:function(e){var r=e.headerProps,n=e.frozen,a=e.sortMeta,i=e.align,s=e._isSortableDisabled,l=e.getColumnProp;return Me.isEmpty(r)?ur("p-filter-column",{"p-frozen-column":n}):ur(ea({"p-filter-column":!r.headerColumnGroup&&r.filterDisplay==="row","p-sortable-column":l("sortable"),"p-resizable-column":r.resizableColumns&&l("resizeable"),"p-highlight":a.sorted,"p-frozen-column":n,"p-selection-column":l("selectionMode"),"p-sortable-disabled":l("sortable")&&s,"p-reorderable-column":r.reorderableColumns&&l("reorderable")&&!n},"p-align-".concat(i),!!i))},footerCell:function(e){var r=e.getColumnProp,n=e.align;return ur(ea({"p-frozen-column":r("frozen")},"p-align-".concat(n),!!n))},transition:"p-connected-overlay"},OB={wrapper:{overflow:"auto"},resizeHelper:{display:"none"},reorderIndicatorUp:function(e){var r=e.style;return yP({},r)},reorderIndicatorDown:function(e){var r=e.style;return yP({},r)}},rv=yn.extend({defaultProps:{__TYPE:"DataTable",alwaysShowPaginator:!0,breakpoint:"960px",cellClassName:null,cellSelection:!1,checkIcon:null,className:null,collapsedRowIcon:null,columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:null,editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:null,expandedRows:null,exportFilename:"download",exportFunction:null,filterClearIcon:null,filterDelay:300,filterDisplay:"menu",filterIcon:null,filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenRow:!1,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:mo.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:null,metaKeySelection:!1,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowPointerDown:null,onRowPointerUp:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderIndicatorDownIcon:null,reorderIndicatorUpIcon:null,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"scroll",rowClassName:null,rowEditValidator:null,rowEditorCancelIcon:null,rowEditorInitIcon:null,rowEditorSaveIcon:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showHeaders:!0,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortIcon:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null,children:void 0},css:{styles:AB,classes:_B,inlineStyles:OB}});function IB(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qS(t,e){if(t==null)return{};var r,n,a=IB(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var TB={box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon",root:function(e){var r=e.props,n=e.checked,a=e.context;return ur("p-checkbox p-component",{"p-highlight":n,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":a&&a.inputStyle==="filled"})}},nv=yn.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:TB}});function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var US=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=nv.getProps(t,n),i=b.useState(!1),s=ia(i,2),l=s[0],c=s[1],u=nv.setMetaData({props:a,state:{focused:l},context:{checked:a.checked===a.trueValue,disabled:a.disabled}}),f=u.ptm,p=u.cx,h=u.isUnstyled;Fl(nv.css.styles,h,{name:"checkbox"});var g=b.useRef(null),x=b.useRef(a.inputRef),v=function(){return a.checked===a.trueValue},y=function(z){if(!(a.disabled||a.readOnly)&&a.onChange){var I,L=v(),M=L?a.falseValue:a.trueValue,F={originalEvent:z,value:a.value,checked:M,stopPropagation:function(){z==null||z.stopPropagation()},preventDefault:function(){z==null||z.preventDefault()},target:{type:"checkbox",name:a.name,id:a.id,value:a.value,checked:M}};if(a==null||(I=a.onChange)===null||I===void 0||I.call(a,F),z.defaultPrevented)return;Ue.focus(x.current)}},E=function(z){var I;c(!0),a==null||(I=a.onFocus)===null||I===void 0||I.call(a,z)},C=function(z){var I;c(!1),a==null||(I=a.onBlur)===null||I===void 0||I.call(a,z)};b.useImperativeHandle(e,function(){return{props:a,focus:function(){return Ue.focus(x.current)},getElement:function(){return g.current},getInput:function(){return x.current}}}),b.useEffect(function(){Me.combinedRefs(x,a.inputRef)},[x,a.inputRef]),ma(function(){x.current.checked=v()},[a.checked,a.trueValue]),$s(function(){a.autoFocus&&Ue.focus(x.current,a.autoFocus)});var k=v(),_=Me.isNotEmpty(a.tooltip),N=nv.getOtherProps(a),O=r({id:a.id,className:ur(a.className,p("root",{checked:k,context:n})),style:a.style,"data-p-highlight":k,"data-p-disabled":a.disabled,onContextMenu:a.onContextMenu,onMouseDown:a.onMouseDown},N,f("root")),R=function(){var z=Me.reduceKeys(N,Ue.ARIA_PROPS),I=r(xP({id:a.inputId,type:"checkbox",className:p("input"),name:a.name,tabIndex:a.tabIndex,onFocus:function(M){return E(M)},onBlur:function(M){return C(M)},onChange:function(M){return y(M)},disabled:a.disabled,readOnly:a.readOnly,required:a.required,"aria-invalid":a.invalid,checked:k},z),f("input"));return b.createElement("input",fa({ref:x},I))},D=function(){var z=r({className:p("icon")},f("icon")),I=r({className:p("box",{checked:k}),"data-p-highlight":k,"data-p-disabled":a.disabled},f("box")),L=k?a.icon||b.createElement(ap,z):null,M=ga.getJSXIcon(L,xP({},z),{props:a,checked:k});return b.createElement("div",I,M)};return b.createElement(b.Fragment,null,b.createElement("div",fa({ref:g},O),R(),D()),_&&b.createElement(Ru,fa({target:g,content:a.tooltip,pt:f("tooltip")},a.tooltipOptions)))}));US.displayName="Checkbox";function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AT=b.memo(function(t){var e=$n(),r=function(){return Ka.getCProps(t.column)},n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=n.cx,l=function(v){var y={props:r(),parent:t.metaData,hostName:t.hostName,state:{},context:{index:t.tabIndex,checked:t.checked,disabled:t.disabled}};return e(a("column.".concat(v),{column:y}),a("column.".concat(v),y),i(r(),v,y))},c=function(v){t.disabled||t.onChange(v)},u=e({className:s("checkIcon")},l("rowCheckbox.icon")),f=t.checked?t.checkIcon||b.createElement(ap,u):null,p=ga.getJSXIcon(f,RB({},u),{props:t}),h=t.disabled?null:"0",g={role:"checkbox","aria-checked":t.checked,tabIndex:h,onChange:c,"aria-label":t.ariaLabel,checked:t.checked,icon:p,disabled:t.disabled,unstyled:t.unstyled,pt:l("rowCheckbox")};return b.createElement(US,g)});AT.displayName="RowCheckbox";var LB={root:function(e){var r=e.props,n=e.context;return ur("p-radiobutton p-component",{"p-highlight":r.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},av=yn.extend({defaultProps:{__TYPE:"RadioButton",autoFocus:!1,checked:!1,className:null,disabled:!1,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onClick:null,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:LB}});function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _T=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=av.getProps(t,n),i=b.useRef(null),s=b.useRef(a.inputRef),l=av.setMetaData({props:a}),c=l.ptm,u=l.cx,f=l.isUnstyled;Fl(av.css.styles,f,{name:"radiobutton"});var p=function(N){h(N)},h=function(N){if(!(a.disabled||a.readOnly)&&a.onChange){var O=a.checked,R=N.target instanceof HTMLDivElement,D=N.target===s.current,B=D&&N.target.checked!==O,z=R&&(Ue.hasClass(i.current,"p-radiobutton-checked")===O?!O:!1),I=!O,L={originalEvent:N,value:a.value,checked:I,stopPropagation:function(){N==null||N.stopPropagation()},preventDefault:function(){N==null||N.preventDefault()},target:{type:"radio",name:a.name,id:a.id,value:a.value,checked:I}};if(B||z){var M;if(a==null||(M=a.onChange)===null||M===void 0||M.call(a,L),N.defaultPrevented)return;z&&(s.current.checked=I)}Ue.focus(s.current)}},g=function(N){var O;a==null||(O=a.onFocus)===null||O===void 0||O.call(a,N)},x=function(N){var O;a==null||(O=a.onBlur)===null||O===void 0||O.call(a,N)};b.useImperativeHandle(e,function(){return{props:a,select:p,focus:function(){return Ue.focus(s.current)},getElement:function(){return i.current},getInput:function(){return s.current}}}),b.useEffect(function(){s.current&&(s.current.checked=a.checked)},[a.checked]),b.useEffect(function(){Me.combinedRefs(s,a.inputRef)},[s,a.inputRef]),$s(function(){a.autoFocus&&Ue.focus(s.current,a.autoFocus)});var v=Me.isNotEmpty(a.tooltip),y=av.getOtherProps(a),E=r({id:a.id,className:ur(a.className,u("root",{context:n})),style:a.style,"data-p-checked":a.checked},y,c("root"));delete E.input,delete E.box,delete E.icon;var C=function(){var N=Me.reduceKeys(y,Ue.ARIA_PROPS),O=r(jB({id:a.inputId,type:"radio",name:a.name,defaultChecked:a.checked,onFocus:g,onBlur:x,onChange:h,disabled:a.disabled,readOnly:a.readOnly,required:a.required,tabIndex:a.tabIndex,className:u("input")},N),t.input,c("input"));return b.createElement("input",fa({ref:s},O))},k=function(){var N=r({className:u("box")},t.box,c("box")),O=r({className:u("icon")},t.icon,c("icon"));return b.createElement("div",N,b.createElement("div",O))};return b.createElement(b.Fragment,null,b.createElement("div",fa({ref:i},E),C(),k()),v&&b.createElement(Ru,fa({target:i,content:a.tooltip,pt:c("tooltip")},a.tooltipOptions)))}));_T.displayName="RadioButton";var OT=b.memo(function(t){var e=$n(),r=function(){return Ka.getCProps(t.column)},n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=function(f){var p={props:r(),parent:t.metaData,hostName:t.hostName,state:{},context:{index:t.tabIndex,checked:t.checked,disabled:t.disabled}};return e(a("column.".concat(f),{column:p}),a("column.".concat(f),p),i(r(),f,p))},l=function(f){t.disabled||t.onChange(f)},c={role:"radio","aria-checked":t.checked,checked:t.checked,disabled:t.disabled,name:"".concat(t.tableSelector,"_dt_radio"),onChange:l,unstyled:t.unstyled,pt:s("rowRadioButton")};return b.createElement(_T,c)});OT.displayName="RowRadioButton";function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var IT=function(e){var r=$n(),n=b.useState(e.editing),a=ia(n,2),i=a[0],s=a[1],l=b.useState(e.rowData),c=ia(l,2),u=c[0],f=c[1],p=b.useState({}),h=ia(p,2),g=h[0],x=h[1],v=b.useRef(null),y=b.useRef(null),E=b.useRef(null),C=b.useRef(!1),k=b.useRef(null),_=b.useRef(null),N=b.useRef(null),O=e.ptCallbacks,R=O.ptm,D=O.ptmo,B=O.cx,z=function(Le){return Ka.getCProp(e.column,Le)},I=function(Le){var Ze={props:e.cProps,parent:e.metaData,hostName:e.hostName,state:{styleObject:g,editing:i,editingRowData:u},context:{index:e.index,size:e.metaData.props.size,showGridlines:e.metaData.props.showGridlines}};return r(R("column.".concat(Le),{column:Ze}),R("column.".concat(Le),Ze),D(e.cProps,Le,Ze))},L=function(){return Me.isNotEmpty(e.editMode)&&z("editor")},M=function(){return z("cellEditValidateOnClose")},F=wu({type:"click",listener:function(Le){setTimeout(function(){!C.current&&re(Le.target)&&Y(Le,!0)},0),C.current=!1},options:!0,when:L()}),H=ia(F,2),J=H[0],ee=H[1],re=function(Le){return v.current&&!(v.current.isSameNode(Le)||v.current.contains(Le))},te=function(){var Le=z("bodyStyle"),Ze=z("style");return e.frozenCol?Object.assign({},Ze,Le,g):Object.assign({},Ze,Le)},K=function(){return{value:e.resolveFieldData(),field:e.field,rowData:e.rowData,rowIndex:e.rowIndex,cellIndex:e.index,selected:e.isCellSelected,column:e.column,props:e}},U=function(Le){var Ze=K();return Ls({originalEvent:Le},Ze)},j=function(Le){var Ze=U(Le),Be=z("onBeforeCellEditHide");Be&&Be(Ze),setTimeout(function(){s(!1),ee(),md.off("overlay-click",E.current),E.current=null,N.current=null,C.current=!1},1)},Y=function(Le,Ze){var Be=U(Le),et=Ls({},N.current),Dt=e.resolveFieldData(et),Ut=Ls(Ls({},Be),{},{newRowData:et,newValue:Dt}),Vt=z("onCellEditCancel"),Jt=z("cellEditValidator"),dr=z("onCellEditComplete");!Ze&&Vt&&Vt(Ut);var lr=!0;(!Ze||M())&&Jt&&(lr=Jt(Ut)),lr?(Ze&&dr&&dr(Ut),j(Le)):Le.preventDefault(),f(et)},G=function(Le){var Ze=Ls({},u);Me.mutateFieldData(Ze,e.field,Le),f(Ze);var Be=e.getEditingRowData();Be&&Me.mutateFieldData(Be,e.field,Le),N.current=Ze},X=function(Le){e.onClick(Le,U(Le),L(),i,s,C,e.column,J,E)},ie=function(Le){var Ze=U(Le);e.onMouseDown&&e.onMouseDown(Ze)},ye=function(Le){var Ze=U(Le);e.onMouseUp&&e.onMouseUp(Ze)},me=function(Le){if(e.editMode!=="row"&&((Le.code==="Enter"||Le.code==="NumpadEnter"||Le.code==="Tab")&&Y(Le,!0),Le.code==="Escape"&&Y(Le,!1)),e.allowCellSelection){var Ze=Le.target,Be=Le.currentTarget;switch(Le.code){case"ArrowLeft":var et=e.findPrevSelectableCell(Be);et&&(changeTabIndex(Be,et),et.focus()),Le.preventDefault();break;case"ArrowRight":var Dt=e.findNextSelectableCell(Be);Dt&&(changeTabIndex(Be,Dt),Dt.focus()),Le.preventDefault();break;case"ArrowUp":var Ut=e.findUpSelectableCell(Be,index);Ut&&(changeTabIndex(Be,Ut),Ut.focus()),Le.preventDefault();break;case"ArrowDown":var Vt=e.findDownSelectableCell(Be,index);Vt&&(changeTabIndex(Be,Vt),Vt.focus()),Le.preventDefault();break;case"Enter":case"NumpadEnter":Le.shiftKey||Le.ctrlKey||Ue.isClickable(Ze)||(X(Le),Le.preventDefault());break;case"Space":!Ue.isClickable(Ze)&&!Ze.readOnly&&(X(Le),Le.preventDefault());break}}},he=function(Le){C.current=!1,e.editMode!=="row"&&i&&z("cellEditValidatorEvent")==="blur"&&Y(Le,!0)},je=function(Le){X(Le)},Fe=function(Le){e.onRadioChange({originalEvent:Le,data:e.rowData,index:e.rowIndex})},ue=function(Le){e.onRowToggle({originalEvent:Le,data:e.rowData}),Le.preventDefault(),Le.stopPropagation()},xe=function(Le){e.onRowEditInit({originalEvent:Le,data:e.rowData,newData:e.getEditingRowData(),field:e.field,index:e.rowIndex})},Pe=function(Le){e.onRowEditSave({originalEvent:Le,data:e.rowData,newData:e.getEditingRowData(),field:e.field,index:e.rowIndex}),e.focusOnInit(_,v)},_e=function(Le){e.onRowEditCancel({originalEvent:Le,data:e.rowData,newData:e.getEditingRowData(),field:e.field,index:e.rowIndex}),e.focusOnInit()};b.useEffect(function(){e.frozenCol&&e.updateStickyPosition(v,e.frozenCol,e.alignFrozenCol,g,x),(e.editMode==="cell"||e.editMode==="row")&&e.focusOnElement(k,i,v,y)},[e.editMode,e.editing,i,e.frozenCol,e.alignFrozenCol]),b.useEffect(function(){e.editMode==="row"&&e.editing!==i&&s(e.editing)},[e.editMode,e.editing,i]),ma(function(){if(e.editMode==="cell"||e.editMode==="row"){var Te=e.getEditingRowData();f(Te),N.current=Te}},[e.editingMeta]),b.useEffect(function(){if(e.editMode==="cell"||e.editMode==="row"){var Te=U(),Le=Ls(Ls({},Te),{},{editing:i,editingKey:e.editingKey});e.onEditingMetaChange(Le)}},[i]),Fs(function(){E.current&&(md.off("overlay-click",E.current),E.current=null)});var ce=function(){var Le=e.getVirtualScrollerOption("getLoaderOptions")(e.rowIndex,{cellIndex:e.index,cellFirst:e.index===0,cellLast:e.index===e.getVirtualScrollerOption("columns").length-1,cellEven:e.index%2===0,cellOdd:e.index%2!==0,column:e.column,field:e.field}),Ze=Me.getJSXElement(e.getVirtualScrollerOption("loadingTemplate"),Le),Be=r(I("bodyCell"),{role:"cell"});return b.createElement("td",Be,Ze)},Je=function(){var Le,Ze,Be=e.allowCellSelection&&e.isCellSelected,et=e.editMode==="row",Dt=e.getTabIndex(Be,e.index),Ut=z("selectionMode"),Vt=z("rowReorder"),Jt=z("header"),dr=z("body"),lr=z("editor"),ct=e.frozenCol,pt=z("align"),nt=e.resolveFieldData(),rt={column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps},Lt=Me.getPropValue(z("rowEditor"),e.rowData,rt),hr=Me.getPropValue(z("expander"),e.rowData,rt),tr=Me.getPropValue(e.cellClassName,nt,rt),rr=Me.getPropValue(z("bodyClassName"),e.rowData,rt),Wr=te(),Nr=r({className:B("columnTitle")},I("columnTitle")),bt=e.responsiveLayout==="stack"&&b.createElement("span",Nr,Me.getJSXElement(Jt,{props:e.tableProps}));if(Ut){var ke=e.showSelectionElement?e.showSelectionElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,Re;if(ke){var Qe=e.selectionAriaLabel||e.tableProps.dataKey,jt=Me.resolveFieldData(e.rowData,Qe);Re="".concat(e.isRowSelected?ki("unselectRow"):ki("selectRow")," ").concat(jt)}Le=ke&&b.createElement(b.Fragment,null,Ut==="single"&&b.createElement(OT,{hostName:e.hostName,column:e.column,checked:e.isRowSelected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:Fe,tabIndex:e.tabIndex,tableSelector:e.tableSelector,ariaLabel:Re,ptCallbacks:e.ptCallbacks,metaData:e.metaData,unstyled:e.unstyled}),Ut==="multiple"&&b.createElement(AT,{hostName:e.hostName,column:e.column,checked:e.isRowSelected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:e.onCheckboxChange,tabIndex:e.tabIndex,ariaLabel:Re,checkIcon:e.checkIcon,ptCallbacks:e.ptCallbacks,metaData:e.metaData,unstyled:e.unstyled}))}else if(Vt){var gt=e.showRowReorderElement?e.showRowReorderElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,At=z("rowReorderIcon"),kr=r({className:B("rowReorderIcon")},At?null:I("rowReorderIcon")),xr=At||b.createElement(vT,kr);Le=gt?ga.getJSXIcon(xr,Ls({},kr),{props:e}):null}else if(hr){var Xr=r({className:B("rowTogglerIcon"),"aria-hidden":!0},I("rowTogglerIcon")),Zr=e.expanded?e.expandedRowIcon||b.createElement(Y0,Xr):e.collapsedRowIcon||b.createElement(BS,Xr),Qt=ga.getJSXIcon(Zr,Ls({},Xr),{props:e}),ln="".concat(e.tableSelector,"_content_").concat(e.rowIndex,"_expanded"),Sn=e.selectionAriaLabel||e.tableProps.dataKey,dt=Me.resolveFieldData(e.rowData,Sn),Et="".concat(e.expanded?ki("collapseLabel"):ki("expandLabel")," ").concat(dt),Tt={onClick:ue,className:B("rowToggler")},Gt=r(Ls(Ls({},Tt),{},{type:"button","aria-expanded":e.expanded,"aria-controls":ln,tabIndex:e.tabIndex,"aria-label":Et}),I("rowToggler"));Le=b.createElement("button",Gt,Qt,b.createElement(Ai,null)),dr&&(Tt.element=Le,Le=Me.getJSXElement(dr,e.rowData,{column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,expander:Tt}))}else if(et&&Lt){var br={},Kr=r({className:B("rowEditorSaveIcon")},I("rowEditorSaveIcon")),_t=r({className:B("rowEditorCancelIcon")},I("rowEditorCancelIcon")),at=r({className:B("rowEditorInitIcon")},I("rowEditorInitIcon")),vt=ga.getJSXIcon(e.rowEditorSaveIcon||b.createElement(ap,Kr),Ls({},Kr),{props:e}),Kt=ga.getJSXIcon(e.rowEditorCancelIcon||b.createElement(J0,_t),Ls({},_t),{props:e}),cr=ga.getJSXIcon(e.rowEditorInitIcon||b.createElement(bT,at),Ls({},at),{props:e});if(i){br={editing:!0,onSaveClick:Pe,saveClassName:B("rowEditorSaveButton"),onCancelClick:_e,cancelClassName:B("rowEditorCancelButton")};var gr=r({type:"button",name:"row-save","aria-label":ki("saveEdit"),onClick:br.onSaveClick,className:br.saveClassName,tabIndex:e.tabIndex,"data-p-row-editor-save":!0},I("rowEditorSaveButton")),Bt=r({type:"button",name:"row-cancel","aria-label":ki("cancelEdit"),onClick:br.onCancelClick,className:br.cancelClassName,tabIndex:e.tabIndex},I("rowEditorCancelButton"));Le=b.createElement(b.Fragment,null,b.createElement("button",gr,vt,b.createElement(Ai,null)),b.createElement("button",Bt,Kt,b.createElement(Ai,null)))}else{br={editing:!1,onInitClick:xe,initClassName:B("rowEditorInitButton")};var it=r({type:"button",name:"row-edit","aria-label":ki("editRow"),onClick:br.onInitClick,className:br.initClassName,tabIndex:e.tabIndex,"data-p-row-editor-init":!0},I("rowEditorInitButton"));Le=b.createElement("button",it,cr,b.createElement(Ai,null))}dr&&(br.element=Le,Le=Me.getJSXElement(dr,e.rowData,{column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,rowEditor:br}))}else dr&&(!i||!lr)?Le=dr?Me.getJSXElement(dr,e.rowData,{column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps}):nt:lr&&i?Le=Me.getJSXElement(lr,{rowData:u,value:e.resolveFieldData(u),column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,editorCallback:G}):Le=nt;if(Le=typeof Le=="boolean"?Le.toString():Le,!et&&lr){var xt=r({tabIndex:"0",className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(Rt){return je(Rt)}},I("editorKeyHelperLabel")),Ht=r(I("editorKeyHelper"));Ze=b.createElement("a",fa({ref:y},xt),b.createElement("span",Ht))}var ir=r({style:Wr,className:ur(rr,z("className"),tr,B("bodyCell",{selectionMode:Ut,editor:lr,editingState:i,frozen:ct,cellSelected:Be,align:pt,bodyProps:e,getCellParams:K})),rowSpan:e.rowSpan,tabIndex:Dt,role:"cell",onClick:function(Rt){return X(Rt)},onKeyDown:function(Rt){return me(Rt)},onBlur:function(Rt){return he(Rt)},onMouseDown:function(Rt){return ie(Rt)},onMouseUp:function(Rt){return ye(Rt)},"data-p-selectable-cell":e.allowCellSelection&&e.isSelectable({data:K(),index:e.rowIndex}),"data-p-selection-column":z("selectionMode")!=null,"data-p-editable-column":L()!=null,"data-p-cell-editing":i,"data-p-frozen-column":ct},I("root"),I("bodyCell"));return b.createElement("td",fa({ref:v},ir),Ze,bt,Le)};return e.getVirtualScrollerOption("loading")?ce():Je()},TT=b.memo(function(t){return b.createElement(IT,t)},function(t,e){var r=["isRowSelected","field","allowCellSelection","isCellSelected","editMode","index","tabIndex","editing","expanded","editingMeta","rowData"];return Me.selectiveCompare(t,e,r)});TT.displayName="RadioCheckCell";var RT=b.memo(function(t){return b.createElement(IT,t)},function(t,e){var r=["field","allowCellSelection","isCellSelected","editMode","index","tabIndex","editing","expanded","editingMeta","rowData","frozenCol","alignFrozenCol"];return Me.selectiveCompare(t,e,r)});RT.displayName="BodyCell";function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LT=b.memo(function(t){var e=$n(),r=b.useState(!1),n=ia(r,2),a=n[0],i=n[1],s=t.onRowEditChange?t.editing:a,l=t.ptCallbacks,c=l.ptm,u=l.cx,f=!t.allowCellSelection&&t.selected||t.contextMenuSelected,p=function(ke){return c(ke,{parent:t.metaData,hostName:t.hostName,state:{editing:s},context:{index:t.index,selectable:t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),selected:f,stripedRows:t.metaData.props.stripedRows}})},h=function(ke,Re){return Ka.getCProp(ke,Re)},g=function(){return t.selectionMode&&t.selectionModeInColumn!=="single"&&t.selectionModeInColumn!=="multiple"},x=function(ke){var Re=h(ke,"field");return t.groupRowsBy&&Re?Array.isArray(t.groupRowsBy)?t.groupRowsBy.indexOf(Re)>-1:t.groupRowsBy===Re:!1},v=function(ke,Re){return t.compareSelectionBy==="equals"?ke===Re:Me.equals(ke,Re,t.dataKey)},y=function(){return g()&&!t.allowCellSelection?t.rowIndex===0?t.tabIndex:-1:null},E=function(ke,Re){return(ke||[]).findIndex(function(Qe){return v(Re,Qe)})},C=function(ke,Re){ke&&Re&&(ke.tabIndex=-1,Re.tabIndex=t.tabIndex)},k=function(ke){var Re=Ue.findSingle(ke.parentNode,"tr[data-p-selectable-row]");return Re||null},_=function(ke){var Re=ke.nextElementSibling;return Re?Ue.getAttribute(Re,"data-p-selectable-row")===!0?Re:_(Re):null},N=function(ke){var Re=ke.previousElementSibling;return Re?Ue.getAttribute(Re,"data-p-selectable-row")===!0?Re:N(Re):null},O=function(ke){var Re=Ue.findSingle(ke.parentNode,"tr[data-p-selectable-row]:last-child");return Re||null},R=function(ke,Re,Qe){if(h(Re,"hidden"))return!1;if(t.rowGroupMode&&t.rowGroupMode==="rowspan"&&x(Re)){var jt=ke[Qe-1];if(jt){var gt=Me.resolveFieldData(ke[Qe],h(Re,"field")),At=Me.resolveFieldData(jt,h(Re,"field"));return gt!==At}}return!0},D=function(ke,Re,Qe){if(x(Re)){for(var jt=Me.resolveFieldData(ke[Qe],h(Re,"field")),gt=jt,At=0;jt===gt;){At++;var kr=ke[++Qe];if(kr)gt=Me.resolveFieldData(kr,h(Re,"field"));else break}return At===1?null:At}return null},B=function(ke){t.onRowClick({originalEvent:ke,data:t.rowData,index:t.rowIndex})},z=function(ke){t.onRowDoubleClick({originalEvent:ke,data:t.rowData,index:t.rowIndex})},I=function(ke){t.onRowPointerDown({originalEvent:ke,data:t.rowData,index:t.rowIndex})},L=function(ke){t.onRowPointerUp({originalEvent:ke,data:t.rowData,index:t.rowIndex})},M=function(ke){t.onRowRightClick({originalEvent:ke,data:t.rowData,index:t.rowIndex})},F=function(ke){t.onRowMouseEnter({originalEvent:ke,data:t.rowData,index:t.rowIndex})},H=function(ke){t.onRowMouseLeave({originalEvent:ke,data:t.rowData,index:t.rowIndex})},J=function(ke){t.onRowTouchEnd(ke)},ee=function(ke){if(g()&&!t.allowCellSelection){var Re=ke.target,Qe=ke.currentTarget;switch(ke.code){case"ArrowDown":re(Qe,ke);break;case"ArrowUp":te(Qe,ke);break;case"Home":K(Qe,ke);break;case"End":U(Qe,ke);break;case"Enter":case"NumpadEnter":j(Qe,ke,Re);break;case"Space":Y(Qe,ke,Re);break;case"Tab":G(Qe,ke);break}}},re=function(ke,Re){var Qe=_(ke);Qe&&(C(ke,Qe),Qe.focus()),Re.preventDefault()},te=function(ke,Re){var Qe=N(ke);Qe&&(C(ke,Qe),Qe.focus()),Re.preventDefault()},K=function(ke,Re){var Qe=k(ke);Qe&&(C(ke,Qe),Qe.focus()),Re.preventDefault()},U=function(ke,Re){var Qe=O(ke);Qe&&(C(ke,Qe),Qe.focus()),Re.preventDefault()},j=function(ke,Re,Qe){Ue.isClickable(Qe)||(B(Re),Re.preventDefault())},Y=function(ke,Re,Qe){!Ue.isClickable(Qe)&&!Qe.readOnly&&(B(Re),Re.preventDefault())},G=function(ke,Re){var Qe=ke.parentNode,jt=Ue.find(Qe,'tr[data-p-selectable-row="true"]');if(Re.code==="Tab"&&jt&&jt.length>0){var gt=Ue.findSingle(Qe,'tr[data-p-highlight="true"]'),At=Ue.findSingle(Qe,'tr[data-p-selectable-row="true"][tabindex="0"]');gt?(gt.tabIndex="0",At&&At!==gt&&(At.tabIndex="-1")):(jt[0].tabIndex="0",At!==jt[0]&&(jt[t.rowIndex].tabIndex="-1"))}},X=function(ke){t.onRowMouseDown({originalEvent:ke,data:t.rowData,index:t.rowIndex})},ie=function(ke){t.onRowMouseUp({originalEvent:ke,data:t.rowData,index:t.rowIndex})},ye=function(ke){t.onRowDragStart({originalEvent:ke,data:t.rowData,index:t.rowIndex})},me=function(ke){t.onRowDragOver({originalEvent:ke,data:t.rowData,index:t.rowIndex})},he=function(ke){t.onRowDragLeave({originalEvent:ke,data:t.rowData,index:t.rowIndex})},je=function(ke){t.onRowDragEnd({originalEvent:ke,data:t.rowData,index:t.rowIndex})},Fe=function(ke){t.onRowDrop({originalEvent:ke,data:t.rowData,index:t.rowIndex})},ue=function(ke,Re){if(t.onRowEditChange){var Qe,jt=t.dataKey,gt=ke.originalEvent,At=ke.data,kr=ke.index,xr=ke.newData;if(jt){var Xr=String(Me.resolveFieldData(At,jt));if(Qe=t.editingRows?PP({},t.editingRows):{},Re)Qe[Xr]=!0;else{delete Qe[Xr];var Zr=String(Me.resolveFieldData(xr,jt));delete Qe[Zr]}}else{var Qt=E(t.editingRows,At);Qe=t.editingRows?Qa(t.editingRows):[],Qt!==-1?Qe=Qe.filter(function(ln,Sn){return Sn!==Qt}):Qe.push(At)}t.onRowEditChange({originalEvent:gt,data:Qe,index:kr})}else i(Re)},xe=function(ke){var Re=ke.originalEvent;t.onRowEditInit&&t.onRowEditInit({originalEvent:Re,data:t.rowData,index:t.rowIndex}),ue(ke,!0),Re.preventDefault()},Pe=function(ke){var Re=ke.originalEvent,Qe=ke.newData,jt=t.rowEditValidator?t.rowEditValidator(Qe,{props:t.tableProps,rowIndex:t.rowIndex}):!0;t.onRowEditSave&&t.onRowEditSave({originalEvent:Re,data:t.rowData,index:t.rowIndex,newData:Qe,valid:jt}),jt&&(t.onRowEditComplete&&t.onRowEditComplete(ke),ue(ke,!1)),Re.preventDefault()},_e=function(ke){var Re=ke.originalEvent;t.onRowEditCancel&&t.onRowEditCancel({originalEvent:Re,data:t.rowData,index:t.rowIndex}),ue(ke,!1),Re.preventDefault()},ce=function(ke){return t.compareSelectionBy==="equals"?ke===t.rowData:Me.equals(ke,t.rowData,t.dataKey)},Je=function(ke,Re,Qe){return ke&&(ke.rowIndex===t.rowIndex||ce(ke.rowData))&&(ke.field===Re||ke.cellIndex===Qe)},Te=function(ke,Re,Qe){return(ke||[]).findIndex(function(jt){return Je(jt,Re,Qe)})},Le=function(ke,Re,Qe){return ke?ke instanceof Array?Te(ke,Re,Qe)>-1:Je(ke,Re,Qe):!1},Ze=function(ke){t.onCheckboxChange({originalEvent:ke,data:t.rowData,index:t.rowIndex})},Be=t.dataKey&&t.rowData&&t.rowData[t.dataKey]||t.rowIndex,et=b.useCallback(function(bt){return t.virtualScrollerOptions?t.virtualScrollerOptions[bt]:null},[t.virtualScrollerOptions]),Dt=function(){return t.editingMeta&&t.editingMeta[Be]?t.editingMeta[Be].data:t.rowData},Ut=b.useCallback(function(bt,ke){return t.allowCellSelection?bt?0:t.rowIndex===0&&ke===0?t.tabIndex:-1:null},[t.allowCellSelection,t.rowIndex,t.tabIndex]),Vt=b.useCallback(function(bt){var ke=bt.nextElementSibling;return ke?Ue.getAttribute(ke,"data-p-selectable-cell")?ke:Vt(ke):null},[]),Jt=b.useCallback(function(bt){var ke=bt.previousElementSibling;return ke?Ue.getAttribute(ke,"data-p-selectable-cell")?ke:Jt(ke):null},[]),dr=b.useCallback(function(bt,ke){var Re=bt.parentElement.nextElementSibling,Qe=Re?Re.children[ke]:null;return Re&&Qe?Ue.getAttribute(Re,"data-p-selectable-row")&&Ue.getAttribute(Qe,"data-p-selectable-cell")?Qe:dr(Qe):null},[]),lr=b.useCallback(function(bt,ke){var Re=bt.parentElement.previousElementSibling,Qe=Re?Re.children[ke]:null;return Re&&Qe?Ue.getAttribute(Re,"data-p-selectable-row")&&Ue.getAttribute(Qe,"data-p-selectable-cell")?Qe:lr(Qe):null},[]),ct=b.useCallback(function(bt,ke,Re,Qe){clearTimeout(bt.current),bt.current=setTimeout(function(){if(ke){var jt=t.editMode==="cell"?Ue.getFirstFocusableElement(Re.current,':not([data-pc-section="editorkeyhelperlabel"])'):Ue.findSingle(Re.current,'[data-p-row-editor-save="true"]');jt&&jt.focus()}Qe.current&&(Qe.current.tabIndex=ke?-1:0)},1)},[t.editMode]),pt=b.useCallback(function(bt,ke){clearTimeout(bt.current),bt.current=setTimeout(function(){var Re=t.editMode==="row"?Ue.findSingle(ke.current,'[data-p-row-editor-init="true"]'):null;Re&&Re.focus()},1)},[t.editMode]),nt=b.useCallback(function(bt,ke,Re,Qe,jt){if(ke){var gt=PP({},Qe);if(Re==="right"){var At=0,kr=bt.current&&bt.current.nextElementSibling;kr&&kr.classList.contains("p-frozen-column")&&(At=Ue.getOuterWidth(kr)+parseFloat(kr.style.right||0)),gt.right=At+"px"}else{var xr=0,Xr=bt.current&&bt.current.previousElementSibling;Xr&&Xr.classList.contains("p-frozen-column")&&(xr=Ue.getOuterWidth(Xr)+parseFloat(Xr.style.left||0)),gt.left=xr+"px"}var Zr=Qe.left===gt.left&&Qe.right===gt.right;!Zr&&jt(gt)}},[]),rt=function(ke,Re,Qe,jt,gt,At,kr,xr,Xr){if(t.editMode!=="row"&&Qe&&!jt&&(t.selectOnEdit||!t.selectOnEdit&&t.isRowSelected)){At.current=!0;var Zr=h(kr,"onBeforeCellEditShow"),Qt=h(kr,"onCellEditInit"),ln=h(kr,"cellEditValidatorEvent");if(Zr&&(Zr(Re)===!1||ke&&ke.defaultPrevented))return;setTimeout(function(){gt(!0),!(Qt&&(Qt(Re)===!1||ke&&ke.defaultPrevented))&&ln==="click"&&(xr(),Xr.current=function(Sn){isOutsideClicked(Sn.target)||(At.current=!0)},md.on("overlay-click",Xr.current))},1)}t.allowCellSelection&&t.onCellClick&&t.onCellClick(Re)},Lt=function(){return t.columns.map(function(ke,Re){if(R(t.value,ke,t.index)){var Qe="".concat(t.rowIndex,"_").concat(h(ke,"columnKey")||h(ke,"field"),"_").concat(Re),jt=t.rowGroupMode==="rowspan"?D(t.value,ke,t.index):null,gt=h(ke,"field")||"field_".concat(Re),At=function(Zr){return Me.resolveFieldData(Zr||t.rowData,gt)},kr=h(ke,"selectionMode"),xr=e({hostName:t.hostName,allowCellSelection:t.allowCellSelection,cellClassName:t.cellClassName,checkIcon:t.checkIcon,collapsedRowIcon:t.collapsedRowIcon,field:gt,resolveFieldData:At,column:ke,cProps:t.colsProps[Re],dataKey:t.dataKey,editMode:t.editMode,editing:s,editingMeta:t.editingMeta,onEditingMetaChange:t.onEditingMetaChange,editingKey:Be,getEditingRowData:Dt,expanded:t.expanded,expandedRowIcon:t.expandedRowIcon,frozenRow:t.frozenRow,frozenCol:h(ke,"frozen"),alignFrozenCol:h(ke,"alignFrozen"),index:Re,isSelectable:t.isSelectable,onCheckboxChange:Ze,onClick:rt,onMouseDown:t.onCellMouseDown,onMouseUp:t.onCellMouseUp,onRadioChange:t.onRadioChange,onRowEditCancel:_e,onRowEditInit:xe,onRowEditSave:Pe,onRowToggle:t.onRowToggle,responsiveLayout:t.responsiveLayout,rowData:t.rowData,rowEditorCancelIcon:t.rowEditorCancelIcon,rowEditorInitIcon:t.rowEditorInitIcon,rowEditorSaveIcon:t.rowEditorSaveIcon,rowIndex:t.rowIndex,rowSpan:jt,selectOnEdit:t.selectOnEdit,isRowSelected:f,isCellSelected:Le(t.selection,gt,Re),selectionAriaLabel:t.tableProps.selectionAriaLabel,showRowReorderElement:t.showRowReorderElement,showSelectionElement:t.showSelectionElement,tabIndex:t.tabIndex,getTabIndex:Ut,tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,getVirtualScrollerOption:et,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled,findNextSelectableCell:Vt,findPrevSelectableCell:Jt,findDownSelectableCell:dr,findUpSelectableCell:lr,focusOnElement:ct,focusOnInit:pt,updateStickyPosition:nt});return b.createElement(b.Fragment,{key:Qe},kr?b.createElement(TT,xr):b.createElement(RT,xr))}return null})},hr=Me.getPropValue(t.rowClassName,t.rowData,{props:t.tableProps}),tr={height:t.virtualScrollerOptions?t.virtualScrollerOptions.itemSize:void 0},rr=Lt(),Wr=y(),Nr=e({role:"row",tabIndex:Wr,className:ur(u("bodyRow",{rowProps:t})),style:tr,onMouseDown:function(ke){return X(ke)},onMouseUp:function(ke){return ie(ke)},onMouseEnter:function(ke){return F(ke)},onMouseLeave:function(ke){return H(ke)},onClick:function(ke){return B(ke)},onDoubleClick:function(ke){return z(ke)},onPointerDown:function(ke){return I(ke)},onPointerUp:function(ke){return L(ke)},onContextMenu:function(ke){return M(ke)},onTouchEnd:function(ke){return J(ke)},onKeyDown:function(ke){return ee(ke)},onDragStart:function(ke){return ye(ke)},onDragOver:function(ke){return me(ke)},onDragLeave:function(ke){return he(ke)},onDragEnd:function(ke){return je(ke)},onDrop:function(ke){return Fe(ke)},"aria-selected":t!=null&&t.selectionMode?t.selected:null,"data-p-selectable-row":t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),"data-p-highlight":t.selected,"data-p-highlight-contextmenu":t.contextMenuSelected},p("bodyRow"),{className:ur(hr)});return b.createElement("tr",Nr,rr)});LT.displayName="BodyRow";function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jT=b.memo(function(t){var e=$n(),r=t.ptCallbacks,n=r.ptm,a=r.ptmo,i=r.cx;r.isUnstyled;var s=function(v){t.onClick({originalEvent:v,data:t.rowData})},l=function(){return Ka.getCProps(t.column)},c=function(v){var y=l(),E={props:l(),parent:t.metaData,hostName:t.hostName};return e(n("column.".concat(v),{column:E}),n("column.".concat(v),E),a(y,v,E))},u=e({className:i("rowGroupTogglerIcon"),"aria-hidden":!0},n("rowGroupTogglerIcon"),c("rowGroupTogglerIcon")),f=t.expanded?t.expandedRowIcon||b.createElement(Y0,u):t.collapsedRowIcon||b.createElement(BS,u),p=ga.getJSXIcon(f,DB({},u),{props:t}),h=t.expanded?ki("collapseLabel"):ki("expandLabel"),g=e({type:"button",onClick:function(v){return s(v)},className:i("rowGroupToggler"),tabIndex:t.tabIndex,"aria-label":h},n("rowGroupToggler"),c("rowGroupToggler"));return b.createElement("button",g,p,b.createElement(Ai,null))});jT.displayName="RowTogglerButton";var MB=["originalEvent"];function AP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ll(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Av=b.memo(b.forwardRef(function(t,e){var r=$n(),n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=n.cx,l=n.isUnstyled,c=b.useState({}),u=ia(c,2),f=u[0],p=u[1],h=function(ae){return Ka.getCProps(ae)},g=h(t.column),x=t.columns?t.columns.map(function(Ye){return h(Ye)}):[],v=function(ae){var we={props:g,parent:t.metaData,hostName:t.hostName,state:{rowGroupHeaderStyleObject:f}};return r(a("column.".concat(ae),{column:we}),a("column.".concat(ae),we),i(g,ae,we))},y=b.useRef(null),E=b.useCallback(function(Ye){y.current=Ye,t.virtualScrollerContentRef&&t.virtualScrollerContentRef(Ye)},[t]),C=b.useRef(null),k=b.useRef(null),_=b.useRef(null),N=b.useRef(null),O=b.useRef(null),R=b.useRef(null),D=b.useRef(!1),B=b.useRef(!1),z=b.useRef(null),I=b.useRef(null),L=t.rowGroupMode&&t.rowGroupMode==="subheader",M=t.selectionMode==="radiobutton",F=t.selectionMode==="checkbox",H=t.selectionModeInColumn==="single",J=t.selectionModeInColumn==="multiple",ee=function(ae,we){return Je()?(ae.rowIndex===we.rowIndex||ae.rowData===we.rowData)&&(ae.field===we.field||ae.cellIndex===we.cellIndex):t.compareSelectionBy==="equals"?ae===we:Me.equals(ae,we,t.dataKey)},re=function(){return t.selectionMode||t.selectionModeInColumn!==null||t.columns&&t.columns.some(function(ae){return ae&&!!Le(ae,"selectionMode")})},te=function(){return t.selectionMode==="single"&&!J||!M&&H},K=function(){return t.selectionMode==="multiple"&&!H||J},U=function(){return M&&H},j=function(){return F&&J},Y=function(ae){return ae&&t.selection?t.selection instanceof Array?et(t.selection,ae)>-1:ee(ae,t.selection):!1},G=function(ae){return ae&&t.contextMenuSelection?ee(ae,t.contextMenuSelection):!1},X=function(ae){return t.isDataSelectable?t.isDataSelectable(ae):!0},ie=function(ae){if(ae&&t.expandedRows){if(L&&t.expandableRowGroups)return ye(ae);if(t.dataKey){var we=Me.resolveFieldData(ae,t.dataKey),$e=!1;return t.expandedRows&&(Array.isArray(t.expandedRows)?$e=t.expandedRows.some(function(Xe){return Me.resolveFieldData(Xe,t.dataKey)===we}):$e=t.expandedRows[we]!==void 0),$e}return et(t.expandedRows,ae)!==-1}return!1},ye=function(ae){return t.dataKey===t.groupRowsBy?Object.keys(t.expandedRows).some(function(we){return Me.equals(we,Me.resolveFieldData(ae,t.dataKey))}):t.expandedRows.some(function(we){return Me.equals(we,ae,t.groupRowsBy)})},me=function(ae){return t.editMode==="row"&&ae&&t.editingRows?t.dataKey?t.editingRows?t.editingRows[Me.resolveFieldData(ae,t.dataKey)]!==void 0:!1:et(t.editingRows,ae)!==-1:!1},he=function(ae){return t.dragSelection&&K()&&!ae.originalEvent.shiftKey},je=function(ae){return!Je()&&he(ae)||t.reorderableRows},Fe=function(ae){return Je()&&he(ae)},ue=function(ae){return!Ue.isClickable(ae.originalEvent.target)},xe=b.useRef(t.metaKeySelection);b.useEffect(function(){xe.current=t.metaKeySelection},[t.metaKeySelection]);var Pe=function(ae){return!D.current&&(!xe.current||xe.current&&(ae.originalEvent.metaKey||ae.originalEvent.ctrlKey))},_e=function(ae){return K()&&ae.originalEvent.shiftKey&&_.current!==null},ce=function(){return(t.selectionMode||t.selectionModeInColumn)&&!U()&&!j()},Je=function(){return t.cellSelection&&!H&&!J},Te=function(){return t.columns?t.columns.length:0},Le=function(ae,we){return Ka.getCProp(ae,we)},Ze=function(ae,we){return we=we||t.virtualScrollerOptions,we?we[ae]:null},Be=function(ae){return t.lazy?ae-t.first:ae},et=function(ae,we){return(ae||[]).findIndex(function($e){return ee(we,$e)})},Dt=function(){return t.scrollable?{top:f.top}:null},Ut=function(ae,we){return t.dataKey?Me.resolveFieldData(ae,t.dataKey):we},Vt=function(ae,we,$e){var Xe=Me.resolveFieldData(we,t.groupRowsBy),st=ae[$e-1];if(st){var Ot=Me.resolveFieldData(st,t.groupRowsBy);return!Me.deepEquals(Xe,Ot)}return!0},Jt=function(ae,we,$e,Xe){if(t.expandableRowGroups&&!Xe)return!1;var st=Me.resolveFieldData(we,t.groupRowsBy),Ot=ae[$e+1];if(Ot){var Yt=Me.resolveFieldData(Ot,t.groupRowsBy);return!Me.deepEquals(st,Yt)}return!0},dr=function(){y.current.style.top=Ue.getOuterHeight(y.current.previousElementSibling)+"px"},lr=function(){var ae=Ue.getOuterHeight(y.current.previousElementSibling),we=ae+"px";f.top!==we&&p({top:we})},ct=b.useRef(t.selection);b.useEffect(function(){ct.current=t.selection},[t.selection]);var pt=function(ae){var we=ae.originalEvent,$e=ae.data,Xe=ae.index,st=ae.toggleable,Ot=ae.type;if(X({data:$e,index:Xe})){var Yt=Y($e),Ar=ct.current||[],$r=Ar;Yt?st&&($r=null,Wr({originalEvent:we,data:$e,type:Ot})):($r=$e,rr({originalEvent:we,data:$e,type:Ot})),bt(we,!0),t.onSelectionChange&&$r!==Ar&&t.onSelectionChange({originalEvent:we,value:$r,type:Ot})}},nt=function(ae){var we=ae.originalEvent,$e=ae.data,Xe=ae.index,st=ae.toggleable,Ot=ae.type;if(X({data:$e,index:Xe})){var Yt=Y($e),Ar=ct.current||[],$r=Ar;if(Yt)if(st){var An=et(Ar,$e);$r=Ar.filter(function(In,Pr){return Pr!==An}),Wr({originalEvent:we,data:$e,type:Ot})}else Ar.length&&(Ar.forEach(function(In){return Wr({originalEvent:we,data:In,type:Ot})}),$r=[$e],rr({originalEvent:we,data:$e,type:Ot}));else $r=Me.isObject(Ar)?[Ar]:Ar,$r=st&&K()?[].concat(Qa($r),[$e]):[$e],rr({originalEvent:we,data:$e,type:Ot});t.onSelectionChange&&$r!==Ar&&t.onSelectionChange({originalEvent:we,value:$r,type:Ot})}},rt=function(ae,we){Ue.clearSelection(),O.current=Je()?ae.rowIndex:ae.index;var $e=Lt(ae);t.onSelectionChange&&$e!==t.selection&&t.onSelectionChange({originalEvent:ae.originalEvent,value:$e,type:we}),_.current=O.current,N.current=ae.cellIndex},Lt=function(ae){var we,$e,Xe=Je(),st=Be(O.current),Ot=Be(_.current);return st>Ot?(we=Ot,$e=st):st<Ot?(we=st,$e=Ot):we=$e=st,Xe?tr(ae,we,$e):hr(ae,we,$e)},hr=function(ae,we,$e){for(var Xe=[],st=we;st<=$e;st++){var Ot=t.processedData[st];X({data:Ot,index:st})&&(Xe.push(Ot),rr({originalEvent:ae.originalEvent,data:Ot,type:"row"}))}return Xe},tr=function(ae,we,$e){var Xe,st,Ot=ae.cellIndex;Ot>N.current?(Xe=N.current,st=Ot):Ot<N.current?(Xe=Ot,st=N.current):Xe=st=Ot;for(var Yt=t.value,Ar=[],$r=we;$r<=$e;$r++)for(var An=Yt[$r],In=t.columns,Pr=t.lazy?$r+t.first:$r,Dr=Xe;Dr<=st;Dr++){var Rr=Le(In[Dr],"field"),rn=Me.resolveFieldData(An,Rr),wn={value:rn,field:Rr,rowData:An,rowIndex:Pr,cellIndex:Dr,selected:!0};X({data:wn,index:$r})&&(Ar.push(wn),rr({originalEvent:ae.originalEvent,data:wn,type:"cell"}))}return Ar},rr=function(ae){Je()?t.onCellSelect&&t.onCellSelect(ll(ll({originalEvent:ae.originalEvent},ae.data),{},{type:ae.type})):t.onRowSelect&&t.onRowSelect(ae)},Wr=function(ae){Je()?t.onCellUnselect&&t.onCellUnselect(ll(ll({originalEvent:ae.originalEvent},ae.data),{},{type:ae.type})):t.onRowUnselect&&t.onRowUnselect(ae)},Nr=function(ae){t.dragSelection&&!C.current&&(C.current=document.createElement("div"),C.current.setAttribute("p-datatable-drag-selection-helper","true"),!l()&&Ue.addClass(C.current,"p-datatable-drag-selection-helper"),k.current={x:ae.clientX,y:ae.clientY},C.current.style.top="".concat(ae.pageY,"px"),C.current.style.left="".concat(ae.pageX,"px"),gr())},bt=function(ae,we){var $e=ae.currentTarget;if(!Je()&&t.selectionAutoFocus){if(J){var Xe=Ue.findSingle($e,'td[data-p-selection-column="true"] [data-pc-section="checkbox"]');Xe&&Xe.focus()}else if(H){var st=Ue.findSingle($e,'td[data-p-selection-column="true"] input[type="radio"]');st&&st.focus()}}!we&&$e&&$e.focus()},ke=function(ae,we){var $e=ae.currentTarget,Xe=Ue.getAttribute($e,we==="cell"?"data-p-selectable-cell":"data-p-selectable-row")===!0;if(Xe){var st=we==="cell"?"tr > td":"tr",Ot=Ue.findSingle(y.current,"".concat(st,'[tabindex="').concat(t.tabIndex,'"]'));Ot&&$e&&(Ot.tabIndex=-1,$e.tabIndex=t.tabIndex)}},Re=function(ae){if(!(ae.defaultPrevented||ae.originalEvent&&ae.originalEvent.defaultPrevented||Je()||!ue(ae))){if(t.onRowClick&&t.onRowClick(ae),ce()){if(_e(ae))rt(ae,"row");else{var we=H||J||Pe(ae);_.current=ae.index,O.current=ae.index,R.current=t.first,te()?pt(ll(ll({},ae),{},{toggleable:we,type:"row"})):nt(ll(ll({},ae),{},{toggleable:we,type:"row"}))}ke(ae.originalEvent,"row")}else bt(ae.originalEvent);D.current=!1}},Qe=function(ae){var we=ae.originalEvent;Ue.isClickable(we.target)||t.onRowDoubleClick&&t.onRowDoubleClick(ae)},jt=function(ae){var we=ae.originalEvent;Ue.isClickable(we.target)||t.onRowPointerDown&&t.onRowPointerDown(ae)},gt=function(ae){var we=ae.originalEvent;Ue.isClickable(we.target)||t.onRowPointerUp&&t.onRowPointerUp(ae)},At=function(ae){if(t.onContextMenu||t.onContextMenuSelectionChange){var we=Me.isNotEmpty(t.selection),$e=ae.data;we&&Ue.clearSelection(),t.onContextMenuSelectionChange&&t.onContextMenuSelectionChange({originalEvent:ae.originalEvent,value:$e,index:ae.index}),t.onContextMenu&&t.onContextMenu({originalEvent:ae.originalEvent,data:$e,index:ae.index}),ae.originalEvent.preventDefault()}},kr=function(ae){t.onRowMouseEnter&&t.onRowMouseEnter(ae)},xr=function(ae){t.onRowMouseLeave&&t.onRowMouseLeave(ae)},Xr=function(){D.current=!0},Zr=function(ae){var we=ae.originalEvent,$e=l()?Ue.getAttribute(we.target,"data-pc-section")==="rowreordericon"||we.target.closest('[data-pc-section="rowreordericon"]'):Ue.hasClass(we.target,"p-datatable-reorderablerow-handle")||we.target.closest(".p-datatable-reorderablerow-handle");we.currentTarget.draggable=$e,je(ae)&&(Nr(we),_.current=ae.index,O.current=ae.index,R.current=t.first)},Qt=function(ae){var we=ae.index===_.current;je(ae)&&!we&&rt(ae,"row")},ln=function(ae){var we,$e=t.dataKey,Xe=t.groupRowsBy?$e===t.groupRowsBy:!!$e;if(Xe){var st=String(Me.resolveFieldData(ae.data,$e));we=t.expandedRows?ll({},t.expandedRows):{},we[st]!=null?(delete we[st],t.onRowCollapse&&t.onRowCollapse({originalEvent:ae,data:ae.data})):(we[st]=!0,t.onRowExpand&&t.onRowExpand({originalEvent:ae,data:ae.data}))}else{var Ot=et(t.expandedRows,ae.data);we=t.expandedRows?Qa(t.expandedRows):[],Ot!==-1?(we=we.filter(function(Yt,Ar){return Ar!==Ot}),t.onRowCollapse&&t.onRowCollapse({originalEvent:ae,data:ae.data})):(we.push(ae.data),t.onRowExpand&&t.onRowExpand({originalEvent:ae,data:ae.data}))}t.onRowToggle&&t.onRowToggle({data:we})},Sn=function(ae){var we=ae.originalEvent,$e=ae.index;je(ae)&&(B.current=!0,z.current=$e,we.dataTransfer.setData("text","b"))},dt=function(ae){var we=ae.originalEvent,$e=ae.index;if(B.current){if(z.current!==$e){var Xe=we.currentTarget,st=Ue.getOffset(Xe).top+Ue.getWindowScrollTop(),Ot=we.pageY+window.scrollY,Yt=st+Ue.getOuterHeight(Xe)/2,Ar=Xe.previousElementSibling;Ot<Yt?(Xe.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&Ue.removeClass(Xe,"p-datatable-dragpoint-bottom"),I.current=$e,Ar?(Ar.setAttribute("data-p-datatable-dragpoint-bottom","true"),!l()&&Ue.addClass(Ar,"p-datatable-dragpoint-bottom")):(Xe.setAttribute("data-p-datatable-dragpoint-top","true"),!l()&&Ue.addClass(Xe,"p-datatable-dragpoint-top"))):(Ar?(Ar.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&Ue.removeClass(Ar,"p-datatable-dragpoint-bottom")):(Xe.setAttribute("data-p-datatable-dragpoint-top","true"),!l()&&Ue.addClass(Xe,"p-datatable-dragpoint-top")),$e+1!==z.current&&(I.current=$e+1),Xe.setAttribute("data-p-datatable-dragpoint-bottom","true"),!l()&&Ue.addClass(Xe,"p-datatable-dragpoint-bottom"))}we.preventDefault()}},Et=function(ae){var we=ae.originalEvent,$e=we.currentTarget,Xe=$e.previousElementSibling;Xe&&(Xe.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&Ue.removeClass(Xe,"p-datatable-dragpoint-bottom")),$e.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&Ue.removeClass($e,"p-datatable-dragpoint-bottom"),$e.setAttribute("data-p-datatable-dragpoint-top","false"),!l()&&Ue.removeClass($e,"p-datatable-dragpoint-top")},Tt=function(ae){var we=ae.originalEvent;B.current=!1,z.current=null,I.current=null,we.currentTarget.draggable=!1},Gt=function(ae){var we=ae.originalEvent;if(I.current!=null){var $e=z.current>I.current?I.current:I.current===0?0:I.current-1,Xe=Qa(t.tableProps.value);Me.reorderArray(Xe,z.current,$e),t.onRowReorder&&t.onRowReorder({originalEvent:we,value:Xe,dragIndex:z.current,dropIndex:$e})}Et(ae),Tt(ae),we.preventDefault()},br=function(ae){pt(ll(ll({},ae),{},{toggleable:!0,type:"radio"}))},Kr=function(ae){nt(ll(ll({},ae),{},{toggleable:!0,type:"checkbox"}))},_t=function(ae){var we=k.current,$e=we.x,Xe=we.y,st=ae.clientX-$e,Ot=ae.clientY-Xe;Ot<0&&(C.current.style.top="".concat(ae.pageY+5,"px")),st<0&&(C.current.style.left="".concat(ae.pageX+5,"px")),C.current.style.height="".concat(Math.abs(Ot),"px"),C.current.style.width="".concat(Math.abs(st),"px"),ae.preventDefault()},at=function(){C.current&&(C.current.remove(),C.current=null),document.removeEventListener("mousemove",_t),document.removeEventListener("mouseup",at)},vt=function(ae){if(ue(ae)){if(t.onCellClick&&t.onCellClick(ae),Je()){if(_e(ae))rt(ae,"cell");else{var we=Pe(ae),$e=ae.originalEvent,Xe=qS(ae,MB);_.current=ae.rowIndex,O.current=ae.rowIndex,R.current=t.first,N.current=ae.cellIndex,te()?pt({originalEvent:$e,data:Xe,index:ae.rowIndex,toggleable:we,type:"cell"}):nt({originalEvent:$e,data:Xe,index:ae.rowIndex,toggleable:we,type:"cell"})}ke(ae.originalEvent,"cell")}D.current=!1}},Kt=function(ae){Fe(ae)&&(Nr(ae.originalEvent),_.current=ae.rowIndex,O.current=ae.rowIndex,R.current=t.first,N.current=ae.cellIndex)},cr=function(ae){var we=ae.rowIndex===_.current&&ae.cellIndex===N.current;Fe(ae)&&!we&&rt(ae,"cell")},gr=function(){document.addEventListener("mousemove",_t),document.addEventListener("mouseup",at),document.body.appendChild(C.current)},Bt=function(){at()};b.useEffect(function(){t.frozenRow&&dr(),t.scrollable&&t.rowGroupMode==="subheader"&&lr()}),ma(function(){t.paginator&&K()&&(_.current=null)},[t.first]),Fs(function(){t.dragSelection&&Bt()});var it=function(){if(!t.loading){var ae=Te(),we=Me.getJSXElement(t.emptyMessage,{props:t.tableProps,frozen:t.frozenRow})||js("emptyMessage"),$e=r({className:s("emptyMessage"),role:"row"},a("emptyMessage")),Xe=r({colSpan:ae,role:"cell"},v("root"),v("bodyCell"));return b.createElement("tr",$e,b.createElement("td",Xe,we))}return null},xt=function(ae,we,$e,Xe){if(L&&Vt(t.value,ae,Be(we))){var st=Dt(),Ot=t.expandableRowGroups&&b.createElement(jT,{hostName:t.hostName,onClick:ln,rowData:ae,expanded:$e,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:l()}),Yt={index:we,props:t.tableProps,customRendering:!1},Ar=Me.getJSXElement(t.rowGroupHeaderTemplate,ae,Yt);if(!Yt.customRendering){var $r=r({colSpan:Xe},v("root"),v("bodyCell")),An=r({className:s("rowGroupHeaderName")},a("rowGroupHeaderName"));Ar=b.createElement("td",$r,Ot,b.createElement("span",An,Ar))}var In=r({className:s("rowGroupHeader"),style:st,role:"row"},a("rowGroupHeader"));return b.createElement("tr",In,Ar)}return null},Ht=function(ae,we,$e,Xe){if(!t.expandableRowGroups||Xe){var st=re()?Y(ae):!1,Ot=G(ae),Yt=ce(),Ar=Je(),$r=me(ae);return b.createElement(LT,{hostName:t.hostName,allowCellSelection:Ar,allowRowSelection:Yt,cellClassName:t.cellClassName,checkIcon:t.checkIcon,collapsedRowIcon:t.collapsedRowIcon,columns:t.columns,colsProps:x,compareSelectionBy:t.compareSelectionBy,contextMenuSelected:Ot,dataKey:t.dataKey,editMode:t.editMode,editing:$r,editingMeta:t.editingMeta,editingRows:t.editingRows,expanded:Xe,expandedRowIcon:t.expandedRowIcon,frozenRow:t.frozenRow,groupRowsBy:t.groupRowsBy,index:$e,isSelectable:X,onCellClick:vt,onCellMouseDown:Kt,onCellMouseUp:cr,onCheckboxChange:Kr,onEditingMetaChange:t.onEditingMetaChange,onRadioChange:br,onRowClick:Re,onRowDoubleClick:Qe,onRowPointerDown:jt,onRowPointerUp:gt,onRowDragEnd:Tt,onRowDragLeave:Et,onRowDragOver:dt,onRowDragStart:Sn,onRowDrop:Gt,onRowEditCancel:t.onRowEditCancel,onRowEditChange:t.onRowEditChange,onRowEditComplete:t.onRowEditComplete,onRowEditInit:t.onRowEditInit,onRowEditSave:t.onRowEditSave,onRowMouseDown:Zr,onRowMouseEnter:kr,onRowMouseLeave:xr,onRowMouseUp:Qt,onRowRightClick:At,onRowToggle:ln,onRowTouchEnd:Xr,responsiveLayout:t.responsiveLayout,rowClassName:t.rowClassName,rowData:ae,rowEditValidator:t.rowEditValidator,rowEditorCancelIcon:t.rowEditorCancelIcon,rowEditorInitIcon:t.rowEditorInitIcon,rowEditorSaveIcon:t.rowEditorSaveIcon,rowGroupMode:t.rowGroupMode,rowIndex:we,selectOnEdit:t.selectOnEdit,selected:st,selection:t.selection,selectionMode:t.selectionMode,selectionModeInColumn:t.selectionModeInColumn,showRowReorderElement:t.showRowReorderElement,showSelectionElement:t.showSelectionElement,tabIndex:t.tabIndex,tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,virtualScrollerOptions:t.virtualScrollerOptions,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:l()})}},ir=function(ae,we,$e,Xe){if($e&&!(L&&t.expandableRowGroups)){var st="".concat(t.tableSelector,"_content_").concat(we,"_expanded"),Ot={index:we,customRendering:!1},Yt=Me.getJSXElement(t.rowExpansionTemplate,ae,Ot);if(!Ot.customRendering){var Ar=r({colSpan:Xe,role:"cell"},v("root"),v("bodyCell"));Yt=b.createElement("td",Ar,Yt)}var $r=r({id:st,className:s("rowExpansion"),role:"row"},a("rowExpansion"));return b.createElement("tr",$r,Yt)}return null},nr=function(ae,we,$e,Xe){if(L&&Jt(t.value,ae,we-t.first,$e)){var st=Me.getJSXElement(t.rowGroupFooterTemplate,ae,{index:we,colSpan:Xe,props:t.tableProps}),Ot=r({className:s("rowGroupFooter"),role:"row"},a("rowGroupFooter"));return b.createElement("tr",Ot,st)}return null},Rt=function(){return t.value&&t.value.map(function(ae,we){var $e=Ze("getItemOptions")?Ze("getItemOptions")(we).index:t.first+we,Xe=Ut(ae,$e),st=ie(ae),Ot=Te(),Yt=xt(ae,$e,st,Ot),Ar=Ht(ae,$e,we,st),$r=ir(ae,$e,st,Ot),An=nr(ae,$e,st,Ot);return b.createElement(b.Fragment,{key:Xe},Yt,Ar,$r,An)})},yr=t.empty?it():Rt(),Vr=t.className==="p-datatable-virtualscroller-spacer"?"virtualScrollerSpacer":"tbody",Ur=r({style:t.style,className:s(Vr,{className:t.className}),role:" rowgroup"},a(Vr,{hostName:t.hostName}));return b.createElement("tbody",fa({ref:E},Ur),yr)}));Av.displayName="TableBody";var vd=yn.extend({defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(e,r){return Me.getComponentProp(e,r,vd.defaultProps)},getCProps:function(e){return Me.getComponentProps(e,vd.defaultProps)}}),Sh=yn.extend({defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getCProp:function(e,r){return Me.getComponentProp(e,r,Sh.defaultProps)}});function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DT=b.memo(function(t){var e=b.useState({}),r=ia(e,2),n=r[0],a=r[1],i=b.useRef(null),s=$n(),l=function(){return Ka.getCProps(t.column)},c=t.ptCallbacks,u=c.ptm,f=c.ptmo,p=c.cx,h=function(R){var D=l(),B={props:D,parent:t.metaData,hostName:t.hostName,state:{styleObject:n},context:{index:t.index,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return s(u("column.".concat(R),{column:B}),u("column.".concat(R),B),f(D,R,B))},g=function(R){return Ka.getCProp(t.column,R)},x=function(){var R=g("footerStyle"),D=g("style");return g("frozen")?Object.assign({},D,R,n):Object.assign({},D,R)},v=function(){if(g("frozen")){var R=FB({},n),D=g("alignFrozen");if(D==="right"){var B=0,z=i.current.nextElementSibling;z&&z.classList.contains("p-frozen-column")&&(B=Ue.getOuterWidth(z)+parseFloat(z.style.right||0)),R.right=B+"px"}else{var I=0,L=i.current.previousElementSibling;L&&L.classList.contains("p-frozen-column")&&(I=Ue.getOuterWidth(L)+parseFloat(L.style.left||0)),R.left=I+"px"}var M=n.left===R.left&&n.right===R.right;!M&&a(R)}};b.useEffect(function(){g("frozen")&&v()});var y=x(),E=g("align"),C=g("colSpan"),k=g("rowSpan"),_=Me.getJSXElement(g("footer"),{props:t.tableProps}),N=s({style:y,className:ur(g("footerClassName"),g("className"),p("footerCell",{getColumnProp:g,align:E})),role:"cell",colSpan:C,rowSpan:k},h("root"),h("footerCell"));return b.createElement("td",fa({ref:i},N),_)});DT.displayName="FooterCell";var $B=["unstyled","__TYPE","ptOptions"];function OP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var MT=b.memo(function(t){var e=t.ptCallbacks,r=e.ptm,n=e.ptmo,a=e.cx,i=$n(),s=function(k){return vd.getCProps(k)},l=b.useContext(ra),c=function(){return t.footerColumnGroup?vd.getCProps(t.footerColumnGroup):void 0},u=function(k,_){var N=s(k),O={props:N,parent:t.metaData,hostName:t.hostName};return i(r("row.".concat(_),{row:O}),r("row.".concat(_),O),n(N,_,O))},f=function(k){var _=c(),N={props:c(),parent:t.metaData,hostName:t.hostName};return i(r("columnGroup.".concat(k),{columnGroup:N}),r("columnGroup.".concat(k),N),n(_,k,N))},p=function(){return t.footerColumnGroup?!0:t.columns?t.columns.some(function(k){return k&&h(k,"footer")}):!1},h=function(k,_){return Ka.getCProp(k,_)},g=function(k){var _=b.Children.toArray(Sh.getCProp(k,"children"));return x(_)},x=function(k){return b.Children.map(k,function(_,N){var O=_?!h(_,"hidden"):!0,R=_&&(h(_,"columnKey")||h(_,"field"))||N;return O&&b.createElement(DT,{hostName:t.hostName,key:R,tableProps:t.tableProps,column:_,ptCallbacks:t.ptCallbacks,metaData:t.metaData})})},v=function(){if(t.footerColumnGroup){var k=b.Children.toArray(vd.getCProp(t.footerColumnGroup,"children"));return k.map(function(N,O){var R=Sh.getProps(N.props,l),D=R.unstyled;R.__TYPE,R.ptOptions;var B=qS(R,$B),z=i({role:"row"},D?zB({unstyled:D},B):B,u(N,"root"));return b.createElement("tr",fa({},z,{key:O}),g(N))})}var _=i({role:"row"},r("footerRow",{hostName:t.hostName}));return b.createElement("tr",_,x(t.columns))};if(p()){var y=v(),E=i({className:a("tfoot"),role:"rowgroup"},f("root"),r("tfoot",{hostName:t.hostName}));return b.createElement("tfoot",E,y)}return null});MT.displayName="TableFooter";function BB(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function qB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ui=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),gs=BB(function t(){qB(this,t)});ea(gs,"ripple",!1);ea(gs,"inputStyle","outlined");ea(gs,"locale","en");ea(gs,"appendTo",null);ea(gs,"cssTransition",!0);ea(gs,"autoZIndex",!0);ea(gs,"hideOverlaysOnDocumentScrolling",!1);ea(gs,"nonce",null);ea(gs,"nullSortOrder",1);ea(gs,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});ea(gs,"pt",void 0);ea(gs,"filterMatchModeOptions",{text:[Ui.STARTS_WITH,Ui.CONTAINS,Ui.NOT_CONTAINS,Ui.ENDS_WITH,Ui.EQUALS,Ui.NOT_EQUALS],numeric:[Ui.EQUALS,Ui.NOT_EQUALS,Ui.LESS_THAN,Ui.LESS_THAN_OR_EQUAL_TO,Ui.GREATER_THAN,Ui.GREATER_THAN_OR_EQUAL_TO],date:[Ui.DATE_IS,Ui.DATE_IS_NOT,Ui.DATE_BEFORE,Ui.DATE_AFTER]});ea(gs,"changeTheme",function(t,e,r,n){var a,i=document.getElementById(r);if(!i)throw Error("Element with id ".concat(r," not found."));var s=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",r),l.setAttribute("href",s),l.addEventListener("load",function(){n&&n()}),(a=i.parentNode)===null||a===void 0||a.replaceChild(l,i)});var UB={en:{accept:"Yes",addRule:"Add Rule",am:"AM",apply:"Apply",cancel:"Cancel",choose:"Choose",chooseDate:"Choose Date",chooseMonth:"Choose Month",chooseYear:"Choose Year",clear:"Clear",completed:"Completed",contains:"Contains",custom:"Custom",dateAfter:"Date is after",dateBefore:"Date is before",dateFormat:"mm/dd/yy",dateIs:"Date is",dateIsNot:"Date is not",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],emptyFilterMessage:"No results found",emptyMessage:"No available options",emptySearchMessage:"No results found",emptySelectionMessage:"No selected item",endsWith:"Ends with",equals:"Equals",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],filter:"Filter",firstDayOfWeek:0,gt:"Greater than",gte:"Greater than or equal to",lt:"Less than",lte:"Less than or equal to",matchAll:"Match All",matchAny:"Match Any",medium:"Medium",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nextDecade:"Next Decade",nextHour:"Next Hour",nextMinute:"Next Minute",nextMonth:"Next Month",nextSecond:"Next Second",nextYear:"Next Year",noFilter:"No Filter",notContains:"Not contains",notEquals:"Not equals",now:"Now",passwordPrompt:"Enter a password",pending:"Pending",pm:"PM",prevDecade:"Previous Decade",prevHour:"Previous Hour",prevMinute:"Previous Minute",prevMonth:"Previous Month",prevSecond:"Previous Second",prevYear:"Previous Year",reject:"No",removeRule:"Remove Rule",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",showMonthAfterYear:!1,startsWith:"Starts with",strong:"Strong",today:"Today",upload:"Upload",weak:"Weak",weekHeader:"Wk",aria:{cancelEdit:"Cancel Edit",close:"Close",collapseRow:"Row Collapsed",editRow:"Edit Row",expandRow:"Row Expanded",falseLabel:"False",filterConstraint:"Filter Constraint",filterOperator:"Filter Operator",firstPageLabel:"First Page",gridView:"Grid View",hideFilterMenu:"Hide Filter Menu",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",lastPageLabel:"Last Page",listLabel:"Option List",listView:"List View",moveAllToSource:"Move All to Source",moveAllToTarget:"Move All to Target",moveBottom:"Move Bottom",moveDown:"Move Down",moveToSource:"Move to Source",moveToTarget:"Move to Target",moveTop:"Move Top",moveUp:"Move Up",navigation:"Navigation",next:"Next",nextPageLabel:"Next Page",nullLabel:"Not Selected",pageLabel:"Page {page}",otpLabel:"Please enter one time password character {0}",passwordHide:"Hide Password",passwordShow:"Show Password",previous:"Previous",prevPageLabel:"Previous Page",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",rowsPerPageLabel:"Rows per page",saveEdit:"Save Edit",scrollTop:"Scroll Top",selectAll:"All items selected",selectRow:"Row Selected",showFilterMenu:"Show Filter Menu",slide:"Slide",slideNumber:"{slideNumber}",star:"1 star",stars:"{star} stars",trueLabel:"True",unselectAll:"All items unselected",unselectRow:"Row Unselected",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out"}}};function hm(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe ariaKey detected");var r=gs.locale;try{var n=HB(r).aria[t];if(n)for(var a in e)e.hasOwnProperty(a)&&(n=n.replace("{".concat(a,"}"),e[a]));return n}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function HB(t){var e=t||gs.locale;if(e.includes("__proto__")||e.includes("prototype"))throw new Error("Unsafe locale detected");return UB[e]}var WB="",Zp=yn.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:WB},getProps:function(e){return Me.getMergedProps(e,Zp.defaultProps)},getOtherProps:function(e){return Me.getDiffProps(e,Zp.defaultProps)}});function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GB=o.memo(o.forwardRef(function(t,e){var r=o.useRef(null),n=o.useRef(null),a=o.useRef(null),i=o.useContext(ra),s=Zp.getProps(t,i),l={props:s};of(Zp.css.styles,{name:"focustrap"});var c=Zp.setMetaData(VB({},l));c.ptm,o.useImperativeHandle(e,function(){return{props:s,getInk:function(){return n.current},getTarget:function(){return r.current}}}),$s(function(){s.disabled||(r.current=u(),f(r.current))});var u=function(){return n.current&&n.current.parentElement},f=function(y){var E=s||{},C=E.autoFocusSelector,k=C===void 0?"":C,_=E.firstFocusableSelector,N=_===void 0?"":_,O=E.autoFocus,R=O===void 0?!1:O,D="".concat(p(k)),B="[autofocus]".concat(D,", [data-pc-autofocus='true']").concat(D),z=Ue.getFirstFocusableElement(y,B);R&&!z&&(z=Ue.getFirstFocusableElement(y,p(N))),Ue.focus(z)},p=function(y){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(y??"")},h=function(y){var E,C=y.currentTarget,k=y.relatedTarget,_=k===C.$_pfocustrap_lasthiddenfocusableelement||!((E=r.current)!==null&&E!==void 0&&E.contains(k))?Ue.getFirstFocusableElement(C.parentElement,p(C.$_pfocustrap_focusableselector)):C.$_pfocustrap_lasthiddenfocusableelement;Ue.focus(_)},g=function(y){var E,C=y.currentTarget,k=y.relatedTarget,_=k===C.$_pfocustrap_firsthiddenfocusableelement||!((E=r.current)!==null&&E!==void 0&&E.contains(k))?Ue.getLastFocusableElement(C.parentElement,p(C.$_pfocustrap_focusableselector)):C.$_pfocustrap_firsthiddenfocusableelement;Ue.focus(_)},x=function(){var y=s||{},E=y.tabIndex,C=E===void 0?0:E,k=function(R,D,B){return o.createElement("span",{ref:R,className:"p-hidden-accessible p-hidden-focusable",tabIndex:C,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:D,"data-pc-section":B})},_=k(n,h,"firstfocusableelement"),N=k(a,g,"lastfocusableelement");return n.current&&a.current&&(n.current.$_pfocustrap_lasthiddenfocusableelement=a.current,a.current.$_pfocustrap_firsthiddenfocusableelement=n.current),o.createElement(o.Fragment,null,_,s.children,N)};return x()})),KB=GB;function TP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var HS=b.memo(function(t){var e=b.useState(!1),r=ia(e,2),n=r[0],a=r[1],i=b.useRef(null),s=b.useRef(null),l=b.useRef(null),c=b.useRef(!1),u=b.useRef(null),f=$n(),p=function(at){return Ka.getCProp(t.column,at)},h=function(){return Ka.getCProps(t.column)},g=b.useContext(ra),x=t.ptCallbacks,v=x.ptm,y=x.ptmo,E=x.cx,C=function(at,vt){var Kt=h(),cr=gc({props:Kt,parent:t.metaData,hostName:t.hostName,state:{overlayVisible:n}},vt);return f(v("column.".concat(at),{column:cr}),v("column.".concat(at),cr),y(Kt,at,cr))},k=p("filterField")||p("field"),_=t.filters[k],N=t.filtersStore&&t.filtersStore[k],O=DI({target:l,overlay:i,listener:function(at,vt){var Kt=vt.type,cr=vt.valid;cr&&(Kt==="outside"?(!c.current&&!j(at.target)&&Ze(),c.current=!1):g.hideOverlaysOnDocumentScrolling?Ze():Ue.isDocument(at.target)||Ue.alignOverlay(i.current,l.current,g&&g.appendTo||Fn.appendTo,!1))},when:n}),R=ia(O,2),D=R[0],B=R[1],z=function(){return!N||!_?!1:N.operator?!L(_.constraints[0].value):!L(_.value)},I=function(){return _&&!L(_.value)},L=function(at){return Me.isEmpty(at)},M=function(at){return _&&_.matchMode===at},F=function(){return p("filterMatchModeOptions")||g&&g.filterMatchModeOptions[G()].map(function(at){return{label:js(at),value:at}})||Fn.filterMatchModeOptions[G()].map(function(at){return{label:js(at),value:at}})},H=function(){return p("showFilterMenu")&&(t.display==="row"?p("dataType")!=="boolean":!0)},J=function(){return p("showClearButton")&&t.display==="row"},ee=function(){return p("dataType")!=="boolean"&&p("showFilterMatchModes")&&F()&&p("showFilterMenuOptions")},re=function(){return p("showFilterOperator")&&_&&_.operator&&p("showFilterMenuOptions")},te=function(){return lr().length>1},K=function(){return p("showAddButton")&&_&&_.operator&&lr()&&lr().length<p("maxConstraints")&&p("showFilterMenuOptions")},U=function(at){return!j(at)&&i.current&&!(i.current.isSameNode(at)||i.current.contains(at))},j=function(at){return l.current&&(l.current.isSameNode(at)||l.current.contains(at))},Y=function(){if(N)return N.operator?{matchMode:N.constraints[0].matchMode,operator:N.operator}:{matchMode:N.matchMode}},G=function(){var at=p("dataType"),vt=p("filterMatchMode"),Kt=function(gr){return g&&g.filterMatchModeOptions[gr].some(function(Bt){return Bt===vt})||Fn.filterMatchModeOptions[gr].some(function(Bt){return Bt===vt})};return vt==="custom"&&!Kt(at)?(g&&g.filterMatchModeOptions[at].push(mo.CUSTOM)||Fn.filterMatchModeOptions[at].push(mo.CUSTOM),at):vt&&Object.keys(g&&g.filterMatchModeOptions||Fn.filterMatchModeOptions).find(function(cr){return Kt(cr)})||at},X=function(){var at=p("onFilterClear"),vt=Y(),Kt=gc({},t.filters);Kt[k].operator?(Kt[k].constraints.splice(1),Kt[k].operator=vt.operator,Kt[k].constraints[0]={value:null,matchMode:vt.matchMode}):(Kt[k].value=null,Kt[k].matchMode=vt.matchMode),at&&at(),t.onFilterChange(Kt),t.onFilterApply(),Ze()},ie=function(){var at=p("onFilterApplyClick");at&&at({field:k,constraints:_}),t.onFilterApply(),Ze()},ye=function(){a(function(at){return!at})},me=function(at){switch(at.key){case"Escape":case"Tab":Ze();break;case"ArrowDown":if(n){var vt=Ue.getFirstFocusableElement(i.current);vt&&vt.focus(),at.preventDefault()}else at.altKey&&(a(!0),at.preventDefault());break}},he=function(at){at.key==="Escape"&&(Ze(),l.current&&l.current.focus())},je=function(at,vt){var Kt=gc({},t.filters),cr=at.target.value,gr=Kt[k];t.display==="menu"&&Me.isNotEmpty(gr.constraints)?gr.constraints[vt].value=cr:gr.value=cr,t.onFilterChange(Kt),(!p("showApplyButton")||t.display==="row")&&t.onFilterApply()},Fe=function(at,vt){at.key==="Enter"&&(!p("showApplyButton")||t.display==="menu")&&ie()},ue=function(at){var vt=p("onFilterMatchModeChange"),Kt=gc({},t.filters);Kt[k].matchMode=at,vt&&vt({field:k,matchMode:at}),t.onFilterChange(Kt),t.onFilterApply(),Ze()},xe=function(at,vt,Kt){var cr=at.target;switch(at.key){case"ArrowDown":var gr=Te(cr);gr&&(cr.removeAttribute("tabindex"),gr.tabIndex=0,gr.focus()),at.preventDefault();break;case"ArrowUp":var Bt=Le(cr);Bt&&(cr.removeAttribute("tabindex"),Bt.tabIndex=0,Bt.focus()),at.preventDefault();break;case"Enter":Kt?X():ue(vt.value),at.preventDefault();break}},Pe=function(at){var vt=p("onFilterOperatorChange"),Kt=at.value,cr=gc({},t.filters);cr[k].operator=Kt,t.onFilterChange(cr),vt&&vt({field:k,operator:Kt}),p("showApplyButton")||t.onFilterApply()},_e=function(at,vt){var Kt=p("onFilterMatchModeChange"),cr=gc({},t.filters),gr=cr[k];t.display==="menu"&&Me.isNotEmpty(gr.constraints)?gr.constraints[vt].matchMode=at:gr.matchMode=at,t.onFilterChange(cr),Kt&&Kt({field:k,matchMode:at,index:vt}),p("showApplyButton")||t.onFilterApply()},ce=function(){var at=p("onFilterConstraintAdd"),vt=Y(),Kt=gc({},t.filters),cr={value:null,matchMode:vt.matchMode};Kt[k].constraints.push(cr),at&&at({field:k,constraint:cr}),t.onFilterChange(Kt),p("showApplyButton")||t.onFilterApply()},Je=function(at){var vt=p("onFilterConstraintRemove"),Kt=gc({},t.filters),cr=Kt[k].constraints.splice(at,1);vt&&vt({field:k,constraint:cr}),t.onFilterChange(Kt),p("showApplyButton")||t.onFilterApply()},Te=function(at){var vt=at.nextElementSibling;return vt?Ue.getAttribute(vt,"data-p-column-filter-separator")===!0?Te(vt):vt:at.parentElement.firstElementChild},Le=function(at){var vt=at.previousElementSibling;return vt?Ue.getAttribute(vt,"data-p-column-filter-separator")===!0?Le(vt):vt:at.parentElement.lastElementChild},Ze=function(){a(!1)},Be=function(at){c.current=!0,md.emit("overlay-click",{originalEvent:at,target:i.current})},et=function(){c.current=!0},Dt=function(){Pc.set("overlay",i.current,g&&g.autoZIndex||Fn.autoZIndex,g&&g.zIndex.overlay||Fn.zIndex.overlay),Ue.addStyles(i.current,{position:"absolute",top:"0",left:"0"}),Ue.alignOverlay(i.current,l.current,g&&g.appendTo||Fn.appendTo,!1),u.current=function(at){U(at.target)||(c.current=!0)},md.on("overlay-click",u.current)},Ut=function(){D()},Vt=function(){dr()},Jt=function(){Pc.clear(i.current)},dr=function(){B(),md.off("overlay-click",u.current),u.current=null,c.current=!1},lr=function(){return _?_.constraints||[_]:[]},ct=function(){return _.operator},pt=function(){return[{label:js("matchAll"),value:Kp.AND},{label:js("matchAny"),value:Kp.OR}]},nt=function(){return js("noFilter")},rt=function(){return js("removeRule")},Lt=function(){return js("addRule")},hr=function(){return js("clear")},tr=function(){return js("apply")},rr=function(at){var vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Kt=gc({},t.filters),cr=Kt[k];t.display==="menu"&&cr&&cr.operator?Kt[k].constraints[vt].value=at:Kt[k].value=at,t.onFilterChange(Kt)},Wr=function(){for(var at=arguments.length,vt=new Array(at),Kt=0;Kt<at;Kt++)vt[Kt]=arguments[Kt];vt&&rr(vt[0],vt[1]),t.onFilterApply()};ma(function(){t.display==="menu"&&n&&Ue.alignOverlay(i.current,l.current,g&&g.appendTo||Fn.appendTo,!1)}),$s(function(){s.current||(s.current=W0())}),Fs(function(){u.current&&(md.off("overlay-click",u.current),u.current=null),i.current&&(Pc.clear(i.current),dr())});var Nr=function(at,vt){var Kt=at?at.value:null;return p("filterElement")?Me.getJSXElement(p("filterElement"),{field:k,index:vt,filterModel:at,value:Kt,filterApplyCallback:Wr,filterCallback:rr}):b.createElement(MS,{type:p("filterType"),value:Kt||"",onChange:function(gr){return je(gr,vt)},onKeyDown:function(gr){return Fe(gr)},className:"p-column-filter",placeholder:p("filterPlaceholder"),maxLength:p("filterMaxLength"),"aria-label":p("filterPlaceholder"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})},bt=function(){if(t.display==="row"){var at=Nr(_,0),vt=f({className:E("filterInput")},C("filterInput"));return b.createElement("div",vt,at)}return null},ke=function(at,vt){return t.display==="menu"?Nr(at,vt):null},Re=function(){if(!H())return null;var at=f({"aria-hidden":!0},C("filterIcon")),vt=t.filterIcon||b.createElement(wT,at),Kt=ga.getJSXIcon(vt,gc({},at),{props:t}),cr=hm(n?"hideFilterMenu":"showFilterMenu"),gr=f({type:"button",className:E("filterMenuButton",{overlayVisibleState:n,hasFilter:z}),"aria-haspopup":!0,"aria-expanded":n,"aria-label":cr,"aria-controls":n?s.current:void 0,onClick:function(it){return ye()},onKeyDown:function(it){return me(it)}},C("filterMenuButton",{context:{active:z()}}));return b.createElement("button",fa({ref:l},gr),Kt,b.createElement(Ai,null))},Qe=function(){if(!J())return null;var at=f({"aria-hidden":!0},C("filterClearIcon")),vt=t.filterClearIcon||b.createElement(xT,at),Kt=ga.getJSXIcon(vt,gc({},at),{props:t}),cr=hr(),gr=f({className:E("headerFilterClearButton",{hasRowFilter:I}),type:"button",onClick:function(it){return X()},"aria-label":cr},C("headerFilterClearButton",{context:{hidden:I()}}));return b.createElement("button",gr,Kt,b.createElement(Ai,null))},jt=function(){if(ee()){var at=F(),vt=nt(),Kt=f({className:E("filterSeparator"),"data-p-column-filter-separator":!0},C("filterSeparator")),cr=f({className:E("filterRowItem",{isRowMatchModeSelected:M,isShowMatchModes:ee}),onClick:function(it){return X()},onKeyDown:function(it){return xe(it,null,!0)}},C("filterRowItem")),gr=f({className:E("filterRowItems")},C("filterRowItems"));return b.createElement("ul",gr,at.map(function(Bt,it){var xt=Bt.value,Ht=Bt.label,ir=it===0?0:null,nr=f({className:E("filterRowItem",{isRowMatchModeSelected:M,isShowMatchModes:ee,value:xt}),onClick:function(){return ue(xt)},onKeyDown:function(yr){return xe(yr,Bt)},tabIndex:ir},C("filterRowItem",{context:{highlighted:Bt&&M(xt)}}));return b.createElement("li",fa({},nr,{key:Ht}),Ht)}),b.createElement("li",Kt),b.createElement("li",cr,vt))}return null},gt=function(){if(re()){var at=pt(),vt=ct(),Kt=f({className:E("filterOperator")},C("filterOperator"));return b.createElement("div",Kt,b.createElement(wh,{options:at,value:vt,onChange:Pe,className:"p-column-filter-operator-dropdown",pt:C("filterOperatorDropdown"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData},"aria-label":hm("filterOperator")}))}return null},At=function(at,vt){if(ee()){var Kt=F();return b.createElement(wh,{options:Kt,value:at.matchMode,onChange:function(gr){return _e(gr.value,vt)},className:"p-column-filter-matchmode-dropdown",pt:C("filterMatchModeDropdown"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData},"aria-label":hm("filterConstraint")})}return null},kr=function(at){if(te()){var vt=rt();return b.createElement(Bp,{type:"button",icon:t.filterRemoveIcon||b.createElement(ST,null),className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return Je(at)},label:vt,pt:C("filterRemoveButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return null},xr=function(){var at=lr(),vt=f({className:E("filterConstraints")},C("filterConstraints")),Kt=f({className:E("filterConstraint")},C("filterConstraint"));return b.createElement("div",vt,at.map(function(cr,gr){var Bt=At(cr,gr),it=ke(cr,gr),xt=kr(gr),Ht=f(C("filterRemove"));return b.createElement("div",fa({},Kt,{key:gr}),Bt,it,b.createElement("div",Ht,xt))}))},Xr=function(){if(K()){var at=Lt(),vt=f({className:E("filterAddRule")},C("filterAddRule"));return b.createElement("div",vt,b.createElement(Bp,{type:"button",label:at,icon:t.filterAddIcon||b.createElement(ET,null),className:"p-column-filter-add-button p-button-text p-button-sm",onClick:ce,pt:C("filterAddRuleButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}}))}return null},Zr=function(){if(p("showClearButton")){if(!p("filterClear")){var at=hr();return b.createElement(Bp,{type:"button",outlined:!0,size:"small",onClick:X,label:at,pt:C("filterClearButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return Me.getJSXElement(p("filterClear"),{field:k,filterModel:_,filterClearCallback:X})}return null},Qt=function(){if(p("showApplyButton")){if(!p("filterApply")){var at=tr();return b.createElement(Bp,{type:"button",size:"small",onClick:ie,label:at,pt:C("filterApplyButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return Me.getJSXElement(p("filterApply"),{field:k,filterModel:_,filterApplyCallback:ie})}return null},ln=function(){var at=Zr(),vt=Qt(),Kt=f({className:E("filterButtonBar")},C("filterButtonBar"));return b.createElement("div",Kt,at,vt)},Sn=function(){var at=gt(),vt=xr(),Kt=Xr(),cr=ln();return b.createElement(b.Fragment,null,at,vt,Kt,cr)},dt=function(){var at=p("filterMenuStyle"),vt=Me.getJSXElement(p("filterHeader"),{field:k,filterModel:_,filterApplyCallback:Wr}),Kt=Me.getJSXElement(p("filterFooter"),{field:k,filterModel:_,filterApplyCallback:Wr}),cr=t.display==="row"?jt():Sn(),gr=f({style:at,className:E("filterOverlay",{columnFilterProps:t,context:g,getColumnProp:p}),onKeyDown:function(xt){return he(xt)},onClick:function(xt){return Be(xt)},onMouseDown:function(xt){return et()},id:s.current,"aria-modal":n,role:"dialog"},C("filterOverlay")),Bt=f({classNames:E("transition"),in:n,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:Dt,onEntered:Ut,onExit:Vt,onExited:Jt},C("transition"));return b.createElement(K0,null,b.createElement($S,fa({nodeRef:i},Bt),b.createElement("div",fa({ref:i},gr),b.createElement(KB,{autoFocus:!0},vt,cr,Kt))))},Et=bt(),Tt=Re(),Gt=Qe(),br=dt(),Kr=f({className:E("columnFilter",{columnFilterProps:t})},C("columnFilter"));return b.createElement("div",Kr,Et,Tt,Gt,br)});HS.displayName="ColumnFilter";function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WS=b.memo(function(t){var e=$n(),r=function(){return Ka.getCProps(t.column)},n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=n.cx,l=function(v){var y=r(),E={props:y,parent:t.metaData,hostName:t.hostName,state:{},context:{checked:t.checked,disabled:t.disabled}};return e(a("column.".concat(v),{column:E}),a("column.".concat(v),E),i(y,v,E))},c=function(v){t.disabled||t.onChange({originalEvent:v,checked:!t.checked})},u=e({className:s("checkIcon")},l("headerCheckbox.icon")),f=t.checked?t.checkIcon||b.createElement(ap,u):null,p=ga.getJSXIcon(f,YB({},u),{props:t}),h=t.disabled?null:0,g={role:"checkbox","aria-checked":t.checked,"aria-label":t.checked?hm("selectAll"):hm("unselectAll"),tabIndex:h,onChange:c,icon:p,checked:t.checked,disabled:t.disabled,unstyled:t.unstyled,pt:l("headerCheckbox")};return b.createElement(US,g)});WS.displayName="HeaderCheckbox";function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ov(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FT=b.memo(function(t){var e=b.useState({}),r=ia(e,2),n=r[0],a=r[1],i=b.useRef(null),s=Om(t.column),l=$n(),c=t.metaData,u=t.ptCallbacks,f=t.index,p=t.ptCallbacks,h=p.ptm,g=p.ptmo,x=p.cx,v={index:f},y=ov(ov({},c),v),E=function(){return Ka.getCProps(t.column)},C=function(ue){var xe=E(),Pe={props:xe,parent:y,hostName:t.hostName,state:{styleObject:n},context:{index:t.index,sorted:D().sorted,resizable:t.resizableColumns,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return l(h("column.".concat(ue),{column:Pe}),h("column.".concat(ue),Pe),g(xe,ue,Pe))},k=function(){return t.multiSortMeta&&t.multiSortMeta.length>1},_=function(){return!N("sortable")||N("sortable")&&(t.allSortableDisabled||N("sortableDisabled"))},N=function(){return t.column?typeof(arguments.length<=0?void 0:arguments[0])=="string"?Ka.getCProp(t.column,arguments.length<=0?void 0:arguments[0]):Ka.getCProp((arguments.length<=0?void 0:arguments[0])||t.column,arguments.length<=1?void 0:arguments[1]):null},O=function(){var ue=N("headerStyle"),xe=N("style");return N("frozen")?Object.assign({},xe,ue,n):Object.assign({},xe,ue)},R=function(){return t.multiSortMeta.findIndex(function(ue){return ue.field===N("field")||ue.field===N("sortField")})},D=function(){var ue=!1,xe=0,Pe=-1;return t.sortMode==="single"?(ue=t.sortField&&(t.sortField===N("field")||t.sortField===N("sortField")),xe=ue?t.sortOrder:0):t.sortMode==="multiple"&&(Pe=R(),Pe>-1&&(ue=!0,xe=t.multiSortMeta[Pe].order)),{sorted:ue,sortOrder:xe,metaIndex:Pe}},B=function(ue){var xe=ue.sorted,Pe=ue.sortOrder;return N("sortable")?xe&&Pe<0?"descending":xe&&Pe>0?"ascending":"none":null},z=function(){if(N("frozen")){var ue=ov({},n),xe=N("alignFrozen");if(xe==="right"){var Pe=0,_e=i.current.nextElementSibling;_e&&_e.classList.contains("p-frozen-column")&&(Pe=Ue.getOuterWidth(_e)+parseFloat(_e.style.right||0)),ue.right=Pe+"px"}else{var ce=0,Je=i.current.previousElementSibling;Je&&Je.classList.contains("p-frozen-column")&&(ce=Ue.getOuterWidth(Je)+parseFloat(Je.style.left||0)),ue.left=ce+"px"}var Te=i.current.parentElement.nextElementSibling;if(Te){var Le=Ue.index(i.current);Te.children[Le].style.left=ue.left,Te.children[Le].style.right=ue.right}var Ze=n.left===ue.left&&n.right===ue.right;!Ze&&a(ue)}},I=function(ue){(N(ue,"sortableDisabled")!==N("sortableDisabled")||N(ue,"sortable")!==N("sortable"))&&t.onSortableChange()},L=function(ue){if(!_()){var xe=ue.target;(Ue.getAttribute(xe,"data-p-sortable-column")===!0||Ue.getAttribute(xe,"data-pc-section")==="headertitle"||Ue.getAttribute(xe,"data-pc-section")==="headercontent"||Ue.getAttribute(xe,"data-pc-section")==="sortIcon"||Ue.getAttribute(xe.parentElement,"data-pc-section")==="sortIcon"||xe.closest('[data-p-sortable-column="true"]')&&!xe.closest('[data-pc-section="filtermenubutton"]'))&&(Ue.clearSelection(),t.onSortChange({originalEvent:ue,column:t.column,sortableDisabledFields:t.sortableDisabledFields}))}},M=function(ue){t.onColumnMouseDown({originalEvent:ue,column:t.column})},F=function(ue){(ue.code=="Enter"||ue.code==="NumpadEnter"||ue.code=="Space")&&ue.target===i.current&&Ue.getAttribute(ue.currentTarget,"data-p-sortable-column")===!0&&(L(ue),ue.preventDefault())},H=function(ue){t.onColumnDragStart({originalEvent:ue,column:t.column})},J=function(ue){t.onColumnDragOver({originalEvent:ue,column:t.column})},ee=function(ue){t.onColumnDragLeave({originalEvent:ue,column:t.column})},re=function(ue){t.onColumnDrop({originalEvent:ue,column:t.column})},te=function(ue){t.onColumnResizeStart({originalEvent:ue,column:t.column})},K=function(ue){t.onColumnResizerClick&&(t.onColumnResizerClick({originalEvent:ue,element:ue.currentTarget.parentElement,column:t.column}),ue.preventDefault())},U=function(ue){t.onColumnResizerDoubleClick&&(t.onColumnResizerDoubleClick({originalEvent:ue,element:ue.currentTarget.parentElement,column:t.column}),ue.preventDefault())};b.useEffect(function(){N("frozen")&&z(),I(s)});var j=function(){if(t.resizableColumns&&!N("frozen")){var ue=l({className:x("columnResizer"),onMouseDown:function(Pe){return te(Pe)},onTouchStart:function(Pe){return te(Pe)},onClick:function(Pe){return K(Pe)},onDoubleClick:function(Pe){return U(Pe)}},C("columnResizer"));return b.createElement("span",ue)}return null},Y=function(){var ue=Me.getJSXElement(N("header"),{props:t.tableProps}),xe=l({className:x("headerTitle")},C("headerTitle"));return b.createElement("span",xe,ue)},G=function(ue){var xe=ue.sorted,Pe=ue.sortOrder;if(N("sortable")){var _e=l({className:x("sortIcon")},C("sortIcon")),ce=l(C("sort")),Je=xe?Pe<0?b.createElement(NT,_e):b.createElement(PT,_e):b.createElement(CT,_e),Te=ga.getJSXIcon(t.sortIcon||Je,ov({},_e),{props:t,sorted:xe,sortOrder:Pe});return b.createElement("span",ce,Te)}return null},X=function(ue){var xe=ue.metaIndex;if(xe!==-1&&k()){var Pe=t.groupRowsBy&&t.groupRowsBy===t.groupRowSortField?xe:xe+1,_e=l({className:x("sortBadge")},C("root"),C("sortBadge"));return b.createElement("span",_e,Pe)}return null},ie=function(){if(t.showSelectAll&&N("selectionMode")==="multiple"&&t.filterDisplay!=="row"){var ue=t.allRowsSelected(t.value);return b.createElement(WS,{hostName:t.hostName,column:t.column,checked:ue,onChange:t.onColumnCheckboxChange,disabled:t.empty,ptCallbacks:u,metaData:c,unstyled:t.unstyled})}return null},ye=function(){return t.filterDisplay==="menu"&&N("filter")?b.createElement(HS,{hostName:t.hostName,display:"menu",column:t.column,filters:t.filters,onFilterChange:t.onFilterChange,onFilterApply:t.onFilterApply,filtersStore:t.filtersStore,filterIcon:t.filterIcon,filterClearIcon:t.filterClearIcon,ptCallbacks:u,metaData:c,unstyled:t.unstyled}):null},me=function(ue){var xe=Y(),Pe=G(ue),_e=X(ue),ce=ie(),Je=ye(),Te=l({className:x("headerContent")},C("headerContent"));return b.createElement("div",Te,xe,Pe,_e,ce,Je)},he=function(){var ue=_(),xe=D(),Pe=O(),_e=N("alignHeader")||N("align"),ce=N("frozen"),Je=N("sortable")&&!ue?t.tabIndex:null,Te=N("colSpan"),Le=N("rowSpan"),Ze=B(xe),Be=N("headerTooltip"),et=N("headerClassName"),Dt=Me.isNotEmpty(Be),Ut=N("headerTooltipOptions"),Vt=j(),Jt=me(xe),dr=l({className:ur(et,x("headerCell",{headerProps:t,frozen:ce,sortMeta:xe,align:_e,_isSortableDisabled:ue,getColumnProp:N})),style:Pe,role:"columnheader",onClick:function(ct){return L(ct)},onKeyDown:function(ct){return F(ct)},onMouseDown:function(ct){return M(ct)},onDragStart:function(ct){return H(ct)},onDragOver:function(ct){return J(ct)},onDragLeave:function(ct){return ee(ct)},onDrop:function(ct){return re(ct)},tabIndex:Je,colSpan:Te,rowSpan:Le,"aria-sort":Ze,"data-p-sortable-column":N("sortable"),"data-p-resizable-column":t.resizableColumns,"data-p-highlight":xe.sorted,"data-p-filter-column":!t.metaData.props.headerColumnGroup&&t.filterDisplay==="row","data-p-frozen-column":N("frozen"),"data-p-reorderable-column":t.reorderableColumns},C("root"),C("headerCell"));return b.createElement(b.Fragment,null,b.createElement("th",fa({ref:i},dr),Vt,Jt),Dt&&b.createElement(Ru,fa({target:i,content:Be,pt:C("tooltip"),unstyled:t.unstyled},Ut)))},je=he();return je});FT.displayName="HeaderCell";var JB=["unstyled","__TYPE","ptOptions"];function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function By(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var $T=b.memo(function(t){var e=b.useState([]),r=ia(e,2),n=r[0],a=r[1],i=b.useState(!1),s=ia(i,2),l=s[0],c=s[1],u=$n(),f=t.sortMode==="single",p=t.sortMode==="multiple",h=f&&l,g=t.ptCallbacks,x=g.ptm,v=g.ptmo,y=g.cx,E=b.useContext(ra),C=function(j,Y){return Ka.getCProp(j,Y)},k=function(j){return Ka.getCProps(j)},_=function(j){return vd.getCProps(j)},N=function(){return t.headerColumnGroup?v(vd.getCProps(t.headerColumnGroup)):void 0},O=function(j){var Y=N(),G={props:Y,parent:t.metaData,hostName:t.hostName,state:{sortableDisabledFields:n,allSortableDisabled:l}};return u(x("columnGroup.".concat(j),{columnGroup:G}),x("columnGroup.".concat(j),G),v(Y,j,G))},R=function(j,Y){var G=k(j),X={props:G,parent:t.metaData,hostName:t.hostName,state:{sortableDisabledFields:n,allSortableDisabled:l}};return u(x("column.".concat(Y),{column:X}),x("column.".concat(Y),X),v(G,Y,X))},D=function(j,Y){var G=_(j),X={props:G,parent:t.metaData,hostName:t.hostName};return u(x("row.".concat(Y),{row:X}),x("row.".concat(Y),X),v(G,Y,X))},B=function(j){return t.sortField!==null?C(j,"field")===t.sortField||C(j,"sortField")===t.sortField:!1},z=function(){if(f||p&&t.onSortChange){var j=[],Y=!1;t.columns.forEach(function(G){C(G,"sortableDisabled")&&(j.push(C(G,"sortField")||C(G,"field")),!Y&&B(G)&&(Y=!0))}),a(j),c(Y)}},I=function(){z()},L=function(j){t.onColumnCheckboxChange(j,t.value)};$s(function(){z()});var M=function(j){var Y=b.Children.toArray(Sh.getCProp(j,"children"));return F(Y)},F=function(j){return b.Children.map(j,function(Y,G){var X=Y?!C(Y,"hidden"):!0,ie=Y&&(C(Y,"columnKey")||C(Y,"field"))||G;return X&&b.createElement(FT,{hostName:t.hostName,allRowsSelected:t.allRowsSelected,allSortableDisabled:h,column:Y,index:G,empty:t.empty,filterClearIcon:t.filterClearIcon,filterDisplay:t.filterDisplay,filterIcon:t.filterIcon,filters:t.filters,filtersStore:t.filtersStore,groupRowSortField:t.groupRowSortField,groupRowsBy:t.groupRowsBy,key:ie,multiSortMeta:t.multiSortMeta,onColumnCheckboxChange:L,onColumnDragLeave:t.onColumnDragLeave,onColumnDragOver:t.onColumnDragOver,onColumnDragStart:t.onColumnDragStart,onColumnDrop:t.onColumnDrop,onColumnMouseDown:t.onColumnMouseDown,onColumnResizeStart:t.onColumnResizeStart,onColumnResizerClick:t.onColumnResizerClick,onColumnResizerDoubleClick:t.onColumnResizerDoubleClick,onFilterApply:t.onFilterApply,onFilterChange:t.onFilterChange,onSortChange:t.onSortChange,onSortableChange:I,reorderableColumns:t.reorderableColumns,resizableColumns:t.resizableColumns,showSelectAll:t.showSelectAll,sortField:t.sortField,sortIcon:t.sortIcon,sortMode:t.sortMode,sortOrder:t.sortOrder,sortableDisabledFields:n,tabIndex:t.tabIndex,tableProps:t.tableProps,value:t.value,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled})})},H=function(j,Y){if(t.showSelectAll&&Y==="multiple"){var G=t.allRowsSelected(t.value);return b.createElement(WS,{hostName:t.hostName,column:j,checked:G,onChange:L,disabled:t.empty,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled})}return null},J=function(j,Y){return Y?b.createElement(HS,{hostName:t.hostName,display:"row",column:j,filterClearIcon:t.filterClearIcon,filterIcon:t.filterIcon,filters:t.filters,filtersStore:t.filtersStore,metaData:t.metaData,onFilterApply:t.onFilterApply,onFilterChange:t.onFilterChange,ptCallbacks:t.ptCallbacks,unstyled:t.unstyled}):null},ee=function(){return b.Children.map(t.columns,function(j,Y){var G=!C(j,"hidden");if(G){var X=Ka.getCProps(j),ie=X.filterHeaderStyle,ye=X.style,me=X.filterHeaderClassName,he=X.className,je=X.frozen,Fe=X.columnKey,ue=X.field,xe=X.selectionMode,Pe=X.filter,_e=By(By({},ie||{}),ye||{}),ce=Fe||ue||Y,Je=H(j,xe),Te=J(j,Pe),Le=u({style:_e,className:ur(me,he,y("headerCell",{frozen:je,column:j}))},R(j,"root"),R(j,"headerCell"));return b.createElement("th",fa({key:ce},Le),Je,Te)}return null})},re=function(){if(t.headerColumnGroup){var j=b.Children.toArray(vd.getCProp(t.headerColumnGroup,"children"));return j.map(function(ie,ye){var me=Sh.getProps(ie.props,E),he=me.unstyled;me.__TYPE,me.ptOptions;var je=qS(me,JB),Fe=u({role:"row"},he?By({unstyled:he},je):je,D(ie,"root"));return b.createElement("tr",fa({},Fe,{key:ye}),M(ie))})}var Y=u({role:"row"},x("headerRow",{hostName:t.hostName})),G=b.createElement("tr",Y,F(t.columns)),X=t.filterDisplay==="row"&&b.createElement("tr",Y,ee());return b.createElement(b.Fragment,null,G,X)},te=re(),K=u({className:y("thead"),role:"rowgroup"},O("root"),x("thead",{hostName:t.hostName}));return b.createElement("thead",K,te)});$T.displayName="TableHeader";function XB(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ZB(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function ZB(t,e){if(t){if(typeof t=="string")return DP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DP(t,e):void 0}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ps=b.forwardRef(function(t,e){var r=b.useContext(ra),n=$n(),a=rv.getProps(t,r),i=b.useState(a.first),s=ia(i,2),l=s[0],c=s[1],u=b.useState(a.rows),f=ia(u,2),p=f[0],h=f[1],g=b.useState(a.sortField),x=ia(g,2),v=x[0],y=x[1],E=b.useState(a.sortOrder),C=ia(E,2),k=C[0],_=C[1],N=b.useState(a.multiSortMeta),O=ia(N,2),R=O[0],D=O[1],B=b.useState(a.filters),z=ia(B,2),I=z[0],L=z[1],M=b.useState([]),F=ia(M,2),H=F[0],J=F[1],ee=b.useState(null),re=ia(ee,2),te=re[0],K=re[1],U=b.useState({}),j=ia(U,2),Y=j[0],G=j[1],X=b.useState({}),ie=ia(X,2),ye=ie[0],me=ie[1],he=b.useState(a.rows),je=ia(he,2),Fe=je[0],ue=je[1],xe=b.useState({}),Pe=ia(xe,2),_e=Pe[0],ce=Pe[1],Je={props:a,state:{first:l,rows:p,sortField:v,sortOrder:k,multiSortMeta:R,filters:I,columnOrder:H,groupRowsSortMeta:te,editingMeta:Y,frozenEditingMeta:ye,d_rows:Fe,d_filters:_e},context:{scrollable:a.scrollable}},Te=rv.setMetaData(Je);Fl(rv.css.styles,Te.isUnstyled,{name:"datatable"});var Le=b.useRef(""),Ze=b.useRef(null),Be=b.useRef(null),et=b.useRef(null),Dt=b.useRef(null),Ut=b.useRef(null),Vt=b.useRef(null),Jt=b.useRef(null),dr=b.useRef(null),lr=b.useRef(null),ct=b.useRef(null),pt=b.useRef(null),nt=b.useRef(null),rt=b.useRef(null),Lt=b.useRef(null),hr=b.useRef(null),tr=b.useRef(null),rr=b.useRef(null),Wr=b.useRef(null),Nr=b.useRef(null),bt=b.useRef(null),ke=b.useRef(null),Re=b.useRef(!1),Qe=b.useRef(null),jt=b.useRef(!1),gt=b.useRef(null),At=b.useRef(null),kr=b.useRef(null);a.rows!==Fe&&!a.onPage&&(h(a.rows),ue(a.rows));var xr=function(Oe){return Re.current&&Ya(Oe)},Xr=function(){return Re.current&&(Re.current=!1,Oi())},Zr=wu({type:"mousemove",listener:xr}),Qt=ia(Zr,2),ln=Qt[0],Sn=Qt[1],dt=wu({type:"mouseup",listener:Xr}),Et=ia(dt,2),Tt=Et[0],Gt=Et[1],br=wu({type:"touchmove",listener:xr}),Kr=ia(br,2),_t=Kr[0],at=Kr[1],vt=wu({type:"touchend",listener:Xr}),Kt=ia(vt,2),cr=Kt[0],gr=Kt[1],Bt=function(){return a.stateStorage==="custom"},it=function(){return a.stateKey!=null||Bt()},xt=function(){return Me.isEmpty(a.virtualScrollerOptions)||!a.scrollable},Ht=function(Oe,We){return a.compareSelectionBy==="equals"?Oe===We:Me.equals(Oe,We,a.dataKey)},ir=function(){return Me.isNotEmpty(Ye())||a.globalFilter},nr=function(){return a.onPage?a.first:l},Rt=function(){return a.onPage?a.rows:p},yr=function(){return a.onSort?a.sortField:v},Vr=function(){return a.onSort?a.sortOrder:k},Ur=function(){return(a.onSort?a.multiSortMeta:R)||[]},Ye=function(){return a.onFilter?a.filters:I},ae=function(Oe,We){return Ka.getCProp(Oe,We)},we=function(Oe){var We=b.Children.toArray(a.children);if(!We)return null;if(!Oe&&a.reorderableColumns&&H){var ut=H.reduce(function(yt,It){var wt=wn(We,It);return wt&&yt.push(wt),yt},[]);return[].concat(Qa(ut),Qa(We.filter(function(yt){return ut.indexOf(yt)<0})))}return We},$e=function(){var Oe={};a.paginator&&(Oe.first=nr(),Oe.rows=Rt());var We=yr();We&&(Oe.sortField=We,Oe.sortOrder=Vr());var ut=Ur();if(ut&&(Oe.multiSortMeta=ut),ir()&&(Oe.filters=Ye()),a.resizableColumns&&Ar(Oe),a.reorderableColumns&&(Oe.columnOrder=H),a.expandedRows&&(Oe.expandedRows=a.expandedRows),a.selection&&a.onSelectionChange&&(Oe.selection=a.selection),Bt())a.customSaveState&&a.customSaveState(Oe);else{var yt=zy(a.stateStorage);Me.isNotEmpty(Oe)&&yt.setItem(a.stateKey,JSON.stringify(Oe))}a.onStateSave&&a.onStateSave(Oe)},Xe=function(){var Oe=zy(a.stateStorage);Oe&&a.stateKey&&Oe.removeItem(a.stateKey)},st=function(){var Oe={};if(Bt())a.customRestoreState&&(Oe=a.customRestoreState());else{var We=zy(a.stateStorage),ut=We.getItem(a.stateKey),yt=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,It=function(zt,er){return typeof er=="string"&&yt.test(er)?new Date(er):er};ut&&(Oe=JSON.parse(ut,It))}Yt(Oe)},Ot=function(Oe){Yt(Oe)},Yt=function(){var Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Me.isNotEmpty(Oe)){if(a.paginator)if(a.onPage){var We=function(yt,It){var wt=na(Ja()),zt=Math.ceil(wt/It)||1,er=Math.floor(yt/It);return{first:yt,rows:It,page:er,pageCount:zt}};a.onPage(no(We(Oe.first,Oe.rows)))}else c(Oe.first),h(Oe.rows);Oe.sortField&&(a.onSort?a.onSort(no({sortField:Oe.sortField,sortOrder:Oe.sortOrder})):(y(Oe.sortField),_(Oe.sortOrder))),Oe.multiSortMeta&&(a.onSort?a.onSort(no({multiSortMeta:Oe.multiSortMeta})):D(Oe.multiSortMeta)),Oe.filters&&(ce(Do(Oe.filters)),a.onFilter?a.onFilter(no({filters:Oe.filters})):L(Do(Oe.filters))),a.resizableColumns&&(Wr.current=Oe.columnWidths,Nr.current=Oe.tableWidth,An()),a.reorderableColumns&&J(Oe.columnOrder),Oe.expandedRows&&a.onRowToggle&&a.onRowToggle({data:Oe.expandedRows}),Oe.selection&&a.onSelectionChange&&a.onSelectionChange({value:Oe.selection}),a.onStateRestore&&a.onStateRestore(Oe)}},Ar=function(Oe){var We=[],ut=Ue.find(Ze.current,'[data-pc-section="thead"] > tr > th');ut.forEach(function(yt){return We.push(Ue.getOuterWidth(yt))}),Oe.columnWidths=We.join(","),a.columnResizeMode==="expand"&&(Oe.tableWidth=Ue.getOuterWidth(Be.current)+"px")},$r=function(Oe){Zo();var We="",ut='[data-pc-name="datatable"]['.concat(Le.current,'] > [data-pc-section="wrapper"] ').concat(xt()?"":'> [data-pc-name="virtualscroller"]',' > [data-pc-section="table"]');Oe.forEach(function(yt,It){var wt="width: ".concat(yt,"px !important; max-width: ").concat(yt,"px !important");We=We+`
                `.concat(ut,' > [data-pc-section="thead"] > tr > th:nth-child(').concat(It+1,`),
                `).concat(ut,' > [data-pc-section="tbody"] > tr > td:nth-child(').concat(It+1,`),
                `).concat(ut,' > [data-pc-section="tfoot"] > tr > td:nth-child(').concat(It+1,`) {
                    `).concat(wt,`
                }
            `)}),hr.current.innerHTML=We},An=function(){if(Wr.current){var Oe=Wr.current.split(",");a.columnResizeMode==="expand"&&Nr.current&&(Be.current.style.width=Nr.current,Be.current.style.minWidth=Nr.current),Me.isNotEmpty(Oe)&&$r(Oe)}},In=function(Oe){if(Oe.nodeName==="TH")return Oe;for(var We=Oe.parentElement;We.nodeName!=="TH"&&(We=We.parentElement,!!We););return We},Pr=function(){return a.sortMode==="single"?a.sortField:te?te.field:null},Dr=function(Oe){return a.showSelectionElement||a.isDataSelectable?Oe.filter(function(We,ut){var yt=!0;return a.showSelectionElement&&(yt=a.showSelectionElement({rowIndex:ut,props:a})),a.isDataSelectable&&yt&&(yt=a.isDataSelectable({data:We,index:ut})),yt}):Oe},Rr=function(Oe){if(a.onSelectAllChange)return a.selectAll;var We=a.selectionPageOnly?Ti(Oe):Oe,ut=Me.isNotEmpty(a.frozenValue)?[].concat(Qa(a.frozenValue),Qa(We)):We,yt=Dr(ut);return Me.isNotEmpty(yt)&&a.selection&&yt.every(function(It){return Me.isArray(a.selection)&&a.selection.some(function(wt){return Ht(wt,It)})})},rn=function(Oe){if(Oe){var We=Oe.find(function(ut){return!!ae(ut,"selectionMode")});return We?ae(We,"selectionMode"):null}return null},wn=function(Oe,We){return Me.isNotEmpty(Oe)?Oe.find(function(ut){return ae(ut,"columnKey")===We||ae(ut,"field")===We}):null},na=function(Oe){return a.lazy?a.totalRecords:Oe?Oe.length:0},Kn=function(Oe){var We=Oe.rowData,ut=Oe.field,yt=Oe.editingKey;Oe.rowIndex;var It=Oe.editing,wt=oi({},Y),zt=wt[yt];if(It)!zt&&(zt=wt[yt]={data:oi({},We),fields:[]}),zt.fields.push(ut);else if(zt){var er=zt.fields.filter(function(wr){return wr!==ut});er.length?zt.fields=er:delete wt[yt]}G(wt)},Nn=function(){a.editMode&&Me.isNotEmpty(Y)&&G({})},aa=function(Oe){var We=Oe.rowData,ut=Oe.field,yt=Oe.editingKey,It=Oe.editing,wt=oi({},ye),zt=wt[yt];if(It)!zt&&(zt=wt[yt]={data:oi({},We),fields:[]}),zt.fields.push(ut);else if(zt){var er=zt.fields.filter(function(wr){return wr!==ut});er.length?zt.fields=er:delete wt[yt]}me(wt)},ya=function(){a.editMode&&Me.isNotEmpty(ye)&&me({})},cn=function(Oe){Hr();var We=Oe.originalEvent,ut=Oe.column,yt=Ue.getOffset(Ze.current).left;bt.current=ut,ke.current=We.currentTarget.parentElement,Re.current=!0,Qe.current=(We.type==="touchstart"?We.changedTouches[0].clientX:We.pageX)-yt+Ze.current.scrollLeft,Ae()},Ya=function(Oe){var We=Ue.getOffset(Ze.current).left;Ze.current.setAttribute("data-p-unselectable-text",!0),pt.current.style.height=Ze.current.offsetHeight+"px",pt.current.style.top="0px",pt.current.style.left=(Oe.type==="touchmove"?Oe.changedTouches[0].clientX:Oe.pageX)-We+Ze.current.scrollLeft+"px",pt.current.style.display="block"},Oi=function(){var Oe=pt.current.offsetLeft-Qe.current,We=ke.current.offsetWidth,ut=We+Oe,yt=ke.current.style.minWidth||15;if(We+Oe>parseInt(yt,10)){if(a.columnResizeMode==="fit"){var It=ke.current.nextElementSibling,wt=It.offsetWidth-Oe;ut>15&&wt>15&&Ft(ut,wt)}else if(a.columnResizeMode==="expand"){var zt=Be.current.offsetWidth+Oe+"px",er=function(zr){zr&&(zr.style.width=zr.style.minWidth=zt)};Ft(ut),er(Be.current),xt()||(er(Dt.current),er(Ut.current),et.current&&er(Ue.findSingle(et.current,'[data-pc-name="virtualscroller"] > table > tbody')))}a.onColumnResizeEnd&&a.onColumnResizeEnd({element:ke.current,column:bt.current,delta:Oe}),it()&&$e()}pt.current.style.display="none",bt.current=null,ke.current=null,Ze.current.setAttribute("data-p-unselectable-text","true"),bo(),Pt()},Ft=function(Oe,We){var ut=[],yt=Ue.index(ke.current),It=Ue.find(Be.current,'[data-pc-section="thead"] > tr > th');It.forEach(function(er){return ut.push(Ue.getOuterWidth(er))}),vs(),Zo();var wt="",zt='[data-pc-name="datatable"]['.concat(Le.current,'] > [data-pc-section="wrapper"] ').concat(xt()?"":'> [data-pc-name="virtualscroller"]',' > [data-pc-section="table"]');ut.forEach(function(er,wr){var zr=wr===yt?Oe:We&&wr===yt+1?We:er,gn="width: ".concat(zr,"px !important; max-width: ").concat(zr,"px !important");wt=wt+`
                 `.concat(zt,' > [data-pc-section="thead"] > tr > th:nth-child(').concat(wr+1,`),
                `).concat(zt,' > [data-pc-section="tbody"] > tr > td:nth-child(').concat(wr+1,`),
                `).concat(zt,' > [data-pc-section="tfoot"] > tr > td:nth-child(').concat(wr+1,`) {
                    `).concat(gn,`
                }
            `)}),hr.current.innerHTML=wt},Ae=function(){ln(),Tt(),_t(),cr()},Pt=function(){Sn(),Gt(),at(),gr()},vr=function(Oe){Ue.clearSelection();var We=Oe.originalEvent,ut=Oe.column;a.reorderableColumns&&ae(ut,"reorderable")!==!1&&!ae(ut,"frozen")&&(We.target.nodeName==="INPUT"||We.target.nodeName==="TEXTAREA"||Ue.getAttribute(We.target,'[data-pc-section="columnresizer"]')?We.currentTarget.draggable=!1:We.currentTarget.draggable=!0)},Cn=function(Oe,We){if(a.onSelectAllChange)a.onSelectAllChange(Oe);else{var ut=Oe.originalEvent,yt=Oe.checked,It=a.selectionPageOnly?Ti(We):We,wt=a.selectionPageOnly&&a.selection?a.selection.filter(function(zt){return!It.some(function(er){return Ht(zt,er)})}):[];yt?(wt=Me.isNotEmpty(a.frozenValue)?[].concat(Qa(wt),Qa(a.frozenValue),Qa(It)):[].concat(Qa(wt),Qa(It)),wt=Dr(wt),a.onAllRowsSelect&&a.onAllRowsSelect({originalEvent:ut,data:wt,type:"all"})):a.onAllRowsUnselect&&a.onAllRowsUnselect({originalEvent:ut,data:wt,type:"all"}),a.onSelectionChange&&a.onSelectionChange({originalEvent:ut,value:wt,type:"all"})}},hn=function(Oe){var We=Oe.originalEvent,ut=Oe.column;if(Re.current){We.preventDefault();return}a.reorderableColumns&&(lr.current=Ue.getHiddenElementOuterWidth(Jt.current),ct.current=Ue.getHiddenElementOuterHeight(Jt.current),rt.current=ut,nt.current=In(We.currentTarget),We.dataTransfer.setData("text","b"))},_n=function(Oe){var We=Oe.originalEvent,ut=Oe.column,yt=In(We.currentTarget);if(a.reorderableColumns&&nt.current&&yt&&!ae(ut,"frozen")&&(We.preventDefault(),nt.current!==yt)){var It=Ue.getOffset(Ze.current),wt=Ue.getOffset(yt),zt=wt.left-It.left,er=wt.left+yt.offsetWidth/2,wr=Ue.index(nt.current),zr=Ue.index(In(We.currentTarget));Jt.current.style.top=wt.top-It.top-(ct.current-1)+"px",dr.current.style.top=wt.top-It.top+yt.offsetHeight+"px",We.pageX>er&&wr<zr?(Jt.current.style.left=zt+yt.offsetWidth-Math.ceil(lr.current/2)+"px",dr.current.style.left=zt+yt.offsetWidth-Math.ceil(lr.current/2)+"px",Lt.current=1):wr>zr&&(Jt.current.style.left=zt-Math.ceil(lr.current/2)+"px",dr.current.style.left=zt-Math.ceil(lr.current/2)+"px",Lt.current=-1),Jt.current.style.display="block",dr.current.style.display="block"}},vo=function(Oe){var We=Oe.originalEvent;a.reorderableColumns&&nt.current&&(We.preventDefault(),Jt.current.style.display="none",dr.current.style.display="none")},za=function(Oe){var We=Oe.originalEvent,ut=Oe.column;if(We.preventDefault(),nt.current){var yt=Ue.index(nt.current),It=Ue.index(In(We.currentTarget)),wt=yt!==It;if(wt&&(It-yt===1&&Lt.current===-1||yt-It===1&&Lt.current===1)&&(wt=!1),wt){var zt=we(),er=function(Yn,ei){return ae(Yn,"columnKey")||ae(ei,"columnKey")?Me.equals(Yn.props,ei.props,"columnKey"):Me.equals(Yn.props,ei.props,"field")},wr=zt.findIndex(function(Ta){return er(Ta,rt.current)}),zr=zt.findIndex(function(Ta){return er(Ta,ut)}),gn=[],Pn=Ue.find(Be.current,'[data-pc-section="thead"] > tr > th');Pn.forEach(function(Ta){return gn.push(Ue.getOuterWidth(Ta))});var Gr=gn.find(function(Ta,Yn){return Yn===wr}),Ia=gn.filter(function(Ta,Yn){return Yn!==wr}),xo=[].concat(Qa(Ia.slice(0,zr)),[Gr],Qa(Ia.slice(zr)));$r(xo),zr<wr&&Lt.current===1&&zr++,zr>wr&&Lt.current===-1&&zr--,Me.reorderArray(zt,wr,zr);var Eo=zt.reduce(function(Ta,Yn){return Ta.push(ae(Yn,"columnKey")||ae(Yn,"field")),Ta},[]);J(Eo),a.onColReorder&&a.onColReorder({originalEvent:We,dragIndex:wr,dropIndex:zr,columns:zt})}Jt.current.style.display="none",dr.current.style.display="none",nt.current.draggable=!1,nt.current=null,rt.current=null,Lt.current=null}},Hr=function(){rr.current=Ue.createInlineStyle(r&&r.nonce||Fn.nonce,r&&r.styleContainer);var Oe=`
[data-pc-name="datatable"][`.concat(Le.current,`] {
    user-select:none;
}
        `);rr.current.innerHTML=Oe},Zo=function(){hr.current=Ue.createInlineStyle(r&&r.nonce||Fn.nonce,r&&r.styleContainer)},Qo=function(){if(!tr.current){tr.current=Ue.createInlineStyle(r&&r.nonce||Fn.nonce,r&&r.styleContainer);var Oe=".p-datatable-wrapper ".concat(xt()?"":"> .p-virtualscroller"," > .p-datatable-table"),We=".p-datatable[".concat(Le.current,"] > ").concat(Oe),ut=".p-datatable[".concat(Le.current,"].p-datatable-gridlines > ").concat(Oe),yt=`
@media screen and (max-width: `.concat(a.breakpoint,`) {
    `).concat(We,` > .p-datatable-thead > tr > th,
    `).concat(We,` > .p-datatable-tfoot > tr > td {
        display: none;
    }

    `).concat(We,` > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: space-between;
    }

    `).concat(We,` > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    `).concat(ut,` > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    `).concat(We,` > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`);tr.current.innerHTML=yt}},jo=function(){tr.current=Ue.removeInlineStyle(tr.current)},vs=function(){hr.current=Ue.removeInlineStyle(hr.current)},bo=function(){rr.current=Ue.removeInlineStyle(rr.current)},gl=function(Oe){Nn(),ya(),a.onPage?a.onPage(no(Oe)):(c(Oe.first),h(Oe.rows)),a.onValueChange&&a.onValueChange(Ja())},qs=function(Oe){Nn(),ya();var We=Oe.originalEvent,ut=Oe.column,yt=Oe.sortableDisabledFields,It=ae(ut,"sortField")||ae(ut,"field"),wt=a.defaultSortOrder,zt,er;if(jt.current=ae(ut,"sortable"),gt.current=ae(ut,"sortFunction"),At.current=It,a.sortMode==="multiple"){var wr=We.metaKey||We.ctrlKey;zt=Qa(Ur());var zr=zt.find(function(Pn){return Pn.field===It});wt=zr?Zi(zr.order):wt;var gn={field:It,order:wt};wt?(zt=wr?zt:zt.filter(function(Pn){return yt.some(function(Gr){return Gr===Pn.field})}),ql(gn,zt)):a.removableSort&&Qi(gn,zt),er={multiSortMeta:zt}}else wt=yr()===It?Zi(Vr()):wt,a.removableSort&&(It=wt?It:null),er={sortField:It,sortOrder:wt};a.onSort?a.onSort(no(er)):(c(0),y(er.sortField),_(er.sortOrder),D(er.multiSortMeta)),a.onValueChange&&a.onValueChange(Ja({sortField:It,sortOrder:wt,multiSortMeta:zt}))},Zi=function(Oe){return a.removableSort?a.defaultSortOrder===Oe?Oe*-1:0:Oe*-1},bs=function(Oe,We,ut,yt){return Me.sort(Oe,We,yt,ut,r&&r.nullSortOrder||Fn.nullSortOrder)},ql=function(Oe,We){var ut=We.findIndex(function(yt){return yt.field===Oe.field});ut>=0?We[ut]=Oe:We.push(Oe)},Qi=function(Oe,We){var ut=We.findIndex(function(yt){return yt.field===Oe.field});ut>=0&&We.splice(ut,1),We=We.length>0?We:null},yo=function(Oe,We,ut){if(a.groupRowsBy&&a.groupRowsBy===a.sortField){var yt=[{field:a.sortField,order:a.sortOrder||a.defaultSortOrder}];return a.sortField!==We&&yt.push({field:We,order:ut}),wo(Oe,yt)}var It=Qa(Oe);if(jt.current&&gt.current)It=gt.current({data:Oe,field:We,order:ut});else{var wt=new Map,zt=Me.localeComparator(r&&r.locale||Fn.locale),er=XB(Oe),wr;try{for(er.s();!(wr=er.n()).done;){var zr=wr.value;wt.set(zr,Me.resolveFieldData(zr,We))}}catch(gn){er.e(gn)}finally{er.f()}It.sort(function(gn,Pn){var Gr=wt.get(gn),Ia=wt.get(Pn);return bs(Gr,Ia,zt,ut)})}return It},wo=function(Oe){var We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(a.groupRowsBy&&(te||We.length&&a.groupRowsBy===We[0].field)){var ut=te,yt=We[0];ut||(ut=yt,K(ut)),yt.field!==ut.field&&(We=[ut].concat(Qa(We)))}var It=Qa(Oe);if(jt.current&&gt.current){var wt=We.find(function(zr){return zr.field===At.current}),zt=At.current,er=wt?wt.order:a.defaultSortOrder;It=gt.current({data:Oe,field:zt,order:er,multiSortMeta:We})}else{var wr=Me.localeComparator(r&&r.locale||Fn.locale);It.sort(function(zr,gn){return ys(zr,gn,We,0,wr)})}return It},ys=function(Oe,We,ut,yt,It){if(!(!ut||!ut[yt])){var wt=Me.resolveFieldData(Oe,ut[yt].field),zt=Me.resolveFieldData(We,ut[yt].field);return Me.compare(wt,zt,It)===0?ut.length-1>yt?ys(Oe,We,ut,yt+1,It):0:bs(wt,zt,It,ut[yt].order)}},es=function(Oe){Nn(),ya(),ce(Oe)},ts=function(Oe){clearTimeout(kr.current),kr.current=setTimeout(function(){var We=Do(Oe||_e);a.onFilter?a.onFilter(no({filters:We})):(c(0),L(We)),a.onValueChange&&a.onValueChange(Ja({filters:We}))},a.filterDelay)},Ii=function(Oe){var We=function(wt){var zt=ia(wt,2),er=zt[0],wr=zt[1];if(wr.constraints){var zr=wr.constraints.filter(function(gn){return gn.value!==null});if(zr.length>0)return[er,oi(oi({},wr),{},{constraints:zr})]}else if(wr.value!==null)return[er,wr]},ut=function(wt){return wt!==void 0},yt=Object.entries(Oe).map(We).filter(ut);return Object.fromEntries(yt)},ws=function(Oe,We){if(Oe){var ut=We?Ii(We):{},yt=we(),It=[],wt=ut.global||a.globalFilter,zt;wt&&(zt=a.globalFilterFields||yt.filter(function(Na){return!ae(Na,"excludeGlobalFilter")}).map(function(Na){return ae(Na,"filterField")||ae(Na,"field")}));for(var er=0;er<Oe.length;er++){var wr=!0,zr=!1,gn=!1;for(var Pn in ut)if(Pn!=="null"&&Object.prototype.hasOwnProperty.call(ut,Pn)&&Pn!=="global"){gn=!0;var Gr=Pn,Ia=ut[Gr];if(Ia.operator)for(var xo=0;xo<Ia.constraints.length;xo++){var Eo=Ia.constraints[xo];if(wr=fi(Gr,Oe[er],Eo,xo),Ia.operator===Kp.OR&&wr||Ia.operator===Kp.AND&&!wr)break}else wr=fi(Gr,Oe[er],Ia,0);if(!wr)break}if(wr&&wt&&!zr&&zt)for(var Ta=0;Ta<zt.length;Ta++){var Yn=zt[Ta],ei=ut.global?ut.global.matchMode:a.globalFilterMatchMode,ji=ut.global?ut.global.value:a.globalFilter;if(zr=Yp.filters[ei](Me.resolveFieldData(Oe[er],Yn),ji,a.filterLocale),zr)break}var Ks=void 0;wt?Ks=gn?gn&&wr&&zr:zr:Ks=gn&&wr,Ks&&It.push(Oe[er])}return(It.length===a.value.length||Object.keys(ut).length===0)&&(It=Oe),It}},fi=function(Oe,We,ut,yt){var It=ut.value,wt=ut.matchMode==="custom"?"custom_".concat(Oe):ut.matchMode||mo.STARTS_WITH,zt=Me.resolveFieldData(We,Oe),er=Yp.filters[wt];return Me.isFunction(er)&&er(zt,It,a.filterLocale,yt)},Do=function(Oe){Oe=Oe||a.filters;var We={};if(Oe)Object.entries(Oe).forEach(function(yt){var It=ia(yt,2),wt=It[0],zt=It[1];We[wt]=zt.operator?{operator:zt.operator,constraints:zt.constraints.map(function(er){return oi({},er)})}:oi({},zt)});else{var ut=we();We=ut.reduce(function(yt,It){var wt=ae(It,"filterField")||ae(It,"field"),zt=ae(It,"filterFunction"),er=ae(It,"dataType"),wr=ae(It,"filterMatchMode")||(r&&r.filterMatchModeOptions[er]||Fn.filterMatchModeOptions[er]?r&&r.filterMatchModeOptions[er][0]||Fn.filterMatchModeOptions[er][0]:mo.STARTS_WITH),zr={value:null,matchMode:wr};return zt&&Yp.register("custom_".concat(wt),function(){for(var gn=arguments.length,Pn=new Array(gn),Gr=0;Gr<gn;Gr++)Pn[Gr]=arguments[Gr];return zt.apply(void 0,Pn.concat([{column:It}]))}),yt[wt]=a.filterDisplay==="menu"?{operator:Kp.AND,constraints:[zr]}:zr,yt},{})}return We},Mo=function(Oe,We,ut){var yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,It=oi({},_e),wt=It[We],zt=wt&&wt.operator?wt.constraints[yt]:wt;zt=wt?{value:Oe,matchMode:ut||zt.matchMode}:{value:Oe,matchMode:ut},a.filterDisplay==="menu"&&wt&&wt.operator?It[We].constraints[yt]=zt:It[We]=zt,ce(It),ts(It)},Fo=function(){ue(a.rows),ce(Do(a.filters)),K(null),G({}),me({}),a.onPage||(c(a.first),h(a.rows)),a.onSort||(y(a.sortField),_(a.sortOrder),D(a.multiSortMeta)),a.onFilter||L(a.filters),$o()},Va=function(){if(et.current){var Oe=xt()?et.current:Ue.findSingle(et.current,'[data-pc-name="virtualscroller"]');Oe.scrollTo(0,0)}},Ic=function(){vs()},$o=function(){var Oe=we(!0),We=[];Oe&&(We=Oe.reduce(function(ut,yt){return ut.push(ae(yt,"columnKey")||ae(yt,"field")),ut},[])),J(We)},ro=function(Oe){var We,ut="\uFEFF",yt=we();Oe&&Oe.selectionOnly?We=a.selection||[]:We=[].concat(Qa(a.frozenValue||[]),Qa(Ja()||[])),yt.forEach(function(It,wt){var zt=[ae(It,"field"),ae(It,"header"),ae(It,"exportHeader"),ae(It,"exportable")],er=zt[0],wr=zt[1],zr=zt[2],gn=zt[3];if(gn&&er){var Pn=String(zr||wr||er).replace(/"/g,'""').replace(/\n/g,"\u2028");ut=ut+('"'+Pn+'"'),wt<yt.length-1&&(ut=ut+a.csvSeparator)}}),We.forEach(function(It){ut=ut+`
`,yt.forEach(function(wt,zt){var er=[ae(wt,"field"),ae(wt,"exportField"),ae(wt,"exportable")],wr=er[0],zr=er[1],gn=er[2],Pn=zr||wr;if(gn&&Pn){var Gr=Me.resolveFieldData(It,Pn);Gr!=null?a.exportFunction?Gr=a.exportFunction({data:Gr,field:Pn,rowData:It,column:wt}):Gr=String(Gr).replace(/"/g,'""').replace(/\n/g,"\u2028"):Gr="",ut=ut+('"'+Gr+'"'),zt<yt.length-1&&(ut=ut+a.csvSeparator)}})}),Ue.exportCSV(ut,a.exportFilename)},Us=function(){a.editMode!=="row"&&document.body.click()},Oa=function(){Ue.find(document.body,'[data-pc-section="roweditorcancelbuttonprops"]').forEach(function(Oe,We){setTimeout(function(){Oe.click()},We*5)})},no=function(Oe){return oi({first:nr(),rows:Rt(),sortField:yr(),sortOrder:Vr(),multiSortMeta:Ur(),filters:Ye()},Oe)},Ja=function(Oe){var We=a.value||[];if(!a.lazy&&We&&We.length){var ut=Oe&&Oe.filters||Ye(),yt=Oe&&Oe.sortField||yr(),It=Oe&&Oe.sortOrder||Vr(),wt=Oe&&Oe.multiSortMeta||Ur(),zt=we(),er=zt.find(function(wr){return ae(wr,"field")===yt});er&&(jt.current=ae(er,"sortable"),gt.current=ae(er,"sortFunction")),(Me.isNotEmpty(ut)||a.globalFilter)&&(We=ws(We,ut)),(yt||Me.isNotEmpty(wt))&&(a.sortMode==="single"?We=yo(We,yt,It):a.sortMode==="multiple"&&(We=wo(We,wt)))}return We},Ti=function(Oe){if(Oe&&a.paginator){var We=a.lazy?0:nr();return Oe.slice(We,We+Rt())}return Oe};$s(function(){Ze.current&&(Le.current=W0(),Ze.current.setAttribute(Le.current,"")),ce(Do(a.filters)),it()&&(st(),a.resizableColumns&&An())}),ma(function(){return a.responsiveLayout==="stack"&&!a.scrollable&&Qo(),function(){jo()}},[a.breakpoint]),ma(function(){var St=Do(a.filters);L(St),ce(Do(a.filters)),a.onValueChange&&a.onValueChange(Ja({filters:St}))},[a.filters]),ma(function(){it()&&$e()}),ma(function(){jo(),a.responsiveLayout==="stack"&&!a.scrollable&&Qo()},[a.responsiveLayout,a.scrollable]),ma(function(){if(a.globalFilter)Mo(a.globalFilter,"global",a.globalFilterMatchMode);else if(_e.global){var St=oi({},_e);delete St.global,ce(St),ts(St)}},[a.globalFilter,a.globalFilterMatchMode]),Fs(function(){Pt(),vs(),jo(),bo()}),b.useImperativeHandle(e,function(){return{props:a,clearState:Xe,closeEditingCell:Us,closeEditingRows:Oa,exportCSV:ro,filter:Mo,reset:Fo,resetColumnOrder:$o,resetScroll:Va,resetResizeColumnsWidth:Ic,restoreColumnWidths:An,restoreState:st,restoreTableState:Ot,saveState:$e,getFilterMeta:function(){return I},setFilterMeta:function(Oe){return L(Oe)},getSortMeta:function(){return R},setSortMeta:function(Oe){return D(Oe)},getElement:function(){return Ze.current},getTable:function(){return Be.current},getVirtualScroller:function(){return Vt.current}}});var Ul=function(){if(a.loading){var Oe=n({className:Te.cx("loadingIcon")},Te.ptm("loadingIcon")),We=a.loadingIcon||b.createElement(ug,fa({},Oe,{spin:!0})),ut=ga.getJSXIcon(We,oi({},Oe),{props:a}),yt=n({className:Te.cx("loadingOverlay")},Te.ptm("loadingOverlay"));return b.createElement("div",yt,ut)}return null},Hs=function(){if(a.header){var Oe=Me.getJSXElement(a.header,{props:a}),We=n({className:Te.cx("header")},Te.ptm("header"));return b.createElement("div",We,Oe)}return null},Ws=function(Oe,We,ut){if(a.showHeaders===!1)return null;var yt=yr(),It=Vr(),wt=Qa(Ur()),zt=Pr(),er=_e,wr=!a.onFilter&&a.filters||Ye(),zr=Oe.items,gn=Oe.props,Pn=Oe.columns,Gr=ut||gn.lazy?zr:gn.items;return b.createElement($T,{hostName:"DataTable",value:Gr,tableProps:a,columns:Pn,tabIndex:a.tabIndex,empty:We,headerColumnGroup:a.headerColumnGroup,resizableColumns:a.resizableColumns,onColumnResizeStart:cn,onColumnResizerClick:a.onColumnResizerClick,onColumnResizerDoubleClick:a.onColumnResizerDoubleClick,sortMode:a.sortMode,sortField:yt,sortIcon:a.sortIcon,sortOrder:It,multiSortMeta:wt,groupRowsBy:a.groupRowsBy,groupRowSortField:zt,onSortChange:qs,filterDisplay:a.filterDisplay,filters:er,filtersStore:wr,filterIcon:a.filterIcon,filterClearIcon:a.filterClearIcon,onFilterChange:es,onFilterApply:ts,showSelectAll:a.showSelectAll,allRowsSelected:Rr,onColumnCheckboxChange:Cn,onColumnMouseDown:vr,onColumnDragStart:hn,onColumnDragOver:_n,onColumnDragLeave:vo,onColumnDrop:za,rowGroupMode:a.rowGroupMode,reorderableColumns:a.reorderableColumns,ptCallbacks:Te,metaData:Je,unstyled:a.unstyled})},mi=function(Oe,We,ut,yt,It){var wt=nr(),zt=Oe.rows,er=Oe.columns,wr=Oe.contentRef,zr=Oe.style,gn=Oe.className,Pn=Oe.spacerStyle,Gr=Oe.itemSize,Ia=Me.isNotEmpty(a.frozenValue)&&b.createElement(Av,{hostName:"DataTable",ref:Ut,cellClassName:a.cellClassName,cellSelection:a.cellSelection,checkIcon:a.checkIcon,className:"p-datatable-tbody p-datatable-frozen-tbody",collapsedRowIcon:a.collapsedRowIcon,columns:er,compareSelectionBy:a.compareSelectionBy,contextMenuSelection:a.contextMenuSelection,dataKey:a.dataKey,dragSelection:a.dragSelection,editMode:a.editMode,editingMeta:ye,editingRows:a.editingRows,emptyMessage:a.emptyMessage,expandableRowGroups:a.expandableRowGroups,expandedRowIcon:a.expandedRowIcon,expandedRows:a.expandedRows,first:wt,frozenRow:!0,groupRowsBy:a.groupRowsBy,isDataSelectable:a.isDataSelectable,isVirtualScrollerDisabled:!0,lazy:a.lazy,loading:a.loading,metaKeySelection:a.metaKeySelection,onCellClick:a.onCellClick,onCellSelect:a.onCellSelect,onCellUnselect:a.onCellUnselect,onContextMenu:a.onContextMenu,onContextMenuSelectionChange:a.onContextMenuSelectionChange,onEditingMetaChange:aa,onRowClick:a.onRowClick,onRowCollapse:a.onRowCollapse,onRowDoubleClick:a.onRowDoubleClick,onRowPointerDown:a.onRowPointerDown,onRowPointerUp:a.onRowPointerUp,onRowEditCancel:a.onRowEditCancel,onRowEditChange:a.onRowEditChange,onRowEditComplete:a.onRowEditComplete,onRowEditInit:a.onRowEditInit,onRowEditSave:a.onRowEditSave,onRowExpand:a.onRowExpand,onRowMouseEnter:a.onRowMouseEnter,onRowMouseLeave:a.onRowMouseLeave,onRowReorder:a.onRowReorder,onRowSelect:a.onRowSelect,onRowToggle:a.onRowToggle,onRowUnselect:a.onRowUnselect,onSelectionChange:a.onSelectionChange,paginator:a.paginator,processedData:It,reorderableRows:a.reorderableRows,responsiveLayout:a.responsiveLayout,rowClassName:a.rowClassName,rowEditValidator:a.rowEditValidator,rowEditorCancelIcon:a.rowEditorCancelIcon,rowEditorInitIcon:a.rowEditorInitIcon,rowEditorSaveIcon:a.rowEditorSaveIcon,rowExpansionTemplate:a.rowExpansionTemplate,rowGroupFooterTemplate:a.rowGroupFooterTemplate,rowGroupHeaderTemplate:a.rowGroupHeaderTemplate,rowGroupMode:a.rowGroupMode,scrollable:a.scrollable,selectOnEdit:a.selectOnEdit,selection:a.selection,selectionAutoFocus:a.selectionAutoFocus,selectionMode:a.selectionMode,selectionModeInColumn:We,showRowReorderElement:a.showRowReorderElement,showSelectionElement:a.showSelectionElement,tabIndex:a.tabIndex,tableProps:a,tableSelector:Le.current,value:a.frozenValue,virtualScrollerOptions:Oe,ptCallbacks:Te,metaData:Je,unstyled:a.unstyled}),xo=b.createElement(Av,{hostName:"DataTable",ref:Dt,cellClassName:a.cellClassName,cellSelection:a.cellSelection,checkIcon:a.checkIcon,className:ur("p-datatable-tbody",gn),collapsedRowIcon:a.collapsedRowIcon,columns:er,compareSelectionBy:a.compareSelectionBy,contextMenuSelection:a.contextMenuSelection,dataKey:a.dataKey,dragSelection:a.dragSelection,editMode:a.editMode,editingMeta:Y,editingRows:a.editingRows,empty:ut,emptyMessage:a.emptyMessage,expandableRowGroups:a.expandableRowGroups,expandedRowIcon:a.expandedRowIcon,expandedRows:a.expandedRows,first:wt,frozenRow:!1,groupRowsBy:a.groupRowsBy,isDataSelectable:a.isDataSelectable,isVirtualScrollerDisabled:yt,lazy:a.lazy,loading:a.loading,metaKeySelection:a.metaKeySelection,onCellClick:a.onCellClick,onCellSelect:a.onCellSelect,onCellUnselect:a.onCellUnselect,onContextMenu:a.onContextMenu,onContextMenuSelectionChange:a.onContextMenuSelectionChange,onEditingMetaChange:Kn,onRowClick:a.onRowClick,onRowCollapse:a.onRowCollapse,onRowDoubleClick:a.onRowDoubleClick,onRowEditCancel:a.onRowEditCancel,onRowEditChange:a.onRowEditChange,onRowEditComplete:a.onRowEditComplete,onRowEditInit:a.onRowEditInit,onRowEditSave:a.onRowEditSave,onRowExpand:a.onRowExpand,onRowMouseEnter:a.onRowMouseEnter,onRowMouseLeave:a.onRowMouseLeave,onRowPointerDown:a.onRowPointerDown,onRowPointerUp:a.onRowPointerUp,onRowReorder:a.onRowReorder,onRowSelect:a.onRowSelect,onRowToggle:a.onRowToggle,onRowUnselect:a.onRowUnselect,onSelectionChange:a.onSelectionChange,paginator:a.paginator,processedData:It,reorderableRows:a.reorderableRows,responsiveLayout:a.responsiveLayout,rowClassName:a.rowClassName,rowEditValidator:a.rowEditValidator,rowEditorCancelIcon:a.rowEditorCancelIcon,rowEditorInitIcon:a.rowEditorInitIcon,rowEditorSaveIcon:a.rowEditorSaveIcon,rowExpansionTemplate:a.rowExpansionTemplate,rowGroupFooterTemplate:a.rowGroupFooterTemplate,rowGroupHeaderTemplate:a.rowGroupHeaderTemplate,rowGroupMode:a.rowGroupMode,scrollable:a.scrollable,selectOnEdit:a.selectOnEdit,selection:a.selection,selectionAutoFocus:a.selectionAutoFocus,selectionMode:a.selectionMode,selectionModeInColumn:We,showRowReorderElement:a.showRowReorderElement,showSelectionElement:a.showSelectionElement,style:zr,tabIndex:a.tabIndex,tableProps:a,tableSelector:Le.current,value:Ti(zt),virtualScrollerContentRef:wr,virtualScrollerOptions:Oe,ptCallbacks:Te,metaData:Je,unstyled:a.unstyled}),Eo=Me.isNotEmpty(Pn)?b.createElement(Av,{hostName:"DataTable",style:{height:"calc(".concat(Pn.height," - ").concat(zt.length*Gr,"px)")},className:"p-datatable-virtualscroller-spacer",ptCallbacks:Te,metaData:Je,unstyled:a.unstyled}):null;return b.createElement(b.Fragment,null,Ia,xo,Eo)},pi=function(Oe){var We=Oe.columns;return b.createElement(MT,{hostName:"DataTable",tableProps:a,columns:We,footerColumnGroup:a.footerColumnGroup,ptCallbacks:Te,metaData:Je,unstyled:a.unstyled})},vl=function(Oe,We,ut,yt){if(We){var It=xt(),wt=a.virtualScrollerOptions||{},zt=n({className:Te.cx("wrapper"),style:oi(oi({},Te.sx("wrapper")),{},{maxHeight:It?a.scrollHeight:null})},Te.ptm("wrapper"));return b.createElement("div",fa({ref:et},zt),b.createElement(zS,fa({ref:Vt},wt,{items:Oe,columns:We,style:oi(oi({},wt.style),{height:a.scrollHeight!=="flex"?a.scrollHeight:void 0}),scrollHeight:a.scrollHeight!=="flex"?void 0:"100%",disabled:It,loaderDisabled:!0,inline:!0,autoSize:!0,pt:Te.ptm("virtualScroller"),__parentMetadata:{parent:Je},showSpacer:!1,unstyled:a.unstyled,contentTemplate:function(wr){var zr=function(Eo){Be.current=Eo,wr.spacerRef&&wr.spacerRef(Eo)},gn=Ws(wr,yt,It),Pn=mi(wr,ut,yt,It,Oe),Gr=pi(wr),Ia=n({className:ur(a.tableClassName,Te.cx("table")),style:a.tableStyle,role:"table"},Te.ptm("table"));return b.createElement("table",fa({ref:zr},Ia),gn,Pn,Gr)}})))}},Tc=function(){if(a.footer){var Oe=Me.getJSXElement(a.footer,{props:a}),We=n({className:Te.cx("footer")},Te.ptm("footer"));return b.createElement("div",We,Oe)}return null},bl=function(Oe,We){return b.createElement(gT,{first:nr(),rows:Rt(),pageLinkSize:a.pageLinkSize,className:ur(a.paginatorClassName,Te.cx("paginator",{position:Oe})),onPageChange:gl,template:a.paginatorTemplate,totalRecords:We,rowsPerPageOptions:a.rowsPerPageOptions,currentPageReportTemplate:a.currentPageReportTemplate,leftContent:a.paginatorLeft,rightContent:a.paginatorRight,alwaysShow:a.alwaysShowPaginator,dropdownAppendTo:a.paginatorDropdownAppendTo,pt:Te.ptm("paginator"),unstyled:a.unstyled,__parentMetadata:{parent:Je}})},Vs=function(Oe){return a.paginator&&a.paginatorPosition!=="bottom"?bl("top",Oe):null},Ri=function(Oe){return a.paginator&&a.paginatorPosition!=="top"?bl("bottom",Oe):null},hi=function(){if(a.resizableColumns){var Oe=n({className:Te.cx("resizeHelper"),style:Te.sx("resizeHelper")},Te.ptm("resizeHelper"));return b.createElement("div",fa({ref:pt},Oe))}return null},Li=function(){if(a.reorderableColumns){var Oe={position:"absolute",display:"none"},We=n({className:Te.cx("reorderIndicatorUp"),style:Te.sx("reorderIndicatorUp",{style:Oe})},Te.ptm("reorderIndicatorUp")),ut=n(Te.ptm("reorderIndicatorUpIcon")),yt=ga.getJSXIcon(a.reorderIndicatorUpIcon||b.createElement($I,ut),oi({},ut),{props:a}),It=n({className:Te.cx("reorderIndicatorDown"),style:Te.sx("reorderIndicatorDown",{style:Oe})},Te.ptm("reorderIndicatorDown")),wt=n(Te.ptm("reorderIndicatorDownIcon")),zt=ga.getJSXIcon(a.reorderIndicatorDownIcon||b.createElement(zI,wt),oi({},wt),{props:a});return b.createElement(b.Fragment,null,b.createElement("span",fa({ref:Jt},We),yt),b.createElement("span",fa({ref:dr},It),zt))}return null},Gs=Ja(),$=we(),le=na(Gs),Ie=Me.isEmpty(Gs),ze=rn($),tt=a.selectionMode||ze,ht=Ul(),Mt=Hs(),mr=Vs(le),_r=vl(Gs,$,ze,Ie),Yr=Ri(le),an=Tc(),xn=hi(),pa=Li(),wa=n({id:a.id,className:ur(a.className,Te.cx("root",{selectable:tt})),style:a.style,"data-scrollselectors":".p-datatable-wrapper","data-showgridlines":a.showGridlines},rv.getOtherProps(a),Te.ptm("root"));return b.createElement("div",fa({ref:Ze},wa),ht,Mt,mr,_r,Yr,an,xn,pa)});ps.displayName="DataTable";var Zt=function(){};Zt.displayName="Column";function Wn({visible:t,onClose:e,children:r}){return t?o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",minWidth:"300px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)",position:"relative"}},o.createElement("button",{onClick:e,style:{position:"absolute",top:"10px",right:"10px",border:"none",background:"transparent",fontSize:"20px",cursor:"pointer"}},"×"),r)):null}const $l=({placeholder:t,value:e,onChange:r})=>o.createElement("div",{className:"search-bar"},o.createElement("input",{type:"text",placeholder:t||"Buscar...",value:e,onChange:n=>r(n.target.value),className:"search-input"})),ui=({mensaje:t,tipo:e="success",visible:r,onClose:n})=>(b.useEffect(()=>{if(r&&t){const a=setTimeout(()=>{n()},3e3);return()=>clearTimeout(a)}},[r,t,n]),!r||!t?null:o.createElement("div",{className:`notification notification-${e}`},o.createElement("div",{className:"notification-content"},o.createElement("span",{className:"notification-icon"},e==="success"?"✅":e==="error"?"❌":"ℹ️"),o.createElement("span",{className:"notification-message"},t),o.createElement("button",{className:"notification-close",onClick:n},"×")))),QB=({onClose:t,onAgregar:e})=>{const[r,n]=b.useState([]),[a,i]=b.useState(""),[s,l]=b.useState("Todos"),[c,u]=b.useState(!1),[f,p]=b.useState([]),[h,g]=b.useState(["Todos"]),[x,v]=b.useState(!0),[y,E]=b.useState(null),[C,k]=b.useState(!1),[_,N]=b.useState(null),[O,R]=b.useState(""),D=(te,K)=>{const U=(te||"").toLowerCase().trim(),j={leche:"milk",mantequilla:"butter",queso:"cheese",yogurt:"yogurt",crema:"cream",nata:"heavy-cream",huevo:"egg",huevos:"egg",clara:"egg-white",yema:"egg-yolk",harina:"flour","harina de trigo":"white-flour",arroz:"rice",avena:"oats",maíz:"corn",maicena:"cornstarch",azucar:"sugar",azúcar:"sugar","azúcar morena":"brown-sugar",miel:"honey",panela:"brown-sugar",sal:"salt",pimienta:"pepper",canela:"cinnamon",vainilla:"vanilla","extracto de vainilla":"vanilla-extract",fresa:"strawberry",fresas:"strawberries",mora:"blackberry",arándano:"blueberry",banano:"banana",manzana:"apple",naranja:"orange",limón:"lemon",piña:"pineapple",mango:"mango",durazno:"peach",chocolate:"chocolate",cacao:"cocoa-powder","chispas de chocolate":"chocolate-chips",nuez:"walnuts",almendra:"almonds",maní:"peanuts",avellana:"hazelnuts",aceite:"vegetable-oil","aceite de oliva":"olive-oil",manteca:"lard",levadura:"yeast","polvo de hornear":"baking-powder",bicarbonato:"baking-soda",gelatina:"gelatin",mermelada:"jam",caramelo:"caramel","crema de leche":"heavy-cream"};let Y=null;if(j[U])Y=j[U];else for(const[G,X]of Object.entries(j))if(U.includes(G)||G.includes(U)){Y=X;break}return Y?`https://spoonacular.com/cdn/ingredients_100x100/${Y}.jpg`:B(K)},B=te=>{const K=(te||"").toLowerCase();return K.includes("lácte")||K.includes("lacte")?"https://spoonacular.com/cdn/ingredients_100x100/milk.jpg":K.includes("fruta")?"https://spoonacular.com/cdn/ingredients_100x100/strawberries.jpg":K.includes("seco")||K.includes("nuec")?"https://spoonacular.com/cdn/ingredients_100x100/almonds.jpg":K.includes("cereal")||K.includes("grano")?"https://spoonacular.com/cdn/ingredients_100x100/flour.jpg":K.includes("dulce")||K.includes("azúcar")?"https://spoonacular.com/cdn/ingredients_100x100/sugar.jpg":K.includes("condimento")||K.includes("especia")?"https://spoonacular.com/cdn/ingredients_100x100/salt.jpg":K.includes("chocolate")?"https://spoonacular.com/cdn/ingredients_100x100/chocolate.jpg":"https://spoonacular.com/cdn/ingredients_100x100/flour.jpg"},z=(te,K)=>{const U=(te||"").toLowerCase();return U.includes("huevo")?6e3:U.includes("harina")?4500:U.includes("leche")?3500:U.includes("azucar")||U.includes("azúcar")?3e3:U.includes("sal")?1500:U.includes("arroz")?4e3:K==="frutas"?5e3:K==="secos"?3500:2500},I=async(te,K)=>{try{const U=await fetch(`https://deliciasoft-backend.onrender.com/api/insumos/${te}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({precio:K})});if(!U.ok)throw new Error(`Error ${U.status}: ${U.statusText}`);return await U.json()}catch(U){throw console.error("Error actualizando precio:",U),U}};b.useEffect(()=>{(async()=>{try{v(!0),E(null);const K=await fetch("https://deliciasoft-backend.onrender.com/api/insumos",{method:"GET",headers:{"Content-Type":"application/json"}});if(!K.ok)throw new Error(`Error ${K.status}: ${K.statusText}`);const U=await K.json();console.log("🚀 Datos RAW de insumos desde API:",U);const j=U.filter(ie=>{const ye=ie.estado||ie.activo||ie.active||ie.isActive;return typeof ye=="boolean"?ye===!0:typeof ye=="string"?ye.toLowerCase()==="true"||ye.toLowerCase()==="activo":typeof ye=="number"?ye===1:!0});console.log(`📊 Insumos filtrados: ${j.length} activos de ${U.length} totales`),console.log("📋 Campos disponibles en primer insumo:",Object.keys(U[0]||{}));const Y=j.some(ie=>ie.precio!==void 0&&ie.precio!==null&&parseFloat(ie.precio)>0);console.log("💰 ¿Los datos incluyen precios?",Y);const G=j.map(ie=>{var Pe,_e;let ye=0,me=!1;const he=ie.precio||ie.preciounitario||ie.precioUnitario||ie.precio_unitario;if(he!=null){const ce=parseFloat(he);!isNaN(ce)&&ce>0&&(ye=ce,me=!0,console.log(`✅ Precio encontrado para ${ie.nombreinsumo}: $${ye}`))}me||console.log(`⚠️ Sin precio para ${ie.nombreinsumo}, debe configurarse manualmente`);const je=ie.nombreinsumo||ie.nombre||"Sin nombre",Fe=((Pe=ie.categoriainsumos)==null?void 0:Pe.nombrecategoria)||"Sin categoría",ue=D(je,Fe),xe={id:ie.idinsumo||ie.id,nombre:je,unidad:((_e=ie.unidadmedida)==null?void 0:_e.unidadmedida)||"Unidad",precio:ye,precioUnitario:ye,cantidad:parseInt(ie.cantidad)||1,category:Fe,imagen:ue,esPrecioReal:me,estado:ie.estado||!0,datosOriginales:ie};return console.log(`${me?"✅":"⚠️"} ${xe.nombre}: $${ye} (${me?"BD":"sin precio"})`),console.log(`🖼️ Imagen API: ${ue}`),xe});console.log("📦 Total insumos activos transformados:",G.length),console.log("💵 Insumos con precio de BD:",G.filter(ie=>ie.esPrecioReal).length),console.log("⚠️ Insumos sin precio:",G.filter(ie=>!ie.esPrecioReal).length),p(G);const X=["Todos",...new Set(G.map(ie=>ie.category))];g(X)}catch(K){console.error("❌ Error al cargar insumos:",K),E(K.message)}finally{v(!1)}})()},[]);const L=f.filter(te=>te.nombre.toLowerCase().includes(a.toLowerCase())&&(s==="Todos"||te.category===s)),M=te=>{if(te.precio<=0){alert(`⚠️ El insumo "${te.nombre}" no tiene precio configurado. Por favor, edita el precio primero haciendo clic en el botón ✏️`);return}console.log("🎯 Seleccionando insumo:",{nombre:te.nombre,precio:te.precio,esPrecioReal:te.esPrecioReal}),n(K=>K.some(U=>U.id===te.id)?K.filter(U=>U.id!==te.id):[...K,{...te,cantidad:1,precio:te.precio,precioUnitario:te.precio}])},F=(te,K)=>{K.stopPropagation(),N(te);const U=te.precio>0?te.precio.toString():z(te.nombre,te.category).toString();R(U),k(!0)},H=async()=>{try{const te=parseFloat(O);if(isNaN(te)||te<=0){alert("Por favor ingresa un precio válido mayor a 0");return}await I(_.id,te),p(K=>K.map(U=>U.id===_.id?{...U,precio:te,precioUnitario:te,esPrecioReal:!0}:U)),n(K=>K.map(U=>U.id===_.id?{...U,precio:te,precioUnitario:te,esPrecioReal:!0}:U)),k(!1),N(null),R(""),console.log(`✅ Precio actualizado para ${_.nombre}: $${te}`)}catch(te){alert("Error al actualizar el precio: "+te.message)}},J=()=>{const te=r.filter(K=>K.precio<=0);if(te.length>0){alert(`⚠️ Los siguientes insumos no tienen precio configurado: ${te.map(K=>K.nombre).join(", ")}. Por favor, configura los precios antes de continuar.`);return}console.log("📤 Enviando insumos seleccionados:",r),e(r),t()};if(x)return o.createElement("div",{className:"adicion-modal-overlay"},o.createElement("div",{className:"adicion-modal-container",style:{textAlign:"center",padding:"50px"}},o.createElement("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #ff69b4",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",null,"Cargando insumos activos...")));if(y)return o.createElement("div",{className:"adicion-modal-overlay"},o.createElement("div",{className:"adicion-modal-container",style:{textAlign:"center",padding:"50px"}},o.createElement("h3",{style:{color:"#d63384",marginBottom:"20px"}},"Error al cargar insumos"),o.createElement("p",{style:{marginBottom:"20px"}},y),o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-cancel",onClick:t},"Cerrar")));const ee=f.filter(te=>te.precio>0).length,re=f.filter(te=>te.precio<=0).length;return o.createElement("div",{className:"adicion-modal-overlay"},o.createElement("div",{className:"adicion-modal-container"},o.createElement("style",null,`
          .adicion-modal-overlay {
            background-color: rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
          }

          .adicion-modal-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
          }

          .adicion-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .adicion-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384;
          }

          .adicion-modal-search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
          }

          .adicion-modal-search-container input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1;
            font-size: 16px;
          }

          .adicion-modal-filter-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
          }

          .adicion-modal-filter-btn:hover {
            background-color: #d63384;
          }

          .adicion-modal-categories-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #ffe4ec;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 150px;
            max-height: 200px;
            overflow-y: auto;
          }

          .adicion-modal-category-btn {
            padding: 8px 15px;
            border: 1px solid #ff69b4;
            border-radius: 8px;
            background-color: #ffe4ec;
            color: #d63384;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s, color 0.2s;
            text-align: left;
          }

          .adicion-modal-category-btn.selected {
            background-color: #ff69b4;
            color: white;
          }

          .adicion-modal-category-btn:hover:not(.selected) {
            background-color: #ffb6c1;
          }

          .adicion-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
          }

          .adicion-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
            position: relative;
          }

          .adicion-modal-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4;
          }

          .adicion-modal-card-selected {
            border-color: #d63384;
            background: #ffe4ec;
          }

          .adicion-modal-card-sin-precio {
            border-color: #ffa500;
            background: #fff8e1;
          }

          .adicion-modal-card img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 8px;
          }

          .adicion-modal-card h4 {
            font-size: 16px;
            color: #d63384;
            margin: 0 0 5px 0;
          }

          .adicion-modal-card p {
            font-size: 12px;
            color: #666;
            margin: 2px 0;
          }

          .adicion-modal-card .precio-real {
            font-weight: bold;
            color: #28a745;
            font-size: 14px;
          }

          .adicion-modal-card .precio-sin-configurar {
            font-weight: bold;
            color: #ffa500;
            font-size: 14px;
            font-style: italic;
          }

          .btn-editar-precio {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ff69b4;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            color: white;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .btn-editar-precio:hover {
            background: #d63384;
          }

          .btn-editar-precio.sin-precio {
            background: #ffa500;
            animation: pulse 2s infinite;
          }

          @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
          }

          .modal-precio {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
          }

          .modal-precio-contenido {
            background: white;
            padding: 20px;
            border-radius: 10px;
            min-width: 300px;
            text-align: center;
          }

          .modal-precio input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #ff69b4;
            border-radius: 5px;
            font-size: 16px;
          }

          .modal-precio-botones {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
          }

          .adicion-modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
          }

          .adicion-modal-info {
            font-size: 14px;
            color: #666;
          }

          .adicion-modal-buttons {
            display: flex;
            gap: 10px;
          }

          .adicion-modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .adicion-modal-btn-cancel {
            background-color: #f8d7da;
            color: #721c24;
          }

          .adicion-modal-btn-add {
            background-color: #ff69b4;
            color: white;
          }

          .adicion-modal-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
          }

          .no-results {
            text-align: center;
            padding: 40px;
            color: #666;
          }

          .imagen-placeholder {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #ff69b4, #ffb6c1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin: 0 auto 8px;
          }

          .info-message {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            color: #155724;
          }

          .warning-message {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            color: #856404;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
          }

          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `),o.createElement("div",{className:"adicion-modal-header"},o.createElement("h2",null,"Seleccionar Insumos Activos"),o.createElement("button",{onClick:t,className:"adicion-modal-close-btn"},"×")),ee>0&&re>0?o.createElement("div",{className:"warning-message"},"⚠️ ",o.createElement("strong",null,"Atención:")," ",ee," insumos tienen precio configurado, pero ",re," necesitan precio. Haz clic en ✏️ para configurar precios antes de agregar."):re>0?o.createElement("div",{className:"warning-message"},"⚠️ ",o.createElement("strong",null,"Importante:")," Todos los insumos necesitan precio configurado. Haz clic en ✏️ para establecer precios desde la base de datos."):o.createElement("div",{className:"info-message"},"✅ ",o.createElement("strong",null,"Perfecto:")," Todos los insumos activos tienen precios configurados en la base de datos."),o.createElement("div",{className:"adicion-modal-search-container"},o.createElement("input",{type:"text",placeholder:"Buscar insumo activo...",value:a,onChange:te=>i(te.target.value)}),o.createElement("button",{className:"adicion-modal-filter-btn",onClick:()=>u(!c)},"Categorías",c?" ▲":" ▼"),c&&o.createElement("div",{className:"adicion-modal-categories-dropdown"},h.map(te=>o.createElement("button",{key:te,className:`adicion-modal-category-btn ${s===te?"selected":""}`,onClick:()=>{l(te),u(!1)}},te)))),L.length===0&&!x?o.createElement("div",{className:"no-results"},o.createElement("p",null,"No se encontraron insumos activos con los criterios de búsqueda")):o.createElement("div",{className:"adicion-modal-grid"},L.map(te=>{const K=r.some(j=>j.id===te.id),U=te.precio<=0;return o.createElement("div",{key:te.id,className:`adicion-modal-card ${K?"adicion-modal-card-selected":""} ${U?"adicion-modal-card-sin-precio":""}`,onClick:()=>M(te)},o.createElement("button",{className:`btn-editar-precio ${U?"sin-precio":""}`,onClick:j=>F(te,j),title:U?"⚠️ Configurar precio":"Editar precio"},"✏️"),o.createElement("img",{src:te.imagen,alt:te.nombre,onError:j=>{j.target.src="https://spoonacular.com/cdn/ingredients_100x100/flour.jpg"}}),o.createElement("h4",null,te.nombre),o.createElement("p",null,te.unidad),te.precio>0?o.createElement("p",{className:"precio-real"},new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(te.precio)):o.createElement("p",{className:"precio-sin-configurar"},"Sin precio ⚠️"),te.category!=="Sin categoría"&&o.createElement("p",{style:{fontSize:"10px",fontStyle:"italic"}},te.category),o.createElement("p",{style:{fontSize:"10px",color:"#999"}},"Stock: ",te.cantidad))})),o.createElement("div",{className:"adicion-modal-footer"},o.createElement("div",{className:"adicion-modal-info"},L.length," insumos activos disponibles",o.createElement("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"}},ee>0&&`✅ ${ee} con precio`,ee>0&&re>0&&" | ",re>0&&`⚠️ ${re} sin precio`)),o.createElement("div",{className:"adicion-modal-buttons"},o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-cancel",onClick:t},"Cancelar"),o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-add",onClick:J,disabled:r.length===0},"Agregar (",r.length,")"))),C&&o.createElement("div",{className:"modal-precio"},o.createElement("div",{className:"modal-precio-contenido"},o.createElement("h3",null,(_==null?void 0:_.precio)>0?"Actualizar precio de":"Configurar precio de"," ",_==null?void 0:_.nombre),o.createElement("p",{style:{fontSize:"14px",color:"#666",marginBottom:"10px"}},(_==null?void 0:_.precio)>0?`Precio actual: ${new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(_.precio)}`:"Este insumo no tiene precio configurado"),o.createElement("input",{type:"number",value:O,onChange:te=>R(te.target.value),placeholder:"Ingrese el precio en COP",min:"0",step:"1",autoFocus:!0}),o.createElement("div",{className:"modal-precio-botones"},o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-cancel",onClick:()=>{k(!1),N(null),R("")}},"Cancelar"),o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-add",onClick:H,disabled:!O||parseFloat(O)<=0},(_==null?void 0:_.precio)>0?"Actualizar":"Configurar"," Precio"))))))},eq="modulepreload",tq=function(t){return"/"+t},FP={},KE=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=s(r.map(u=>{if(u=tq(u),u in FP)return;FP[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":eq,f||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),f)return new Promise((g,x)=>{h.addEventListener("load",g),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function ba(t){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(t)}var Ji=Uint8Array,fl=Uint16Array,VS=Int32Array,Z0=new Ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q0=new Ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YE=new Ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zT=function(t,e){for(var r=new fl(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new VS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},BT=zT(Z0,2),qT=BT.b,JE=BT.r;qT[28]=258,JE[258]=28;var UT=zT(Q0,0),rq=UT.b,$P=UT.r,XE=new fl(32768);for(var Ua=0;Ua<32768;++Ua){var ad=(Ua&43690)>>1|(Ua&21845)<<1;ad=(ad&52428)>>2|(ad&13107)<<2,ad=(ad&61680)>>4|(ad&3855)<<4,XE[Ua]=((ad&65280)>>8|(ad&255)<<8)>>1}var Zc=function(t,e,r){for(var n=t.length,a=0,i=new fl(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new fl(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new fl(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],p=s[t[a]-1]++<<f,h=p|(1<<f)-1;p<=h;++p)l[XE[p]>>c]=u}else for(l=new fl(n),a=0;a<n;++a)t[a]&&(l[a]=XE[s[t[a]-1]++]>>15-t[a]);return l},xd=new Ji(288);for(var Ua=0;Ua<144;++Ua)xd[Ua]=8;for(var Ua=144;Ua<256;++Ua)xd[Ua]=9;for(var Ua=256;Ua<280;++Ua)xd[Ua]=7;for(var Ua=280;Ua<288;++Ua)xd[Ua]=8;var Ch=new Ji(32);for(var Ua=0;Ua<32;++Ua)Ch[Ua]=5;var nq=Zc(xd,9,0),aq=Zc(xd,9,1),oq=Zc(Ch,5,0),iq=Zc(Ch,5,1),qy=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},vc=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Uy=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},GS=function(t){return(t+7)/8|0},HT=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ji(t.subarray(e,r))},sq=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xc=function(t,e,r){var n=new Error(e||sq[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,xc),!r)throw n;return n},lq=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Ji(0);var s=!r,l=s||e.i!=2,c=e.i;s&&(r=new Ji(a*3));var u=function(Fe){var ue=r.length;if(Fe>ue){var xe=new Ji(Math.max(ue*2,Fe));xe.set(r),r=xe}},f=e.f||0,p=e.p||0,h=e.b||0,g=e.l,x=e.d,v=e.m,y=e.n,E=a*8;do{if(!g){f=vc(t,p,1);var C=vc(t,p+1,3);if(p+=3,C)if(C==1)g=aq,x=iq,v=9,y=5;else if(C==2){var O=vc(t,p,31)+257,R=vc(t,p+10,15)+4,D=O+vc(t,p+5,31)+1;p+=14;for(var B=new Ji(D),z=new Ji(19),I=0;I<R;++I)z[YE[I]]=vc(t,p+I*3,7);p+=R*3;for(var L=qy(z),M=(1<<L)-1,F=Zc(z,L,1),I=0;I<D;){var H=F[vc(t,p,M)];p+=H&15;var k=H>>4;if(k<16)B[I++]=k;else{var J=0,ee=0;for(k==16?(ee=3+vc(t,p,3),p+=2,J=B[I-1]):k==17?(ee=3+vc(t,p,7),p+=3):k==18&&(ee=11+vc(t,p,127),p+=7);ee--;)B[I++]=J}}var re=B.subarray(0,O),te=B.subarray(O);v=qy(re),y=qy(te),g=Zc(re,v,1),x=Zc(te,y,1)}else xc(1);else{var k=GS(p)+4,_=t[k-4]|t[k-3]<<8,N=k+_;if(N>a){c&&xc(0);break}l&&u(h+_),r.set(t.subarray(k,N),h),e.b=h+=_,e.p=p=N*8,e.f=f;continue}if(p>E){c&&xc(0);break}}l&&u(h+131072);for(var K=(1<<v)-1,U=(1<<y)-1,j=p;;j=p){var J=g[Uy(t,p)&K],Y=J>>4;if(p+=J&15,p>E){c&&xc(0);break}if(J||xc(2),Y<256)r[h++]=Y;else if(Y==256){j=p,g=null;break}else{var G=Y-254;if(Y>264){var I=Y-257,X=Z0[I];G=vc(t,p,(1<<X)-1)+qT[I],p+=X}var ie=x[Uy(t,p)&U],ye=ie>>4;ie||xc(3),p+=ie&15;var te=rq[ye];if(ye>3){var X=Q0[ye];te+=Uy(t,p)&(1<<X)-1,p+=X}if(p>E){c&&xc(0);break}l&&u(h+131072);var me=h+G;if(h<te){var he=i-te,je=Math.min(te,me);for(he+h<0&&xc(3);h<je;++h)r[h]=n[he+h]}for(;h<me;++h)r[h]=r[h-te]}}e.l=g,e.p=j,e.b=h,e.f=f,g&&(f=1,e.m=v,e.d=x,e.n=y)}while(!f);return h!=r.length&&s?HT(r,0,h):r.subarray(0,h)},gu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Pp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Hy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:VT,l:0};if(a==1){var s=new Ji(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(N,O){return N.f-O.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,p=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[p].f?u++:p++],c=r[u!=f&&r[u].f<r[p].f?u++:p++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var g=new fl(h+1),x=ZE(r[f-1],g,0);if(x>e){var n=0,v=0,y=x-e,E=1<<y;for(i.sort(function(O,R){return g[R.s]-g[O.s]||O.f-R.f});n<a;++n){var C=i[n].s;if(g[C]>e)v+=E-(1<<x-g[C]),g[C]=e;else break}for(v>>=y;v>0;){var k=i[n].s;g[k]<e?v-=1<<e-g[k]++-1:++n}for(;n>=0&&v;--n){var _=i[n].s;g[_]==e&&(--g[_],++v)}x=e}return{t:new Ji(g),l:x}},ZE=function(t,e,r){return t.s==-1?Math.max(ZE(t.l,e,r+1),ZE(t.r,e,r+1)):e[t.s]=r},zP=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new fl(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},kp=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},WT=function(t,e,r){var n=r.length,a=GS(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},BP=function(t,e,r,n,a,i,s,l,c,u,f){gu(e,f++,r),++a[256];for(var p=Hy(a,15),h=p.t,g=p.l,x=Hy(i,15),v=x.t,y=x.l,E=zP(h),C=E.c,k=E.n,_=zP(v),N=_.c,O=_.n,R=new fl(19),D=0;D<C.length;++D)++R[C[D]&31];for(var D=0;D<N.length;++D)++R[N[D]&31];for(var B=Hy(R,7),z=B.t,I=B.l,L=19;L>4&&!z[YE[L-1]];--L);var M=u+5<<3,F=kp(a,xd)+kp(i,Ch)+s,H=kp(a,h)+kp(i,v)+s+14+3*L+kp(R,z)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&M<=F&&M<=H)return WT(e,f,t.subarray(c,c+u));var J,ee,re,te;if(gu(e,f,1+(H<F)),f+=2,H<F){J=Zc(h,g,0),ee=h,re=Zc(v,y,0),te=v;var K=Zc(z,I,0);gu(e,f,k-257),gu(e,f+5,O-1),gu(e,f+10,L-4),f+=14;for(var D=0;D<L;++D)gu(e,f+3*D,z[YE[D]]);f+=3*L;for(var U=[C,N],j=0;j<2;++j)for(var Y=U[j],D=0;D<Y.length;++D){var G=Y[D]&31;gu(e,f,K[G]),f+=z[G],G>15&&(gu(e,f,Y[D]>>5&127),f+=Y[D]>>12)}}else J=nq,ee=xd,re=oq,te=Ch;for(var D=0;D<l;++D){var X=n[D];if(X>255){var G=X>>18&31;Pp(e,f,J[G+257]),f+=ee[G+257],G>7&&(gu(e,f,X>>23&31),f+=Z0[G]);var ie=X&31;Pp(e,f,re[ie]),f+=te[ie],ie>3&&(Pp(e,f,X>>5&8191),f+=Q0[ie])}else Pp(e,f,J[X]),f+=ee[X]}return Pp(e,f,J[256]),f+ee[256]},cq=new VS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VT=new Ji(0),uq=function(t,e,r,n,a,i){var s=i.z||t.length,l=new Ji(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,f=(i.r||0)&7;if(e){f&&(c[0]=i.r>>3);for(var p=cq[e-1],h=p>>13,g=p&8191,x=(1<<r)-1,v=i.p||new fl(32768),y=i.h||new fl(x+1),E=Math.ceil(r/3),C=2*E,k=function(Pe){return(t[Pe]^t[Pe+1]<<E^t[Pe+2]<<C)&x},_=new VS(25e3),N=new fl(288),O=new fl(32),R=0,D=0,B=i.i||0,z=0,I=i.w||0,L=0;B+2<s;++B){var M=k(B),F=B&32767,H=y[M];if(v[F]=H,y[M]=F,I<=B){var J=s-B;if((R>7e3||z>24576)&&(J>423||!u)){f=BP(t,c,0,_,N,O,D,z,L,B-L,f),z=R=D=0,L=B;for(var ee=0;ee<286;++ee)N[ee]=0;for(var ee=0;ee<30;++ee)O[ee]=0}var re=2,te=0,K=g,U=F-H&32767;if(J>2&&M==k(B-U))for(var j=Math.min(h,J)-1,Y=Math.min(32767,B),G=Math.min(258,J);U<=Y&&--K&&F!=H;){if(t[B+re]==t[B+re-U]){for(var X=0;X<G&&t[B+X]==t[B+X-U];++X);if(X>re){if(re=X,te=U,X>j)break;for(var ie=Math.min(U,X-2),ye=0,ee=0;ee<ie;++ee){var me=B-U+ee&32767,he=v[me],je=me-he&32767;je>ye&&(ye=je,H=me)}}}F=H,H=v[F],U+=F-H&32767}if(te){_[z++]=268435456|JE[re]<<18|$P[te];var Fe=JE[re]&31,ue=$P[te]&31;D+=Z0[Fe]+Q0[ue],++N[257+Fe],++O[ue],I=B+re,++R}else _[z++]=t[B],++N[t[B]]}}for(B=Math.max(B,I);B<s;++B)_[z++]=t[B],++N[t[B]];f=BP(t,c,u,_,N,O,D,z,L,B-L,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=y,i.p=v,i.i=B,i.w=I)}else{for(var B=i.w||0;B<s+u;B+=65535){var xe=B+65535;xe>=s&&(c[f/8|0]=u,xe=s),f=WT(c,f+1,t.subarray(B,xe))}i.i=s}return HT(l,0,n+GS(f)+a)},GT=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},dq=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Ji(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return uq(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},KT=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},fq=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=GT();a.p(e.dictionary),KT(t,2,a.d())}},mq=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&xc(6,"invalid zlib data"),(t[1]>>5&1)==1&&xc(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function QE(t,e){e||(e={});var r=GT();r.p(t);var n=dq(t,e,e.dictionary?6:2,4);return fq(n,e),KT(n,n.length-4,r.d()),n}function pq(t,e){return lq(t.subarray(mq(t),-4),{i:2},e,e)}var hq=typeof TextDecoder<"u"&&new TextDecoder,gq=0;try{hq.decode(VT,{stream:!0}),gq=1}catch{}var un=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wy(){un.console&&typeof un.console.log=="function"&&un.console.log.apply(un.console,arguments)}var Aa={log:Wy,warn:function(t){un.console&&(typeof un.console.warn=="function"?un.console.warn.apply(un.console,arguments):Wy.call(null,arguments))},error:function(t){un.console&&(typeof un.console.error=="function"?un.console.error.apply(un.console,arguments):Wy(t))}};function Vy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Xd(n.response,e,r)},n.onerror=function(){Aa.error("could not download file")},n.send()}function qP(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function iv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Qp,e5,Xd=un.saveAs||((typeof window>"u"?"undefined":ba(window))!=="object"||window!==un?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=un.URL||un.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?qP(a.href)?Vy(t,e,r):iv(a,a.target="_blank"):iv(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){iv(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(qP(t))Vy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){iv(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:ba(i)!=="object"&&(Aa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Vy(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(un.HTMLElement)||un.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":ba(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=un.URL||un.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function YT(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gy(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Hi(r,n,a,i,e[0],7,-680876936),i=Hi(i,r,n,a,e[1],12,-389564586),a=Hi(a,i,r,n,e[2],17,606105819),n=Hi(n,a,i,r,e[3],22,-1044525330),r=Hi(r,n,a,i,e[4],7,-176418897),i=Hi(i,r,n,a,e[5],12,1200080426),a=Hi(a,i,r,n,e[6],17,-1473231341),n=Hi(n,a,i,r,e[7],22,-45705983),r=Hi(r,n,a,i,e[8],7,1770035416),i=Hi(i,r,n,a,e[9],12,-1958414417),a=Hi(a,i,r,n,e[10],17,-42063),n=Hi(n,a,i,r,e[11],22,-1990404162),r=Hi(r,n,a,i,e[12],7,1804603682),i=Hi(i,r,n,a,e[13],12,-40341101),a=Hi(a,i,r,n,e[14],17,-1502002290),r=Wi(r,n=Hi(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Wi(i,r,n,a,e[6],9,-1069501632),a=Wi(a,i,r,n,e[11],14,643717713),n=Wi(n,a,i,r,e[0],20,-373897302),r=Wi(r,n,a,i,e[5],5,-701558691),i=Wi(i,r,n,a,e[10],9,38016083),a=Wi(a,i,r,n,e[15],14,-660478335),n=Wi(n,a,i,r,e[4],20,-405537848),r=Wi(r,n,a,i,e[9],5,568446438),i=Wi(i,r,n,a,e[14],9,-1019803690),a=Wi(a,i,r,n,e[3],14,-187363961),n=Wi(n,a,i,r,e[8],20,1163531501),r=Wi(r,n,a,i,e[13],5,-1444681467),i=Wi(i,r,n,a,e[2],9,-51403784),a=Wi(a,i,r,n,e[7],14,1735328473),r=Vi(r,n=Wi(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Vi(i,r,n,a,e[8],11,-2022574463),a=Vi(a,i,r,n,e[11],16,1839030562),n=Vi(n,a,i,r,e[14],23,-35309556),r=Vi(r,n,a,i,e[1],4,-1530992060),i=Vi(i,r,n,a,e[4],11,1272893353),a=Vi(a,i,r,n,e[7],16,-155497632),n=Vi(n,a,i,r,e[10],23,-1094730640),r=Vi(r,n,a,i,e[13],4,681279174),i=Vi(i,r,n,a,e[0],11,-358537222),a=Vi(a,i,r,n,e[3],16,-722521979),n=Vi(n,a,i,r,e[6],23,76029189),r=Vi(r,n,a,i,e[9],4,-640364487),i=Vi(i,r,n,a,e[12],11,-421815835),a=Vi(a,i,r,n,e[15],16,530742520),r=Gi(r,n=Vi(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Gi(i,r,n,a,e[7],10,1126891415),a=Gi(a,i,r,n,e[14],15,-1416354905),n=Gi(n,a,i,r,e[5],21,-57434055),r=Gi(r,n,a,i,e[12],6,1700485571),i=Gi(i,r,n,a,e[3],10,-1894986606),a=Gi(a,i,r,n,e[10],15,-1051523),n=Gi(n,a,i,r,e[1],21,-2054922799),r=Gi(r,n,a,i,e[8],6,1873313359),i=Gi(i,r,n,a,e[15],10,-30611744),a=Gi(a,i,r,n,e[6],15,-1560198380),n=Gi(n,a,i,r,e[13],21,1309151649),r=Gi(r,n,a,i,e[4],6,-145523070),i=Gi(i,r,n,a,e[11],10,-1120210379),a=Gi(a,i,r,n,e[2],15,718787259),n=Gi(n,a,i,r,e[9],21,-343485551),t[0]=pd(r,t[0]),t[1]=pd(n,t[1]),t[2]=pd(a,t[2]),t[3]=pd(i,t[3])}function eb(t,e,r,n,a,i){return e=pd(pd(e,t),pd(n,i)),pd(e<<a|e>>>32-a,r)}function Hi(t,e,r,n,a,i,s){return eb(e&r|~e&n,t,e,a,i,s)}function Wi(t,e,r,n,a,i,s){return eb(e&n|r&~n,t,e,a,i,s)}function Vi(t,e,r,n,a,i,s){return eb(e^r^n,t,e,a,i,s)}function Gi(t,e,r,n,a,i,s){return eb(r^(e|~n),t,e,a,i,s)}function JT(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Gy(n,vq(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Gy(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Gy(n,a),n}function vq(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Qp=un.atob.bind(un),e5=un.btoa.bind(un);var UP="0123456789abcdef".split("");function bq(t){for(var e="",r=0;r<4;r++)e+=UP[t>>8*r+4&15]+UP[t>>8*r&15];return e}function yq(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function t5(t){return JT(t).map(yq).join("")}var wq=function(t){for(var e=0;e<t.length;e++)t[e]=bq(t[e]);return t.join("")}(JT("hello"))!="5d41402abc4b2a76b9719d911017c592";function pd(t,e){if(wq){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function r5(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+s.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=t,n=l}else l=n;var p=e.length,h=0,g=0,x="";for(c=0;c<p;c++)g=(g+(f=l[h=(h+1)%256]))%256,l[h]=l[g],l[g]=f,s=l[(l[h]+l[g])%256],x+=String.fromCharCode(e.charCodeAt(c)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var HP={print:4,modify:8,copy:16,"annot-forms":32};function um(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(HP.perm!==void 0)throw new Error("Invalid permission: "+l);a+=HP[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=t5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=r5(this.encryptionKey,this.padding)}function dm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function WP(t){if(ba(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(l){un.console&&Aa.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qv(t){if(!(this instanceof qv))return new qv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function XT(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function rf(t,e,r,n,a){if(!(this instanceof rf))return new rf(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,XT.call(this,n,a)}function gm(t,e,r,n,a){if(!(this instanceof gm))return new gm(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,XT.call(this,n,a)}function sn(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",f=null;ba(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,h={},g={internal:{},__private__:{}};g.__private__.PubSub=WP;var x="1.3",v=g.__private__.getPdfVersion=function(){return x};g.__private__.setPdfVersion=function($){x=$};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return y};var E=g.__private__.getPageFormat=function($){return y[$]};a=a||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},k=C.COMPAT;function _(){this.saveGraphicsState(),ce(new Qt(nt,0,0,-nt,0,Li()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),u="n",k=C.ADVANCED}function N(){this.restoreGraphicsState(),u="S",k=C.COMPAT}var O=g.__private__.combineFontStyleAndFontWeight=function($,le){if($=="bold"&&le=="normal"||$=="bold"&&le==400||$=="normal"&&le=="italic"||$=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&($=le==400||le==="normal"?$==="italic"?"italic":"normal":le!=700&&le!=="bold"||$!=="normal"?(le==700?"bold":le)+""+$:"bold"),$};g.advancedAPI=function($){var le=k===C.COMPAT;return le&&_.call(this),typeof $!="function"||($(this),le&&N.call(this)),this},g.compatAPI=function($){var le=k===C.ADVANCED;return le&&N.call(this),typeof $!="function"||($(this),le&&_.call(this)),this},g.isAdvancedAPI=function(){return k===C.ADVANCED};var R,D=function($){if(k!==C.ADVANCED)throw new Error($+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=g.roundToPrecision=g.__private__.roundToPrecision=function($,le){var Ie=e||le;if(isNaN($)||isNaN(Ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return $.toFixed(Ie).replace(/0+$/,"")};R=g.hpf=g.__private__.hpf=typeof c=="number"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return B($,c)}:c==="smart"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return B($,$>-1&&$<1?16:5)}:function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return B($,16)};var z=g.f2=g.__private__.f2=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f2");return B($,2)},I=g.__private__.f3=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f3");return B($,3)},L=g.scale=g.__private__.scale=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.scale");return k===C.COMPAT?$*nt:k===C.ADVANCED?$:void 0},M=function($){return k===C.COMPAT?Li()-$:k===C.ADVANCED?$:void 0},F=function($){return L(M($))};g.__private__.setPrecision=g.setPrecision=function($){typeof parseInt($,10)=="number"&&(e=parseInt($,10))};var H,J="00000000000000000000000000000000",ee=g.__private__.getFileId=function(){return J},re=g.__private__.setFileId=function($){return J=$!==void 0&&/^[a-fA-F0-9]{32}$/.test($)?$.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(_n=new um(f.userPermissions,f.userPassword,f.ownerPassword,J)),J};g.setFileId=function($){return re($),this},g.getFileId=function(){return ee()};var te=g.__private__.convertDateToPDFDate=function($){var le=$.getTimezoneOffset(),Ie=le<0?"+":"-",ze=Math.floor(Math.abs(le/60)),tt=Math.abs(le%60),ht=[Ie,G(ze),"'",G(tt),"'"].join("");return["D:",$.getFullYear(),G($.getMonth()+1),G($.getDate()),G($.getHours()),G($.getMinutes()),G($.getSeconds()),ht].join("")},K=g.__private__.convertPDFDateToDate=function($){var le=parseInt($.substr(2,4),10),Ie=parseInt($.substr(6,2),10)-1,ze=parseInt($.substr(8,2),10),tt=parseInt($.substr(10,2),10),ht=parseInt($.substr(12,2),10),Mt=parseInt($.substr(14,2),10);return new Date(le,Ie,ze,tt,ht,Mt,0)},U=g.__private__.setCreationDate=function($){var le;if($===void 0&&($=new Date),$ instanceof Date)le=te($);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test($))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=$}return H=le},j=g.__private__.getCreationDate=function($){var le=H;return $==="jsDate"&&(le=K(H)),le};g.setCreationDate=function($){return U($),this},g.getCreationDate=function($){return j($)};var Y,G=g.__private__.padd2=function($){return("0"+parseInt($)).slice(-2)},X=g.__private__.padd2Hex=function($){return("00"+($=$.toString())).substr($.length)},ie=0,ye=[],me=[],he=0,je=[],Fe=[],ue=!1,xe=me,Pe=function(){ie=0,he=0,me=[],ye=[],je=[],Kr=Tt(),_t=Tt()};g.__private__.setCustomOutputDestination=function($){ue=!0,xe=$};var _e=function($){ue||(xe=$)};g.__private__.resetCustomOutputDestination=function(){ue=!1,xe=me};var ce=g.__private__.out=function($){return $=$.toString(),he+=$.length+1,xe.push($),xe},Je=g.__private__.write=function($){return ce(arguments.length===1?$.toString():Array.prototype.join.call(arguments," "))},Te=g.__private__.getArrayBuffer=function($){for(var le=$.length,Ie=new ArrayBuffer(le),ze=new Uint8Array(Ie);le--;)ze[le]=$.charCodeAt(le);return Ie},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Le};var Ze=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function($){return Ze=k===C.ADVANCED?$/nt:$,this};var Be,et=g.__private__.getFontSize=g.getFontSize=function(){return k===C.COMPAT?Ze:Ze*nt},Dt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function($){return Dt=$,this},g.__private__.getR2L=g.getR2L=function(){return Dt};var Ut,Vt=g.__private__.setZoomMode=function($){var le=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test($))Be=$;else if(isNaN($)){if(le.indexOf($)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+$+'" is not recognized.');Be=$}else Be=parseInt($,10)};g.__private__.getZoomMode=function(){return Be};var Jt,dr=g.__private__.setPageMode=function($){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf($)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+$+'" is not recognized.');Ut=$};g.__private__.getPageMode=function(){return Ut};var lr=g.__private__.setLayoutMode=function($){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf($)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+$+'" is not recognized.');Jt=$};g.__private__.getLayoutMode=function(){return Jt},g.__private__.setDisplayMode=g.setDisplayMode=function($,le,Ie){return Vt($),lr(le),dr(Ie),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function($){if(Object.keys(ct).indexOf($)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[$]},g.__private__.getDocumentProperties=function(){return ct},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function($){for(var le in ct)ct.hasOwnProperty(le)&&$[le]&&(ct[le]=$[le]);return this},g.__private__.setDocumentProperty=function($,le){if(Object.keys(ct).indexOf($)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[$]=le};var pt,nt,rt,Lt,hr,tr={},rr={},Wr=[],Nr={},bt={},ke={},Re={},Qe=null,jt=0,gt=[],At=new WP(g),kr=t.hotfixes||[],xr={},Xr={},Zr=[],Qt=function $(le,Ie,ze,tt,ht,Mt){if(!(this instanceof $))return new $(le,Ie,ze,tt,ht,Mt);isNaN(le)&&(le=1),isNaN(Ie)&&(Ie=0),isNaN(ze)&&(ze=0),isNaN(tt)&&(tt=1),isNaN(ht)&&(ht=0),isNaN(Mt)&&(Mt=0),this._matrix=[le,Ie,ze,tt,ht,Mt]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function($){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join($)},Qt.prototype.multiply=function($){var le=$.sx*this.sx+$.shy*this.shx,Ie=$.sx*this.shy+$.shy*this.sy,ze=$.shx*this.sx+$.sy*this.shx,tt=$.shx*this.shy+$.sy*this.sy,ht=$.tx*this.sx+$.ty*this.shx+this.tx,Mt=$.tx*this.shy+$.ty*this.sy+this.ty;return new Qt(le,Ie,ze,tt,ht,Mt)},Qt.prototype.decompose=function(){var $=this.sx,le=this.shy,Ie=this.shx,ze=this.sy,tt=this.tx,ht=this.ty,Mt=Math.sqrt($*$+le*le),mr=($/=Mt)*Ie+(le/=Mt)*ze;Ie-=$*mr,ze-=le*mr;var _r=Math.sqrt(Ie*Ie+ze*ze);return mr/=_r,$*(ze/=_r)<le*(Ie/=_r)&&($=-$,le=-le,mr=-mr,Mt=-Mt),{scale:new Qt(Mt,0,0,_r,0,0),translate:new Qt(1,0,0,1,tt,ht),rotate:new Qt($,le,-le,$,0,0),skew:new Qt(1,0,mr,1,0,0)}},Qt.prototype.toString=function($){return this.join(" ")},Qt.prototype.inversed=function(){var $=this.sx,le=this.shy,Ie=this.shx,ze=this.sy,tt=this.tx,ht=this.ty,Mt=1/($*ze-le*Ie),mr=ze*Mt,_r=-le*Mt,Yr=-Ie*Mt,an=$*Mt;return new Qt(mr,_r,Yr,an,-mr*tt-Yr*ht,-_r*tt-an*ht)},Qt.prototype.applyToPoint=function($){var le=$.x*this.sx+$.y*this.shx+this.tx,Ie=$.x*this.shy+$.y*this.sy+this.ty;return new mi(le,Ie)},Qt.prototype.applyToRectangle=function($){var le=this.applyToPoint($),Ie=this.applyToPoint(new mi($.x+$.w,$.y+$.h));return new pi(le.x,le.y,Ie.x-le.x,Ie.y-le.y)},Qt.prototype.clone=function(){var $=this.sx,le=this.shy,Ie=this.shx,ze=this.sy,tt=this.tx,ht=this.ty;return new Qt($,le,Ie,ze,tt,ht)},g.Matrix=Qt;var ln=g.matrixMult=function($,le){return le.multiply($)},Sn=new Qt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Sn;var dt=function($,le){if(!bt[$]){var Ie=(le instanceof rf?"Sh":"P")+(Object.keys(Nr).length+1).toString(10);le.id=Ie,bt[$]=Ie,Nr[Ie]=le,At.publish("addPattern",le)}};g.ShadingPattern=rf,g.TilingPattern=gm,g.addShadingPattern=function($,le){return D("addShadingPattern()"),dt($,le),this},g.beginTilingPattern=function($){D("beginTilingPattern()"),Tc($.boundingBox[0],$.boundingBox[1],$.boundingBox[2]-$.boundingBox[0],$.boundingBox[3]-$.boundingBox[1],$.matrix)},g.endTilingPattern=function($,le){D("endTilingPattern()"),le.stream=Fe[Y].join(`
`),dt($,le),At.publish("endTilingPattern",le),Zr.pop().restore()};var Et=g.__private__.newObject=function(){var $=Tt();return Gt($,!0),$},Tt=g.__private__.newObjectDeferred=function(){return ie++,ye[ie]=function(){return he},ie},Gt=function($,le){return le=typeof le=="boolean"&&le,ye[$]=he,le&&ce($+" 0 obj"),$},br=g.__private__.newAdditionalObject=function(){var $={objId:Tt(),content:""};return je.push($),$},Kr=Tt(),_t=Tt(),at=g.__private__.decodeColorString=function($){var le=$.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length===5&&(le[4]==="k"||le[4]==="K")&&(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Ie=parseFloat(le[0]);le=[Ie,Ie,Ie,"r"]}for(var ze="#",tt=0;tt<3;tt++)ze+=("0"+Math.floor(255*parseFloat(le[tt])).toString(16)).slice(-2);return ze},vt=g.__private__.encodeColorString=function($){var le;typeof $=="string"&&($={ch1:$});var Ie=$.ch1,ze=$.ch2,tt=$.ch3,ht=$.ch4,Mt=$.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ie=="string"&&Ie.charAt(0)!=="#"){var mr=new YT(Ie);if(mr.ok)Ie=mr.toHex();else if(!/^\d*\.?\d*$/.test(Ie))throw new Error('Invalid color "'+Ie+'" passed to jsPDF.encodeColorString.')}if(typeof Ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ie)&&(Ie="#"+Ie[1]+Ie[1]+Ie[2]+Ie[2]+Ie[3]+Ie[3]),typeof Ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ie)){var _r=parseInt(Ie.substr(1),16);Ie=_r>>16&255,ze=_r>>8&255,tt=255&_r}if(ze===void 0||ht===void 0&&Ie===ze&&ze===tt)if(typeof Ie=="string")le=Ie+" "+Mt[0];else switch($.precision){case 2:le=z(Ie/255)+" "+Mt[0];break;case 3:default:le=I(Ie/255)+" "+Mt[0]}else if(ht===void 0||ba(ht)==="object"){if(ht&&!isNaN(ht.a)&&ht.a===0)return le=["1.","1.","1.",Mt[1]].join(" ");if(typeof Ie=="string")le=[Ie,ze,tt,Mt[1]].join(" ");else switch($.precision){case 2:le=[z(Ie/255),z(ze/255),z(tt/255),Mt[1]].join(" ");break;default:case 3:le=[I(Ie/255),I(ze/255),I(tt/255),Mt[1]].join(" ")}}else if(typeof Ie=="string")le=[Ie,ze,tt,ht,Mt[2]].join(" ");else switch($.precision){case 2:le=[z(Ie),z(ze),z(tt),z(ht),Mt[2]].join(" ");break;case 3:default:le=[I(Ie),I(ze),I(tt),I(ht),Mt[2]].join(" ")}return le},Kt=g.__private__.getFilters=function(){return s},cr=g.__private__.putStream=function($){var le=($=$||{}).data||"",Ie=$.filters||Kt(),ze=$.alreadyAppliedFilters||[],tt=$.addLength1||!1,ht=le.length,Mt=$.objectId,mr=function(Oe){return Oe};if(f!==null&&Mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(mr=_n.encryptor(Mt,0));var _r={};Ie===!0&&(Ie=["FlateEncode"]);var Yr=$.additionalKeyValues||[],an=(_r=sn.API.processDataByFilters!==void 0?sn.API.processDataByFilters(le,Ie):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(_r.data.length!==0&&(Yr.push({key:"Length",value:_r.data.length}),tt===!0&&Yr.push({key:"Length1",value:ht})),an.length!=0)if(an.split("/").length-1==1)Yr.push({key:"Filter",value:an});else{Yr.push({key:"Filter",value:"["+an+"]"});for(var xn=0;xn<Yr.length;xn+=1)if(Yr[xn].key==="DecodeParms"){for(var pa=[],wa=0;wa<_r.reverseChain.split("/").length-1;wa+=1)pa.push("null");pa.push(Yr[xn].value),Yr[xn].value="["+pa.join(" ")+"]"}}ce("<<");for(var St=0;St<Yr.length;St++)ce("/"+Yr[St].key+" "+Yr[St].value);ce(">>"),_r.data.length!==0&&(ce("stream"),ce(mr(_r.data)),ce("endstream"))},gr=g.__private__.putPage=function($){var le=$.number,Ie=$.data,ze=$.objId,tt=$.contentsObjId;Gt(ze,!0),ce("<</Type /Page"),ce("/Parent "+$.rootDictionaryObjId+" 0 R"),ce("/Resources "+$.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(R($.mediaBox.bottomLeftX))+" "+parseFloat(R($.mediaBox.bottomLeftY))+" "+R($.mediaBox.topRightX)+" "+R($.mediaBox.topRightY)+"]"),$.cropBox!==null&&ce("/CropBox ["+R($.cropBox.bottomLeftX)+" "+R($.cropBox.bottomLeftY)+" "+R($.cropBox.topRightX)+" "+R($.cropBox.topRightY)+"]"),$.bleedBox!==null&&ce("/BleedBox ["+R($.bleedBox.bottomLeftX)+" "+R($.bleedBox.bottomLeftY)+" "+R($.bleedBox.topRightX)+" "+R($.bleedBox.topRightY)+"]"),$.trimBox!==null&&ce("/TrimBox ["+R($.trimBox.bottomLeftX)+" "+R($.trimBox.bottomLeftY)+" "+R($.trimBox.topRightX)+" "+R($.trimBox.topRightY)+"]"),$.artBox!==null&&ce("/ArtBox ["+R($.artBox.bottomLeftX)+" "+R($.artBox.bottomLeftY)+" "+R($.artBox.topRightX)+" "+R($.artBox.topRightY)+"]"),typeof $.userUnit=="number"&&$.userUnit!==1&&ce("/UserUnit "+$.userUnit),At.publish("putPage",{objId:ze,pageContext:gt[le],pageNumber:le,page:Ie}),ce("/Contents "+tt+" 0 R"),ce(">>"),ce("endobj");var ht=Ie.join(`
`);return k===C.ADVANCED&&(ht+=`
Q`),Gt(tt,!0),cr({data:ht,filters:Kt(),objectId:tt}),ce("endobj"),ze},Bt=g.__private__.putPages=function(){var $,le,Ie=[];for($=1;$<=jt;$++)gt[$].objId=Tt(),gt[$].contentsObjId=Tt();for($=1;$<=jt;$++)Ie.push(gr({number:$,data:Fe[$],objId:gt[$].objId,contentsObjId:gt[$].contentsObjId,mediaBox:gt[$].mediaBox,cropBox:gt[$].cropBox,bleedBox:gt[$].bleedBox,trimBox:gt[$].trimBox,artBox:gt[$].artBox,userUnit:gt[$].userUnit,rootDictionaryObjId:Kr,resourceDictionaryObjId:_t}));Gt(Kr,!0),ce("<</Type /Pages");var ze="/Kids [";for(le=0;le<jt;le++)ze+=Ie[le]+" 0 R ";ce(ze+"]"),ce("/Count "+jt),ce(">>"),ce("endobj"),At.publish("postPutPages")},it=function($){At.publish("putFont",{font:$,out:ce,newObject:Et,putStream:cr}),$.isAlreadyPutted!==!0&&($.objectNumber=Et(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+dm($.postScriptName)),ce("/Subtype /Type1"),typeof $.encoding=="string"&&ce("/Encoding /"+$.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},xt=function(){for(var $ in tr)tr.hasOwnProperty($)&&(p===!1||p===!0&&h.hasOwnProperty($))&&it(tr[$])},Ht=function($){$.objectNumber=Et();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[R($.x),R($.y),R($.x+$.width),R($.y+$.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+$.matrix.toString()+"]"});var Ie=$.pages[1].join(`
`);cr({data:Ie,additionalKeyValues:le,objectId:$.objectNumber}),ce("endobj")},ir=function(){for(var $ in xr)xr.hasOwnProperty($)&&Ht(xr[$])},nr=function($,le){var Ie,ze=[],tt=1/(le-1);for(Ie=0;Ie<1;Ie+=tt)ze.push(Ie);if(ze.push(1),$[0].offset!=0){var ht={offset:0,color:$[0].color};$.unshift(ht)}if($[$.length-1].offset!=1){var Mt={offset:1,color:$[$.length-1].color};$.push(Mt)}for(var mr="",_r=0,Yr=0;Yr<ze.length;Yr++){for(Ie=ze[Yr];Ie>$[_r+1].offset;)_r++;var an=$[_r].offset,xn=(Ie-an)/($[_r+1].offset-an),pa=$[_r].color,wa=$[_r+1].color;mr+=X(Math.round((1-xn)*pa[0]+xn*wa[0]).toString(16))+X(Math.round((1-xn)*pa[1]+xn*wa[1]).toString(16))+X(Math.round((1-xn)*pa[2]+xn*wa[2]).toString(16))}return mr.trim()},Rt=function($,le){le||(le=21);var Ie=Et(),ze=nr($.colors,le),tt=[];tt.push({key:"FunctionType",value:"0"}),tt.push({key:"Domain",value:"[0.0 1.0]"}),tt.push({key:"Size",value:"["+le+"]"}),tt.push({key:"BitsPerSample",value:"8"}),tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),cr({data:ze,additionalKeyValues:tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ie}),ce("endobj"),$.objectNumber=Et(),ce("<< /ShadingType "+$.type),ce("/ColorSpace /DeviceRGB");var ht="/Coords ["+R(parseFloat($.coords[0]))+" "+R(parseFloat($.coords[1]))+" ";$.type===2?ht+=R(parseFloat($.coords[2]))+" "+R(parseFloat($.coords[3])):ht+=R(parseFloat($.coords[2]))+" "+R(parseFloat($.coords[3]))+" "+R(parseFloat($.coords[4]))+" "+R(parseFloat($.coords[5])),ce(ht+="]"),$.matrix&&ce("/Matrix ["+$.matrix.toString()+"]"),ce("/Function "+Ie+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},yr=function($,le){var Ie=Tt(),ze=Et();le.push({resourcesOid:Ie,objectOid:ze}),$.objectNumber=ze;var tt=[];tt.push({key:"Type",value:"/Pattern"}),tt.push({key:"PatternType",value:"1"}),tt.push({key:"PaintType",value:"1"}),tt.push({key:"TilingType",value:"1"}),tt.push({key:"BBox",value:"["+$.boundingBox.map(R).join(" ")+"]"}),tt.push({key:"XStep",value:R($.xStep)}),tt.push({key:"YStep",value:R($.yStep)}),tt.push({key:"Resources",value:Ie+" 0 R"}),$.matrix&&tt.push({key:"Matrix",value:"["+$.matrix.toString()+"]"}),cr({data:$.stream,additionalKeyValues:tt,objectId:$.objectNumber}),ce("endobj")},Vr=function($){var le;for(le in Nr)Nr.hasOwnProperty(le)&&(Nr[le]instanceof rf?Rt(Nr[le]):Nr[le]instanceof gm&&yr(Nr[le],$))},Ur=function($){for(var le in $.objectNumber=Et(),ce("<<"),$)switch(le){case"opacity":ce("/ca "+z($[le]));break;case"stroke-opacity":ce("/CA "+z($[le]))}ce(">>"),ce("endobj")},Ye=function(){var $;for($ in ke)ke.hasOwnProperty($)&&Ur(ke[$])},ae=function(){for(var $ in ce("/XObject <<"),xr)xr.hasOwnProperty($)&&xr[$].objectNumber>=0&&ce("/"+$+" "+xr[$].objectNumber+" 0 R");At.publish("putXobjectDict"),ce(">>")},we=function(){_n.oid=Et(),ce("<<"),ce("/Filter /Standard"),ce("/V "+_n.v),ce("/R "+_n.r),ce("/U <"+_n.toHexString(_n.U)+">"),ce("/O <"+_n.toHexString(_n.O)+">"),ce("/P "+_n.P),ce(">>"),ce("endobj")},$e=function(){for(var $ in ce("/Font <<"),tr)tr.hasOwnProperty($)&&(p===!1||p===!0&&h.hasOwnProperty($))&&ce("/"+$+" "+tr[$].objectNumber+" 0 R");ce(">>")},Xe=function(){if(Object.keys(Nr).length>0){for(var $ in ce("/Shading <<"),Nr)Nr.hasOwnProperty($)&&Nr[$]instanceof rf&&Nr[$].objectNumber>=0&&ce("/"+$+" "+Nr[$].objectNumber+" 0 R");At.publish("putShadingPatternDict"),ce(">>")}},st=function($){if(Object.keys(Nr).length>0){for(var le in ce("/Pattern <<"),Nr)Nr.hasOwnProperty(le)&&Nr[le]instanceof g.TilingPattern&&Nr[le].objectNumber>=0&&Nr[le].objectNumber<$&&ce("/"+le+" "+Nr[le].objectNumber+" 0 R");At.publish("putTilingPatternDict"),ce(">>")}},Ot=function(){if(Object.keys(ke).length>0){var $;for($ in ce("/ExtGState <<"),ke)ke.hasOwnProperty($)&&ke[$].objectNumber>=0&&ce("/"+$+" "+ke[$].objectNumber+" 0 R");At.publish("putGStateDict"),ce(">>")}},Yt=function($){Gt($.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$e(),Xe(),st($.objectOid),Ot(),ae(),ce(">>"),ce("endobj")},Ar=function(){var $=[];xt(),Ye(),ir(),Vr($),At.publish("putResources"),$.forEach(Yt),Yt({resourcesOid:_t,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources")},$r=function(){At.publish("putAdditionalObjects");for(var $=0;$<je.length;$++){var le=je[$];Gt(le.objId,!0),ce(le.content),ce("endobj")}At.publish("postPutAdditionalObjects")},An=function($){rr[$.fontName]=rr[$.fontName]||{},rr[$.fontName][$.fontStyle]=$.id},In=function($,le,Ie,ze,tt){var ht={id:"F"+(Object.keys(tr).length+1).toString(10),postScriptName:$,fontName:le,fontStyle:Ie,encoding:ze,isStandardFont:tt||!1,metadata:{}};return At.publish("addFont",{font:ht,instance:this}),tr[ht.id]=ht,An(ht),ht.id},Pr=function($){for(var le=0,Ie=Le.length;le<Ie;le++){var ze=In.call(this,$[le][0],$[le][1],$[le][2],Le[le][3],!0);p===!1&&(h[ze]=!0);var tt=$[le][0].split("-");An({id:ze,fontName:tt[0],fontStyle:tt[1]||""})}At.publish("addFonts",{fonts:tr,dictionary:rr})},Dr=function($){return $.foo=function(){try{return $.apply(this,arguments)}catch(ze){var le=ze.stack||"";~le.indexOf(" at ")&&(le=le.split(" at ")[1]);var Ie="Error in function "+le.split(`
`)[0].split("<")[0]+": "+ze.message;if(!un.console)throw new Error(Ie);un.console.error(Ie,ze),un.alert&&alert(Ie)}},$.foo.bar=$,$.foo},Rr=function($,le){var Ie,ze,tt,ht,Mt,mr,_r,Yr,an;if(tt=(le=le||{}).sourceEncoding||"Unicode",Mt=le.outputEncoding,(le.autoencode||Mt)&&tr[pt].metadata&&tr[pt].metadata[tt]&&tr[pt].metadata[tt].encoding&&(ht=tr[pt].metadata[tt].encoding,!Mt&&tr[pt].encoding&&(Mt=tr[pt].encoding),!Mt&&ht.codePages&&(Mt=ht.codePages[0]),typeof Mt=="string"&&(Mt=ht[Mt]),Mt)){for(_r=!1,mr=[],Ie=0,ze=$.length;Ie<ze;Ie++)(Yr=Mt[$.charCodeAt(Ie)])?mr.push(String.fromCharCode(Yr)):mr.push($[Ie]),mr[Ie].charCodeAt(0)>>8&&(_r=!0);$=mr.join("")}for(Ie=$.length;_r===void 0&&Ie!==0;)$.charCodeAt(Ie-1)>>8&&(_r=!0),Ie--;if(!_r)return $;for(mr=le.noBOM?[]:[254,255],Ie=0,ze=$.length;Ie<ze;Ie++){if((an=(Yr=$.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mr.push(an),mr.push(Yr-(an<<8))}return String.fromCharCode.apply(void 0,mr)},rn=g.__private__.pdfEscape=g.pdfEscape=function($,le){return Rr($,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wn=g.__private__.beginPage=function($){Fe[++jt]=[],gt[jt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number($[0]),topRightY:Number($[1])}},Nn(jt),_e(Fe[Y])},na=function($,le){var Ie,ze,tt;switch(r=le||r,typeof $=="string"&&(Ie=E($.toLowerCase()),Array.isArray(Ie)&&(ze=Ie[0],tt=Ie[1])),Array.isArray($)&&(ze=$[0]*nt,tt=$[1]*nt),isNaN(ze)&&(ze=a[0],tt=a[1]),(ze>14400||tt>14400)&&(Aa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),tt=Math.min(14400,tt)),a=[ze,tt],r.substr(0,1)){case"l":tt>ze&&(a=[tt,ze]);break;case"p":ze>tt&&(a=[tt,ze])}wn(a),ws(ts),ce(ro),Ul!==0&&ce(Ul+" J"),Hs!==0&&ce(Hs+" j"),At.publish("addPage",{pageNumber:jt})},Kn=function($){$>0&&$<=jt&&(Fe.splice($,1),gt.splice($,1),jt--,Y>jt&&(Y=jt),this.setPage(Y))},Nn=function($){$>0&&$<=jt&&(Y=$)},aa=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Fe.length-1},ya=function($,le,Ie){var ze,tt=void 0;return Ie=Ie||{},$=$!==void 0?$:tr[pt].fontName,le=le!==void 0?le:tr[pt].fontStyle,ze=$.toLowerCase(),rr[ze]!==void 0&&rr[ze][le]!==void 0?tt=rr[ze][le]:rr[$]!==void 0&&rr[$][le]!==void 0?tt=rr[$][le]:Ie.disableWarning===!1&&Aa.warn("Unable to look up font label for font '"+$+"', '"+le+"'. Refer to getFontList() for available fonts."),tt||Ie.noFallback||(tt=rr.times[le])==null&&(tt=rr.times.normal),tt},cn=g.__private__.putInfo=function(){var $=Et(),le=function(ze){return ze};for(var Ie in f!==null&&(le=_n.encryptor($,0)),ce("<<"),ce("/Producer ("+rn(le("jsPDF "+sn.version))+")"),ct)ct.hasOwnProperty(Ie)&&ct[Ie]&&ce("/"+Ie.substr(0,1).toUpperCase()+Ie.substr(1)+" ("+rn(le(ct[Ie]))+")");ce("/CreationDate ("+rn(le(H))+")"),ce(">>"),ce("endobj")},Ya=g.__private__.putCatalog=function($){var le=($=$||{}).rootDictionaryObjId||Kr;switch(Et(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+le+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ie=""+Be;Ie.substr(Ie.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+z(Be)+"]")}switch(Jt||(Jt="continuous"),Jt){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Ut&&ce("/PageMode /"+Ut),At.publish("putCatalog"),ce(">>"),ce("endobj")},Oi=g.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(ie+1)),ce("/Root "+ie+" 0 R"),ce("/Info "+(ie-1)+" 0 R"),f!==null&&ce("/Encrypt "+_n.oid+" 0 R"),ce("/ID [ <"+J+"> <"+J+"> ]"),ce(">>")},Ft=g.__private__.putHeader=function(){ce("%PDF-"+x),ce("%ºß¬à")},Ae=g.__private__.putXRef=function(){var $="0000000000";ce("xref"),ce("0 "+(ie+1)),ce("0000000000 65535 f ");for(var le=1;le<=ie;le++)typeof ye[le]=="function"?ce(($+ye[le]()).slice(-10)+" 00000 n "):ye[le]!==void 0?ce(($+ye[le]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Pt=g.__private__.buildDocument=function(){Pe(),_e(me),At.publish("buildDocument"),Ft(),Bt(),$r(),Ar(),f!==null&&we(),cn(),Ya();var $=he;return Ae(),Oi(),ce("startxref"),ce(""+$),ce("%%EOF"),_e(Fe[Y]),me.join(`
`)},vr=g.__private__.getBlob=function($){return new Blob([Te($)],{type:"application/pdf"})},Cn=g.output=g.__private__.output=Dr(function($,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",$){case void 0:return Pt();case"save":g.save(le.filename);break;case"arraybuffer":return Te(Pt());case"blob":return vr(Pt());case"bloburi":case"bloburl":if(un.URL!==void 0&&typeof un.URL.createObjectURL=="function")return un.URL&&un.URL.createObjectURL(vr(Pt()))||void 0;Aa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ie="",ze=Pt();try{Ie=e5(ze)}catch{Ie=e5(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+le.filename+";base64,"+Ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(un)==="[object Window]"){var tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(tt=le.pdfObjectUrl,ht="");var Mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+tt+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",mr=un.open();return mr!==null&&mr.document.write(Mt),mr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(un)==="[object Window]"){var _r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Yr=un.open();if(Yr!==null){Yr.document.write(_r);var an=this;Yr.document.documentElement.querySelector("#pdfViewer").onload=function(){Yr.document.title=le.filename,Yr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(an.output("bloburl"))}}return Yr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(un)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',pa=un.open();if(pa!==null&&(pa.document.write(xn),pa.document.title=le.filename),pa||typeof safari>"u")return pa;break;case"datauri":case"dataurl":return un.document.location.href=this.output("datauristring",le);default:return null}}),hn=function($){return Array.isArray(kr)===!0&&kr.indexOf($)>-1};switch(n){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=hn("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);nt=n}var _n=null;U(),re();var vo=function($){return f!==null?_n.encryptor($,0):function(le){return le}},za=g.__private__.getPageInfo=g.getPageInfo=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[$].objId,pageNumber:$,pageContext:gt[$]}},Hr=g.__private__.getPageInfoByObjId=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in gt)if(gt[le].objId===$)break;return za(le)},Zo=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:gt[Y].objId,pageNumber:Y,pageContext:gt[Y]}};g.addPage=function(){return na.apply(this,arguments),this},g.setPage=function(){return Nn.apply(this,arguments),_e.call(this,Fe[Y]),this},g.insertPage=function($){return this.addPage(),this.movePage(Y,$),this},g.movePage=function($,le){var Ie,ze;if($>le){Ie=Fe[$],ze=gt[$];for(var tt=$;tt>le;tt--)Fe[tt]=Fe[tt-1],gt[tt]=gt[tt-1];Fe[le]=Ie,gt[le]=ze,this.setPage(le)}else if($<le){Ie=Fe[$],ze=gt[$];for(var ht=$;ht<le;ht++)Fe[ht]=Fe[ht+1],gt[ht]=gt[ht+1];Fe[le]=Ie,gt[le]=ze,this.setPage(le)}return this},g.deletePage=function(){return Kn.apply(this,arguments),this},g.__private__.text=g.text=function($,le,Ie,ze,tt){var ht,Mt,mr,_r,Yr,an,xn,pa,wa,St=(ze=ze||{}).scope||this;if(typeof $=="number"&&typeof le=="number"&&(typeof Ie=="string"||Array.isArray(Ie))){var Oe=Ie;Ie=le,le=$,$=Oe}if(arguments[3]instanceof Qt?(D("The transform parameter of text() with a Matrix value"),wa=tt):(mr=arguments[4],_r=arguments[5],ba(xn=arguments[3])==="object"&&xn!==null||(typeof mr=="string"&&(_r=mr,mr=null),typeof xn=="string"&&(_r=xn,xn=null),typeof xn=="number"&&(mr=xn,xn=null),ze={flags:xn,angle:mr,align:_r})),isNaN(le)||isNaN(Ie)||$==null)throw new Error("Invalid arguments passed to jsPDF.text");if($.length===0)return St;var We="",ut=!1,yt=typeof ze.lineHeightFactor=="number"?ze.lineHeightFactor:es,It=St.internal.scaleFactor;function wt(Jn){return Jn=Jn.split("	").join(Array(ze.TabLen||9).join(" ")),rn(Jn,xn)}function zt(Jn){for(var Bn,Ra=Jn.concat(),Ha=[],Ps=Ra.length;Ps--;)typeof(Bn=Ra.shift())=="string"?Ha.push(Bn):Array.isArray(Jn)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?Ha.push(Bn[0]):Ha.push([Bn[0],Bn[1],Bn[2]]);return Ha}function er(Jn,Bn){var Ra;if(typeof Jn=="string")Ra=Bn(Jn)[0];else if(Array.isArray(Jn)){for(var Ha,Ps,Lc=Jn.concat(),Gl=[],bi=Lc.length;bi--;)typeof(Ha=Lc.shift())=="string"?Gl.push(Bn(Ha)[0]):Array.isArray(Ha)&&typeof Ha[0]=="string"&&(Ps=Bn(Ha[0],Ha[1],Ha[2]),Gl.push([Ps[0],Ps[1],Ps[2]]));Ra=Gl}return Ra}var wr=!1,zr=!0;if(typeof $=="string")wr=!0;else if(Array.isArray($)){var gn=$.concat();Mt=[];for(var Pn,Gr=gn.length;Gr--;)(typeof(Pn=gn.shift())!="string"||Array.isArray(Pn)&&typeof Pn[0]!="string")&&(zr=!1);wr=zr}if(wr===!1)throw new Error('Type of text must be string or Array. "'+$+'" is not recognized.');typeof $=="string"&&($=$.match(/[\r?\n]/)?$.split(/\r\n|\r|\n/g):[$]);var Ia=Ze/St.internal.scaleFactor,xo=Ia*(yt-1);switch(ze.baseline){case"bottom":Ie-=xo;break;case"top":Ie+=Ia-xo;break;case"hanging":Ie+=Ia-2*xo;break;case"middle":Ie+=Ia/2-xo}if((an=ze.maxWidth||0)>0&&(typeof $=="string"?$=St.splitTextToSize($,an):Object.prototype.toString.call($)==="[object Array]"&&($=$.reduce(function(Jn,Bn){return Jn.concat(St.splitTextToSize(Bn,an))},[]))),ht={text:$,x:le,y:Ie,options:ze,mutex:{pdfEscape:rn,activeFontKey:pt,fonts:tr,activeFontSize:Ze}},At.publish("preProcessText",ht),$=ht.text,mr=(ze=ht.options).angle,!(wa instanceof Qt)&&mr&&typeof mr=="number"){mr*=Math.PI/180,ze.rotationDirection===0&&(mr=-mr),k===C.ADVANCED&&(mr=-mr);var Eo=Math.cos(mr),Ta=Math.sin(mr);wa=new Qt(Eo,Ta,-Ta,Eo,0,0)}else mr&&mr instanceof Qt&&(wa=mr);k!==C.ADVANCED||wa||(wa=Sn),(Yr=ze.charSpace||Ja)!==void 0&&(We+=R(L(Yr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pa=ze.horizontalScale)!==void 0&&(We+=R(100*pa)+` Tz
`),ze.lang;var Yn=-1,ei=ze.renderingMode!==void 0?ze.renderingMode:ze.stroke,ji=St.internal.getCurrentPageInfo().pageContext;switch(ei){case 0:case!1:case"fill":Yn=0;break;case 1:case!0:case"stroke":Yn=1;break;case 2:case"fillThenStroke":Yn=2;break;case 3:case"invisible":Yn=3;break;case 4:case"fillAndAddForClipping":Yn=4;break;case 5:case"strokeAndAddPathForClipping":Yn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yn=6;break;case 7:case"addToPathForClipping":Yn=7}var Ks=ji.usedRenderingMode!==void 0?ji.usedRenderingMode:-1;Yn!==-1?We+=Yn+` Tr
`:Ks!==-1&&(We+=`0 Tr
`),Yn!==-1&&(ji.usedRenderingMode=Yn),_r=ze.align||"left";var Na,Hl=Ze*yt,Wl=St.internal.pageSize.getWidth(),ao=tr[pt];Yr=ze.charSpace||Ja,an=ze.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var xs=[],yl=function(Jn){return St.getStringUnitWidth(Jn,{font:ao,charSpace:Yr,fontSize:Ze,doKerning:!1})*Ze/It};if(Object.prototype.toString.call($)==="[object Array]"){var So;Mt=zt($),_r!=="left"&&(Na=Mt.map(yl));var oo,wl=0;if(_r==="right"){le-=Na[0],$=[],Gr=Mt.length;for(var Ys=0;Ys<Gr;Ys++)Ys===0?(oo=Fo(le),So=Va(Ie)):(oo=L(wl-Na[Ys]),So=-Hl),$.push([Mt[Ys],oo,So]),wl=Na[Ys]}else if(_r==="center"){le-=Na[0]/2,$=[],Gr=Mt.length;for(var Js=0;Js<Gr;Js++)Js===0?(oo=Fo(le),So=Va(Ie)):(oo=L((wl-Na[Js])/2),So=-Hl),$.push([Mt[Js],oo,So]),wl=Na[Js]}else if(_r==="left"){$=[],Gr=Mt.length;for(var Rc=0;Rc<Gr;Rc++)$.push(Mt[Rc])}else if(_r==="justify"&&ao.encoding==="Identity-H"){$=[],Gr=Mt.length,an=an!==0?an:Wl;for(var Xs=0,zn=0;zn<Gr;zn++)if(So=zn===0?Va(Ie):-Hl,oo=zn===0?Fo(le):Xs,zn<Gr-1){var Es=L((an-Na[zn])/(Mt[zn].split(" ").length-1)),io=Mt[zn].split(" ");$.push([io[0]+" ",oo,So]),Xs=0;for(var zo=1;zo<io.length;zo++){var Vl=(yl(io[zo-1]+" "+io[zo])-yl(io[zo]))*It+Es;zo==io.length-1?$.push([io[zo],Vl,0]):$.push([io[zo]+" ",Vl,0]),Xs-=Vl}}else $.push([Mt[zn],oo,So]);$.push(["",Xs,0])}else{if(_r!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for($=[],Gr=Mt.length,an=an!==0?an:Wl,zn=0;zn<Gr;zn++)So=zn===0?Va(Ie):-Hl,oo=zn===0?Fo(le):0,zn<Gr-1?xs.push(R(L((an-Na[zn])/(Mt[zn].split(" ").length-1)))):xs.push(0),$.push([Mt[zn],oo,So])}}var ou=typeof ze.R2L=="boolean"?ze.R2L:Dt;ou===!0&&($=er($,function(Jn,Bn,Ra){return[Jn.split("").reverse().join(""),Bn,Ra]})),ht={text:$,x:le,y:Ie,options:ze,mutex:{pdfEscape:rn,activeFontKey:pt,fonts:tr,activeFontSize:Ze}},At.publish("postProcessText",ht),$=ht.text,ut=ht.mutex.isHex||!1;var gi=tr[pt].encoding;gi!=="WinAnsiEncoding"&&gi!=="StandardEncoding"||($=er($,function(Jn,Bn,Ra){return[wt(Jn),Bn,Ra]})),Mt=zt($),$=[];for(var Bo,xl,vi,Ss=0,rs=1,Cs=Array.isArray(Mt[0])?rs:Ss,Ns="",El=function(Jn,Bn,Ra){var Ha="";return Ra instanceof Qt?(Ra=typeof ze.angle=="number"?ln(Ra,new Qt(1,0,0,1,Jn,Bn)):ln(new Qt(1,0,0,1,Jn,Bn),Ra),k===C.ADVANCED&&(Ra=ln(new Qt(1,0,0,-1,0,0),Ra)),Ha=Ra.join(" ")+` Tm
`):Ha=R(Jn)+" "+R(Bn)+` Td
`,Ha},so=0;so<Mt.length;so++){switch(Ns="",Cs){case rs:vi=(ut?"<":"(")+Mt[so][0]+(ut?">":")"),Bo=parseFloat(Mt[so][1]),xl=parseFloat(Mt[so][2]);break;case Ss:vi=(ut?"<":"(")+Mt[so]+(ut?">":")"),Bo=Fo(le),xl=Va(Ie)}xs!==void 0&&xs[so]!==void 0&&(Ns=xs[so]+` Tw
`),so===0?$.push(Ns+El(Bo,xl,wa)+vi):Cs===Ss?$.push(Ns+vi):Cs===rs&&$.push(Ns+El(Bo,xl,wa)+vi)}$=Cs===Ss?$.join(` Tj
T* `):$.join(` Tj
`),$+=` Tj
`;var ti=`BT
/`;return ti+=pt+" "+Ze+` Tf
`,ti+=R(Ze*yt)+` TL
`,ti+=Oa+`
`,ti+=We,ti+=$,ce(ti+="ET"),h[pt]=!0,St};var Qo=g.__private__.clip=g.clip=function($){return ce($==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Qo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ce("n"),this};var jo=g.__private__.isValidStyle=function($){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf($)!==-1&&(le=!0),le};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function($){return jo($)&&(u=$),this};var vs=g.__private__.getStyle=g.getStyle=function($){var le=u;switch($){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=$}return le},bo=g.close=function(){return ce("h"),this};g.stroke=function(){return ce("S"),this},g.fill=function($){return gl("f",$),this},g.fillEvenOdd=function($){return gl("f*",$),this},g.fillStroke=function($){return gl("B",$),this},g.fillStrokeEvenOdd=function($){return gl("B*",$),this};var gl=function($,le){ba(le)==="object"?bs(le,$):ce($)},qs=function($){$===null||k===C.ADVANCED&&$===void 0||($=vs($),ce($))};function Zi($,le,Ie,ze,tt){var ht=new gm(le||this.boundingBox,Ie||this.xStep,ze||this.yStep,this.gState,tt||this.matrix);ht.stream=this.stream;var Mt=$+"$$"+this.cloneIndex+++"$$";return dt(Mt,ht),ht}var bs=function($,le){var Ie=bt[$.key],ze=Nr[Ie];if(ze instanceof rf)ce("q"),ce(ql(le)),ze.gState&&g.setGState(ze.gState),ce($.matrix.toString()+" cm"),ce("/"+Ie+" sh"),ce("Q");else if(ze instanceof gm){var tt=new Qt(1,0,0,-1,0,Li());$.matrix&&(tt=tt.multiply($.matrix||Sn),Ie=Zi.call(ze,$.key,$.boundingBox,$.xStep,$.yStep,tt).id),ce("q"),ce("/Pattern cs"),ce("/"+Ie+" scn"),ze.gState&&g.setGState(ze.gState),ce(le),ce("Q")}},ql=function($){switch($){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Qi=g.moveTo=function($,le){return ce(R(L($))+" "+R(F(le))+" m"),this},yo=g.lineTo=function($,le){return ce(R(L($))+" "+R(F(le))+" l"),this},wo=g.curveTo=function($,le,Ie,ze,tt,ht){return ce([R(L($)),R(F(le)),R(L(Ie)),R(F(ze)),R(L(tt)),R(F(ht)),"c"].join(" ")),this};g.__private__.line=g.line=function($,le,Ie,ze,tt){if(isNaN($)||isNaN(le)||isNaN(Ie)||isNaN(ze)||!jo(tt))throw new Error("Invalid arguments passed to jsPDF.line");return k===C.COMPAT?this.lines([[Ie-$,ze-le]],$,le,[1,1],tt||"S"):this.lines([[Ie-$,ze-le]],$,le,[1,1]).stroke()},g.__private__.lines=g.lines=function($,le,Ie,ze,tt,ht){var Mt,mr,_r,Yr,an,xn,pa,wa,St,Oe,We,ut;if(typeof $=="number"&&(ut=Ie,Ie=le,le=$,$=ut),ze=ze||[1,1],ht=ht||!1,isNaN(le)||isNaN(Ie)||!Array.isArray($)||!Array.isArray(ze)||!jo(tt)||typeof ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qi(le,Ie),Mt=ze[0],mr=ze[1],Yr=$.length,Oe=le,We=Ie,_r=0;_r<Yr;_r++)(an=$[_r]).length===2?(Oe=an[0]*Mt+Oe,We=an[1]*mr+We,yo(Oe,We)):(xn=an[0]*Mt+Oe,pa=an[1]*mr+We,wa=an[2]*Mt+Oe,St=an[3]*mr+We,Oe=an[4]*Mt+Oe,We=an[5]*mr+We,wo(xn,pa,wa,St,Oe,We));return ht&&bo(),qs(tt),this},g.path=function($){for(var le=0;le<$.length;le++){var Ie=$[le],ze=Ie.c;switch(Ie.op){case"m":Qi(ze[0],ze[1]);break;case"l":yo(ze[0],ze[1]);break;case"c":wo.apply(this,ze);break;case"h":bo()}}return this},g.__private__.rect=g.rect=function($,le,Ie,ze,tt){if(isNaN($)||isNaN(le)||isNaN(Ie)||isNaN(ze)||!jo(tt))throw new Error("Invalid arguments passed to jsPDF.rect");return k===C.COMPAT&&(ze=-ze),ce([R(L($)),R(F(le)),R(L(Ie)),R(L(ze)),"re"].join(" ")),qs(tt),this},g.__private__.triangle=g.triangle=function($,le,Ie,ze,tt,ht,Mt){if(isNaN($)||isNaN(le)||isNaN(Ie)||isNaN(ze)||isNaN(tt)||isNaN(ht)||!jo(Mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ie-$,ze-le],[tt-Ie,ht-ze],[$-tt,le-ht]],$,le,[1,1],Mt,!0),this},g.__private__.roundedRect=g.roundedRect=function($,le,Ie,ze,tt,ht,Mt){if(isNaN($)||isNaN(le)||isNaN(Ie)||isNaN(ze)||isNaN(tt)||isNaN(ht)||!jo(Mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mr=4/3*(Math.SQRT2-1);return tt=Math.min(tt,.5*Ie),ht=Math.min(ht,.5*ze),this.lines([[Ie-2*tt,0],[tt*mr,0,tt,ht-ht*mr,tt,ht],[0,ze-2*ht],[0,ht*mr,-tt*mr,ht,-tt,ht],[2*tt-Ie,0],[-tt*mr,0,-tt,-ht*mr,-tt,-ht],[0,2*ht-ze],[0,-ht*mr,tt*mr,-ht,tt,-ht]],$+tt,le,[1,1],Mt,!0),this},g.__private__.ellipse=g.ellipse=function($,le,Ie,ze,tt){if(isNaN($)||isNaN(le)||isNaN(Ie)||isNaN(ze)||!jo(tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*Ie,Mt=4/3*(Math.SQRT2-1)*ze;return Qi($+Ie,le),wo($+Ie,le-Mt,$+ht,le-ze,$,le-ze),wo($-ht,le-ze,$-Ie,le-Mt,$-Ie,le),wo($-Ie,le+Mt,$-ht,le+ze,$,le+ze),wo($+ht,le+ze,$+Ie,le+Mt,$+Ie,le),qs(tt),this},g.__private__.circle=g.circle=function($,le,Ie,ze){if(isNaN($)||isNaN(le)||isNaN(Ie)||!jo(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse($,le,Ie,Ie,ze)},g.setFont=function($,le,Ie){return Ie&&(le=O(le,Ie)),pt=ya($,le,{disableWarning:!1}),this};var ys=g.__private__.getFont=g.getFont=function(){return tr[ya.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var $,le,Ie={};for($ in rr)if(rr.hasOwnProperty($))for(le in Ie[$]=[],rr[$])rr[$].hasOwnProperty(le)&&Ie[$].push(le);return Ie},g.addFont=function($,le,Ie,ze,tt){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ht.indexOf(arguments[3])!==-1?tt=arguments[3]:arguments[3]&&ht.indexOf(arguments[3])==-1&&(Ie=O(Ie,ze)),tt=tt||"Identity-H",In.call(this,$,le,Ie,tt)};var es,ts=t.lineWidth||.200025,Ii=g.__private__.getLineWidth=g.getLineWidth=function(){return ts},ws=g.__private__.setLineWidth=g.setLineWidth=function($){return ts=$,ce(R(L($))+" w"),this};g.__private__.setLineDash=sn.API.setLineDash=sn.API.setLineDashPattern=function($,le){if($=$||[],le=le||0,isNaN(le)||!Array.isArray($))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return $=$.map(function(Ie){return R(L(Ie))}).join(" "),le=R(L(le)),ce("["+$+"] "+le+" d"),this};var fi=g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*es};g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*es};var Do=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function($){return typeof($=$||1.15)=="number"&&(es=$),this},Mo=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return es};Do(t.lineHeight);var Fo=g.__private__.getHorizontalCoordinate=function($){return L($)},Va=g.__private__.getVerticalCoordinate=function($){return k===C.ADVANCED?$:gt[Y].mediaBox.topRightY-gt[Y].mediaBox.bottomLeftY-L($)},Ic=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function($){return R(Fo($))},$o=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function($){return R(Va($))},ro=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return at(ro)},g.__private__.setStrokeColor=g.setDrawColor=function($,le,Ie,ze){return ro=vt({ch1:$,ch2:le,ch3:Ie,ch4:ze,pdfColorType:"draw",precision:2}),ce(ro),this};var Us=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return at(Us)},g.__private__.setFillColor=g.setFillColor=function($,le,Ie,ze){return Us=vt({ch1:$,ch2:le,ch3:Ie,ch4:ze,pdfColorType:"fill",precision:2}),ce(Us),this};var Oa=t.textColor||"0 g",no=g.__private__.getTextColor=g.getTextColor=function(){return at(Oa)};g.__private__.setTextColor=g.setTextColor=function($,le,Ie,ze){return Oa=vt({ch1:$,ch2:le,ch3:Ie,ch4:ze,pdfColorType:"text",precision:3}),this};var Ja=t.charSpace,Ti=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ja||0)};g.__private__.setCharSpace=g.setCharSpace=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ja=$,this};var Ul=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function($){var le=g.CapJoinStyles[$];if(le===void 0)throw new Error("Line cap style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=le,ce(le+" J"),this};var Hs=0;g.__private__.setLineJoin=g.setLineJoin=function($){var le=g.CapJoinStyles[$];if(le===void 0)throw new Error("Line join style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hs=le,ce(le+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function($){if($=$||0,isNaN($))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(R(L($))+" M"),this},g.GState=qv,g.setGState=function($){($=typeof $=="string"?ke[Re[$]]:Ws(null,$)).equals(Qe)||(ce("/"+$.id+" gs"),Qe=$)};var Ws=function($,le){if(!$||!Re[$]){var Ie=!1;for(var ze in ke)if(ke.hasOwnProperty(ze)&&ke[ze].equals(le)){Ie=!0;break}if(Ie)le=ke[ze];else{var tt="GS"+(Object.keys(ke).length+1).toString(10);ke[tt]=le,le.id=tt}return $&&(Re[$]=le.id),At.publish("addGState",le),le}};g.addGState=function($,le){return Ws($,le),this},g.saveGraphicsState=function(){return ce("q"),Wr.push({key:pt,size:Ze,color:Oa}),this},g.restoreGraphicsState=function(){ce("Q");var $=Wr.pop();return pt=$.key,Ze=$.size,Oa=$.color,Qe=null,this},g.setCurrentTransformationMatrix=function($){return ce($.toString()+" cm"),this},g.comment=function($){return ce("#"+$),this};var mi=function($,le){var Ie=$||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ie},set:function(ht){isNaN(ht)||(Ie=parseFloat(ht))}});var ze=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(ht){isNaN(ht)||(ze=parseFloat(ht))}});var tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return tt},set:function(ht){tt=ht.toString()}}),this},pi=function($,le,Ie,ze){mi.call(this,$,le),this.type="rect";var tt=Ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return tt},set:function(Mt){isNaN(Mt)||(tt=parseFloat(Mt))}});var ht=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(Mt){isNaN(Mt)||(ht=parseFloat(Mt))}}),this},vl=function(){this.page=jt,this.currentPage=Y,this.pages=Fe.slice(0),this.pagesContext=gt.slice(0),this.x=rt,this.y=Lt,this.matrix=hr,this.width=Ri(Y),this.height=Li(Y),this.outputDestination=xe,this.id="",this.objectNumber=-1};vl.prototype.restore=function(){jt=this.page,Y=this.currentPage,gt=this.pagesContext,Fe=this.pages,rt=this.x,Lt=this.y,hr=this.matrix,hi(Y,this.width),Gs(Y,this.height),xe=this.outputDestination};var Tc=function($,le,Ie,ze,tt){Zr.push(new vl),jt=Y=0,Fe=[],rt=$,Lt=le,hr=tt,wn([Ie,ze])},bl=function($){if(Xr[$])Zr.pop().restore();else{var le=new vl,Ie="Xo"+(Object.keys(xr).length+1).toString(10);le.id=Ie,Xr[$]=Ie,xr[Ie]=le,At.publish("addFormObject",le),Zr.pop().restore()}};for(var Vs in g.beginFormObject=function($,le,Ie,ze,tt){return Tc($,le,Ie,ze,tt),this},g.endFormObject=function($){return bl($),this},g.doFormObject=function($,le){var Ie=xr[Xr[$]];return ce("q"),ce(le.toString()+" cm"),ce("/"+Ie.id+" Do"),ce("Q"),this},g.getFormObject=function($){var le=xr[Xr[$]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},g.save=function($,le){return $=$||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(Xd(vr(Pt()),$),typeof Xd.unload=="function"&&un.setTimeout&&setTimeout(Xd.unload,911),this):new Promise(function(Ie,ze){try{var tt=Xd(vr(Pt()),$);typeof Xd.unload=="function"&&un.setTimeout&&setTimeout(Xd.unload,911),Ie(tt)}catch(ht){ze(ht.message)}})},sn.API)sn.API.hasOwnProperty(Vs)&&(Vs==="events"&&sn.API.events.length?function($,le){var Ie,ze,tt;for(tt=le.length-1;tt!==-1;tt--)Ie=le[tt][0],ze=le[tt][1],$.subscribe.apply($,[Ie].concat(typeof ze=="function"?[ze]:ze))}(At,sn.API.events):g[Vs]=sn.API[Vs]);var Ri=g.getPageWidth=function($){return(gt[$=$||Y].mediaBox.topRightX-gt[$].mediaBox.bottomLeftX)/nt},hi=g.setPageWidth=function($,le){gt[$].mediaBox.topRightX=le*nt+gt[$].mediaBox.bottomLeftX},Li=g.getPageHeight=function($){return(gt[$=$||Y].mediaBox.topRightY-gt[$].mediaBox.bottomLeftY)/nt},Gs=g.setPageHeight=function($,le){gt[$].mediaBox.topRightY=le*nt+gt[$].mediaBox.bottomLeftY};return g.internal={pdfEscape:rn,getStyle:vs,getFont:ys,getFontSize:et,getCharSpace:Ti,getTextColor:no,getLineHeight:fi,getLineHeightFactor:Mo,getLineWidth:Ii,write:Je,getHorizontalCoordinate:Fo,getVerticalCoordinate:Va,getCoordinateString:Ic,getVerticalCoordinateString:$o,collections:{},newObject:Et,newAdditionalObject:br,newObjectDeferred:Tt,newObjectDeferredBegin:Gt,getFilters:Kt,putStream:cr,events:At,scaleFactor:nt,pageSize:{getWidth:function(){return Ri(Y)},setWidth:function($){hi(Y,$)},getHeight:function(){return Li(Y)},setHeight:function($){Gs(Y,$)}},encryptionOptions:f,encryption:_n,getEncryptor:vo,output:Cn,getNumberOfPages:aa,pages:Fe,out:ce,f2:z,f3:I,getPageInfo:za,getPageInfoByObjId:Hr,getCurrentPageInfo:Zo,getPDFVersion:v,Point:mi,Rectangle:pi,Matrix:Qt,hasHotfix:hn},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ri(Y)},set:function($){hi(Y,$)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Li(Y)},set:function($){Gs(Y,$)},enumerable:!0,configurable:!0}),Pr.call(g,Le),pt="F1",na(a,r),At.publish("initialized"),g}um.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},um.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},um.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},um.prototype.processOwnerPassword=function(t,e){return r5(t5(e).substr(0,5),t)},um.prototype.encryptor=function(t,e){var r=t5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return r5(r,n)}},qv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ba(t)!==ba(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},sn.API={events:[]},sn.version="3.0.1";var eo=sn.API,KS=1,kf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(t){return t.toFixed(2)},od=function(t){return t.toFixed(5)};eo.__acroform__={};var zs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},VP=function(t){return t*KS},Gc=function(t){var e=new QT,r=jr.internal.getHeight(t)||0,n=jr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(En(n)),Number(En(r))],e},xq=eo.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Eq=eo.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Sq=eo.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},po=eo.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Sq(t,e-1)},ho=eo.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return xq(t,e-1)},go=eo.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Eq(t,e-1)},Cq=eo.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(En(c.lowerLeft_X)),Number(En(c.lowerLeft_Y)),Number(En(c.upperRight_X)),Number(En(c.upperRight_Y))]},Nq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=n5(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+En(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Gc(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},n5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,s=jr.internal.getHeight(t)||0;s=s<0?-s:s;var l=jr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(I,L,M){if(I+1<a.length){var F=L+" "+a[I+1][0];return sv(F,t,M).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,f,p=sv("3",t,i).height,h=t.multiline?s-i:(s-p)/2,g=h+=2,x=0,v=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+sv(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var E="",C=0,k=0;k<a.length;k++)if(a.hasOwnProperty(k)){var _=!1;if(a[k].length!==1&&y!==a[k].length-1){if((p+2)*(C+2)+2>s)continue e;E+=a[k][y],_=!0,v=k,k--}else{E=(E+=a[k][y]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var N=parseInt(k),O=c(N,E,i),R=k>=a.length-1;if(O&&!R){E+=" ",y=0;continue}if(O||R){if(R)v=N;else if(t.multiline&&(p+2)*(C+2)+2>s)continue e}else{if(!t.multiline||(p+2)*(C+2)+2>s)continue e;v=N}}for(var D="",B=x;B<=v;B++){var z=a[B];if(t.multiline){if(B===v){D+=z[y]+" ",y=(y+1)%z.length;continue}if(B===x){D+=z[z.length-1]+" ";continue}}D+=z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,f=sv(D,t,i).width,t.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;case"left":default:u=2}e+=En(u)+" "+En(g)+` Td
`,e+="("+kf(D)+`) Tj
`,e+=-En(u)+` 0 Td
`,g=-(i+2),f=0,x=_?v:v+1,C++,E=""}break}return n.text=e,n.fontSize=i,n},sv=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Pq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kq=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Aq=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),ba(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},_q=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ac.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Pq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");KS=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new e7,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&kq(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Cq(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=jr.createDefaultAppearanceStream(l),ba(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Nq(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var g=l.appearanceStreamContent[h];if(p+="/"+h+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var x=g[s];typeof x=="function"&&(x=x.call(a,l)),p+="/"+s+" "+x+" ",a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x)}}else typeof(x=g)=="function"&&(x=x.call(a,l)),p+="/"+s+" "+x,a.internal.acroformPlugin.xForms.indexOf(x)>=0||a.internal.acroformPlugin.xForms.push(x);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&Aq(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},ZT=eo.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),ba(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+kf(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ky=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+kf(n(t))+")"},Jc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jc.prototype.toString=function(){return this.objId+" 0 R"},Jc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Jc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:ZT(a,this.objId,this.scope)}):a instanceof Jc?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var QT=function(){Jc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};zs(QT,Jc);var e7=function(){Jc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+kf(r(t))+")"}},set:function(r){t=r}})};zs(e7,Jc);var Ac=function t(){Jc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!po(e,3)},set:function(E){E?this.F=ho(e,3):this.F=go(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Uv)return;i="FieldObject"+t.FieldNum++}var E=function(C){return C};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+kf(E(i))+")"},set:function(E){i=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(E){i=E}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(E){s=E}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/KS:u},set:function(E){u=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Uv||this instanceof ff))return Ky(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof li?h:Ky(h,this.objId,this.scope)},set:function(E){E=E.toString(),h=this instanceof li?E:E.substr(0,1)==="("?rm(E.substr(1,E.length-2)):rm(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof li?rm(h.substr(1,h.length-1)):h},set:function(E){E=E.toString(),h=this instanceof li?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof li?g:Ky(g,this.objId,this.scope)},set:function(E){E=E.toString(),g=this instanceof li?E:E.substr(0,1)==="("?rm(E.substr(1,E.length-2)):rm(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof li?rm(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof li?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(E){E=!!E,v=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(E){x=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,1)},set:function(E){E?this.Ff=ho(this.Ff,1):this.Ff=go(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,2)},set:function(E){E?this.Ff=ho(this.Ff,2):this.Ff=go(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,3)},set:function(E){E?this.Ff=ho(this.Ff,3):this.Ff=go(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');y=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(y){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};zs(Ac,Jc);var Em=function(){Ac.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ZT(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,18)},set:function(r){r?this.Ff=ho(this.Ff,18):this.Ff=go(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ho(this.Ff,19):this.Ff=go(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,20)},set:function(r){r?(this.Ff=ho(this.Ff,20),e.sort()):this.Ff=go(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,22)},set:function(r){r?this.Ff=ho(this.Ff,22):this.Ff=go(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,23)},set:function(r){r?this.Ff=ho(this.Ff,23):this.Ff=go(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,27)},set:function(r){r?this.Ff=ho(this.Ff,27):this.Ff=go(this.Ff,27)}}),this.hasAppearanceStream=!1};zs(Em,Ac);var Sm=function(){Em.call(this),this.fontName="helvetica",this.combo=!1};zs(Sm,Em);var Cm=function(){Sm.call(this),this.combo=!0};zs(Cm,Sm);var _v=function(){Cm.call(this),this.edit=!0};zs(_v,Cm);var li=function(){Ac.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,15)},set:function(r){r?this.Ff=ho(this.Ff,15):this.Ff=go(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,16)},set:function(r){r?this.Ff=ho(this.Ff,16):this.Ff=go(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,17)},set:function(r){r?this.Ff=ho(this.Ff,17):this.Ff=go(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,26)},set:function(r){r?this.Ff=ho(this.Ff,26):this.Ff=go(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+kf(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){ba(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};zs(li,Ac);var Ov=function(){li.call(this),this.pushButton=!0};zs(Ov,li);var Nm=function(){li.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};zs(Nm,li);var Uv=function(){var t,e;Ac.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+kf(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){ba(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};zs(Uv,Ac),Nm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Nm.prototype.createOption=function(t){var e=new Uv;return e.Parent=this,e.optionName=t,this.Kids.push(e),Oq.call(this.scope,e),e};var Iv=function(){li.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jr.CheckBox.createAppearanceStream()};zs(Iv,li);var ff=function(){Ac.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,13)},set:function(e){e?this.Ff=ho(this.Ff,13):this.Ff=go(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,21)},set:function(e){e?this.Ff=ho(this.Ff,21):this.Ff=go(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,23)},set:function(e){e?this.Ff=ho(this.Ff,23):this.Ff=go(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,24)},set:function(e){e?this.Ff=ho(this.Ff,24):this.Ff=go(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,25)},set:function(e){e?this.Ff=ho(this.Ff,25):this.Ff=go(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,26)},set:function(e){e?this.Ff=ho(this.Ff,26):this.Ff=go(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};zs(ff,Ac);var Tv=function(){ff.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!po(this.Ff,14)},set:function(t){t?this.Ff=ho(this.Ff,14):this.Ff=go(this.Ff,14)}}),this.password=!0};zs(Tv,ff);var jr={CheckBox:{createAppearanceStream:function(){return{N:{On:jr.CheckBox.YesNormal},D:{On:jr.CheckBox.YesPushDown,Off:jr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Gc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=n5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+En(jr.internal.getWidth(t))+" "+En(jr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+En(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Gc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=jr.internal.getHeight(t),s=jr.internal.getWidth(t),l=n5(t,t.caption);return a.push("1 g"),a.push("0 0 "+En(s)+" "+En(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+En(s-1)+" "+En(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+En(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Gc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(jr.internal.getWidth(t))+" "+En(jr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:jr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=jr.RadioButton.Circle.YesNormal,e.D[t]=jr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Gc(t);e.scope=t.scope;var r=[],n=jr.internal.getWidth(t)<=jr.internal.getHeight(t)?jr.internal.getWidth(t)/4:jr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=jr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+od(jr.internal.getWidth(t)/2)+" "+od(jr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Gc(t);e.scope=t.scope;var r=[],n=jr.internal.getWidth(t)<=jr.internal.getHeight(t)?jr.internal.getWidth(t)/4:jr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*jr.internal.Bezier_C).toFixed(5)),s=Number((n*jr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+od(jr.internal.getWidth(t)/2)+" "+od(jr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+od(jr.internal.getWidth(t)/2)+" "+od(jr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Gc(t);e.scope=t.scope;var r=[],n=jr.internal.getWidth(t)<=jr.internal.getHeight(t)?jr.internal.getWidth(t)/4:jr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*jr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+od(jr.internal.getWidth(t)/2)+" "+od(jr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:jr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=jr.RadioButton.Cross.YesNormal,e.D[t]=jr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Gc(t);e.scope=t.scope;var r=[],n=jr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+En(jr.internal.getWidth(t)-2)+" "+En(jr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Gc(t);e.scope=t.scope;var r=jr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+En(jr.internal.getWidth(t))+" "+En(jr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+En(jr.internal.getWidth(t)-2)+" "+En(jr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Gc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+En(jr.internal.getWidth(t))+" "+En(jr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};jr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=jr.internal.getWidth(t),r=jr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},jr.internal.getWidth=function(t){var e=0;return ba(t)==="object"&&(e=VP(t.Rect[2])),e},jr.internal.getHeight=function(t){var e=0;return ba(t)==="object"&&(e=VP(t.Rect[3])),e};var Oq=eo.addField=function(t){if(_q(this,t),!(t instanceof Ac))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};eo.AcroFormChoiceField=Em,eo.AcroFormListBox=Sm,eo.AcroFormComboBox=Cm,eo.AcroFormEditBox=_v,eo.AcroFormButton=li,eo.AcroFormPushButton=Ov,eo.AcroFormRadioButton=Nm,eo.AcroFormCheckBox=Iv,eo.AcroFormTextField=ff,eo.AcroFormPasswordField=Tv,eo.AcroFormAppearance=jr,eo.AcroForm={ChoiceField:Em,ListBox:Sm,ComboBox:Cm,EditBox:_v,Button:li,PushButton:Ov,RadioButton:Nm,CheckBox:Iv,TextField:ff,PasswordField:Tv,Appearance:jr},sn.AcroForm={ChoiceField:Em,ListBox:Sm,ComboBox:Cm,EditBox:_v,Button:li,PushButton:Ov,RadioButton:Nm,CheckBox:Iv,TextField:ff,PasswordField:Tv,Appearance:jr};sn.AcroForm;function t7(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(I,L){var M,F,H,J,ee,re=e;if((L=L||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(O(I))for(ee in r)for(H=r[ee],M=0;M<H.length;M+=1){for(J=!0,F=0;F<H[M].length;F+=1)if(H[M][F]!==void 0&&H[M][F]!==I[F]){J=!1;break}if(J===!0){re=ee;break}}else for(ee in r)for(H=r[ee],M=0;M<H.length;M+=1){for(J=!0,F=0;F<H[M].length;F+=1)if(H[M][F]!==void 0&&H[M][F]!==I.charCodeAt(F)){J=!1;break}if(J===!0){re=ee;break}}return re===e&&L!==e&&(re=L),re},a=function I(L){for(var M=this.internal.write,F=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:L.width}),J.push({key:"Height",value:L.height}),L.colorSpace===y.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===y.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)){for(var ee="",re=0,te=L.transparency.length;re<te;re++)ee+=L.transparency[re]+" "+L.transparency[re]+" ";J.push({key:"Mask",value:"["+ee+"]"})}L.sMask!==void 0&&J.push({key:"SMask",value:L.objectId+1+" 0 R"});var K=L.filter!==void 0?["/"+L.filter]:void 0;if(F({data:L.data,additionalKeyValues:J,alreadyAppliedFilters:K,objectId:L.objectId}),M("endobj"),"sMask"in L&&L.sMask!==void 0){var U="/Predictor "+L.predictor+" /Colors 1 /BitsPerComponent "+L.bitsPerComponent+" /Columns "+L.width,j={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:L.bitsPerComponent,decodeParameters:U,data:L.sMask};"filter"in L&&(j.filter=L.filter),I.call(this,j)}if(L.colorSpace===y.INDEXED){var Y=this.internal.newObject();F({data:D(new Uint8Array(L.palette)),objectId:Y}),M("endobj")}},i=function(){var I=this.internal.collections.addImage_images;for(var L in I)a.call(this,I[L])},s=function(){var I,L=this.internal.collections.addImage_images,M=this.internal.write;for(var F in L)M("/I"+(I=L[F]).index,I.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var I=this.internal.collections.addImage_images;return l.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(I){return typeof t["process"+I.toUpperCase()]=="function"},p=function(I){return ba(I)==="object"&&I.nodeType===1},h=function(I,L){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var M=""+I.getAttribute("src");if(M.indexOf("data:image/")===0)return Qp(unescape(M).split("base64,").pop());var F=t.loadFile(M,!0);if(F!==void 0)return F}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var H;switch(L){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;case"JPEG":case"JPG":default:H="image/jpeg"}return Qp(I.toDataURL(H,1).split("base64,").pop())}},g=function(I){var L=this.internal.collections.addImage_images;if(L){for(var M in L)if(I===L[M].alias)return L[M]}},x=function(I,L,M){return I||L||(I=-96,L=-96),I<0&&(I=-1*M.width*72/I/this.internal.scaleFactor),L<0&&(L=-1*M.height*72/L/this.internal.scaleFactor),I===0&&(I=L*M.width/M.height),L===0&&(L=I*M.height/M.width),[I,L]},v=function(I,L,M,F,H,J){var ee=x.call(this,M,F,H),re=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,K=c.call(this);if(M=ee[0],F=ee[1],K[H.index]=H,J){J*=Math.PI/180;var U=Math.cos(J),j=Math.sin(J),Y=function(X){return X.toFixed(4)},G=[Y(U),Y(j),Y(-1*j),Y(U),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,re(I),te(L+F),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([re(M),"0","0",re(F),"0","0","cm"].join(" "))):this.internal.write([re(M),"0","0",re(F),re(I),te(L+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(I){var L,M,F=0;if(typeof I=="string")for(M=I.length,L=0;L<M;L++)F=(F<<5)-F+I.charCodeAt(L),F|=0;else if(O(I))for(M=I.byteLength/2,L=0;L<M;L++)F=(F<<5)-F+I[L],F|=0;return F},k=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var L=!0;return I.length===0&&(L=!1),I.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(L=!1),L},_=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var L=I.indexOf(",");return L<0?null:I.substring(0,L).trim().endsWith("base64")?I.substring(L+1):null},N=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return N()&&I instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(I){return N()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(I){for(var L=I.length,M=new Uint8Array(L),F=0;F<L;F++)M[F]=I.charCodeAt(F);return M},D=t.__addimage__.arrayBufferToBinaryString=function(I){for(var L="",M=O(I)?I:new Uint8Array(I),F=0;F<M.length;F+=8192)L+=String.fromCharCode.apply(null,M.subarray(F,F+8192));return L};t.addImage=function(){var I,L,M,F,H,J,ee,re,te;if(typeof arguments[1]=="number"?(L=e,M=arguments[1],F=arguments[2],H=arguments[3],J=arguments[4],ee=arguments[5],re=arguments[6],te=arguments[7]):(L=arguments[1],M=arguments[2],F=arguments[3],H=arguments[4],J=arguments[5],ee=arguments[6],re=arguments[7],te=arguments[8]),ba(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var K=I;I=K.imageData,L=K.format||L||e,M=K.x||M||0,F=K.y||F||0,H=K.w||K.width||H,J=K.h||K.height||J,ee=K.alias||ee,re=K.compression||re,te=K.rotation||K.angle||te}var U=this.internal.getFilters();if(re===void 0&&U.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(M)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=B.call(this,I,L,ee,re);return v.call(this,M,F,H,J,j,te),this};var B=function(I,L,M,F){var H,J,ee;if(typeof I=="string"&&n(I)===e){I=unescape(I);var re=z(I,!1);(re!==""||(re=t.loadFile(I,!0))!==void 0)&&(I=re)}if(p(I)&&(I=h(I,L)),L=n(I,L),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((ee=M)==null||ee.length===0)&&(M=function(te){return typeof te=="string"||O(te)?C(te):O(te.data)?C(te.data):null}(I)),(H=g.call(this,M))||(N()&&(I instanceof Uint8Array||L==="RGBA"||(J=I,I=R(I))),H=this["process"+L.toUpperCase()](I,u.call(this),M,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:E.NONE}(F),J)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},z=t.__addimage__.convertBase64ToBinaryString=function(I,L){L=typeof L!="boolean"||L;var M,F="";if(typeof I=="string"){var H;M=(H=_(I))!==null&&H!==void 0?H:I;try{F=Qp(M)}catch(J){if(L)throw k(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(I){var L,M,F="";if(p(I)&&(I=h(I)),typeof I=="string"&&n(I)===e&&((F=z(I,!1))===""&&(F=t.loadFile(I)||""),I=F),M=n(I),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!N()||I instanceof Uint8Array||(I=R(I)),!(L=this["process"+M.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=M,L}})(sn.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};sn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,p=0;p<u.length&&!f;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var g=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(v.objId),C=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(E(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(E(C))+") >>",v.content=i;var k=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(x(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var O=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;s=Math.ceil(u*f)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(sn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=t.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&i(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&a.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&i(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&i(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&i(v)&&e[v.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&i(v)&&e[v.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(v){var y=0,E=r,C="",k=0;for(y=0;y<v.length;y+=1)E[v.charCodeAt(y)]!==void 0?(k++,typeof(E=E[v.charCodeAt(y)])=="number"&&(C+=String.fromCharCode(E),E=r,k=0),y===v.length-1&&(E=r,C+=v.charAt(y-(k-1)),y-=k-1,k=0)):(E=r,C+=v.charAt(y-k),y-=k,k=0);return C};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(v,y,E){return s(v)?i(v)===!1?-1:!u(v)||!s(y)&&!s(E)||!s(E)&&l(y)||l(v)&&!s(y)||l(v)&&c(y)||l(v)&&l(y)?0:f(v)&&s(y)&&!l(y)&&s(E)&&u(E)?3:l(v)||!s(E)?1:2:-1},g=function(v){var y=0,E=0,C=0,k="",_="",N="",O=(v=v||"").split("\\s+"),R=[];for(y=0;y<O.length;y+=1){for(R.push(""),E=0;E<O[y].length;E+=1)k=O[y][E],_=O[y][E-1],N=O[y][E+1],s(k)?(C=h(k,_,N),R[y]+=C!==-1?String.fromCharCode(e[k.charCodeAt(0)][C]):k):R[y]+=k;R[y]=p(R[y])}return R.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(y)){var C=0;for(E=[],C=0;C<y.length;C+=1)Array.isArray(y[C])?E.push([g(y[C][0]),y[C][1],y[C][2]]):E.push([g(y[C])]);v=E}else v=g(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",x])}(sn.API),sn.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(sn.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,g=0,x=0,v=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=u.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,_){return k.concat(y.splitTextToSize(_,E))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)g<(v=this.getStringUnitWidth(c[C],{font:p})*f)&&(g=v);return g!==0&&(x=c.length),{w:g/=h,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,g&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,f,p,h){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,x,v,y,E=[],C=[],k=[],_={},N={},O=[],R=[],D=(h=h||{}).autoSize||!1,B=h.printHeaders!==!1,z=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,I=h.margins||Object.assign({width:this.getPageWidth()},e),L=typeof h.padding=="number"?h.padding:3,M=h.headerBackgroundColor||"#c8c8c8",F=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=F,this.setFontSize(z),p==null)C=E=Object.keys(f[0]),k=E.map(function(){return"left"});else if(Array.isArray(p)&&ba(p[0])==="object")for(E=p.map(function(K){return K.name}),C=p.map(function(K){return K.prompt||K.name||""}),k=p.map(function(K){return K.align||"left"}),g=0;g<p.length;g+=1)N[p[g].name]=p[g].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(C=E=p,k=E.map(function(){return"left"}));if(D||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<E.length;g+=1){for(_[y=E[g]]=f.map(function(K){return K[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(C[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=_[y],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)O.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,O)+L+L,O=[]}if(B){var H={};for(g=0;g<E.length;g+=1)H[E[g]]={},H[E[g]].text=C[g],H[E[g]].align=k[g];var J=l.call(this,H,N);R=E.map(function(K){return new i(c,u,N[K],J,H[K].text,void 0,H[K].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ee=p.reduce(function(K,U){return K[U.name]=U.align,K},{});for(g=0;g<f.length;g+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:g,data:f[g]},this);var re=l.call(this,f[g],N);for(v=0;v<E.length;v+=1){var te=f[g][E[v]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:g,col:v,data:te},this),s.call(this,new i(c,u,N[E[v]],re,te,g+2,ee[E[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(g){var x=c[g];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/h+f+f},this).reduce(function(g,x){return Math.max(g,x)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,h.push(f)),f.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(x)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(sn.API);var r7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},n7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a5=t7(n7),a7=[100,200,300,400,500,600,700,800,900],Iq=t7(a7);function o5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return r7[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof a5[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function GP(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Tq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},KP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YP(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Rq(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Tq,r.genericFontFamilies||{}),i=null,s=null,l=0;l<e.length;++l)if(a[(i=o5(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+YP(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var f=a5[c],p=f<=a5.normal?-1:1,h=GP(u,n7,f,p);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var f=r7[c],p=0;p<f.length;++p)if(u[f[p]])return u[f[p]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=Iq[c],p=GP(u,a7,f,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+YP(i)+"'.");return s}function JP(t){return t.trimLeft()}function Lq(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function jq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var lv,XP,ZP,Yy=["times"];(function(t){var e,r,n,a,i,s,l,c,u,f=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new s,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new s,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var p=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=j;Object.defineProperty(this,"pdf",{get:function(){return Y}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(_e){G=!!_e}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(_e){X=!!_e}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(_e){isNaN(_e)||(ie=_e)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(_e){isNaN(_e)||(ye=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var ce;typeof _e=="number"?ce=[_e,_e,_e,_e]:((ce=new Array(4))[0]=_e[0],ce[1]=_e.length>=2?_e[1]:ce[0],ce[2]=_e.length>=3?_e[2]:ce[0],ce[3]=_e.length>=4?_e[3]:ce[1]),u.margin=ce}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(_e){me=_e}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(_e){he=_e}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(_e){je=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof f&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(_e){Fe=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var ce;ce=h(_e),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var ce=h(_e);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var ue=null;function xe(_e,ce){if(ue===null){var Je=function(Te){var Le=[];return Object.keys(Te).forEach(function(Ze){Te[Ze].forEach(function(Be){var et=null;switch(Be){case"bold":et={family:Ze,weight:"bold"};break;case"italic":et={family:Ze,style:"italic"};break;case"bolditalic":et={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":et={family:Ze}}et!==null&&(et.ref={name:Ze,style:Be},Le.push(et))})}),Le}(_e.getFontList());ue=function(Te){for(var Le={},Ze=0;Ze<Te.length;++Ze){var Be=o5(Te[Ze]),et=Be.family,Dt=Be.stretch,Ut=Be.style,Vt=Be.weight;Le[et]=Le[et]||{},Le[et][Dt]=Le[et][Dt]||{},Le[et][Dt][Ut]=Le[et][Dt][Ut]||{},Le[et][Dt][Ut][Vt]=Be}return Le}(Je.concat(ce))}return ue}var Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(_e){ue=null,Pe=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var ce;if(this.ctx.font=_e,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var Je=ce[1];ce[2];var Te=ce[3],Le=ce[4];ce[5];var Ze=ce[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(Be==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var et=function(ct){var pt,nt,rt=[],Lt=ct.trim();if(Lt==="")return Yy;if(Lt in KP)return[KP[Lt]];for(;Lt!=="";){switch(nt=null,pt=(Lt=JP(Lt)).charAt(0)){case'"':case"'":nt=Lq(Lt.substring(1),pt);break;default:nt=jq(Lt)}if(nt===null||(rt.push(nt[0]),(Lt=JP(nt[1]))!==""&&Lt.charAt(0)!==","))return Yy;Lt=Lt.replace(/^,/,"")}return rt}(Ze);if(this.fontFaces){var Dt=Rq(xe(this.pdf,this.fontFaces),et.map(function(ct){return{family:ct,stretch:"normal",weight:Te,style:Je}}));this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var Ut="";(Te==="bold"||parseInt(Te,10)>=700||Je==="bold")&&(Ut="bold"),Je==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var Vt="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dr=0;dr<et.length;dr++){if(this.pdf.internal.getFont(et[dr],Ut,{noFallback:!0,disableWarning:!0})!==void 0){Vt=et[dr];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(et[dr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=et[dr],Ut="bold";else if(this.pdf.internal.getFont(et[dr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=et[dr],Ut="normal";break}}if(Vt===""){for(var lr=0;lr<et.length;lr++)if(Jt[et[lr]]){Vt=Jt[et[lr]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,U.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,U.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};p.prototype.setLineDash=function(j){this.lineDash=j},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){_.call(this,"fill",!1)},p.prototype.stroke=function(){_.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(j,Y){if(isNaN(j)||isNaN(Y))throw Aa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s(j,Y));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(j,Y)},p.prototype.closePath=function(){var j=new s(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&ba(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){j=new s(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(j.x,j.y)},p.prototype.lineTo=function(j,Y){if(isNaN(j)||isNaN(Y))throw Aa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s(j,Y));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},p.prototype.quadraticCurveTo=function(j,Y,G,X){if(isNaN(G)||isNaN(X)||isNaN(j)||isNaN(Y))throw Aa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new s(G,X)),ye=this.ctx.transform.applyToPoint(new s(j,Y));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new s(ie.x,ie.y)},p.prototype.bezierCurveTo=function(j,Y,G,X,ie,ye){if(isNaN(ie)||isNaN(ye)||isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X))throw Aa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new s(ie,ye)),he=this.ctx.transform.applyToPoint(new s(j,Y)),je=this.ctx.transform.applyToPoint(new s(G,X));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:je.x,y2:je.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},p.prototype.arc=function(j,Y,G,X,ie,ye){if(isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X)||isNaN(ie))throw Aa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new s(j,Y));j=me.x,Y=me.y;var he=this.ctx.transform.applyToPoint(new s(0,G)),je=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(he.x-je.x,2)+Math.pow(he.y-je.y,2))}Math.abs(ie-X)>=2*Math.PI&&(X=0,ie=2*Math.PI),this.path.push({type:"arc",x:j,y:Y,radius:G,startAngle:X,endAngle:ie,counterclockwise:ye})},p.prototype.arcTo=function(j,Y,G,X,ie){throw new Error("arcTo not implemented.")},p.prototype.rect=function(j,Y,G,X){if(isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X))throw Aa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,Y),this.lineTo(j+G,Y),this.lineTo(j+G,Y+X),this.lineTo(j,Y+X),this.lineTo(j,Y),this.lineTo(j+G,Y),this.lineTo(j,Y)},p.prototype.fillRect=function(j,Y,G,X){if(isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X))throw Aa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,Y,G,X),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},p.prototype.strokeRect=function(j,Y,G,X){if(isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X))throw Aa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(j,Y,G,X),this.stroke())},p.prototype.clearRect=function(j,Y,G,X){if(isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X))throw Aa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,Y,G,X))},p.prototype.save=function(j){j=typeof j!="boolean"||j;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},p.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(j){var Y,G,X,ie;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))Y=0,G=0,X=0,ie=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(ye!==null)Y=parseInt(ye[1]),G=parseInt(ye[2]),X=parseInt(ye[3]),ie=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)Y=parseInt(ye[1]),G=parseInt(ye[2]),X=parseInt(ye[3]),ie=parseFloat(ye[4]);else{if(ie=1,typeof j=="string"&&j.charAt(0)!=="#"){var me=new YT(j);j=me.ok?me.toHex():"#000000"}j.length===4?(Y=j.substring(1,2),Y+=Y,G=j.substring(2,3),G+=G,X=j.substring(3,4),X+=X):(Y=j.substring(1,3),G=j.substring(3,5),X=j.substring(5,7)),Y=parseInt(Y,16),G=parseInt(G,16),X=parseInt(X,16)}}return{r:Y,g:G,b:X,a:ie,style:j}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(j,Y,G,X){if(isNaN(Y)||isNaN(G)||typeof j!="string")throw Aa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!g.call(this)){var ie=re(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;L.call(this,{text:j,x:Y,y:G,scale:ye,angle:ie,align:this.textAlign,maxWidth:X})}},p.prototype.strokeText=function(j,Y,G,X){if(isNaN(Y)||isNaN(G)||typeof j!="string")throw Aa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){X=isNaN(X)?void 0:X;var ie=re(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;L.call(this,{text:j,x:Y,y:G,scale:ye,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:X})}},p.prototype.measureText=function(j){if(typeof j!="string")throw Aa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,G=this.pdf.internal.scaleFactor,X=Y.internal.getFontSize(),ie=Y.getStringUnitWidth(j)*X/Y.internal.scaleFactor,ye=function(me){var he=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new ye({width:ie*=Math.round(96*G/72*1e4)/1e4})},p.prototype.scale=function(j,Y){if(isNaN(j)||isNaN(Y))throw Aa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(j,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.rotate=function(j){if(isNaN(j))throw Aa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.translate=function(j,Y){if(isNaN(j)||isNaN(Y))throw Aa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,j,Y);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.transform=function(j,Y,G,X,ie,ye){if(isNaN(j)||isNaN(Y)||isNaN(G)||isNaN(X)||isNaN(ie)||isNaN(ye))throw Aa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new c(j,Y,G,X,ie,ye);this.ctx.transform=this.ctx.transform.multiply(me)},p.prototype.setTransform=function(j,Y,G,X,ie,ye){j=isNaN(j)?1:j,Y=isNaN(Y)?0:Y,G=isNaN(G)?0:G,X=isNaN(X)?1:X,ie=isNaN(ie)?0:ie,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(j,Y,G,X,ie,ye)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(j,Y,G,X,ie,ye,me,he,je){var Fe=this.pdf.getImageProperties(j),ue=1,xe=1,Pe=1,_e=1;X!==void 0&&he!==void 0&&(Pe=he/X,_e=je/ie,ue=Fe.width/X*he/X,xe=Fe.height/ie*je/ie),ye===void 0&&(ye=Y,me=G,Y=0,G=0),X!==void 0&&he===void 0&&(he=X,je=ie),X===void 0&&he===void 0&&(he=Fe.width,je=Fe.height);for(var ce,Je=this.ctx.transform.decompose(),Te=re(Je.rotate.shx),Le=new c,Ze=(Le=(Le=(Le=Le.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(ye-Y*Pe,me-G*_e,X*ue,ie*xe)),Be=y.call(this,Ze),et=[],Dt=0;Dt<Be.length;Dt+=1)et.indexOf(Be[Dt])===-1&&et.push(Be[Dt]);if(k(et),this.autoPaging)for(var Ut=et[0],Vt=et[et.length-1],Jt=Ut;Jt<Vt+1;Jt++){this.pdf.setPage(Jt);var dr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lr=Jt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Jt===1?0:ct+(Jt-2)*pt;if(this.ctx.clip_path.length!==0){var rt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ce,this.posX+this.margin[3],-nt+lr+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=rt}var Lt=JSON.parse(JSON.stringify(Ze));Lt=C([Lt],this.posX+this.margin[3],-nt+lr+this.ctx.prevPageLastElemOffset)[0];var hr=(Jt>Ut||Jt<Vt)&&v.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dr,pt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Te),hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,Te)};var y=function(j,Y,G){var X=[];Y=Y||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":X.push(Math.floor((j.y+ie)/G)+1);break;case"arc":X.push(Math.floor((j.y+ie-j.radius)/G)+1),X.push(Math.floor((j.y+ie+j.radius)/G)+1);break;case"qct":var ye=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);X.push(Math.floor((ye.y+ie)/G)+1),X.push(Math.floor((ye.y+ye.h+ie)/G)+1);break;case"bct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);X.push(Math.floor((me.y+ie)/G)+1),X.push(Math.floor((me.y+me.h+ie)/G)+1);break;case"rect":X.push(Math.floor((j.y+ie)/G)+1),X.push(Math.floor((j.y+j.h+ie)/G)+1)}for(var he=0;he<X.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<X[he];)E.call(this);return X},E=function(){var j=this.fillStyle,Y=this.strokeStyle,G=this.font,X=this.lineCap,ie=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=Y,this.font=G,this.lineCap=X,this.lineWidth=ie,this.lineJoin=ye},C=function(j,Y,G){for(var X=0;X<j.length;X++)switch(j[X].type){case"bct":j[X].x2+=Y,j[X].y2+=G;case"qct":j[X].x1+=Y,j[X].y1+=G;case"mt":case"lt":case"arc":default:j[X].x+=Y,j[X].y+=G}return j},k=function(j){return j.sort(function(Y,G){return Y-G})},_=function(j,Y){for(var G,X,ie=this.fillStyle,ye=this.strokeStyle,me=this.lineCap,he=this.lineWidth,je=Math.abs(he*this.ctx.transform.scaleX),Fe=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),xe=JSON.parse(JSON.stringify(this.path)),Pe=[],_e=0;_e<xe.length;_e++)if(xe[_e].x!==void 0)for(var ce=y.call(this,xe[_e]),Je=0;Je<ce.length;Je+=1)Pe.indexOf(ce[Je])===-1&&Pe.push(ce[Je]);for(var Te=0;Te<Pe.length;Te++)for(;this.pdf.internal.getNumberOfPages()<Pe[Te];)E.call(this);if(k(Pe),this.autoPaging)for(var Le=Pe[0],Ze=Pe[Pe.length-1],Be=Le;Be<Ze+1;Be++){this.pdf.setPage(Be),this.fillStyle=ie,this.strokeStyle=ye,this.lineCap=me,this.lineWidth=je,this.lineJoin=Fe;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=Be===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jt=Be===1?0:Ut+(Be-2)*Vt;if(this.ctx.clip_path.length!==0){var dr=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(G,this.posX+this.margin[3],-Jt+Dt+this.ctx.prevPageLastElemOffset),N.call(this,j,!0),this.path=dr}if(X=JSON.parse(JSON.stringify(ue)),this.path=C(X,this.posX+this.margin[3],-Jt+Dt+this.ctx.prevPageLastElemOffset),Y===!1||Be===0){var lr=(Be>Le||Be<Ze)&&v.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Vt,null).clip().discardPath()),N.call(this,j,Y),lr&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=je,N.call(this,j,Y),this.lineWidth=he;this.path=ue},N=function(j,Y){if((j!=="stroke"||Y||!x.call(this))&&(j==="stroke"||Y||!g.call(this))){for(var G,X,ie=[],ye=this.path,me=0;me<ye.length;me++){var he=ye[me];switch(he.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:he,deltas:[],abs:[]});break;case"lt":var je=ie.length;if(ye[me-1]&&!isNaN(ye[me-1].x)&&(G=[he.x-ye[me-1].x,he.y-ye[me-1].y],je>0)){for(;je>=0;je--)if(ie[je-1].close!==!0&&ie[je-1].begin!==!0){ie[je-1].deltas.push(G),ie[je-1].abs.push(he);break}}break;case"bct":G=[he.x1-ye[me-1].x,he.y1-ye[me-1].y,he.x2-ye[me-1].x,he.y2-ye[me-1].y,he.x-ye[me-1].x,he.y-ye[me-1].y],ie[ie.length-1].deltas.push(G);break;case"qct":var Fe=ye[me-1].x+2/3*(he.x1-ye[me-1].x),ue=ye[me-1].y+2/3*(he.y1-ye[me-1].y),xe=he.x+2/3*(he.x1-he.x),Pe=he.y+2/3*(he.y1-he.y),_e=he.x,ce=he.y;G=[Fe-ye[me-1].x,ue-ye[me-1].y,xe-ye[me-1].x,Pe-ye[me-1].y,_e-ye[me-1].x,ce-ye[me-1].y],ie[ie.length-1].deltas.push(G);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(he)}}X=Y?null:j==="stroke"?"stroke":"fill";for(var Je=!1,Te=0;Te<ie.length;Te++)if(ie[Te].arc)for(var Le=ie[Te].abs,Ze=0;Ze<Le.length;Ze++){var Be=Le[Ze];Be.type==="arc"?D.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,Y,!Je):M.call(this,Be.x,Be.y),Je=!0}else if(ie[Te].close===!0)this.pdf.internal.out("h"),Je=!1;else if(ie[Te].begin!==!0){var et=ie[Te].start.x,Dt=ie[Te].start.y;F.call(this,ie[Te].deltas,et,Dt),Je=!0}X&&B.call(this,X),Y&&z.call(this)}},O=function(j){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+Y-G;case"hanging":return j+Y-2*G;case"middle":return j+Y/2-G;case"ideographic":return j;case"alphabetic":default:return j}},R=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(Y,G){this.colorStops.push([Y,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(j,Y,G,X,ie,ye,me,he,je){for(var Fe=J.call(this,G,X,ie,ye),ue=0;ue<Fe.length;ue++){var xe=Fe[ue];ue===0&&(je?I.call(this,xe.x1+j,xe.y1+Y):M.call(this,xe.x1+j,xe.y1+Y)),H.call(this,j,Y,xe.x2,xe.y2,xe.x3,xe.y3,xe.x4,xe.y4)}he?z.call(this):B.call(this,me)},B=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(j,Y){this.pdf.internal.out(r(j)+" "+n(Y)+" m")},L=function(j){var Y;switch(j.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var G=this.pdf.getTextDimensions(j.text),X=O.call(this,j.y),ie=R.call(this,X)-G.h,ye=this.ctx.transform.applyToPoint(new s(j.x,X)),me=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var je,Fe,ue,xe=this.ctx.transform.applyToRectangle(new l(j.x,X,G.w,G.h)),Pe=he.applyToRectangle(new l(j.x,ie,G.w,G.h)),_e=y.call(this,Pe),ce=[],Je=0;Je<_e.length;Je+=1)ce.indexOf(_e[Je])===-1&&ce.push(_e[Je]);if(k(ce),this.autoPaging)for(var Te=ce[0],Le=ce[ce.length-1],Ze=Te;Ze<Le+1;Ze++){this.pdf.setPage(Ze);var Be=Ze===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[2],Ut=Dt-this.margin[0],Vt=this.pdf.internal.pageSize.width-this.margin[1],Jt=Vt-this.margin[3],dr=Ze===1?0:et+(Ze-2)*Ut;if(this.ctx.clip_path.length!==0){var lr=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(je,this.posX+this.margin[3],-1*dr+Be),N.call(this,"fill",!0),this.path=lr}var ct=C([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-dr+Be+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*j.scale),ue=this.lineWidth,this.lineWidth=ue*j.scale);var pt=this.autoPaging!=="text";if(pt||ct.y+ct.h<=Dt){if(pt||ct.y>=Be&&ct.x<=Vt){var nt=pt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Vt-ct.x)[0],rt=C([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-dr+Be+this.ctx.prevPageLastElemOffset)[0],Lt=pt&&(Ze>Te||Ze<Le)&&v.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Ut,null).clip().discardPath()),this.pdf.text(nt,rt.x,rt.y,{angle:j.angle,align:Y,renderingMode:j.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else ct.y<Dt&&(this.ctx.prevPageLastElemOffset+=Dt-ct.y);j.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=ue)}else j.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*j.scale),ue=this.lineWidth,this.lineWidth=ue*j.scale),this.pdf.text(j.text,ye.x+this.posX,ye.y+this.posY,{angle:j.angle,align:Y,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=ue)},M=function(j,Y,G,X){G=G||0,X=X||0,this.pdf.internal.out(r(j+G)+" "+n(Y+X)+" l")},F=function(j,Y,G){return this.pdf.lines(j,Y,G,null,null)},H=function(j,Y,G,X,ie,ye,me,he){this.pdf.internal.out([e(a(G+j)),e(i(X+Y)),e(a(ie+j)),e(i(ye+Y)),e(a(me+j)),e(i(he+Y)),"c"].join(" "))},J=function(j,Y,G,X){for(var ie=2*Math.PI,ye=Math.PI/2;Y>G;)Y-=ie;var me=Math.abs(G-Y);me<ie&&X&&(me=ie-me);for(var he=[],je=X?-1:1,Fe=Y;me>1e-5;){var ue=Fe+je*Math.min(me,ye);he.push(ee.call(this,j,Fe,ue)),me-=Math.abs(ue-Fe),Fe=ue}return he},ee=function(j,Y,G){var X=(G-Y)/2,ie=j*Math.cos(X),ye=j*Math.sin(X),me=ie,he=-ye,je=me*me+he*he,Fe=je+me*ie+he*ye,ue=4/3*(Math.sqrt(2*je*Fe)-Fe)/(me*ye-he*ie),xe=me-ue*he,Pe=he+ue*me,_e=xe,ce=-Pe,Je=X+Y,Te=Math.cos(Je),Le=Math.sin(Je);return{x1:j*Math.cos(Y),y1:j*Math.sin(Y),x2:xe*Te-Pe*Le,y2:xe*Le+Pe*Te,x3:_e*Te-ce*Le,y3:_e*Le+ce*Te,x4:j*Math.cos(G),y4:j*Math.sin(G)}},re=function(j){return 180*j/Math.PI},te=function(j,Y,G,X,ie,ye){var me=j+.5*(G-j),he=Y+.5*(X-Y),je=ie+.5*(G-ie),Fe=ye+.5*(X-ye),ue=Math.min(j,ie,me,je),xe=Math.max(j,ie,me,je),Pe=Math.min(Y,ye,he,Fe),_e=Math.max(Y,ye,he,Fe);return new l(ue,Pe,xe-ue,_e-Pe)},K=function(j,Y,G,X,ie,ye,me,he){var je,Fe,ue,xe,Pe,_e,ce,Je,Te,Le,Ze,Be,et,Dt,Ut=G-j,Vt=X-Y,Jt=ie-G,dr=ye-X,lr=me-ie,ct=he-ye;for(Fe=0;Fe<41;Fe++)Te=(ce=(ue=j+(je=Fe/40)*Ut)+je*((Pe=G+je*Jt)-ue))+je*(Pe+je*(ie+je*lr-Pe)-ce),Le=(Je=(xe=Y+je*Vt)+je*((_e=X+je*dr)-xe))+je*(_e+je*(ye+je*ct-_e)-Je),Fe==0?(Ze=Te,Be=Le,et=Te,Dt=Le):(Ze=Math.min(Ze,Te),Be=Math.min(Be,Le),et=Math.max(et,Te),Dt=Math.max(Dt,Le));return new l(Math.round(Ze),Math.round(Be),Math.round(et-Ze),Math.round(Dt-Be))},U=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,Y,G=(j=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:Y}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(sn.API),function(t){var e=function(i){var s,l,c,u,f,p,h,g,x,v;for(l=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(v=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,g+33,x+33,v+33)):l.push(122);return function(y,E){for(var C=E;C>0;C--)y.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var s,l,c,u,f,p=String,h="length",g=255,x="charCodeAt",v="slice",y="replace";for(i[v](-2),i=i[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(i+=s="uuuuu"[v](i[h]%5||5))[h];f>u;u+=5)l=52200625*(i[x](u)-33)+614125*(i[x](u+1)-33)+7225*(i[x](u+2)-33)+85*(i[x](u+3)-33)+(i[x](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(E,C){for(var k=C;k>0;k--)E.pop()}(c,s[h]),p.fromCharCode.apply(p,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var s=new Uint8Array(i.length),l=i.length;l--;)s[l]=i.charCodeAt(l);return i=(s=QE(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,s){var l=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(sn.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,u,f){var p=new XMLHttpRequest,h=0,g=function(x){var v=x.length,y=[],E=String.fromCharCode;for(h=0;h<v;h+=1)y.push(E(255&x.charCodeAt(h)));return y.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),u&&p.status===200)return g(p.responseText)}(a,i,s)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(sn.API),function(t){function e(){return(un.html2canvas?Promise.resolve(un.html2canvas):KE(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(un.DOMPurify?Promise.resolve(un.DOMPurify):KE(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=ba(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(s,l){var c=document.createElement(s);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,l){return s.__proto__=l||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,f){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)f!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||p.appendChild(c(h,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],x=g.src.find(function(v){return v.format==="truetype"});x&&c.addFont(x.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},i.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(s,l){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||sn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,l,c,u){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,l,c,u){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},i.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(u,s,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},i.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return i.convert(l,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,sn.getPageSize=function(s,l,c){if(ba(s)==="object"){var u=s;s=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,x=0,v=0;if(h.hasOwnProperty(p))x=h[p][1]/f,v=h[p][0]/f;else try{x=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",v>x&&(g=v,v=x,x=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>v&&(g=v,v=x,x=g)}return{width:v,height:x,unit:l,k:f,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(o5):null;var c=new i(l);return l.worker?c:c.from(s).doCallback()}}(sn.API),sn.API.addJS=function(t){return ZP=t,this.internal.events.subscribe("postPutResources",function(){lv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(lv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ZP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){lv!==void 0&&XP!==void 0&&this.internal.out("/Names <</JavaScript "+lv+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var p=r.internal.newObject();f.push(p);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(sn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(p){for(var h,g=256*p.charCodeAt(4)+p.charCodeAt(5),x=p.length,v={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=g,e.indexOf(p.charCodeAt(y+1))!==-1){h=256*p.charCodeAt(y+5)+p.charCodeAt(y+6),v={width:256*p.charCodeAt(y+7)+p.charCodeAt(y+8),height:h,numcomponents:p.charCodeAt(y+9)};break}g=256*p.charCodeAt(y+2)+p.charCodeAt(y+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(sn.API);var nm,cv,QP,e4,t4,Dq=function(){var t,e,r;function n(i){var s,l,c,u,f,p,h,g,x,v,y,E,C,k;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(s=this.readUInt32(),x=(function(){var _,N;for(N=[],_=0;_<4;++_)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*f/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),i=(p!=null?p.data:void 0)||this.imgData,E=0;0<=s?E<s:E>s;0<=s?++E:--E)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((v=c-this.transparency.indexed.length)>0)for(C=0;0<=v?C<v:C>v;0<=v?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(y=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,y.slice(0,h)),this.text[g]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(p,h,g,x){var v,y,E,C,k,_,N,O,R,D,B,z,I,L,M,F,H,J,ee,re,te,K=Math.ceil((u.width-p)/g),U=Math.ceil((u.height-h)/x),j=u.width==K&&u.height==U;for(L=s*K,z=j?l:new Uint8Array(L*U),_=i.length,I=0,y=0;I<U&&c<_;){switch(i[c++]){case 0:for(C=H=0;H<L;C=H+=1)z[y++]=i[c++];break;case 1:for(C=J=0;J<L;C=J+=1)v=i[c++],k=C<s?0:z[y-s],z[y++]=(v+k)%256;break;case 2:for(C=ee=0;ee<L;C=ee+=1)v=i[c++],E=(C-C%s)/s,M=I&&z[(I-1)*L+E*s+C%s],z[y++]=(M+v)%256;break;case 3:for(C=re=0;re<L;C=re+=1)v=i[c++],E=(C-C%s)/s,k=C<s?0:z[y-s],M=I&&z[(I-1)*L+E*s+C%s],z[y++]=(v+Math.floor((k+M)/2))%256;break;case 4:for(C=te=0;te<L;C=te+=1)v=i[c++],E=(C-C%s)/s,k=C<s?0:z[y-s],I===0?M=F=0:(M=z[(I-1)*L+E*s+C%s],F=E&&z[(I-1)*L+(E-1)*s+C%s]),N=k+M-F,O=Math.abs(N-k),D=Math.abs(N-M),B=Math.abs(N-F),R=O<=D&&O<=B?k:D<=B?M:F,z[y++]=(v+R)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!j){var Y=((h+I*x)*u.width+p)*s,G=I*L;for(C=0;C<K;C+=1){for(var X=0;X<s;X+=1)l[Y++]=z[G++];Y+=(g-1)*s}}I++}}return i=pq(i),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,s,l,c,u,f,p,h,g;for(l=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+l.length),c=0,i=0,s=p=0,h=l.length;p<h;s=p+=3)u[c++]=l[s],u[c++]=l[s+1],u[c++]=l[s+2],u[c++]=(g=f[i++])!=null?g:255;return u},n.prototype.copyToImageData=function(i,s){var l,c,u,f,p,h,g,x,v,y,E;if(c=this.colors,v=null,l=this.hasAlphaChannel,this.palette.length&&(v=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(u=i.data||i).length,p=v||s,f=h=0,c===1)for(;f<x;)g=v?4*s[f/4]:h,y=p[g++],u[f++]=y,u[f++]=y,u[f++]=y,u[f++]=l?p[g++]:255,h=g;else for(;f<x;)g=v?4*s[f/4]:h,u[f++]=p[g++],u[f++]=p[g++],u[f++]=p[g++],u[f++]=l?p[g++]:255,h=g},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(un)==="[object Window]"){try{e=un.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,l,c,u,f,p,h,g;if(this.animation){for(g=[],l=f=0,p=(h=this.animation.frames).length;f<p;l=++f)s=h[l],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,g.push(s.image=t(c));return g}},n.prototype.renderFrame=function(i,s){var l,c,u;return l=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var s,l,c,u,f,p,h=this;return l=0,p=this.animation,u=p.numFrames,c=p.frames,f=p.numPlays,(s=function(){var g,x;if(g=l++%u,x=c[g],h.renderFrame(i,g),u>1&&l/u<f)return h.animation._timeout=setTimeout(s,x.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Mq(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=s,e+=3*s);var u=!0,f=[],p=0,h=null,g=0,x=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,x=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];p=t[e++]|t[e++]<<8,h=t[e++],(1&v)==0&&(h=null),g=v>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,_=t[e++],N=_>>6&1,O=1<<(7&_)+1,R=l,D=c,B=!1;_>>7&&(B=!0,R=e,D=O,e+=3*O);var z=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}f.push({x:y,y:E,width:C,height:k,has_local_palette:B,palette_offset:R,palette_size:D,data_offset:z,data_length:e-z,transparent_index:h,interlaced:!!N,delay:p,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(L){if(L<0||L>=f.length)throw new Error("Frame index out of range.");return f[L]},this.decodeAndBlitFrameBGRA=function(L,M){var F=this.frameInfo(L),H=F.width*F.height,J=new Uint8Array(H);r4(t,F.data_offset,J,H);var ee=F.palette_offset,re=F.transparent_index;re===null&&(re=256);var te=F.width,K=r-te,U=te,j=4*(F.y*r+F.x),Y=4*((F.y+F.height)*r+F.x),G=j,X=4*K;F.interlaced===!0&&(X+=4*r*7);for(var ie=8,ye=0,me=J.length;ye<me;++ye){var he=J[ye];if(U===0&&(U=te,(G+=X)>=Y&&(X=4*K+4*r*(ie-1),G=j+(te+K)*(ie<<1),ie>>=1)),he===re)G+=4;else{var je=t[ee+3*he],Fe=t[ee+3*he+1],ue=t[ee+3*he+2];M[G++]=ue,M[G++]=Fe,M[G++]=je,M[G++]=255}--U}},this.decodeAndBlitFrameRGBA=function(L,M){var F=this.frameInfo(L),H=F.width*F.height,J=new Uint8Array(H);r4(t,F.data_offset,J,H);var ee=F.palette_offset,re=F.transparent_index;re===null&&(re=256);var te=F.width,K=r-te,U=te,j=4*(F.y*r+F.x),Y=4*((F.y+F.height)*r+F.x),G=j,X=4*K;F.interlaced===!0&&(X+=4*r*7);for(var ie=8,ye=0,me=J.length;ye<me;++ye){var he=J[ye];if(U===0&&(U=te,(G+=X)>=Y&&(X=4*K+4*r*(ie-1),G=j+(te+K)*(ie<<1),ie>>=1)),he===re)G+=4;else{var je=t[ee+3*he],Fe=t[ee+3*he+1],ue=t[ee+3*he+2];M[G++]=je,M[G++]=Fe,M[G++]=ue,M[G++]=255}--U}}}function r4(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,f=0,p=0,h=0,g=t[e++],x=new Int32Array(4096),v=null;;){for(;f<16&&g!==0;)p|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<c)break;var y=p&u;if(p>>=c,f-=c,y!==i){if(y===s)break;for(var E=y<l?y:v,C=0,k=E;k>i;)k=x[k]>>8,++C;var _=k;if(h+C+(E!==y?1:0)>n)return void Aa.log("Warning, gif stream longer than expected.");r[h++]=_;var N=h+=C;for(E!==y&&(r[h++]=_),k=E;C--;)k=x[k],r[--N]=255&k,k>>=8;v!==null&&l<4096&&(x[l++]=v<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=y}else l=s+1,u=(1<<(c=a+1))-1,v=null}return h!==n&&Aa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Jy(t){var e,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(65535),h=new Array(65535),g=new Array(64),x=new Array(64),v=[],y=0,E=7,C=new Array(64),k=new Array(64),_=new Array(64),N=new Array(256),O=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(j,Y){for(var G=0,X=0,ie=new Array,ye=1;ye<=16;ye++){for(var me=1;me<=j[ye];me++)ie[Y[X]]=[],ie[Y[X]][0]=G,ie[Y[X]][1]=ye,X++,G++;G*=2}return ie}function ee(j){for(var Y=j[0],G=j[1]-1;G>=0;)Y&1<<G&&(y|=1<<E),G--,--E<0&&(y==255?(re(255),re(0)):re(y),E=7,y=0)}function re(j){v.push(j)}function te(j){re(j>>8&255),re(255&j)}function K(j,Y,G,X,ie){for(var ye,me=ie[0],he=ie[240],je=function(Le,Ze){var Be,et,Dt,Ut,Vt,Jt,dr,lr,ct,pt,nt=0;for(ct=0;ct<8;++ct){Be=Le[nt],et=Le[nt+1],Dt=Le[nt+2],Ut=Le[nt+3],Vt=Le[nt+4],Jt=Le[nt+5],dr=Le[nt+6];var rt=Be+(lr=Le[nt+7]),Lt=Be-lr,hr=et+dr,tr=et-dr,rr=Dt+Jt,Wr=Dt-Jt,Nr=Ut+Vt,bt=Ut-Vt,ke=rt+Nr,Re=rt-Nr,Qe=hr+rr,jt=hr-rr;Le[nt]=ke+Qe,Le[nt+4]=ke-Qe;var gt=.707106781*(jt+Re);Le[nt+2]=Re+gt,Le[nt+6]=Re-gt;var At=.382683433*((ke=bt+Wr)-(jt=tr+Lt)),kr=.5411961*ke+At,xr=1.306562965*jt+At,Xr=.707106781*(Qe=Wr+tr),Zr=Lt+Xr,Qt=Lt-Xr;Le[nt+5]=Qt+kr,Le[nt+3]=Qt-kr,Le[nt+1]=Zr+xr,Le[nt+7]=Zr-xr,nt+=8}for(nt=0,ct=0;ct<8;++ct){Be=Le[nt],et=Le[nt+8],Dt=Le[nt+16],Ut=Le[nt+24],Vt=Le[nt+32],Jt=Le[nt+40],dr=Le[nt+48];var ln=Be+(lr=Le[nt+56]),Sn=Be-lr,dt=et+dr,Et=et-dr,Tt=Dt+Jt,Gt=Dt-Jt,br=Ut+Vt,Kr=Ut-Vt,_t=ln+br,at=ln-br,vt=dt+Tt,Kt=dt-Tt;Le[nt]=_t+vt,Le[nt+32]=_t-vt;var cr=.707106781*(Kt+at);Le[nt+16]=at+cr,Le[nt+48]=at-cr;var gr=.382683433*((_t=Kr+Gt)-(Kt=Et+Sn)),Bt=.5411961*_t+gr,it=1.306562965*Kt+gr,xt=.707106781*(vt=Gt+Et),Ht=Sn+xt,ir=Sn-xt;Le[nt+40]=ir+Bt,Le[nt+24]=ir-Bt,Le[nt+8]=Ht+it,Le[nt+56]=Ht-it,nt++}for(ct=0;ct<64;++ct)pt=Le[ct]*Ze[ct],g[ct]=pt>0?pt+.5|0:pt-.5|0;return g}(j,Y),Fe=0;Fe<64;++Fe)x[R[Fe]]=je[Fe];var ue=x[0]-G;G=x[0],ue==0?ee(X[0]):(ee(X[h[ye=32767+ue]]),ee(p[ye]));for(var xe=63;xe>0&&x[xe]==0;)xe--;if(xe==0)return ee(me),G;for(var Pe,_e=1;_e<=xe;){for(var ce=_e;x[_e]==0&&_e<=xe;)++_e;var Je=_e-ce;if(Je>=16){Pe=Je>>4;for(var Te=1;Te<=Pe;++Te)ee(he);Je&=15}ye=32767+x[_e],ee(ie[(Je<<4)+h[ye]]),ee(p[ye]),_e++}return xe!=63&&ee(me),G}function U(j){j=Math.min(Math.max(j,1),100),i!=j&&(function(Y){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ie=s((G[X]*Y+50)/100);ie=Math.min(Math.max(ie,1),255),l[R[X]]=ie}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var he=s((ye[me]*Y+50)/100);he=Math.min(Math.max(he,1),255),c[R[me]]=he}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,ue=0;ue<8;ue++)for(var xe=0;xe<8;xe++)u[Fe]=1/(l[R[Fe]]*je[ue]*je[xe]*8),f[Fe]=1/(c[R[Fe]]*je[ue]*je[xe]*8),Fe++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),i=j)}this.encode=function(j,Y){Y&&U(Y),v=new Array,y=0,E=7,te(65496),te(65504),te(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),te(1),te(1),re(0),re(0),function(){te(65499),te(132),re(0);for(var et=0;et<64;et++)re(l[et]);re(1);for(var Dt=0;Dt<64;Dt++)re(c[Dt])}(),function(et,Dt){te(65472),te(17),re(8),te(Dt),te(et),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(j.width,j.height),function(){te(65476),te(418),re(0);for(var et=0;et<16;et++)re(D[et+1]);for(var Dt=0;Dt<=11;Dt++)re(B[Dt]);re(16);for(var Ut=0;Ut<16;Ut++)re(z[Ut+1]);for(var Vt=0;Vt<=161;Vt++)re(I[Vt]);re(1);for(var Jt=0;Jt<16;Jt++)re(L[Jt+1]);for(var dr=0;dr<=11;dr++)re(M[dr]);re(17);for(var lr=0;lr<16;lr++)re(F[lr+1]);for(var ct=0;ct<=161;ct++)re(H[ct])}(),te(65498),te(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var G=0,X=0,ie=0;y=0,E=7,this.encode.displayName="_encode_";for(var ye,me,he,je,Fe,ue,xe,Pe,_e,ce=j.data,Je=j.width,Te=j.height,Le=4*Je,Ze=0;Ze<Te;){for(ye=0;ye<Le;){for(Fe=Le*Ze+ye,xe=-1,Pe=0,_e=0;_e<64;_e++)ue=Fe+(Pe=_e>>3)*Le+(xe=4*(7&_e)),Ze+Pe>=Te&&(ue-=Le*(Ze+1+Pe-Te)),ye+xe>=Le&&(ue-=ye+xe-Le+4),me=ce[ue++],he=ce[ue++],je=ce[ue++],C[_e]=(O[me]+O[he+256>>0]+O[je+512>>0]>>16)-128,k[_e]=(O[me+768>>0]+O[he+1024>>0]+O[je+1280>>0]>>16)-128,_[_e]=(O[me+1280>>0]+O[he+1536>>0]+O[je+1792>>0]>>16)-128;G=K(C,u,G,e,n),X=K(k,f,X,r,a),ie=K(_,f,ie,r,a),ye+=32}Ze+=8}if(E>=0){var Be=[];Be[1]=E+1,Be[0]=(1<<E+1)-1,ee(Be)}return te(65497),new Uint8Array(v)},t=t||50,function(){for(var j=String.fromCharCode,Y=0;Y<256;Y++)N[Y]=j(Y)}(),e=J(D,B),r=J(L,M),n=J(z,I),a=J(F,H),function(){for(var j=1,Y=2,G=1;G<=15;G++){for(var X=j;X<Y;X++)h[32767+X]=G,p[32767+X]=[],p[32767+X][1]=G,p[32767+X][0]=X;for(var ie=-(Y-1);ie<=-j;ie++)h[32767+ie]=G,p[32767+ie]=[],p[32767+ie][1]=G,p[32767+ie][0]=Y-1+ie;j<<=1,Y<<=1}}(),function(){for(var j=0;j<256;j++)O[j]=19595*j,O[j+256>>0]=38470*j,O[j+512>>0]=7471*j+32768,O[j+768>>0]=-11059*j,O[j+1024>>0]=-21709*j,O[j+1280>>0]=32768*j+8421375,O[j+1536>>0]=-27439*j,O[j+1792>>0]=-5329*j}(),U(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n4(t){function e(D){if(!D)throw Error("assert :P")}function r(D,B,z){for(var I=0;4>I;I++)if(D[B+I]!=z.charCodeAt(I))return!0;return!1}function n(D,B,z,I,L){for(var M=0;M<L;M++)D[B+M]=z[I+M]}function a(D,B,z,I){for(var L=0;L<I;L++)D[B+L]=z}function i(D){return new Int32Array(D)}function s(D,B){for(var z=[],I=0;I<D;I++)z.push(new B);return z}function l(D,B){var z=[];return function I(L,M,F){for(var H=F[M],J=0;J<H&&(L.push(F.length>M+1?[]:new B),!(F.length<M+1));J++)I(L[J],M+1,F)}(z,0,D),z}var c=function(){var D=this;function B(S,T){for(var W=1<<T-1>>>0;S&W;)W>>>=1;return W?(S&W-1)+W:S}function z(S,T,W,ne,se){e(!(ne%W));do S[T+(ne-=W)]=se;while(0<ne)}function I(S,T,W,ne,se){if(e(2328>=se),512>=se)var de=i(512);else if((de=i(se))==null)return 0;return function(pe,ge,ve,Ce,Z,P){var V,oe,Ne=ge,Ee=1<<ve,be=i(16),Se=i(16);for(e(Z!=0),e(Ce!=null),e(pe!=null),e(0<ve),oe=0;oe<Z;++oe){if(15<Ce[oe])return 0;++be[Ce[oe]]}if(be[0]==Z)return 0;for(Se[1]=0,V=1;15>V;++V){if(be[V]>1<<V)return 0;Se[V+1]=Se[V]+be[V]}for(oe=0;oe<Z;++oe)V=Ce[oe],0<Ce[oe]&&(P[Se[V]++]=oe);if(Se[15]==1)return(Ce=new L).g=0,Ce.value=P[0],z(pe,Ne,1,Ee,Ce),Ee;var qe,Ve=-1,Ke=Ee-1,ft=0,kt=1,$t=1,Ct=1<<ve;for(oe=0,V=1,Z=2;V<=ve;++V,Z<<=1){if(kt+=$t<<=1,0>($t-=be[V]))return 0;for(;0<be[V];--be[V])(Ce=new L).g=V,Ce.value=P[oe++],z(pe,Ne+ft,Z,Ct,Ce),ft=B(ft,V)}for(V=ve+1,Z=2;15>=V;++V,Z<<=1){if(kt+=$t<<=1,0>($t-=be[V]))return 0;for(;0<be[V];--be[V]){if(Ce=new L,(ft&Ke)!=Ve){for(Ne+=Ct,qe=1<<(Ve=V)-ve;15>Ve&&!(0>=(qe-=be[Ve]));)++Ve,qe<<=1;Ee+=Ct=1<<(qe=Ve-ve),pe[ge+(Ve=ft&Ke)].g=qe+ve,pe[ge+Ve].value=Ne-ge-Ve}Ce.g=V-ve,Ce.value=P[oe++],z(pe,Ne+(ft>>ve),Z,Ct,Ce),ft=B(ft,V)}}return kt!=2*Se[15]-1?0:Ee}(S,T,W,ne,se,de)}function L(){this.value=this.g=0}function M(){this.value=this.g=0}function F(){this.G=s(5,L),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Gr,M)}function H(S,T,W,ne){e(S!=null),e(T!=null),e(2147483648>ne),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=T,S.pa=W,S.Jd=T,S.Yc=W+ne,S.Zc=4<=ne?W+ne-4+1:W,ye(S)}function J(S,T){for(var W=0;0<T--;)W|=he(S,128)<<T;return W}function ee(S,T){var W=J(S,T);return me(S)?-W:W}function re(S,T,W,ne){var se,de=0;for(e(S!=null),e(T!=null),e(4294967288>ne),S.Sb=ne,S.Ra=0,S.u=0,S.h=0,4<ne&&(ne=4),se=0;se<ne;++se)de+=T[W+se]<<8*se;S.Ra=de,S.bb=ne,S.oa=T,S.pa=W}function te(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Eo-8>>>0,++S.bb,S.u-=8;G(S)&&(S.h=1,S.u=0)}function K(S,T){if(e(0<=T),!S.h&&T<=xo){var W=Y(S)&Ia[T];return S.u+=T,te(S),W}return S.h=1,S.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(S){return S.Ra>>>(S.u&Eo-1)>>>0}function G(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Eo}function X(S,T){S.u=T,S.h=G(S)}function ie(S){S.u>=Ta&&(e(S.u>=Ta),te(S))}function ye(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function me(S){return J(S,1)}function he(S,T){var W=S.Ca;0>S.b&&ye(S);var ne=S.b,se=W*T>>>8,de=(S.I>>>ne>se)+0;for(de?(W-=se,S.I-=se+1<<ne>>>0):W=se+1,ne=W,se=0;256<=ne;)se+=8,ne>>=8;return ne=7^se+Yn[ne],S.b-=ne,S.Ca=(W<<ne)-1,de}function je(S,T,W){S[T+0]=W>>24&255,S[T+1]=W>>16&255,S[T+2]=W>>8&255,S[T+3]=W>>0&255}function Fe(S,T){return S[T+0]<<0|S[T+1]<<8}function ue(S,T){return Fe(S,T)|S[T+2]<<16}function xe(S,T){return Fe(S,T)|Fe(S,T+2)<<16}function Pe(S,T){var W=1<<T;return e(S!=null),e(0<T),S.X=i(W),S.X==null?0:(S.Mb=32-T,S.Xa=T,1)}function _e(S,T){e(S!=null),e(T!=null),e(S.Xa==T.Xa),n(T.X,0,S.X,0,1<<T.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function Je(S,T,W,ne){e(W!=null),e(ne!=null);var se=W[0],de=ne[0];return se==0&&(se=(S*de+T/2)/T),de==0&&(de=(T*se+S/2)/S),0>=se||0>=de?0:(W[0]=se,ne[0]=de,1)}function Te(S,T){return S+(1<<T)-1>>>T}function Le(S,T){return((4278255360&S)+(4278255360&T)>>>0&4278255360)+((16711935&S)+(16711935&T)>>>0&16711935)>>>0}function Ze(S,T){D[T]=function(W,ne,se,de,pe,ge,ve){var Ce;for(Ce=0;Ce<pe;++Ce){var Z=D[S](ge[ve+Ce-1],se,de+Ce);ge[ve+Ce]=Le(W[ne+Ce],Z)}}}function Be(){this.ud=this.hd=this.jd=0}function et(S,T){return((4278124286&(S^T))>>>1)+(S&T)>>>0}function Dt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Ut(S,T){return Dt(S+(S-T+.5>>1))}function Vt(S,T,W){return Math.abs(T-W)-Math.abs(S-W)}function Jt(S,T,W,ne,se,de,pe){for(ne=de[pe-1],W=0;W<se;++W)de[pe+W]=ne=Le(S[T+W],ne)}function dr(S,T,W,ne,se){var de;for(de=0;de<W;++de){var pe=S[T+de],ge=pe>>8&255,ve=16711935&(ve=(ve=16711935&pe)+((ge<<16)+ge));ne[se+de]=(4278255360&pe)+ve>>>0}}function lr(S,T){T.jd=S>>0&255,T.hd=S>>8&255,T.ud=S>>16&255}function ct(S,T,W,ne,se,de){var pe;for(pe=0;pe<ne;++pe){var ge=T[W+pe],ve=ge>>>8,Ce=ge,Z=255&(Z=(Z=ge>>>16)+((S.jd<<24>>24)*(ve<<24>>24)>>>5));Ce=255&(Ce=(Ce=Ce+((S.hd<<24>>24)*(ve<<24>>24)>>>5))+((S.ud<<24>>24)*(Z<<24>>24)>>>5)),se[de+pe]=(4278255360&ge)+(Z<<16)+Ce}}function pt(S,T,W,ne,se){D[T]=function(de,pe,ge,ve,Ce,Z,P,V,oe){for(ve=P;ve<V;++ve)for(P=0;P<oe;++P)Ce[Z++]=se(ge[ne(de[pe++])])},D[S]=function(de,pe,ge,ve,Ce,Z,P){var V=8>>de.b,oe=de.Ea,Ne=de.K[0],Ee=de.w;if(8>V)for(de=(1<<de.b)-1,Ee=(1<<V)-1;pe<ge;++pe){var be,Se=0;for(be=0;be<oe;++be)be&de||(Se=ne(ve[Ce++])),Z[P++]=se(Ne[Se&Ee]),Se>>=V}else D["VP8LMapColor"+W](ve,Ce,Ne,Ee,Z,P,pe,ge,oe)}}function nt(S,T,W,ne,se){for(W=T+W;T<W;){var de=S[T++];ne[se++]=de>>16&255,ne[se++]=de>>8&255,ne[se++]=de>>0&255}}function rt(S,T,W,ne,se){for(W=T+W;T<W;){var de=S[T++];ne[se++]=de>>16&255,ne[se++]=de>>8&255,ne[se++]=de>>0&255,ne[se++]=de>>24&255}}function Lt(S,T,W,ne,se){for(W=T+W;T<W;){var de=(pe=S[T++])>>16&240|pe>>12&15,pe=pe>>0&240|pe>>28&15;ne[se++]=de,ne[se++]=pe}}function hr(S,T,W,ne,se){for(W=T+W;T<W;){var de=(pe=S[T++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;ne[se++]=de,ne[se++]=pe}}function tr(S,T,W,ne,se){for(W=T+W;T<W;){var de=S[T++];ne[se++]=de>>0&255,ne[se++]=de>>8&255,ne[se++]=de>>16&255}}function rr(S,T,W,ne,se,de){if(de==0)for(W=T+W;T<W;)je(ne,((de=S[T++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),se+=32;else n(ne,se,S,T,W)}function Wr(S,T){D[T][0]=D[S+"0"],D[T][1]=D[S+"1"],D[T][2]=D[S+"2"],D[T][3]=D[S+"3"],D[T][4]=D[S+"4"],D[T][5]=D[S+"5"],D[T][6]=D[S+"6"],D[T][7]=D[S+"7"],D[T][8]=D[S+"8"],D[T][9]=D[S+"9"],D[T][10]=D[S+"10"],D[T][11]=D[S+"11"],D[T][12]=D[S+"12"],D[T][13]=D[S+"13"],D[T][14]=D[S+"0"],D[T][15]=D[S+"0"]}function Nr(S){return S==Dc||S==Cl||S==Mc||S==Zs}function bt(){this.eb=[],this.size=this.A=this.fb=0}function ke(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Re(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new ke,this.sd=null}function Qe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function At(S,T){var W=S.T,ne=T.ba.f.RGBA,se=ne.eb,de=ne.fb+S.ka*ne.A,pe=ri[T.ba.S],ge=S.y,ve=S.O,Ce=S.f,Z=S.N,P=S.ea,V=S.W,oe=T.cc,Ne=T.dc,Ee=T.Mc,be=T.Nc,Se=S.ka,qe=S.ka+S.T,Ve=S.U,Ke=Ve+1>>1;for(Se==0?pe(ge,ve,null,null,Ce,Z,P,V,Ce,Z,P,V,se,de,null,null,Ve):(pe(T.ec,T.fc,ge,ve,oe,Ne,Ee,be,Ce,Z,P,V,se,de-ne.A,se,de,Ve),++W);Se+2<qe;Se+=2)oe=Ce,Ne=Z,Ee=P,be=V,Z+=S.Rc,V+=S.Rc,de+=2*ne.A,pe(ge,(ve+=2*S.fa)-S.fa,ge,ve,oe,Ne,Ee,be,Ce,Z,P,V,se,de-ne.A,se,de,Ve);return ve+=S.fa,S.j+qe<S.o?(n(T.ec,T.fc,ge,ve,Ve),n(T.cc,T.dc,Ce,Z,Ke),n(T.Mc,T.Nc,P,V,Ke),W--):1&qe||pe(ge,ve,null,null,Ce,Z,P,V,Ce,Z,P,V,se,de+ne.A,null,null,Ve),W}function kr(S,T,W){var ne=S.F,se=[S.J];if(ne!=null){var de=S.U,pe=T.ba.S,ge=pe==su||pe==Mc;T=T.ba.f.RGBA;var ve=[0],Ce=S.ka;ve[0]=S.T,S.Kb&&(Ce==0?--ve[0]:(--Ce,se[0]-=S.width),S.j+S.ka+S.T==S.o&&(ve[0]=S.o-S.j-Ce));var Z=T.eb;Ce=T.fb+Ce*T.A,S=Bn(ne,se[0],S.width,de,ve,Z,Ce+(ge?0:3),T.A),e(W==ve),S&&Nr(pe)&&ti(Z,Ce,ge,de,ve,T.A)}return 0}function xr(S){var T=S.ma,W=T.ba.S,ne=11>W,se=W==Sl||W==iu||W==su||W==Vn||W==12||Nr(W);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!zr(T.Oa,S,se?11:12))return 0;if(se&&Nr(W)&&Mt(),S.da)alert("todo:use_scaling");else{if(ne){if(T.Ib=gt,S.Kb){if(W=S.U+1>>1,T.memory=i(S.U+2*W),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+S.U,T.Mc=T.cc,T.Nc=T.dc+W,T.Ib=At,Mt()}}else alert("todo:EmitYUV");se&&(T.Jb=kr,ne&&tt())}if(ne&&!Ga){for(S=0;256>S;++S)Ho[S]=89858*(S-128)+yi>>ks,Po[S]=-22014*(S-128)+yi,ec[S]=-45773*(S-128),tl[S]=113618*(S-128)+yi>>ks;for(S=qn;S<Tn;++S)T=76283*(S-16)+yi>>ks,Uu[S-qn]=yt(T,255),kl[S-qn]=yt(T+8>>4,15);Ga=1}return 1}function Xr(S){var T=S.ma,W=S.U,ne=S.T;return e(!(1&S.ka)),0>=W||0>=ne?0:(W=T.Ib(S,T),T.Jb!=null&&T.Jb(S,T,W),T.Dc+=W,1)}function Zr(S){S.ma.memory=null}function Qt(S,T,W,ne){return K(S,8)!=47?0:(T[0]=K(S,14)+1,W[0]=K(S,14)+1,ne[0]=K(S,1),K(S,3)!=0?0:!S.h)}function ln(S,T){if(4>S)return S+1;var W=S-2>>1;return(2+(1&S)<<W)+K(T,W)+1}function Sn(S,T){return 120<T?T-120:1<=(W=((W=mp[T-1])>>4)*S+(8-(15&W)))?W:1;var W}function dt(S,T,W){var ne=Y(W),se=S[T+=255&ne].g-8;return 0<se&&(X(W,W.u+8),ne=Y(W),T+=S[T].value,T+=ne&(1<<se)-1),X(W,W.u+S[T].g),S[T].value}function Et(S,T,W){return W.g+=S.g,W.value+=S.value<<T>>>0,e(8>=W.g),S.g}function Tt(S,T,W){var ne=S.xc;return e((T=ne==0?0:S.vc[S.md*(W>>ne)+(T>>ne)])<S.Wb),S.Ya[T]}function Gt(S,T,W,ne){var se=S.ab,de=S.c*T,pe=S.C;T=pe+T;var ge=W,ve=ne;for(ne=S.Ta,W=S.Ua;0<se--;){var Ce=S.gc[se],Z=pe,P=T,V=ge,oe=ve,Ne=(ve=ne,ge=W,Ce.Ea);switch(e(Z<P),e(P<=Ce.nc),Ce.hc){case 2:Ks(V,oe,(P-Z)*Ne,ve,ge);break;case 0:var Ee=Z,be=P,Se=ve,qe=ge,Ve=(Ct=Ce).Ea;Ee==0&&(ei(V,oe,null,null,1,Se,qe),Jt(V,oe+1,0,0,Ve-1,Se,qe+1),oe+=Ve,qe+=Ve,++Ee);for(var Ke=1<<Ct.b,ft=Ke-1,kt=Te(Ve,Ct.b),$t=Ct.K,Ct=Ct.w+(Ee>>Ct.b)*kt;Ee<be;){var fr=$t,pr=Ct,Tr=1;for(ji(V,oe,Se,qe-Ve,1,Se,qe);Tr<Ve;){var Er=(Tr&~ft)+Ke;Er>Ve&&(Er=Ve),(0,xs[fr[pr++]>>8&15])(V,oe+ +Tr,Se,qe+Tr-Ve,Er-Tr,Se,qe+Tr),Tr=Er}oe+=Ve,qe+=Ve,++Ee&ft||(Ct+=kt)}P!=Ce.nc&&n(ve,ge-Ne,ve,ge+(P-Z-1)*Ne,Ne);break;case 1:for(Ne=V,be=oe,Ve=(V=Ce.Ea)-(qe=V&~(Se=(oe=1<<Ce.b)-1)),Ee=Te(V,Ce.b),Ke=Ce.K,Ce=Ce.w+(Z>>Ce.b)*Ee;Z<P;){for(ft=Ke,kt=Ce,$t=new Be,Ct=be+qe,fr=be+V;be<Ct;)lr(ft[kt++],$t),yl($t,Ne,be,oe,ve,ge),be+=oe,ge+=oe;be<fr&&(lr(ft[kt++],$t),yl($t,Ne,be,Ve,ve,ge),be+=Ve,ge+=Ve),++Z&Se||(Ce+=Ee)}break;case 3:if(V==ve&&oe==ge&&0<Ce.b){for(be=ve,V=Ne=ge+(P-Z)*Ne-(qe=(P-Z)*Te(Ce.Ea,Ce.b)),oe=ve,Se=ge,Ee=[],qe=(Ve=qe)-1;0<=qe;--qe)Ee[qe]=oe[Se+qe];for(qe=Ve-1;0<=qe;--qe)be[V+qe]=Ee[qe];Na(Ce,Z,P,ve,Ne,ve,ge)}else Na(Ce,Z,P,V,oe,ve,ge)}ge=ne,ve=W}ve!=W&&n(ne,W,ge,ve,de)}function br(S,T){var W=S.V,ne=S.Ba+S.c*S.C,se=T-S.C;if(e(T<=S.l.o),e(16>=se),0<se){var de=S.l,pe=S.Ta,ge=S.Ua,ve=de.width;if(Gt(S,se,W,ne),se=ge=[ge],e((W=S.C)<(ne=T)),e(de.v<de.va),ne>de.o&&(ne=de.o),W<de.j){var Ce=de.j-W;W=de.j,se[0]+=Ce*ve}if(W>=ne?W=0:(se[0]+=4*de.v,de.ka=W-de.j,de.U=de.va-de.v,de.T=ne-W,W=1),W){if(ge=ge[0],11>(W=S.ca).S){var Z=W.f.RGBA,P=(ne=W.S,se=de.U,de=de.T,Ce=Z.eb,Z.A),V=de;for(Z=Z.fb+S.Ma*Z.A;0<V--;){var oe=pe,Ne=ge,Ee=se,be=Ce,Se=Z;switch(ne){case $u:So(oe,Ne,Ee,be,Se);break;case Sl:oo(oe,Ne,Ee,be,Se);break;case Dc:oo(oe,Ne,Ee,be,Se),ti(be,Se,0,Ee,1,0);break;case Tf:Js(oe,Ne,Ee,be,Se);break;case iu:rr(oe,Ne,Ee,be,Se,1);break;case Cl:rr(oe,Ne,Ee,be,Se,1),ti(be,Se,0,Ee,1,0);break;case su:rr(oe,Ne,Ee,be,Se,0);break;case Mc:rr(oe,Ne,Ee,be,Se,0),ti(be,Se,1,Ee,1,0);break;case Vn:wl(oe,Ne,Ee,be,Se);break;case Zs:wl(oe,Ne,Ee,be,Se),Jn(be,Se,Ee,1,0);break;case Kl:Ys(oe,Ne,Ee,be,Se);break;default:e(0)}ge+=ve,Z+=P}S.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=W.height)}}S.C=T,e(S.C<=S.i)}function Kr(S){var T;if(0<S.ua)return 0;for(T=0;T<S.Wb;++T){var W=S.Ya[T].G,ne=S.Ya[T].H;if(0<W[1][ne[1]+0].g||0<W[2][ne[2]+0].g||0<W[3][ne[3]+0].g)return 0}return 1}function _t(S,T,W,ne,se,de){if(S.Z!=0){var pe=S.qd,ge=S.rd;for(e(No[S.Z]!=null);T<W;++T)No[S.Z](pe,ge,ne,se,ne,se,de),pe=ne,ge=se,se+=de;S.qd=pe,S.rd=ge}}function at(S,T){var W=S.l.ma,ne=W.Z==0||W.Z==1?S.l.j:S.C;if(ne=S.C<ne?ne:S.C,e(T<=S.l.o),T>ne){var se=S.l.width,de=W.ca,pe=W.tb+se*ne,ge=S.V,ve=S.Ba+S.c*ne,Ce=S.gc;e(S.ab==1),e(Ce[0].hc==3),Wl(Ce[0],ne,T,ge,ve,de,pe),_t(W,ne,T,de,pe,se)}S.C=S.Ma=T}function vt(S,T,W,ne,se,de,pe){var ge=S.$/ne,ve=S.$%ne,Ce=S.m,Z=S.s,P=W+S.$,V=P;se=W+ne*se;var oe=W+ne*de,Ne=280+Z.ua,Ee=S.Pb?ge:16777216,be=0<Z.ua?Z.Wa:null,Se=Z.wc,qe=P<oe?Tt(Z,ve,ge):null;e(S.C<de),e(oe<=se);var Ve=!1;e:for(;;){for(;Ve||P<oe;){var Ke=0;if(ge>=Ee){var ft=P-W;e((Ee=S).Pb),Ee.wd=Ee.m,Ee.xd=ft,0<Ee.s.ua&&_e(Ee.s.Wa,Ee.s.vb),Ee=ge+Bu}if(ve&Se||(qe=Tt(Z,ve,ge)),e(qe!=null),qe.Qb&&(T[P]=qe.qb,Ve=!0),!Ve)if(ie(Ce),qe.jc){Ke=Ce,ft=T;var kt=P,$t=qe.pd[Y(Ke)&Gr-1];e(qe.jc),256>$t.g?(X(Ke,Ke.u+$t.g),ft[kt]=$t.value,Ke=0):(X(Ke,Ke.u+$t.g-256),e(256<=$t.value),Ke=$t.value),Ke==0&&(Ve=!0)}else Ke=dt(qe.G[0],qe.H[0],Ce);if(Ce.h)break;if(Ve||256>Ke){if(!Ve)if(qe.nd)T[P]=(qe.qb|Ke<<8)>>>0;else{if(ie(Ce),Ve=dt(qe.G[1],qe.H[1],Ce),ie(Ce),ft=dt(qe.G[2],qe.H[2],Ce),kt=dt(qe.G[3],qe.H[3],Ce),Ce.h)break;T[P]=(kt<<24|Ve<<16|Ke<<8|ft)>>>0}if(Ve=!1,++P,++ve>=ne&&(ve=0,++ge,pe!=null&&ge<=de&&!(ge%16)&&pe(S,ge),be!=null))for(;V<P;)Ke=T[V++],be.X[(506832829*Ke&4294967295)>>>be.Mb]=Ke}else if(280>Ke){if(Ke=ln(Ke-256,Ce),ft=dt(qe.G[4],qe.H[4],Ce),ie(Ce),ft=Sn(ne,ft=ln(ft,Ce)),Ce.h)break;if(P-W<ft||se-P<Ke)break e;for(kt=0;kt<Ke;++kt)T[P+kt]=T[P+kt-ft];for(P+=Ke,ve+=Ke;ve>=ne;)ve-=ne,++ge,pe!=null&&ge<=de&&!(ge%16)&&pe(S,ge);if(e(P<=se),ve&Se&&(qe=Tt(Z,ve,ge)),be!=null)for(;V<P;)Ke=T[V++],be.X[(506832829*Ke&4294967295)>>>be.Mb]=Ke}else{if(!(Ke<Ne))break e;for(Ve=Ke-280,e(be!=null);V<P;)Ke=T[V++],be.X[(506832829*Ke&4294967295)>>>be.Mb]=Ke;Ke=P,e(!(Ve>>>(ft=be).Xa)),T[Ke]=ft.X[Ve],Ve=!0}Ve||e(Ce.h==G(Ce))}if(S.Pb&&Ce.h&&P<se)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&_e(S.s.vb,S.s.Wa);else{if(Ce.h)break e;pe!=null&&pe(S,ge>de?de:ge),S.a=0,S.$=P-W}return 1}return S.a=3,0}function Kt(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var T=S.Wa;T!=null&&(T.X=null),S.vb=null,e(S!=null)}function cr(){var S=new bl;return S==null?null:(S.a=0,S.xb=$c,Wr("Predictor","VP8LPredictors"),Wr("Predictor","VP8LPredictors_C"),Wr("PredictorAdd","VP8LPredictorsAdd"),Wr("PredictorAdd","VP8LPredictorsAdd_C"),Ks=dr,yl=ct,So=nt,oo=rt,wl=Lt,Ys=hr,Js=tr,D.VP8LMapColor32b=Hl,D.VP8LMapColor8b=ao,S)}function gr(S,T,W,ne,se){var de=1,pe=[S],ge=[T],ve=ne.m,Ce=ne.s,Z=null,P=0;e:for(;;){if(W)for(;de&&K(ve,1);){var V=pe,oe=ge,Ne=ne,Ee=1,be=Ne.m,Se=Ne.gc[Ne.ab],qe=K(be,2);if(Ne.Oc&1<<qe)de=0;else{switch(Ne.Oc|=1<<qe,Se.hc=qe,Se.Ea=V[0],Se.nc=oe[0],Se.K=[null],++Ne.ab,e(4>=Ne.ab),qe){case 0:case 1:Se.b=K(be,3)+2,Ee=gr(Te(Se.Ea,Se.b),Te(Se.nc,Se.b),0,Ne,Se.K),Se.K=Se.K[0];break;case 3:var Ve,Ke=K(be,8)+1,ft=16<Ke?0:4<Ke?1:2<Ke?2:3;if(V[0]=Te(Se.Ea,ft),Se.b=ft,Ve=Ee=gr(Ke,1,0,Ne,Se.K)){var kt,$t=Ke,Ct=Se,fr=1<<(8>>Ct.b),pr=i(fr);if(pr==null)Ve=0;else{var Tr=Ct.K[0],Er=Ct.w;for(pr[0]=Ct.K[0][0],kt=1;kt<1*$t;++kt)pr[kt]=Le(Tr[Er+kt],pr[kt-1]);for(;kt<4*fr;++kt)pr[kt]=0;Ct.K[0]=null,Ct.K[0]=pr,Ve=1}}Ee=Ve;break;case 2:break;default:e(0)}de=Ee}}if(pe=pe[0],ge=ge[0],de&&K(ve,1)&&!(de=1<=(P=K(ve,4))&&11>=P)){ne.a=3;break e}var Sr;if(Sr=de)t:{var Mr,ar,Br,mn=ne,Qr=pe,nn=ge,Jr=P,Xn=W,la=mn.m,kn=mn.s,Un=[null],Zn=1,On=0,Ba=Lf[Jr];r:for(;;){if(Xn&&K(la,1)){var Mn=K(la,3)+2,ha=Te(Qr,Mn),Hn=Te(nn,Mn),Rn=ha*Hn;if(!gr(ha,Hn,0,mn,Un))break r;for(Un=Un[0],kn.xc=Mn,Mr=0;Mr<Rn;++Mr){var Pa=Un[Mr]>>8&65535;Un[Mr]=Pa,Pa>=Zn&&(Zn=Pa+1)}}if(la.h)break r;for(ar=0;5>ar;++ar){var bn=Jl[ar];!ar&&0<Jr&&(bn+=1<<Jr),On<bn&&(On=bn)}var lo=s(Zn*Ba,L),rc=Zn,Hu=s(rc,F);if(Hu==null)var wi=null;else e(65536>=rc),wi=Hu;var Wo=i(On);if(wi==null||Wo==null||lo==null){mn.a=1;break r}var nc=lo;for(Mr=Br=0;Mr<Zn;++Mr){var Fi=wi[Mr],as=Fi.G,ac=Fi.H,oc=0,xi=1,ic=0;for(ar=0;5>ar;++ar){bn=Jl[ar],as[ar]=nc,ac[ar]=Br,!ar&&0<Jr&&(bn+=1<<Jr);a:{var nl,al=bn,qc=mn,ko=Wo,cu=nc,Wu=Br,ca=0,Ei=qc.m,Vu=K(Ei,1);if(a(ko,0,0,al),Vu){var Gu=K(Ei,1)+1,uu=K(Ei,1),du=K(Ei,uu==0?1:8);ko[du]=1,Gu==2&&(ko[du=K(Ei,8)]=1);var _s=1}else{var xa=i(19),La=K(Ei,4)+4;if(19<La){qc.a=3;var ja=0;break a}for(nl=0;nl<La;++nl)xa[Xl[nl]]=K(Ei,3);var Ku=void 0,sc=void 0,Yu=qc,Ub=xa,co=al,Ff=ko,Td=0,Al=Yu.m,ol=8,os=s(128,L);n:for(;I(os,0,7,Ub,19);){if(K(Al,1)){var Rd=2+2*K(Al,3);if((Ku=2+K(Al,Rd))>co)break n}else Ku=co;for(sc=0;sc<co&&Ku--;){ie(Al);var $f=os[0+(127&Y(Al))];X(Al,Al.u+$f.g);var Uc=$f.value;if(16>Uc)Ff[sc++]=Uc,Uc!=0&&(ol=Uc);else{var yg=Uc==16,gp=Uc-16,wg=zu[gp],vp=K(Al,Yl[gp])+wg;if(sc+vp>co)break n;for(var xg=yg?ol:0;0<vp--;)Ff[sc++]=xg}}Td=1;break n}Td||(Yu.a=3),_s=Td}(_s=_s&&!Ei.h)&&(ca=I(cu,Wu,8,ko,al)),_s&&ca!=0?ja=ca:(qc.a=3,ja=0)}if(ja==0)break r;if(xi&&Rf[ar]==1&&(xi=nc[Br].g==0),oc+=nc[Br].g,Br+=ja,3>=ar){var Ju,zf=Wo[0];for(Ju=1;Ju<bn;++Ju)Wo[Ju]>zf&&(zf=Wo[Ju]);ic+=zf}}if(Fi.nd=xi,Fi.Qb=0,xi&&(Fi.qb=(as[3][ac[3]+0].value<<24|as[1][ac[1]+0].value<<16|as[2][ac[2]+0].value)>>>0,oc==0&&256>as[0][ac[0]+0].value&&(Fi.Qb=1,Fi.qb+=as[0][ac[0]+0].value<<8)),Fi.jc=!Fi.Qb&&6>ic,Fi.jc){var Ld,is=Fi;for(Ld=0;Ld<Gr;++Ld){var lc=Ld,il=is.pd[lc],fu=is.G[0][is.H[0]+lc];256<=fu.value?(il.g=fu.g+256,il.value=fu.value):(il.g=0,il.value=0,lc>>=Et(fu,8,il),lc>>=Et(is.G[1][is.H[1]+lc],16,il),lc>>=Et(is.G[2][is.H[2]+lc],0,il),Et(is.G[3][is.H[3]+lc],24,il))}}}kn.vc=Un,kn.Wb=Zn,kn.Ya=wi,kn.yc=lo,Sr=1;break t}Sr=0}if(!(de=Sr)){ne.a=3;break e}if(0<P){if(Ce.ua=1<<P,!Pe(Ce.Wa,P)){ne.a=1,de=0;break e}}else Ce.ua=0;var Bf=ne,qf=pe,Eg=ge,Uf=Bf.s,Hf=Uf.xc;if(Bf.c=qf,Bf.i=Eg,Uf.md=Te(qf,Hf),Uf.wc=Hf==0?-1:(1<<Hf)-1,W){ne.xb=Co;break e}if((Z=i(pe*ge))==null){ne.a=1,de=0;break e}de=(de=vt(ne,Z,0,pe,ge,ge,null))&&!ve.h;break e}return de?(se!=null?se[0]=Z:(e(Z==null),e(W)),ne.$=0,W||Kt(Ce)):Kt(Ce),de}function Bt(S,T){var W=S.c*S.i,ne=W+T+16*T;return e(S.c<=T),S.V=i(ne),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+W+T,1)}function it(S,T){var W=S.C,ne=T-W,se=S.V,de=S.Ba+S.c*W;for(e(T<=S.l.o);0<ne;){var pe=16<ne?16:ne,ge=S.l.ma,ve=S.l.width,Ce=ve*pe,Z=ge.ca,P=ge.tb+ve*W,V=S.Ta,oe=S.Ua;Gt(S,pe,se,de),Ra(V,oe,Z,P,Ce),_t(ge,W,W+pe,Z,P,ve),ne-=pe,se+=pe*S.c,W+=pe}e(W==T),S.C=S.Ma=T}function xt(){this.ub=this.yd=this.td=this.Rb=0}function Ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ir(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function nr(){this.Yb=function(){var S=[];return function T(W,ne,se){for(var de=se[ne],pe=0;pe<de&&(W.push(se.length>ne+1?[]:0),!(se.length<ne+1));pe++)T(W[pe],ne+1,se)}(S,0,[3,11]),S}()}function Rt(){this.jb=i(3),this.Wc=l([4,8],nr),this.Xc=l([4,17],nr)}function yr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function Ur(){this.Na=this.la=0}function Ye(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ae(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function we(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new ae),this.aa=0,this.l=new st}function $e(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Xe(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new xt,this.Kc=new Ht,this.ed=new yr,this.Qa=new ir,this.Ic=this.$c=this.Aa=0,this.D=new we,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,U),this.ia=0,this.pb=s(4,Ye),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $e),this.Hd=0,this.rb=Array(new Ur),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ae),this.L=this.aa=0,this.gd=l([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function st(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ot(){var S=new Xe;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Qs||(Qs=An)),S}function Yt(S,T,W){return S.a==0&&(S.a=T,S.sc=W,S.cb=0),0}function Ar(S,T,W){return 3<=W&&S[T+0]==157&&S[T+1]==1&&S[T+2]==42}function $r(S,T){if(S==null)return 0;if(S.a=0,S.sc="OK",T==null)return Yt(S,2,"null VP8Io passed to VP8GetHeaders()");var W=T.data,ne=T.w,se=T.ha;if(4>se)return Yt(S,7,"Truncated header.");var de=W[ne+0]|W[ne+1]<<8|W[ne+2]<<16,pe=S.Od;if(pe.Rb=!(1&de),pe.td=de>>1&7,pe.yd=de>>4&1,pe.ub=de>>5,3<pe.td)return Yt(S,3,"Incorrect keyframe parameters.");if(!pe.yd)return Yt(S,4,"Frame not displayable.");ne+=3,se-=3;var ge=S.Kc;if(pe.Rb){if(7>se)return Yt(S,7,"cannot parse picture header");if(!Ar(W,ne,se))return Yt(S,3,"Bad code word");ge.c=16383&(W[ne+4]<<8|W[ne+3]),ge.Td=W[ne+4]>>6,ge.i=16383&(W[ne+6]<<8|W[ne+5]),ge.Ud=W[ne+6]>>6,ne+=7,se-=7,S.za=ge.c+15>>4,S.Ub=ge.i+15>>4,T.width=ge.c,T.height=ge.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,a((de=S.Pa).jb,0,255,de.jb.length),e((de=S.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,a(de.Zb,0,0,de.Zb.length),a(de.Lb,0,0,de.Lb)}if(pe.ub>se)return Yt(S,7,"bad partition length");H(de=S.m,W,ne,pe.ub),ne+=pe.ub,se-=pe.ub,pe.Rb&&(ge.Ld=me(de),ge.Kd=me(de)),ge=S.Qa;var ve,Ce=S.Pa;if(e(de!=null),e(ge!=null),ge.Cb=me(de),ge.Cb){if(ge.Bb=me(de),me(de)){for(ge.Fb=me(de),ve=0;4>ve;++ve)ge.Zb[ve]=me(de)?ee(de,7):0;for(ve=0;4>ve;++ve)ge.Lb[ve]=me(de)?ee(de,6):0}if(ge.Bb)for(ve=0;3>ve;++ve)Ce.jb[ve]=me(de)?J(de,8):255}else ge.Bb=0;if(de.Ka)return Yt(S,3,"cannot parse segment header");if((ge=S.ed).zd=me(de),ge.Tb=J(de,6),ge.wb=J(de,3),ge.Pc=me(de),ge.Pc&&me(de)){for(Ce=0;4>Ce;++Ce)me(de)&&(ge.vd[Ce]=ee(de,6));for(Ce=0;4>Ce;++Ce)me(de)&&(ge.od[Ce]=ee(de,6))}if(S.L=ge.Tb==0?0:ge.zd?1:2,de.Ka)return Yt(S,3,"cannot parse filter header");var Z=se;if(se=ve=ne,ne=ve+Z,ge=Z,S.Xb=(1<<J(S.m,2))-1,Z<3*(Ce=S.Xb))W=7;else{for(ve+=3*Ce,ge-=3*Ce,Z=0;Z<Ce;++Z){var P=W[se+0]|W[se+1]<<8|W[se+2]<<16;P>ge&&(P=ge),H(S.Jc[+Z],W,ve,P),ve+=P,ge-=P,se+=3}H(S.Jc[+Ce],W,ve,ge),W=ve<ne?0:5}if(W!=0)return Yt(S,W,"cannot parse partitions");for(W=J(ve=S.m,7),se=me(ve)?ee(ve,4):0,ne=me(ve)?ee(ve,4):0,ge=me(ve)?ee(ve,4):0,Ce=me(ve)?ee(ve,4):0,ve=me(ve)?ee(ve,4):0,Z=S.Qa,P=0;4>P;++P){if(Z.Cb){var V=Z.Zb[P];Z.Fb||(V+=W)}else{if(0<P){S.pb[P]=S.pb[0];continue}V=W}var oe=S.pb[P];oe.Sc[0]=Fc[yt(V+se,127)],oe.Sc[1]=Nl[yt(V+0,127)],oe.Eb[0]=2*Fc[yt(V+ne,127)],oe.Eb[1]=101581*Nl[yt(V+ge,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Fc[yt(V+Ce,117)],oe.Qc[1]=Nl[yt(V+ve,127)],oe.lc=V+ve}if(!pe.Rb)return Yt(S,4,"Not a key frame.");for(me(de),pe=S.Pa,W=0;4>W;++W){for(se=0;8>se;++se)for(ne=0;3>ne;++ne)for(ge=0;11>ge;++ge)Ce=he(de,Df[W][se][ne][ge])?J(de,8):Zl[W][se][ne][ge],pe.Wc[W][se].Yb[ne][ge]=Ce;for(se=0;17>se;++se)pe.Xc[W][se]=pe.Wc[W][Od[se]]}return S.kc=me(de),S.kc&&(S.Bd=J(de,8)),S.cb=1}function An(S,T,W,ne,se,de,pe){var ge=T[se].Yb[W];for(W=0;16>se;++se){if(!he(S,ge[W+0]))return se;for(;!he(S,ge[W+1]);)if(ge=T[++se].Yb[0],W=0,se==16)return 16;var ve=T[se+1].Yb;if(he(S,ge[W+2])){var Ce=S,Z=0;if(he(Ce,(V=ge)[(P=W)+3]))if(he(Ce,V[P+6])){for(ge=0,P=2*(Z=he(Ce,V[P+8]))+(V=he(Ce,V[P+9+Z])),Z=0,V=Ad[P];V[ge];++ge)Z+=Z+he(Ce,V[ge]);Z+=3+(8<<P)}else he(Ce,V[P+7])?(Z=7+2*he(Ce,165),Z+=he(Ce,145)):Z=5+he(Ce,159);else Z=he(Ce,V[P+4])?3+he(Ce,V[P+5]):2;ge=ve[2]}else Z=1,ge=ve[1];ve=pe+qu[se],0>(Ce=S).b&&ye(Ce);var P,V=Ce.b,oe=(P=Ce.Ca>>1)-(Ce.I>>V)>>31;--Ce.b,Ce.Ca+=oe,Ce.Ca|=1,Ce.I-=(P+1&oe)<<V,de[ve]=((Z^oe)-oe)*ne[(0<se)+0]}return 16}function In(S){var T=S.rb[S.sb-1];T.la=0,T.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function Pr(S,T){if(S==null)return 0;if(T==null)return Yt(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!$r(S,T))return 0;if(e(S.cb),T.ac==null||T.ac(T)){T.ob&&(S.L=0);var W=tc[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=T.v-W>>4,S.zb=T.j-W>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=T.o+15+W>>4,S.Hb=T.va+15+W>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var ne=S.ed;for(W=0;4>W;++W){var se;if(S.Qa.Cb){var de=S.Qa.Lb[W];S.Qa.Fb||(de+=ne.Tb)}else de=ne.Tb;for(se=0;1>=se;++se){var pe=S.gd[W][se],ge=de;if(ne.Pc&&(ge+=ne.vd[0],se&&(ge+=ne.od[0])),0<(ge=0>ge?0:63<ge?63:ge)){var ve=ge;0<ne.wb&&(ve=4<ne.wb?ve>>2:ve>>1)>9-ne.wb&&(ve=9-ne.wb),1>ve&&(ve=1),pe.dd=ve,pe.tc=2*ge+ve,pe.ld=40<=ge?2:15<=ge?1:0}else pe.tc=0;pe.La=se}}}W=0}else Yt(S,6,"Frame setup failed"),W=S.a;if(W=W==0){if(W){S.$c=0,0<S.Aa||(S.Ic=rl);e:{W=S.Ic,ne=4*(ve=S.za);var Ce=32*ve,Z=ve+1,P=0<S.L?ve*(0<S.Aa?2:1):0,V=(S.Aa==2?2:1)*ve;if((pe=ne+832+(se=3*(16*W+tc[S.L])/2*Ce)+(de=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=pe)W=0;else{if(pe>S.Vb){if(S.Vb=0,S.Ec=i(pe),S.Fc=0,S.Ec==null){W=Yt(S,1,"no memory during frame initialization.");break e}S.Vb=pe}pe=S.Ec,ge=S.Fc,S.Ac=pe,S.Bc=ge,ge+=ne,S.Gd=s(Ce,$e),S.Hd=0,S.rb=s(Z+1,Ur),S.sb=1,S.wa=P?s(P,Vr):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ve),e(!0),S.oc=pe,S.pc=ge,ge+=832,S.ya=s(V,ae),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ve),S.R=16*ve,S.B=8*ve,ve=(Ce=tc[S.L])*S.R,Ce=Ce/2*S.B,S.sa=pe,S.ta=ge+ve,S.qa=S.sa,S.ra=S.ta+16*W*S.R+Ce,S.Ha=S.qa,S.Ia=S.ra+8*W*S.B+Ce,S.$c=0,ge+=se,S.mb=de?pe:null,S.nb=de?ge:null,e(ge+de<=S.Fc+S.Vb),In(S),a(S.Ac,S.Bc,0,ne),W=1}}if(W){if(T.ka=0,T.y=S.sa,T.O=S.ta,T.f=S.qa,T.N=S.ra,T.ea=S.Ha,T.Vd=S.Ia,T.fa=S.R,T.Rc=S.B,T.F=null,T.J=0,!bi){for(W=-255;255>=W;++W)Ha[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)Ps[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Lc[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)Gl[255+W]=0>W?0:255<W?255:W;bi=1}Rc=cn,Xs=Kn,Es=Nn,io=aa,zo=ya,zn=na,Vl=Us,ou=Oa,gi=Ti,Bo=Ul,xl=no,vi=Ja,Ss=Hs,rs=Ws,Cs=Mo,Ns=Fo,El=Va,so=Ic,Mi[0]=jo,Mi[1]=Oi,Mi[2]=Zo,Mi[3]=Qo,Mi[4]=vs,Mi[5]=gl,Mi[6]=bo,Mi[7]=qs,Mi[8]=bs,Mi[9]=Zi,Uo[0]=hn,Uo[1]=Ae,Uo[2]=Pt,Uo[3]=vr,Uo[4]=_n,Uo[5]=vo,Uo[6]=za,Xa[0]=wo,Xa[1]=Ft,Xa[2]=ql,Xa[3]=Qi,Xa[4]=es,Xa[5]=ys,Xa[6]=ts,W=1}else W=0}W&&(W=function(oe,Ne){for(oe.M=0;oe.M<oe.Va;++oe.M){var Ee,be=oe.Jc[oe.M&oe.Xb],Se=oe.m,qe=oe;for(Ee=0;Ee<qe.za;++Ee){var Ve=Se,Ke=qe,ft=Ke.Ac,kt=Ke.Bc+4*Ee,$t=Ke.zc,Ct=Ke.ya[Ke.aa+Ee];if(Ke.Qa.Bb?Ct.$b=he(Ve,Ke.Pa.jb[0])?2+he(Ve,Ke.Pa.jb[2]):he(Ve,Ke.Pa.jb[1]):Ct.$b=0,Ke.kc&&(Ct.Ad=he(Ve,Ke.Bd)),Ct.Za=!he(Ve,145)+0,Ct.Za){var fr=Ct.Ob,pr=0;for(Ke=0;4>Ke;++Ke){var Tr,Er=$t[0+Ke];for(Tr=0;4>Tr;++Tr){Er=_d[ft[kt+Tr]][Er];for(var Sr=jf[he(Ve,Er[0])];0<Sr;)Sr=jf[2*Sr+he(Ve,Er[Sr])];Er=-Sr,ft[kt+Tr]=Er}n(fr,pr,ft,kt,4),pr+=4,$t[0+Ke]=Er}}else Er=he(Ve,156)?he(Ve,128)?1:3:he(Ve,163)?2:0,Ct.Ob[0]=Er,a(ft,kt,Er,4),a($t,0,Er,4);Ct.Dd=he(Ve,142)?he(Ve,114)?he(Ve,183)?1:3:2:0}if(qe.m.Ka)return Yt(oe,7,"Premature end-of-partition0 encountered.");for(;oe.ja<oe.za;++oe.ja){if(qe=be,Ve=(Se=oe).rb[Se.sb-1],ft=Se.rb[Se.sb+Se.ja],Ee=Se.ya[Se.aa+Se.ja],kt=Se.kc?Ee.Ad:0)Ve.la=ft.la=0,Ee.Za||(Ve.Na=ft.Na=0),Ee.Hc=0,Ee.Gc=0,Ee.ia=0;else{var Mr,ar;if(Ve=ft,ft=qe,kt=Se.Pa.Xc,$t=Se.ya[Se.aa+Se.ja],Ct=Se.pb[$t.$b],Ke=$t.ad,fr=0,pr=Se.rb[Se.sb-1],Er=Tr=0,a(Ke,fr,0,384),$t.Za)var Br=0,mn=kt[3];else{Sr=i(16);var Qr=Ve.Na+pr.Na;if(Qr=Qs(ft,kt[1],Qr,Ct.Eb,0,Sr,0),Ve.Na=pr.Na=(0<Qr)+0,1<Qr)Rc(Sr,0,Ke,fr);else{var nn=Sr[0]+3>>3;for(Sr=0;256>Sr;Sr+=16)Ke[fr+Sr]=nn}Br=1,mn=kt[0]}var Jr=15&Ve.la,Xn=15&pr.la;for(Sr=0;4>Sr;++Sr){var la=1&Xn;for(nn=ar=0;4>nn;++nn)Jr=Jr>>1|(la=(Qr=Qs(ft,mn,Qr=la+(1&Jr),Ct.Sc,Br,Ke,fr))>Br)<<7,ar=ar<<2|(3<Qr?3:1<Qr?2:Ke[fr+0]!=0),fr+=16;Jr>>=4,Xn=Xn>>1|la<<7,Tr=(Tr<<8|ar)>>>0}for(mn=Jr,Br=Xn>>4,Mr=0;4>Mr;Mr+=2){for(ar=0,Jr=Ve.la>>4+Mr,Xn=pr.la>>4+Mr,Sr=0;2>Sr;++Sr){for(la=1&Xn,nn=0;2>nn;++nn)Qr=la+(1&Jr),Jr=Jr>>1|(la=0<(Qr=Qs(ft,kt[2],Qr,Ct.Qc,0,Ke,fr)))<<3,ar=ar<<2|(3<Qr?3:1<Qr?2:Ke[fr+0]!=0),fr+=16;Jr>>=2,Xn=Xn>>1|la<<5}Er|=ar<<4*Mr,mn|=Jr<<4<<Mr,Br|=(240&Xn)<<Mr}Ve.la=mn,pr.la=Br,$t.Hc=Tr,$t.Gc=Er,$t.ia=43690&Er?0:Ct.ia,kt=!(Tr|Er)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[Ee.$b][Ee.Za],Se.wa[Se.Y+Se.ja].La|=!kt),qe.Ka)return Yt(oe,7,"Premature end-of-file encountered.")}if(In(oe),Se=Ne,qe=1,Ee=(be=oe).D,Ve=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Ee.M=be.M,Ee.uc=Ve,er(be,Ee),qe=1,Ee=(ar=be.D).Nb,Ve=(Er=tc[be.L])*be.R,ft=Er/2*be.B,Sr=16*Ee*be.R,nn=8*Ee*be.B,kt=be.sa,$t=be.ta-Ve+Sr,Ct=be.qa,Ke=be.ra-ft+nn,fr=be.Ha,pr=be.Ia-ft+nn,Xn=(Jr=ar.M)==0,Tr=Jr>=be.Va-1,be.Aa==2&&er(be,ar),ar.uc)for(la=(Qr=be).D.M,e(Qr.D.uc),ar=Qr.yb;ar<Qr.Hb;++ar){Br=ar,mn=la;var kn=(Un=(bn=Qr).D).Nb;Mr=bn.R;var Un=Un.wa[Un.Y+Br],Zn=bn.sa,On=bn.ta+16*kn*Mr+16*Br,Ba=Un.dd,Mn=Un.tc;if(Mn!=0)if(e(3<=Mn),bn.L==1)0<Br&&Ns(Zn,On,Mr,Mn+4),Un.La&&so(Zn,On,Mr,Mn),0<mn&&Cs(Zn,On,Mr,Mn+4),Un.La&&El(Zn,On,Mr,Mn);else{var ha=bn.B,Hn=bn.qa,Rn=bn.ra+8*kn*ha+8*Br,Pa=bn.Ha,bn=bn.Ia+8*kn*ha+8*Br;kn=Un.ld,0<Br&&(ou(Zn,On,Mr,Mn+4,Ba,kn),Bo(Hn,Rn,Pa,bn,ha,Mn+4,Ba,kn)),Un.La&&(vi(Zn,On,Mr,Mn,Ba,kn),rs(Hn,Rn,Pa,bn,ha,Mn,Ba,kn)),0<mn&&(Vl(Zn,On,Mr,Mn+4,Ba,kn),gi(Hn,Rn,Pa,bn,ha,Mn+4,Ba,kn)),Un.La&&(xl(Zn,On,Mr,Mn,Ba,kn),Ss(Hn,Rn,Pa,bn,ha,Mn,Ba,kn))}}if(be.ia&&alert("todo:DitherRow"),Se.put!=null){if(ar=16*Jr,Jr=16*(Jr+1),Xn?(Se.y=be.sa,Se.O=be.ta+Sr,Se.f=be.qa,Se.N=be.ra+nn,Se.ea=be.Ha,Se.W=be.Ia+nn):(ar-=Er,Se.y=kt,Se.O=$t,Se.f=Ct,Se.N=Ke,Se.ea=fr,Se.W=pr),Tr||(Jr-=Er),Jr>Se.o&&(Jr=Se.o),Se.F=null,Se.J=null,be.Fa!=null&&0<be.Fa.length&&ar<Jr&&(Se.J=Gs(be,Se,ar,Jr-ar),Se.F=be.mb,Se.F==null&&Se.F.length==0)){qe=Yt(be,3,"Could not decode alpha data.");break e}ar<Se.j&&(Er=Se.j-ar,ar=Se.j,e(!(1&Er)),Se.O+=be.R*Er,Se.N+=be.B*(Er>>1),Se.W+=be.B*(Er>>1),Se.F!=null&&(Se.J+=Se.width*Er)),ar<Jr&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=ar-Se.j,Se.U=Se.va-Se.v,Se.T=Jr-ar,qe=Se.put(Se))}Ee+1!=be.Ic||Tr||(n(be.sa,be.ta-Ve,kt,$t+16*be.R,Ve),n(be.qa,be.ra-ft,Ct,Ke+8*be.B,ft),n(be.Ha,be.Ia-ft,fr,pr+8*be.B,ft))}if(!qe)return Yt(oe,6,"Output aborted.")}return 1}(S,T)),T.bc!=null&&T.bc(T),W&=1}return W?(S.cb=0,W):0}function Dr(S,T,W,ne,se){se=S[T+W+32*ne]+(se>>3),S[T+W+32*ne]=-256&se?0>se?0:255:se}function Rr(S,T,W,ne,se,de){Dr(S,T,0,W,ne+se),Dr(S,T,1,W,ne+de),Dr(S,T,2,W,ne-de),Dr(S,T,3,W,ne-se)}function rn(S){return(20091*S>>16)+S}function wn(S,T,W,ne){var se,de=0,pe=i(16);for(se=0;4>se;++se){var ge=S[T+0]+S[T+8],ve=S[T+0]-S[T+8],Ce=(35468*S[T+4]>>16)-rn(S[T+12]),Z=rn(S[T+4])+(35468*S[T+12]>>16);pe[de+0]=ge+Z,pe[de+1]=ve+Ce,pe[de+2]=ve-Ce,pe[de+3]=ge-Z,de+=4,T++}for(se=de=0;4>se;++se)ge=(S=pe[de+0]+4)+pe[de+8],ve=S-pe[de+8],Ce=(35468*pe[de+4]>>16)-rn(pe[de+12]),Dr(W,ne,0,0,ge+(Z=rn(pe[de+4])+(35468*pe[de+12]>>16))),Dr(W,ne,1,0,ve+Ce),Dr(W,ne,2,0,ve-Ce),Dr(W,ne,3,0,ge-Z),de++,ne+=32}function na(S,T,W,ne){var se=S[T+0]+4,de=35468*S[T+4]>>16,pe=rn(S[T+4]),ge=35468*S[T+1]>>16;Rr(W,ne,0,se+pe,S=rn(S[T+1]),ge),Rr(W,ne,1,se+de,S,ge),Rr(W,ne,2,se-de,S,ge),Rr(W,ne,3,se-pe,S,ge)}function Kn(S,T,W,ne,se){wn(S,T,W,ne),se&&wn(S,T+16,W,ne+4)}function Nn(S,T,W,ne){Xs(S,T+0,W,ne,1),Xs(S,T+32,W,ne+128,1)}function aa(S,T,W,ne){var se;for(S=S[T+0]+4,se=0;4>se;++se)for(T=0;4>T;++T)Dr(W,ne,T,se,S)}function ya(S,T,W,ne){S[T+0]&&io(S,T+0,W,ne),S[T+16]&&io(S,T+16,W,ne+4),S[T+32]&&io(S,T+32,W,ne+128),S[T+48]&&io(S,T+48,W,ne+128+4)}function cn(S,T,W,ne){var se,de=i(16);for(se=0;4>se;++se){var pe=S[T+0+se]+S[T+12+se],ge=S[T+4+se]+S[T+8+se],ve=S[T+4+se]-S[T+8+se],Ce=S[T+0+se]-S[T+12+se];de[0+se]=pe+ge,de[8+se]=pe-ge,de[4+se]=Ce+ve,de[12+se]=Ce-ve}for(se=0;4>se;++se)pe=(S=de[0+4*se]+3)+de[3+4*se],ge=de[1+4*se]+de[2+4*se],ve=de[1+4*se]-de[2+4*se],Ce=S-de[3+4*se],W[ne+0]=pe+ge>>3,W[ne+16]=Ce+ve>>3,W[ne+32]=pe-ge>>3,W[ne+48]=Ce-ve>>3,ne+=64}function Ya(S,T,W){var ne,se=T-32,de=qo,pe=255-S[se-1];for(ne=0;ne<W;++ne){var ge,ve=de,Ce=pe+S[T-1];for(ge=0;ge<W;++ge)S[T+ge]=ve[Ce+S[se+ge]];T+=32}}function Oi(S,T){Ya(S,T,4)}function Ft(S,T){Ya(S,T,8)}function Ae(S,T){Ya(S,T,16)}function Pt(S,T){var W;for(W=0;16>W;++W)n(S,T+32*W,S,T-32,16)}function vr(S,T){var W;for(W=16;0<W;--W)a(S,T,S[T-1],16),T+=32}function Cn(S,T,W){var ne;for(ne=0;16>ne;++ne)a(T,W+32*ne,S,16)}function hn(S,T){var W,ne=16;for(W=0;16>W;++W)ne+=S[T-1+32*W]+S[T+W-32];Cn(ne>>5,S,T)}function _n(S,T){var W,ne=8;for(W=0;16>W;++W)ne+=S[T-1+32*W];Cn(ne>>4,S,T)}function vo(S,T){var W,ne=8;for(W=0;16>W;++W)ne+=S[T+W-32];Cn(ne>>4,S,T)}function za(S,T){Cn(128,S,T)}function Hr(S,T,W){return S+2*T+W+2>>2}function Zo(S,T){var W,ne=T-32;for(ne=new Uint8Array([Hr(S[ne-1],S[ne+0],S[ne+1]),Hr(S[ne+0],S[ne+1],S[ne+2]),Hr(S[ne+1],S[ne+2],S[ne+3]),Hr(S[ne+2],S[ne+3],S[ne+4])]),W=0;4>W;++W)n(S,T+32*W,ne,0,ne.length)}function Qo(S,T){var W=S[T-1],ne=S[T-1+32],se=S[T-1+64],de=S[T-1+96];je(S,T+0,16843009*Hr(S[T-1-32],W,ne)),je(S,T+32,16843009*Hr(W,ne,se)),je(S,T+64,16843009*Hr(ne,se,de)),je(S,T+96,16843009*Hr(se,de,de))}function jo(S,T){var W,ne=4;for(W=0;4>W;++W)ne+=S[T+W-32]+S[T-1+32*W];for(ne>>=3,W=0;4>W;++W)a(S,T+32*W,ne,4)}function vs(S,T){var W=S[T-1+0],ne=S[T-1+32],se=S[T-1+64],de=S[T-1-32],pe=S[T+0-32],ge=S[T+1-32],ve=S[T+2-32],Ce=S[T+3-32];S[T+0+96]=Hr(ne,se,S[T-1+96]),S[T+1+96]=S[T+0+64]=Hr(W,ne,se),S[T+2+96]=S[T+1+64]=S[T+0+32]=Hr(de,W,ne),S[T+3+96]=S[T+2+64]=S[T+1+32]=S[T+0+0]=Hr(pe,de,W),S[T+3+64]=S[T+2+32]=S[T+1+0]=Hr(ge,pe,de),S[T+3+32]=S[T+2+0]=Hr(ve,ge,pe),S[T+3+0]=Hr(Ce,ve,ge)}function bo(S,T){var W=S[T+1-32],ne=S[T+2-32],se=S[T+3-32],de=S[T+4-32],pe=S[T+5-32],ge=S[T+6-32],ve=S[T+7-32];S[T+0+0]=Hr(S[T+0-32],W,ne),S[T+1+0]=S[T+0+32]=Hr(W,ne,se),S[T+2+0]=S[T+1+32]=S[T+0+64]=Hr(ne,se,de),S[T+3+0]=S[T+2+32]=S[T+1+64]=S[T+0+96]=Hr(se,de,pe),S[T+3+32]=S[T+2+64]=S[T+1+96]=Hr(de,pe,ge),S[T+3+64]=S[T+2+96]=Hr(pe,ge,ve),S[T+3+96]=Hr(ge,ve,ve)}function gl(S,T){var W=S[T-1+0],ne=S[T-1+32],se=S[T-1+64],de=S[T-1-32],pe=S[T+0-32],ge=S[T+1-32],ve=S[T+2-32],Ce=S[T+3-32];S[T+0+0]=S[T+1+64]=de+pe+1>>1,S[T+1+0]=S[T+2+64]=pe+ge+1>>1,S[T+2+0]=S[T+3+64]=ge+ve+1>>1,S[T+3+0]=ve+Ce+1>>1,S[T+0+96]=Hr(se,ne,W),S[T+0+64]=Hr(ne,W,de),S[T+0+32]=S[T+1+96]=Hr(W,de,pe),S[T+1+32]=S[T+2+96]=Hr(de,pe,ge),S[T+2+32]=S[T+3+96]=Hr(pe,ge,ve),S[T+3+32]=Hr(ge,ve,Ce)}function qs(S,T){var W=S[T+0-32],ne=S[T+1-32],se=S[T+2-32],de=S[T+3-32],pe=S[T+4-32],ge=S[T+5-32],ve=S[T+6-32],Ce=S[T+7-32];S[T+0+0]=W+ne+1>>1,S[T+1+0]=S[T+0+64]=ne+se+1>>1,S[T+2+0]=S[T+1+64]=se+de+1>>1,S[T+3+0]=S[T+2+64]=de+pe+1>>1,S[T+0+32]=Hr(W,ne,se),S[T+1+32]=S[T+0+96]=Hr(ne,se,de),S[T+2+32]=S[T+1+96]=Hr(se,de,pe),S[T+3+32]=S[T+2+96]=Hr(de,pe,ge),S[T+3+64]=Hr(pe,ge,ve),S[T+3+96]=Hr(ge,ve,Ce)}function Zi(S,T){var W=S[T-1+0],ne=S[T-1+32],se=S[T-1+64],de=S[T-1+96];S[T+0+0]=W+ne+1>>1,S[T+2+0]=S[T+0+32]=ne+se+1>>1,S[T+2+32]=S[T+0+64]=se+de+1>>1,S[T+1+0]=Hr(W,ne,se),S[T+3+0]=S[T+1+32]=Hr(ne,se,de),S[T+3+32]=S[T+1+64]=Hr(se,de,de),S[T+3+64]=S[T+2+64]=S[T+0+96]=S[T+1+96]=S[T+2+96]=S[T+3+96]=de}function bs(S,T){var W=S[T-1+0],ne=S[T-1+32],se=S[T-1+64],de=S[T-1+96],pe=S[T-1-32],ge=S[T+0-32],ve=S[T+1-32],Ce=S[T+2-32];S[T+0+0]=S[T+2+32]=W+pe+1>>1,S[T+0+32]=S[T+2+64]=ne+W+1>>1,S[T+0+64]=S[T+2+96]=se+ne+1>>1,S[T+0+96]=de+se+1>>1,S[T+3+0]=Hr(ge,ve,Ce),S[T+2+0]=Hr(pe,ge,ve),S[T+1+0]=S[T+3+32]=Hr(W,pe,ge),S[T+1+32]=S[T+3+64]=Hr(ne,W,pe),S[T+1+64]=S[T+3+96]=Hr(se,ne,W),S[T+1+96]=Hr(de,se,ne)}function ql(S,T){var W;for(W=0;8>W;++W)n(S,T+32*W,S,T-32,8)}function Qi(S,T){var W;for(W=0;8>W;++W)a(S,T,S[T-1],8),T+=32}function yo(S,T,W){var ne;for(ne=0;8>ne;++ne)a(T,W+32*ne,S,8)}function wo(S,T){var W,ne=8;for(W=0;8>W;++W)ne+=S[T+W-32]+S[T-1+32*W];yo(ne>>4,S,T)}function ys(S,T){var W,ne=4;for(W=0;8>W;++W)ne+=S[T+W-32];yo(ne>>3,S,T)}function es(S,T){var W,ne=4;for(W=0;8>W;++W)ne+=S[T-1+32*W];yo(ne>>3,S,T)}function ts(S,T){yo(128,S,T)}function Ii(S,T,W){var ne=S[T-W],se=S[T+0],de=3*(se-ne)+ns[1020+S[T-2*W]-S[T+W]],pe=jc[112+(de+4>>3)];S[T-W]=qo[255+ne+jc[112+(de+3>>3)]],S[T+0]=qo[255+se-pe]}function ws(S,T,W,ne){var se=S[T+0],de=S[T+W];return Di[255+S[T-2*W]-S[T-W]]>ne||Di[255+de-se]>ne}function fi(S,T,W,ne){return 4*Di[255+S[T-W]-S[T+0]]+Di[255+S[T-2*W]-S[T+W]]<=ne}function Do(S,T,W,ne,se){var de=S[T-3*W],pe=S[T-2*W],ge=S[T-W],ve=S[T+0],Ce=S[T+W],Z=S[T+2*W],P=S[T+3*W];return 4*Di[255+ge-ve]+Di[255+pe-Ce]>ne?0:Di[255+S[T-4*W]-de]<=se&&Di[255+de-pe]<=se&&Di[255+pe-ge]<=se&&Di[255+P-Z]<=se&&Di[255+Z-Ce]<=se&&Di[255+Ce-ve]<=se}function Mo(S,T,W,ne){var se=2*ne+1;for(ne=0;16>ne;++ne)fi(S,T+ne,W,se)&&Ii(S,T+ne,W)}function Fo(S,T,W,ne){var se=2*ne+1;for(ne=0;16>ne;++ne)fi(S,T+ne*W,1,se)&&Ii(S,T+ne*W,1)}function Va(S,T,W,ne){var se;for(se=3;0<se;--se)Mo(S,T+=4*W,W,ne)}function Ic(S,T,W,ne){var se;for(se=3;0<se;--se)Fo(S,T+=4,W,ne)}function $o(S,T,W,ne,se,de,pe,ge){for(de=2*de+1;0<se--;){if(Do(S,T,W,de,pe))if(ws(S,T,W,ge))Ii(S,T,W);else{var ve=S,Ce=T,Z=W,P=ve[Ce-2*Z],V=ve[Ce-Z],oe=ve[Ce+0],Ne=ve[Ce+Z],Ee=ve[Ce+2*Z],be=27*(qe=ns[1020+3*(oe-V)+ns[1020+P-Ne]])+63>>7,Se=18*qe+63>>7,qe=9*qe+63>>7;ve[Ce-3*Z]=qo[255+ve[Ce-3*Z]+qe],ve[Ce-2*Z]=qo[255+P+Se],ve[Ce-Z]=qo[255+V+be],ve[Ce+0]=qo[255+oe-be],ve[Ce+Z]=qo[255+Ne-Se],ve[Ce+2*Z]=qo[255+Ee-qe]}T+=ne}}function ro(S,T,W,ne,se,de,pe,ge){for(de=2*de+1;0<se--;){if(Do(S,T,W,de,pe))if(ws(S,T,W,ge))Ii(S,T,W);else{var ve=S,Ce=T,Z=W,P=ve[Ce-Z],V=ve[Ce+0],oe=ve[Ce+Z],Ne=jc[112+((Ee=3*(V-P))+4>>3)],Ee=jc[112+(Ee+3>>3)],be=Ne+1>>1;ve[Ce-2*Z]=qo[255+ve[Ce-2*Z]+be],ve[Ce-Z]=qo[255+P+Ee],ve[Ce+0]=qo[255+V-Ne],ve[Ce+Z]=qo[255+oe-be]}T+=ne}}function Us(S,T,W,ne,se,de){$o(S,T,W,1,16,ne,se,de)}function Oa(S,T,W,ne,se,de){$o(S,T,1,W,16,ne,se,de)}function no(S,T,W,ne,se,de){var pe;for(pe=3;0<pe;--pe)ro(S,T+=4*W,W,1,16,ne,se,de)}function Ja(S,T,W,ne,se,de){var pe;for(pe=3;0<pe;--pe)ro(S,T+=4,1,W,16,ne,se,de)}function Ti(S,T,W,ne,se,de,pe,ge){$o(S,T,se,1,8,de,pe,ge),$o(W,ne,se,1,8,de,pe,ge)}function Ul(S,T,W,ne,se,de,pe,ge){$o(S,T,1,se,8,de,pe,ge),$o(W,ne,1,se,8,de,pe,ge)}function Hs(S,T,W,ne,se,de,pe,ge){ro(S,T+4*se,se,1,8,de,pe,ge),ro(W,ne+4*se,se,1,8,de,pe,ge)}function Ws(S,T,W,ne,se,de,pe,ge){ro(S,T+4,1,se,8,de,pe,ge),ro(W,ne+4,1,se,8,de,pe,ge)}function mi(){this.ba=new Re,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tc(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new L}function bl(){this.xb=this.a=0,this.l=new st,this.ca=new Re,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tc,this.ab=0,this.gc=s(4,vl),this.Oc=0}function Vs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new st,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ri(S,T,W,ne,se,de,pe){for(S=S==null?0:S[T+0],T=0;T<pe;++T)se[de+T]=S+W[ne+T]&255,S=se[de+T]}function hi(S,T,W,ne,se,de,pe){var ge;if(S==null)Ri(null,null,W,ne,se,de,pe);else for(ge=0;ge<pe;++ge)se[de+ge]=S[T+ge]+W[ne+ge]&255}function Li(S,T,W,ne,se,de,pe){if(S==null)Ri(null,null,W,ne,se,de,pe);else{var ge,ve=S[T+0],Ce=ve,Z=ve;for(ge=0;ge<pe;++ge)Ce=Z+(ve=S[T+ge])-Ce,Z=W[ne+ge]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=ve,se[de+ge]=Z}}function Gs(S,T,W,ne){var se=T.width,de=T.o;if(e(S!=null&&T!=null),0>W||0>=ne||W+ne>de)return null;if(!S.Cc){if(S.ga==null){var pe;if(S.ga=new Vs,(pe=S.ga==null)||(pe=T.width*T.o,e(S.Gb.length==0),S.Gb=i(pe),S.Uc=0,S.Gb==null?pe=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,pe=1),pe=!pe),!pe){pe=S.ga;var ge=S.Fa,ve=S.P,Ce=S.qc,Z=S.mb,P=S.nb,V=ve+1,oe=Ce-1,Ne=pe.l;if(e(ge!=null&&Z!=null&&T!=null),No[0]=null,No[1]=Ri,No[2]=hi,No[3]=Li,pe.ca=Z,pe.tb=P,pe.c=T.width,pe.i=T.height,e(0<pe.c&&0<pe.i),1>=Ce)T=0;else if(pe.$a=ge[ve+0]>>0&3,pe.Z=ge[ve+0]>>2&3,pe.Lc=ge[ve+0]>>4&3,ve=ge[ve+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||ve)T=0;else if(Ne.put=Xr,Ne.ac=xr,Ne.bc=Zr,Ne.ma=pe,Ne.width=T.width,Ne.height=T.height,Ne.Da=T.Da,Ne.v=T.v,Ne.va=T.va,Ne.j=T.j,Ne.o=T.o,pe.$a)e:{e(pe.$a==1),T=cr();t:for(;;){if(T==null){T=0;break e}if(e(pe!=null),pe.mc=T,T.c=pe.c,T.i=pe.i,T.l=pe.l,T.l.ma=pe,T.l.width=pe.c,T.l.height=pe.i,T.a=0,re(T.m,ge,V,oe),!gr(pe.c,pe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Kr(T.s)?(pe.ic=1,ge=T.c*T.i,T.Ta=null,T.Ua=0,T.V=i(ge),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(pe.ic=0,T=Bt(T,pe.c)),!T))break t;T=1;break e}pe.mc=null,T=0}else T=oe>=pe.c*pe.i;pe=!T}if(pe)return null;S.ga.Lc!=1?S.Ga=0:ne=de-W}e(S.ga!=null),e(W+ne<=de);e:{if(T=(ge=S.ga).c,de=ge.l.o,ge.$a==0){if(V=S.rc,oe=S.Vc,Ne=S.Fa,ve=S.P+1+W*T,Ce=S.mb,Z=S.nb+W*T,e(ve<=S.P+S.qc),ge.Z!=0)for(e(No[ge.Z]!=null),pe=0;pe<ne;++pe)No[ge.Z](V,oe,Ne,ve,Ce,Z,T),V=Ce,oe=Z,Z+=T,ve+=T;else for(pe=0;pe<ne;++pe)n(Ce,Z,Ne,ve,T),V=Ce,oe=Z,Z+=T,ve+=T;S.rc=V,S.Vc=oe}else{if(e(ge.mc!=null),T=W+ne,e((pe=ge.mc)!=null),e(T<=pe.i),pe.C>=T)T=1;else if(ge.ic||tt(),ge.ic){ge=pe.V,V=pe.Ba,oe=pe.c;var Ee=pe.i,be=(Ne=1,ve=pe.$/oe,Ce=pe.$%oe,Z=pe.m,P=pe.s,pe.$),Se=oe*Ee,qe=oe*T,Ve=P.wc,Ke=be<qe?Tt(P,Ce,ve):null;e(be<=Se),e(T<=Ee),e(Kr(P));t:for(;;){for(;!Z.h&&be<qe;){if(Ce&Ve||(Ke=Tt(P,Ce,ve)),e(Ke!=null),ie(Z),256>(Ee=dt(Ke.G[0],Ke.H[0],Z)))ge[V+be]=Ee,++be,++Ce>=oe&&(Ce=0,++ve<=T&&!(ve%16)&&at(pe,ve));else{if(!(280>Ee)){Ne=0;break t}Ee=ln(Ee-256,Z);var ft,kt=dt(Ke.G[4],Ke.H[4],Z);if(ie(Z),!(be>=(kt=Sn(oe,kt=ln(kt,Z)))&&Se-be>=Ee)){Ne=0;break t}for(ft=0;ft<Ee;++ft)ge[V+be+ft]=ge[V+be+ft-kt];for(be+=Ee,Ce+=Ee;Ce>=oe;)Ce-=oe,++ve<=T&&!(ve%16)&&at(pe,ve);be<qe&&Ce&Ve&&(Ke=Tt(P,Ce,ve))}e(Z.h==G(Z))}at(pe,ve>T?T:ve);break t}!Ne||Z.h&&be<Se?(Ne=0,pe.a=Z.h?5:3):pe.$=be,T=Ne}else T=vt(pe,pe.V,pe.Ba,pe.c,pe.i,T,it);if(!T){ne=0;break e}}W+ne>=de&&(S.Cc=1),ne=1}if(!ne)return null;if(S.Cc&&((ne=S.ga)!=null&&(ne.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+W*se}function $(S,T,W,ne,se,de){for(;0<se--;){var pe,ge=S,ve=T+(W?1:0),Ce=S,Z=T+(W?0:3);for(pe=0;pe<ne;++pe){var P=Ce[Z+4*pe];P!=255&&(P*=32897,ge[ve+4*pe+0]=ge[ve+4*pe+0]*P>>23,ge[ve+4*pe+1]=ge[ve+4*pe+1]*P>>23,ge[ve+4*pe+2]=ge[ve+4*pe+2]*P>>23)}T+=de}}function le(S,T,W,ne,se){for(;0<ne--;){var de;for(de=0;de<W;++de){var pe=S[T+2*de+0],ge=15&(Ce=S[T+2*de+1]),ve=4369*ge,Ce=(240&Ce|Ce>>4)*ve>>16;S[T+2*de+0]=(240&pe|pe>>4)*ve>>16&240|(15&pe|pe<<4)*ve>>16>>4&15,S[T+2*de+1]=240&Ce|ge}T+=se}}function Ie(S,T,W,ne,se,de,pe,ge){var ve,Ce,Z=255;for(Ce=0;Ce<se;++Ce){for(ve=0;ve<ne;++ve){var P=S[T+ve];de[pe+4*ve]=P,Z&=P}T+=W,pe+=ge}return Z!=255}function ze(S,T,W,ne,se){var de;for(de=0;de<se;++de)W[ne+de]=S[T+de]>>8}function tt(){ti=$,Jn=le,Bn=Ie,Ra=ze}function ht(S,T,W){D[S]=function(ne,se,de,pe,ge,ve,Ce,Z,P,V,oe,Ne,Ee,be,Se,qe,Ve){var Ke,ft=Ve-1>>1,kt=ge[ve+0]|Ce[Z+0]<<16,$t=P[V+0]|oe[Ne+0]<<16;e(ne!=null);var Ct=3*kt+$t+131074>>2;for(T(ne[se+0],255&Ct,Ct>>16,Ee,be),de!=null&&(Ct=3*$t+kt+131074>>2,T(de[pe+0],255&Ct,Ct>>16,Se,qe)),Ke=1;Ke<=ft;++Ke){var fr=ge[ve+Ke]|Ce[Z+Ke]<<16,pr=P[V+Ke]|oe[Ne+Ke]<<16,Tr=kt+fr+$t+pr+524296,Er=Tr+2*(fr+$t)>>3;Ct=Er+kt>>1,kt=(Tr=Tr+2*(kt+pr)>>3)+fr>>1,T(ne[se+2*Ke-1],255&Ct,Ct>>16,Ee,be+(2*Ke-1)*W),T(ne[se+2*Ke-0],255&kt,kt>>16,Ee,be+(2*Ke-0)*W),de!=null&&(Ct=Tr+$t>>1,kt=Er+pr>>1,T(de[pe+2*Ke-1],255&Ct,Ct>>16,Se,qe+(2*Ke-1)*W),T(de[pe+2*Ke+0],255&kt,kt>>16,Se,qe+(2*Ke+0)*W)),kt=fr,$t=pr}1&Ve||(Ct=3*kt+$t+131074>>2,T(ne[se+Ve-1],255&Ct,Ct>>16,Ee,be+(Ve-1)*W),de!=null&&(Ct=3*$t+kt+131074>>2,T(de[pe+Ve-1],255&Ct,Ct>>16,Se,qe+(Ve-1)*W)))}}function Mt(){ri[$u]=pp,ri[Sl]=Pl,ri[Tf]=hp,ri[iu]=zc,ri[su]=Ql,ri[Vn]=Bc,ri[Kl]=Id,ri[Dc]=Pl,ri[Cl]=zc,ri[Mc]=Ql,ri[Zs]=Bc}function mr(S){return S&-16384?0>S?0:255:S>>el}function _r(S,T){return mr((19077*S>>8)+(26149*T>>8)-14234)}function Yr(S,T,W){return mr((19077*S>>8)-(6419*T>>8)-(13320*W>>8)+8708)}function an(S,T){return mr((19077*S>>8)+(33050*T>>8)-17685)}function xn(S,T,W,ne,se){ne[se+0]=_r(S,W),ne[se+1]=Yr(S,T,W),ne[se+2]=an(S,T)}function pa(S,T,W,ne,se){ne[se+0]=an(S,T),ne[se+1]=Yr(S,T,W),ne[se+2]=_r(S,W)}function wa(S,T,W,ne,se){var de=Yr(S,T,W);T=de<<3&224|an(S,T)>>3,ne[se+0]=248&_r(S,W)|de>>5,ne[se+1]=T}function St(S,T,W,ne,se){var de=240&an(S,T)|15;ne[se+0]=240&_r(S,W)|Yr(S,T,W)>>4,ne[se+1]=de}function Oe(S,T,W,ne,se){ne[se+0]=255,xn(S,T,W,ne,se+1)}function We(S,T,W,ne,se){pa(S,T,W,ne,se),ne[se+3]=255}function ut(S,T,W,ne,se){xn(S,T,W,ne,se),ne[se+3]=255}function yt(S,T){return 0>S?0:S>T?T:S}function It(S,T,W){D[S]=function(ne,se,de,pe,ge,ve,Ce,Z,P){for(var V=Z+(-2&P)*W;Z!=V;)T(ne[se+0],de[pe+0],ge[ve+0],Ce,Z),T(ne[se+1],de[pe+0],ge[ve+0],Ce,Z+W),se+=2,++pe,++ve,Z+=2*W;1&P&&T(ne[se+0],de[pe+0],ge[ve+0],Ce,Z)}}function wt(S,T,W){return W==0?S==0?T==0?6:5:T==0?4:0:W}function zt(S,T,W,ne,se){switch(S>>>30){case 3:Xs(T,W,ne,se,0);break;case 2:zn(T,W,ne,se);break;case 1:io(T,W,ne,se)}}function er(S,T){var W,ne,se=T.M,de=T.Nb,pe=S.oc,ge=S.pc+40,ve=S.oc,Ce=S.pc+584,Z=S.oc,P=S.pc+600;for(W=0;16>W;++W)pe[ge+32*W-1]=129;for(W=0;8>W;++W)ve[Ce+32*W-1]=129,Z[P+32*W-1]=129;for(0<se?pe[ge-1-32]=ve[Ce-1-32]=Z[P-1-32]=129:(a(pe,ge-32-1,127,21),a(ve,Ce-32-1,127,9),a(Z,P-32-1,127,9)),ne=0;ne<S.za;++ne){var V=T.ya[T.aa+ne];if(0<ne){for(W=-1;16>W;++W)n(pe,ge+32*W-4,pe,ge+32*W+12,4);for(W=-1;8>W;++W)n(ve,Ce+32*W-4,ve,Ce+32*W+4,4),n(Z,P+32*W-4,Z,P+32*W+4,4)}var oe=S.Gd,Ne=S.Hd+ne,Ee=V.ad,be=V.Hc;if(0<se&&(n(pe,ge-32,oe[Ne].y,0,16),n(ve,Ce-32,oe[Ne].f,0,8),n(Z,P-32,oe[Ne].ea,0,8)),V.Za){var Se=pe,qe=ge-32+16;for(0<se&&(ne>=S.za-1?a(Se,qe,oe[Ne].y[15],4):n(Se,qe,oe[Ne+1].y,0,4)),W=0;4>W;W++)Se[qe+128+W]=Se[qe+256+W]=Se[qe+384+W]=Se[qe+0+W];for(W=0;16>W;++W,be<<=2)Se=pe,qe=ge+As[W],Mi[V.Ob[W]](Se,qe),zt(be,Ee,16*+W,Se,qe)}else if(Se=wt(ne,se,V.Ob[0]),Uo[Se](pe,ge),be!=0)for(W=0;16>W;++W,be<<=2)zt(be,Ee,16*+W,pe,ge+As[W]);for(W=V.Gc,Se=wt(ne,se,V.Dd),Xa[Se](ve,Ce),Xa[Se](Z,P),be=Ee,Se=ve,qe=Ce,255&(V=W>>0)&&(170&V?Es(be,256,Se,qe):zo(be,256,Se,qe)),V=Z,be=P,255&(W>>=8)&&(170&W?Es(Ee,320,V,be):zo(Ee,320,V,be)),se<S.Ub-1&&(n(oe[Ne].y,0,pe,ge+480,16),n(oe[Ne].f,0,ve,Ce+224,8),n(oe[Ne].ea,0,Z,P+224,8)),W=8*de*S.B,oe=S.sa,Ne=S.ta+16*ne+16*de*S.R,Ee=S.qa,V=S.ra+8*ne+W,be=S.Ha,Se=S.Ia+8*ne+W,W=0;16>W;++W)n(oe,Ne+W*S.R,pe,ge+32*W,16);for(W=0;8>W;++W)n(Ee,V+W*S.B,ve,Ce+32*W,8),n(be,Se+W*S.B,Z,P+32*W,8)}}function wr(S,T,W,ne,se,de,pe,ge,ve){var Ce=[0],Z=[0],P=0,V=ve!=null?ve.kd:0,oe=ve??new pi;if(S==null||12>W)return 7;oe.data=S,oe.w=T,oe.ha=W,T=[T],W=[W],oe.gb=[oe.gb];e:{var Ne=T,Ee=W,be=oe.gb;if(e(S!=null),e(Ee!=null),e(be!=null),be[0]=0,12<=Ee[0]&&!r(S,Ne[0],"RIFF")){if(r(S,Ne[0]+8,"WEBP")){be=3;break e}var Se=xe(S,Ne[0]+4);if(12>Se||4294967286<Se){be=3;break e}if(V&&Se>Ee[0]-8){be=7;break e}be[0]=Se,Ne[0]+=12,Ee[0]-=12}be=0}if(be!=0)return be;for(Se=0<oe.gb[0],W=W[0];;){e:{var qe=S;Ee=T,be=W;var Ve=Ce,Ke=Z,ft=Ne=[0];if((Ct=P=[P])[0]=0,8>be[0])be=7;else{if(!r(qe,Ee[0],"VP8X")){if(xe(qe,Ee[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var kt=xe(qe,Ee[0]+8),$t=1+ue(qe,Ee[0]+12);if(2147483648<=$t*(qe=1+ue(qe,Ee[0]+15))){be=3;break e}ft!=null&&(ft[0]=kt),Ve!=null&&(Ve[0]=$t),Ke!=null&&(Ke[0]=qe),Ee[0]+=18,be[0]-=18,Ct[0]=1}be=0}}if(P=P[0],Ne=Ne[0],be!=0)return be;if(Ee=!!(2&Ne),!Se&&P)return 3;if(de!=null&&(de[0]=!!(16&Ne)),pe!=null&&(pe[0]=Ee),ge!=null&&(ge[0]=0),pe=Ce[0],Ne=Z[0],P&&Ee&&ve==null){be=0;break}if(4>W){be=7;break}if(Se&&P||!Se&&!P&&!r(S,T[0],"ALPH")){W=[W],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{kt=S,be=T,Se=W;var Ct=oe.gb;Ve=oe.na,Ke=oe.P,ft=oe.Sa,$t=22,e(kt!=null),e(Se!=null),qe=be[0];var fr=Se[0];for(e(Ve!=null),e(ft!=null),Ve[0]=null,Ke[0]=null,ft[0]=0;;){if(be[0]=qe,Se[0]=fr,8>fr){be=7;break e}var pr=xe(kt,qe+4);if(4294967286<pr){be=3;break e}var Tr=8+pr+1&-2;if($t+=Tr,0<Ct&&$t>Ct){be=3;break e}if(!r(kt,qe,"VP8 ")||!r(kt,qe,"VP8L")){be=0;break e}if(fr[0]<Tr){be=7;break e}r(kt,qe,"ALPH")||(Ve[0]=kt,Ke[0]=qe+8,ft[0]=pr),qe+=Tr,fr-=Tr}}if(W=W[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],be!=0)break}W=[W],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Ct=S,be=T,Se=W,Ve=oe.gb[0],Ke=oe.Ja,ft=oe.xa,kt=be[0],qe=!r(Ct,kt,"VP8 "),$t=!r(Ct,kt,"VP8L"),e(Ct!=null),e(Se!=null),e(Ke!=null),e(ft!=null),8>Se[0])be=7;else{if(qe||$t){if(Ct=xe(Ct,kt+4),12<=Ve&&Ct>Ve-12){be=3;break e}if(V&&Ct>Se[0]-8){be=7;break e}Ke[0]=Ct,be[0]+=8,Se[0]-=8,ft[0]=$t}else ft[0]=5<=Se[0]&&Ct[kt+0]==47&&!(Ct[kt+4]>>5),Ke[0]=Se[0];be=0}if(W=W[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],T=T[0],be!=0)break;if(4294967286<oe.Ja)return 3;if(ge==null||Ee||(ge[0]=oe.xa?2:1),pe=[pe],Ne=[Ne],oe.xa){if(5>W){be=7;break}ge=pe,V=Ne,Ee=de,S==null||5>W?S=0:5<=W&&S[T+0]==47&&!(S[T+4]>>5)?(Se=[0],Ct=[0],Ve=[0],re(Ke=new j,S,T,W),Qt(Ke,Se,Ct,Ve)?(ge!=null&&(ge[0]=Se[0]),V!=null&&(V[0]=Ct[0]),Ee!=null&&(Ee[0]=Ve[0]),S=1):S=0):S=0}else{if(10>W){be=7;break}ge=Ne,S==null||10>W||!Ar(S,T+3,W-3)?S=0:(V=S[T+0]|S[T+1]<<8|S[T+2]<<16,Ee=16383&(S[T+7]<<8|S[T+6]),S=16383&(S[T+9]<<8|S[T+8]),1&V||3<(V>>1&7)||!(V>>4&1)||V>>5>=oe.Ja||!Ee||!S?S=0:(pe&&(pe[0]=Ee),ge&&(ge[0]=S),S=1))}if(!S||(pe=pe[0],Ne=Ne[0],P&&(Ce[0]!=pe||Z[0]!=Ne)))return 3;ve!=null&&(ve[0]=oe,ve.offset=T-ve.w,e(4294967286>T-ve.w),e(ve.offset==ve.ha-W));break}return be==0||be==7&&P&&ve==null?(de!=null&&(de[0]|=oe.na!=null&&0<oe.na.length),ne!=null&&(ne[0]=pe),se!=null&&(se[0]=Ne),0):be}function zr(S,T,W){var ne=T.width,se=T.height,de=0,pe=0,ge=ne,ve=se;if(T.Da=S!=null&&0<S.Da,T.Da&&(ge=S.cd,ve=S.bd,de=S.v,pe=S.j,11>W||(de&=-2,pe&=-2),0>de||0>pe||0>=ge||0>=ve||de+ge>ne||pe+ve>se))return 0;if(T.v=de,T.j=pe,T.va=de+ge,T.o=pe+ve,T.U=ge,T.T=ve,T.da=S!=null&&0<S.da,T.da){if(!Je(ge,ve,W=[S.ib],de=[S.hb]))return 0;T.ib=W[0],T.hb=de[0]}return T.ob=S!=null&&S.ob,T.Kb=S==null||!S.Sd,T.da&&(T.ob=T.ib<3*ne/4&&T.hb<3*se/4,T.Kb=0),1}function gn(S){if(S==null)return 2;if(11>S.S){var T=S.f.RGBA;T.fb+=(S.height-1)*T.A,T.A=-T.A}else T=S.f.kb,S=S.height,T.O+=(S-1)*T.fa,T.fa=-T.fa,T.N+=(S-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(S-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(S-1)*T.lb,T.lb=-T.lb);return 0}function Pn(S,T,W,ne){if(ne==null||0>=S||0>=T)return 2;if(W!=null){if(W.Da){var se=W.cd,de=W.bd,pe=-2&W.v,ge=-2&W.j;if(0>pe||0>ge||0>=se||0>=de||pe+se>S||ge+de>T)return 2;S=se,T=de}if(W.da){if(!Je(S,T,se=[W.ib],de=[W.hb]))return 2;S=se[0],T=de[0]}}ne.width=S,ne.height=T;e:{var ve=ne.width,Ce=ne.height;if(S=ne.S,0>=ve||0>=Ce||!(S>=$u&&13>S))S=2;else{if(0>=ne.Rd&&ne.sd==null){pe=de=se=T=0;var Z=(ge=ve*lu[S])*Ce;if(11>S||(de=(Ce+1)/2*(T=(ve+1)/2),S==12&&(pe=(se=ve)*Ce)),(Ce=i(Z+2*de+pe))==null){S=1;break e}ne.sd=Ce,11>S?((ve=ne.f.RGBA).eb=Ce,ve.fb=0,ve.A=ge,ve.size=Z):((ve=ne.f.kb).y=Ce,ve.O=0,ve.fa=ge,ve.Fd=Z,ve.f=Ce,ve.N=0+Z,ve.Ab=T,ve.Cd=de,ve.ea=Ce,ve.W=0+Z+de,ve.Db=T,ve.Ed=de,S==12&&(ve.F=Ce,ve.J=0+Z+2*de),ve.Tc=pe,ve.lb=se)}if(T=1,se=ne.S,de=ne.width,pe=ne.height,se>=$u&&13>se)if(11>se)S=ne.f.RGBA,T&=(ge=Math.abs(S.A))*(pe-1)+de<=S.size,T&=ge>=de*lu[se],T&=S.eb!=null;else{S=ne.f.kb,ge=(de+1)/2,Z=(pe+1)/2,ve=Math.abs(S.fa),Ce=Math.abs(S.Ab);var P=Math.abs(S.Db),V=Math.abs(S.lb),oe=V*(pe-1)+de;T&=ve*(pe-1)+de<=S.Fd,T&=Ce*(Z-1)+ge<=S.Cd,T=(T&=P*(Z-1)+ge<=S.Ed)&ve>=de&Ce>=ge&P>=ge,T&=S.y!=null,T&=S.f!=null,T&=S.ea!=null,se==12&&(T&=V>=de,T&=oe<=S.Tc,T&=S.F!=null)}else T=0;S=T?0:2}}return S!=0||W!=null&&W.fd&&(S=gn(ne)),S}var Gr=64,Ia=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xo=24,Eo=32,Ta=8,Yn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(S){return S},D.Predictor2=function(S,T,W){return T[W+0]},D.Predictor3=function(S,T,W){return T[W+1]},D.Predictor4=function(S,T,W){return T[W-1]},D.Predictor5=function(S,T,W){return et(et(S,T[W+1]),T[W+0])},D.Predictor6=function(S,T,W){return et(S,T[W-1])},D.Predictor7=function(S,T,W){return et(S,T[W+0])},D.Predictor8=function(S,T,W){return et(T[W-1],T[W+0])},D.Predictor9=function(S,T,W){return et(T[W+0],T[W+1])},D.Predictor10=function(S,T,W){return et(et(S,T[W-1]),et(T[W+0],T[W+1]))},D.Predictor11=function(S,T,W){var ne=T[W+0];return 0>=Vt(ne>>24&255,S>>24&255,(T=T[W-1])>>24&255)+Vt(ne>>16&255,S>>16&255,T>>16&255)+Vt(ne>>8&255,S>>8&255,T>>8&255)+Vt(255&ne,255&S,255&T)?ne:S},D.Predictor12=function(S,T,W){var ne=T[W+0];return(Dt((S>>24&255)+(ne>>24&255)-((T=T[W-1])>>24&255))<<24|Dt((S>>16&255)+(ne>>16&255)-(T>>16&255))<<16|Dt((S>>8&255)+(ne>>8&255)-(T>>8&255))<<8|Dt((255&S)+(255&ne)-(255&T)))>>>0},D.Predictor13=function(S,T,W){var ne=T[W-1];return(Ut((S=et(S,T[W+0]))>>24&255,ne>>24&255)<<24|Ut(S>>16&255,ne>>16&255)<<16|Ut(S>>8&255,ne>>8&255)<<8|Ut(S>>0&255,ne>>0&255))>>>0};var ei=D.PredictorAdd0;D.PredictorAdd1=Jt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var ji=D.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Ks,Na=D.ColorIndexInverseTransform,Hl=D.MapARGB,Wl=D.VP8LColorIndexInverseTransformAlpha,ao=D.MapAlpha,xs=D.VP8LPredictorsAdd=[];xs.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var yl,So,oo,wl,Ys,Js,Rc,Xs,zn,Es,io,zo,Vl,ou,gi,Bo,xl,vi,Ss,rs,Cs,Ns,El,so,ti,Jn,Bn,Ra,Ha=i(511),Ps=i(2041),Lc=i(225),Gl=i(767),bi=0,ns=Ps,jc=Lc,qo=Gl,Di=Ha,$u=0,Sl=1,Tf=2,iu=3,su=4,Vn=5,Kl=6,Dc=7,Cl=8,Mc=9,Zs=10,Yl=[2,3,7],zu=[3,3,11],Jl=[280,256,256,256,40],Rf=[0,1,1,1,0],Xl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Lf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bu=8,Fc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qs=null,Ad=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Zl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_d=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Df=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Od=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Uo=[],Mi=[],Xa=[],Co=1,$c=2,No=[],ri=[];ht("UpsampleRgbLinePair",xn,3),ht("UpsampleBgrLinePair",pa,3),ht("UpsampleRgbaLinePair",ut,4),ht("UpsampleBgraLinePair",We,4),ht("UpsampleArgbLinePair",Oe,4),ht("UpsampleRgba4444LinePair",St,2),ht("UpsampleRgb565LinePair",wa,2);var pp=D.UpsampleRgbLinePair,hp=D.UpsampleBgrLinePair,Pl=D.UpsampleRgbaLinePair,zc=D.UpsampleBgraLinePair,Ql=D.UpsampleArgbLinePair,Bc=D.UpsampleRgba4444LinePair,Id=D.UpsampleRgb565LinePair,ks=16,yi=1<<ks-1,qn=-227,Tn=482,el=6,Ga=0,Ho=i(256),tl=i(256),ec=i(256),Po=i(256),Uu=i(Tn-qn),kl=i(Tn-qn);It("YuvToRgbRow",xn,3),It("YuvToBgrRow",pa,3),It("YuvToRgbaRow",ut,4),It("YuvToBgraRow",We,4),It("YuvToArgbRow",Oe,4),It("YuvToRgba4444Row",St,2),It("YuvToRgb565Row",wa,2);var As=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tc=[0,2,8],Mf=[8,7,6,4,4,2,2,2,1,1,1,1],rl=1;this.WebPDecodeRGBA=function(S,T,W,ne,se){var de=Sl,pe=new mi,ge=new Re;pe.ba=ge,ge.S=de,ge.width=[ge.width],ge.height=[ge.height];var ve=ge.width,Ce=ge.height,Z=new Qe;if(Z==null||S==null)var P=2;else e(Z!=null),P=wr(S,T,W,Z.width,Z.height,Z.Pd,Z.Qd,Z.format,null);if(P!=0?ve=0:(ve!=null&&(ve[0]=Z.width[0]),Ce!=null&&(Ce[0]=Z.height[0]),ve=1),ve){ge.width=ge.width[0],ge.height=ge.height[0],ne!=null&&(ne[0]=ge.width),se!=null&&(se[0]=ge.height);e:{if(ne=new st,(se=new pi).data=S,se.w=T,se.ha=W,se.kd=1,T=[0],e(se!=null),((S=wr(se.data,se.w,se.ha,null,null,null,T,null,se))==0||S==7)&&T[0]&&(S=4),(T=S)==0){if(e(pe!=null),ne.data=se.data,ne.w=se.w+se.offset,ne.ha=se.ha-se.offset,ne.put=Xr,ne.ac=xr,ne.bc=Zr,ne.ma=pe,se.xa){if((S=cr())==null){pe=1;break e}if(function(V,oe){var Ne=[0],Ee=[0],be=[0];t:for(;;){if(V==null)return 0;if(oe==null)return V.a=2,0;if(V.l=oe,V.a=0,re(V.m,oe.data,oe.w,oe.ha),!Qt(V.m,Ne,Ee,be)){V.a=3;break t}if(V.xb=$c,oe.width=Ne[0],oe.height=Ee[0],!gr(Ne[0],Ee[0],1,V,null))break t;return 1}return e(V.a!=0),0}(S,ne)){if(ne=(T=Pn(ne.width,ne.height,pe.Oa,pe.ba))==0){t:{ne=S;r:for(;;){if(ne==null){ne=0;break t}if(e(ne.s.yc!=null),e(ne.s.Ya!=null),e(0<ne.s.Wb),e((W=ne.l)!=null),e((se=W.ma)!=null),ne.xb!=0){if(ne.ca=se.ba,ne.tb=se.tb,e(ne.ca!=null),!zr(se.Oa,W,iu)){ne.a=2;break r}if(!Bt(ne,W.width)||W.da)break r;if((W.da||Nr(ne.ca.S))&&tt(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&tt()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!Pe(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!vt(ne,ne.V,ne.Ba,ne.c,ne.i,W.o,br))break r;se.Dc=ne.Ma,ne=1;break t}e(ne.a!=0),ne=0}ne=!ne}ne&&(T=S.a)}else T=S.a}else{if((S=new Ot)==null){pe=1;break e}if(S.Fa=se.na,S.P=se.P,S.qc=se.Sa,$r(S,ne)){if((T=Pn(ne.width,ne.height,pe.Oa,pe.ba))==0){if(S.Aa=0,W=pe.Oa,e((se=S)!=null),W!=null){if(0<(ve=0>(ve=W.Md)?0:100<ve?255:255*ve/100)){for(Ce=Z=0;4>Ce;++Ce)12>(P=se.pb[Ce]).lc&&(P.ia=ve*Mf[0>P.lc?0:P.lc]>>3),Z|=P.ia;Z&&(alert("todo:VP8InitRandom"),se.ia=1)}se.Ga=W.Id,100<se.Ga?se.Ga=100:0>se.Ga&&(se.Ga=0)}Pr(S,ne)||(T=S.a)}}else T=S.a}T==0&&pe.Oa!=null&&pe.Oa.fd&&(T=gn(pe.ba))}pe=T}de=pe!=0?null:11>de?ge.f.RGBA.eb:ge.f.kb.y}else de=null;return de};var lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,B){for(var z="",I=0;I<4;I++)z+=String.fromCharCode(D[B++]);return z}function f(D,B){return(D[B+0]<<0|D[B+1]<<8|D[B+2]<<16)>>>0}function p(D,B){return(D[B+0]<<0|D[B+1]<<8|D[B+2]<<16|D[B+3]<<24)>>>0}new c;var h=[0],g=[0],x=[],v=new c,y=t,E=function(D,B){var z={},I=0,L=!1,M=0,F=0;if(z.frames=[],!function(Y,G,X,ie){for(var ye=0;ye<ie;ye++)if(Y[G+ye]!=X.charCodeAt(ye))return!0;return!1}(D,B,"RIFF",4)){for(p(D,B+=4),B+=8;B<D.length;){var H=u(D,B),J=p(D,B+=4);B+=4;var ee=J+(1&J);switch(H){case"VP8 ":case"VP8L":z.frames[I]===void 0&&(z.frames[I]={}),(K=z.frames[I]).src_off=L?F:B-8,K.src_size=M+J+8,I++,L&&(L=!1,M=0,F=0);break;case"VP8X":(K=z.header={}).feature_flags=D[B];var re=B+4;K.canvas_width=1+f(D,re),re+=3,K.canvas_height=1+f(D,re),re+=3;break;case"ALPH":L=!0,M=ee+8,F=B-8;break;case"ANIM":(K=z.header).bgcolor=p(D,B),re=B+4,K.loop_count=(U=D)[(j=re)+0]<<0|U[j+1]<<8,re+=2;break;case"ANMF":var te,K;(K=z.frames[I]={}).offset_x=2*f(D,B),B+=3,K.offset_y=2*f(D,B),B+=3,K.width=1+f(D,B),B+=3,K.height=1+f(D,B),B+=3,K.duration=f(D,B),B+=3,te=D[B++],K.dispose=1&te,K.blend=te>>1&1}H!="ANMF"&&(B+=ee)}var U,j;return z}}(y,0);E.response=y,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,k=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,h=[C.canvas_height],g=[C.canvas_width];for(var _=0;_<k.length&&k[_].blend!=0;_++);}var N=k[0],O=v.WebPDecodeRGBA(y,N.src_off,N.src_size,g,h);N.rgba=O,N.imgwidth=g[0],N.imgheight=h[0];for(var R=0;R<g[0]*h[0]*4;R++)x[R]=O[R];return this.width=g,this.height=h,this.data=x,this}(function(t){var e=function(){return typeof QE=="function"},r=function(h,g,x,v){var y=4,E=s;switch(v){case t.image_compression.FAST:y=1,E=i;break;case t.image_compression.MEDIUM:y=6,E=l;break;case t.image_compression.SLOW:y=9,E=c}h=n(h,g,x,E);var C=QE(h,{level:y});return t.__addimage__.arrayBufferToBinaryString(C)},n=function(h,g,x,v){for(var y,E,C,k=h.length/g,_=new Uint8Array(h.length+k),N=f(),O=0;O<k;O+=1){if(C=O*g,y=h.subarray(C,C+g),v)_.set(v(y,x,E),C+O);else{for(var R,D=N.length,B=[];R<D;R+=1)B[R]=N[R](y,x,E);var z=p(B.concat());_.set(B[z],C+O)}E=y}return _},a=function(h){var g=Array.apply([],h);return g.unshift(0),g},i=function(h,g){var x,v=[],y=h.length;v[0]=1;for(var E=0;E<y;E+=1)x=h[E-g]||0,v[E+1]=h[E]-x+256&255;return v},s=function(h,g,x){var v,y=[],E=h.length;y[0]=2;for(var C=0;C<E;C+=1)v=x&&x[C]||0,y[C+1]=h[C]-v+256&255;return y},l=function(h,g,x){var v,y,E=[],C=h.length;E[0]=3;for(var k=0;k<C;k+=1)v=h[k-g]||0,y=x&&x[k]||0,E[k+1]=h[k]+256-(v+y>>>1)&255;return E},c=function(h,g,x){var v,y,E,C,k=[],_=h.length;k[0]=4;for(var N=0;N<_;N+=1)v=h[N-g]||0,y=x&&x[N]||0,E=x&&x[N-g]||0,C=u(v,y,E),k[N+1]=h[N]-C+256&255;return k},u=function(h,g,x){if(h===g&&g===x)return h;var v=Math.abs(g-x),y=Math.abs(h-x),E=Math.abs(h+g-x-x);return v<=y&&v<=E?h:y<=E?g:x},f=function(){return[a,i,s,l,c]},p=function(h){var g=h.map(function(x){return x.reduce(function(v,y){return v+Math.abs(y)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(h,g,x,v){var y,E,C,k,_,N,O,R,D,B,z,I,L,M,F,H=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(C=new Dq(h)).imgData,E=C.bits,y=C.colorSpace,_=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){D=(R=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,z=new Uint8Array(D*C.colors),B=new Uint8Array(D);var ee,re=C.pixelBitlength-C.bits;for(M=0,F=0;M<D;M++){for(L=R[M],ee=0;ee<re;)z[F++]=L>>>ee&255,ee+=C.bits;B[M]=L>>>ee&255}}if(C.bits===16){D=(R=new Uint32Array(C.decodePixels().buffer)).length,z=new Uint8Array(D*(32/C.pixelBitlength)*C.colors),B=new Uint8Array(D*(32/C.pixelBitlength)),I=C.colors>1,M=0,F=0;for(var te=0;M<D;)L=R[M++],z[F++]=L>>>0&255,I&&(z[F++]=L>>>16&255,L=R[M++],z[F++]=L>>>0&255),B[te++]=L>>>16&255;E=8}v!==t.image_compression.NONE&&e()?(h=r(z,C.width*C.colors,C.colors,v),O=r(B,C.width,1,v)):(h=z,O=B,H=void 0)}if(C.colorType===3&&(y=this.color_spaces.INDEXED,N=C.palette,C.transparency.indexed)){var K=C.transparency.indexed,U=0;for(M=0,D=K.length;M<D;++M)U+=K[M];if((U/=255)===D-1&&K.indexOf(0)!==-1)k=[K.indexOf(0)];else if(U!==D){for(R=C.decodePixels(),B=new Uint8Array(R.length),M=0,D=R.length;M<D;M++)B[M]=K[R[M]];O=r(B,C.width,1)}}var j=function(Y){var G;switch(Y){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(v);return H===this.decode.FLATE_DECODE&&(J="/Predictor "+j+" "),J+="/Colors "+_+" /BitsPerComponent "+E+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:x,data:h,index:g,filter:H,decodeParameters:J,transparency:k,palette:N,sMask:O,predictor:j,width:C.width,height:C.height,bitsPerComponent:E,colorSpace:y}}}})(sn.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new Mq(e),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},f=new Jy(100).encode(u,100);return t.processJPEG.call(this,f,r,n,a)},t.processGIF87A=t.processGIF89A}(sn.API),bc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Aa.log("bit decode error:"+r)}},bc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},bc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},bc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},bc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=u}this.pos+=t}},bc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},bc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},bc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},bc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new bc(e,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new Jy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(sn.API),n4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new n4(e),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new Jy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(sn.API),sn.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],p=n[u+1],h=n[u+2],g=n[u+3];i[l++]=f,i[l++]=p,i[l++]=h,s[c++]=g}var x=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},nm=sn.API,cv=nm.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,p=e.doKerning!==!1,h=0,g=t.length,x=0,v=l[0]||c,y=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?y.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=p&&ba(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/f:0,y.push((l[n]||v)/c+h)),x=n;return y},QP=nm.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return nm.processArabic&&(t=nm.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:cv.apply(this,arguments).reduce(function(i,s){return i+s},0)},e4=function(t,e,r,n){for(var a=[],i=0,s=t.length,l=0;i!==s&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==s;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},t4=function(t,e,r){r||(r={});var n,a,i,s,l,c,u,f=[],p=[f],h=r.textIndent||0,g=0,x=0,v=t.split(" "),y=cv.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var E=Array(c).join(" "),C=[];v.map(function(_){(_=_.split(/\s*\n/)).length>1?C=C.concat(_.map(function(N,O){return(O&&N.length?`
`:"")+N})):C.push(_[0])}),v=C,c=QP.apply(this,[E,r])}for(i=0,s=v.length;i<s;i++){var k=0;if(n=v[i],c&&n[0]==`
`&&(n=n.substr(1),k=1),h+g+(x=(a=cv.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>e||k){if(x>e){for(l=e4.apply(this,[n,a,e-(h+g),e]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);x=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(_,N){return _+N},0)}else f=[n];p.push(f),h=x+c,g=y}else f.push(n),h+=g+x,g=y}return u=c?function(_,N){return(N?E:"")+_.join(" ")}:function(_){return _.join(" ")},p.map(u)},nm.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(t4.apply(this,[n[l],s,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(p){return"0x"+parseInt(p,10).toString(16)},s=t.__fontmetrics__.compress=function(p){var h,g,x,v,y=["{"];for(var E in p){if(h=p[E],isNaN(parseInt(E,10))?g="'"+E+"'":(E=parseInt(E,10),g=(g=i(E).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof h=="number")h<0?(x=i(h).slice(3),v="-"):(x=i(h).slice(2),v=""),x=v+x.slice(0,-1)+n[x.slice(-1)];else{if(ba(h)!=="object")throw new Error("Don't know what to do with value type "+ba(h)+".");x=s(h)}y.push(g+x)}return y.push("}"),y.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,x,v,y={},E=1,C=y,k=[],_="",N="",O=p.length-1,R=1;R<O;R+=1)(v=p[R])=="'"?h?(x=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(k.push([C,x]),C={},x=void 0):v=="}"?((g=k.pop())[0][g[1]]=C,x=void 0,C=g[0]):v=="-"?E=-1:x===void 0?r.hasOwnProperty(v)?(_+=r[v],x=parseInt(_,16)*E,E=1,_=""):_+=v:r.hasOwnProperty(v)?(N+=r[v],C[x]=parseInt(N,16)*E,E=1,x=void 0,N=""):N+=v;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var x=u.Unicode[h.postScriptName];x&&(h.metadata.Unicode.encoding=x,h.encoding=x.codePages[0])}])}(sn.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Qp(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(sn),function(t){function e(){return(un.canvg?Promise.resolve(un.canvg):KE(()=>import("./index.es-CdbumlbZ.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}sn.API.addSvgAsImage=function(r,n,a,i,s,l,c,u){if(isNaN(n)||isNaN(a))throw Aa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Aa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(x){return x.fromString(p,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(h)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),sn.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},sn.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,f=0,p=0;function h(x,v){var y,E=!1;for(y=0;y<x.length;y+=1)x[y]===v&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=l.length;for(p=0;p<g;p+=1)r[l[p]].value=r[l[p]].defaultValue,r[l[p]].explicitSet=!1}if(ba(t)==="object"){for(a in t)if(i=t[a],h(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?v.push("/"+x+" /"+r[x].value):v.push("/"+x+" "+r[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(sn.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],p=0,h=i.length;p<h;++p){if(l=s.metadata.characterToGlyph(i.charCodeAt(p)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(i){var s,l,c,u,f,p,h;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,h=(l=Object.keys(i).sort(function(g,x){return g-x})).length;p<h;p++)s=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",x=0;x<h.length;x++)g+=String.fromCharCode(h[x]);var v=u();f({data:g,addLength1:!0,objectId:v}),c("endobj");var y=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var E=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+dm(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+dm(l.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+dm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var x=u();f({data:h,addLength1:!0,objectId:x}),c("endobj");var v=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+dm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var E=0;E<l.metadata.hmtx.widths.length;E++)l.metadata.hmtx.widths[E]=parseInt(l.metadata.hmtx.widths[E]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+dm(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,f=i.options||{},p=i.mutex||{},h=p.pdfEscape,g=p.activeFontKey,x=p.fonts,v=g,y="",E=0,C="",k=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:p};for(C=l,v=g,Array.isArray(l)&&(C=l[0]),E=0;E<C.length;E+=1)x[v].metadata.hasOwnProperty("cmap")&&(s=x[v].metadata.cmap.unicode.codeMap[C[E].charCodeAt(0)]),s||C[E].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?y+=C[E]:y+="";var _="";return parseInt(v.slice(1))<14||k==="WinAnsiEncoding"?_=h(y,v).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(_=r(y,x[v])),p.isHex=!0,{text:_,x:c,y:u,options:f,mutex:p}};e.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])}(sn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(sn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,f,p=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,k=0;this.__bidiEngine__={};var _=function(I){var L=I.charCodeAt(),M=L>>8,F=v[M];return F!==void 0?p[256*F+(255&L)]:M===252||M===253?"AL":E.test(M)?"L":M===8?"R":"N"},N=function(I){for(var L,M=0;M<I.length;M++){if((L=_(I.charAt(M)))==="L")return!1;if(L==="R")return!0}return!1},O=function(I,L,M,F){var H,J,ee,re,te=L[F];switch(te){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(te="AN");break;case"AL":C=!0,te="R";break;case"WS":te="N";break;case"CS":F<1||F+1>=L.length||(H=M[F-1])!=="EN"&&H!=="AN"||(J=L[F+1])!=="EN"&&J!=="AN"?te="N":C&&(J="AN"),te=J===H?J:"N";break;case"ES":te=(H=F>0?M[F-1]:"B")==="EN"&&F+1<L.length&&L[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&M[F-1]==="EN"){te="EN";break}if(C){te="N";break}for(ee=F+1,re=L.length;ee<re&&L[ee]==="ET";)ee++;te=ee<re&&L[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(re=L.length,ee=F+1;ee<re&&L[ee]==="NSM";)ee++;if(ee<re){var K=I[F],U=K>=1425&&K<=2303||K===64286;if(H=L[ee],U&&(H==="R"||H==="AL")){te="R";break}}}te=F<1||(H=L[F-1])==="B"?"N":M[F-1];break;case"B":C=!1,a=!0,te=k;break;case"S":i=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":te="N"}return te},R=function(I,L,M){var F=I.split("");return M&&D(F,M,{hiLevel:k}),F.reverse(),L&&L.reverse(),F.join("")},D=function(I,L,M){var F,H,J,ee,re,te=-1,K=I.length,U=0,j=[],Y=k?g:h,G=[];for(C=!1,a=!1,i=!1,H=0;H<K;H++)G[H]=_(I[H]);for(J=0;J<K;J++){if(re=U,j[J]=O(I,G,j,J),F=240&(U=Y[re][x[j[J]]]),U&=15,L[J]=ee=Y[U][5],F>0)if(F===16){for(H=te;H<J;H++)L[H]=1;te=-1}else te=-1;if(Y[U][6])te===-1&&(te=J);else if(te>-1){for(H=te;H<J;H++)L[H]=ee;te=-1}G[J]==="B"&&(L[J]=0),M.hiLevel|=ee}i&&function(X,ie,ye){for(var me=0;me<ye;me++)if(X[me]==="S"){ie[me]=k;for(var he=me-1;he>=0&&X[he]==="WS";he--)ie[he]=k}}(G,L,K)},B=function(I,L,M,F,H){if(!(H.hiLevel<I)){if(I===1&&k===1&&!a)return L.reverse(),void(M&&M.reverse());for(var J,ee,re,te,K=L.length,U=0;U<K;){if(F[U]>=I){for(re=U+1;re<K&&F[re]>=I;)re++;for(te=U,ee=re-1;te<ee;te++,ee--)J=L[te],L[te]=L[ee],L[ee]=J,M&&(J=M[te],M[te]=M[ee],M[ee]=J);U=re}U++}}},z=function(I,L,M){var F=I.split(""),H={hiLevel:k};return M||(M=[]),D(F,M,H),function(J,ee,re){if(re.hiLevel!==0&&f)for(var te,K=0;K<J.length;K++)ee[K]===1&&(te=y.indexOf(J[K]))>=0&&(J[K]=y[te+1])}(F,M,H),B(2,F,L,M,H),B(1,F,L,M,H),F.join("")};return this.__bidiEngine__.doBidiReorder=function(I,L,M){if(function(H,J){if(J)for(var ee=0;ee<H.length;ee++)J[ee]=ee;l===void 0&&(l=N(H)),u===void 0&&(u=N(H))}(I,L),s||!c||u)if(s&&c&&l^u)k=l?1:0,I=R(I,L,M);else if(!s&&c&&u)k=l?1:0,I=z(I,L,M),I=R(I,L);else if(!s||l||c||u){if(s&&!c&&l^u)I=R(I,L),l?(k=0,I=z(I,L,M)):(k=1,I=z(I,L,M),I=R(I,L));else if(s&&l&&!c&&u)k=1,I=z(I,L,M),I=R(I,L);else if(!s&&!c&&l^u){var F=f;l?(k=1,I=z(I,L,M),k=0,f=!1,I=z(I,L,M),f=F):(k=0,I=z(I,L,M),I=R(I,L),k=1,f=!1,I=z(I,L,M),f=F,I=R(I,L))}}else k=0,I=z(I,L,M);else k=l?1:0,I=z(I,L,M);return I},this.__bidiEngine__.setOptions=function(I){I&&(s=I.isInputVisual,c=I.isOutputVisual,l=I.isInputRtl,u=I.isOutputRtl,f=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(sn),sn.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ed(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Zq(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Fq(this.contents),this.head=new zq(this),this.name=new Wq(this),this.cmap=new o7(this),this.toUnicode={},this.hhea=new Bq(this),this.maxp=new Vq(this),this.hmtx=new Gq(this),this.post=new Uq(this),this.os2=new qq(this),this.loca=new Xq(this),this.glyf=new Kq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,l;for(s=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var _c,Ed=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),Fq=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,l,c,u,f,p,h,g,x,v;for(v in g=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(g)/c),s=Math.floor(p/c),f=16*g-p,(a=new Ed).writeInt(this.scalarType),a.writeShort(g),a.writeShort(p),a.writeShort(s),a.writeShort(f),i=16*g,u=a.pos+i,l=null,x=[],r)for(h=r[v],a.writeString(v),a.writeInt(t(h)),a.writeInt(u),a.writeInt(h.length),x=x.concat(h),v==="head"&&(l=u),u+=h.length;u%4;)x.push(0),u++;return a.write(x),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=i7.call(r);r.length%4;)r.push(0);for(i=new Ed(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),$q={}.hasOwnProperty,ru=function(t,e){for(var r in e)$q.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};_c=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var zq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ed).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),a4=function(){function t(e,r){var n,a,i,s,l,c,u,f,p,h,g,x,v,y,E,C,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),h=g/2,e.pos+=6,i=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(e.readUInt16());return N}(),e.pos+=2,v=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(e.readUInt16());return N}(),u=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(e.readUInt16());return N}(),f=function(){var _,N;for(N=[],c=_=0;0<=h?_<h:_>h;c=0<=h?++_:--_)N.push(e.readUInt16());return N}(),a=(this.length-e.pos+this.offset)/2,l=function(){var _,N;for(N=[],c=_=0;0<=a?_<a:_>a;c=0<=a?++_:--_)N.push(e.readUInt16());return N}(),c=E=0,k=i.length;E<k;c=++E)for(y=i[c],n=C=x=v[c];x<=y?C<=y:C>=y;n=x<=y?++C:--C)f[c]===0?s=n+u[c]:(s=l[f[c]/2+(n-x)-(h-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=p}return t.encode=function(e,r){var n,a,i,s,l,c,u,f,p,h,g,x,v,y,E,C,k,_,N,O,R,D,B,z,I,L,M,F,H,J,ee,re,te,K,U,j,Y,G,X,ie,ye,me,he,je,Fe,ue;switch(F=new Ed,s=Object.keys(e).sort(function(xe,Pe){return xe-Pe}),r){case"macroman":for(v=0,y=function(){var xe=[];for(x=0;x<256;++x)xe.push(0);return xe}(),C={0:0},i={},H=0,te=s.length;H<te;H++)C[he=e[a=s[H]]]==null&&(C[he]=++v),i[a]={old:e[a],new:C[e[a]]},y[a]=C[e[a]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(y),{charMap:i,subtable:F.data,maxGlyphID:v+1};case"unicode":for(L=[],p=[],k=0,C={},n={},E=u=null,J=0,K=s.length;J<K;J++)C[N=e[a=s[J]]]==null&&(C[N]=++k),n[a]={old:N,new:C[N]},l=C[N]-a,E!=null&&l===u||(E&&p.push(E),L.push(a),u=l),E=a;for(E&&p.push(E),p.push(65535),L.push(65535),z=2*(B=L.length),D=2*Math.pow(Math.log(B)/Math.LN2,2),h=Math.log(D/2)/Math.LN2,R=2*B-D,c=[],O=[],g=[],x=ee=0,U=L.length;ee<U;x=++ee){if(I=L[x],f=p[x],I===65535){c.push(0),O.push(0);break}if(I-(M=n[I].new)>=32768)for(c.push(0),O.push(2*(g.length+B-x)),a=re=I;I<=f?re<=f:re>=f;a=I<=f?++re:--re)g.push(n[a].new);else c.push(M-I),O.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*B+2*g.length),F.writeUInt16(0),F.writeUInt16(z),F.writeUInt16(D),F.writeUInt16(h),F.writeUInt16(R),ye=0,j=p.length;ye<j;ye++)a=p[ye],F.writeUInt16(a);for(F.writeUInt16(0),me=0,Y=L.length;me<Y;me++)a=L[me],F.writeUInt16(a);for(je=0,G=c.length;je<G;je++)l=c[je],F.writeUInt16(l);for(Fe=0,X=O.length;Fe<X;Fe++)_=O[Fe],F.writeUInt16(_);for(ue=0,ie=g.length;ue<ie;ue++)v=g[ue],F.writeUInt16(v);return{charMap:n,subtable:F.data,maxGlyphID:k+1}}},t}(),o7=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new a4(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=a4.encode(r,n),(i=new Ed).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),Bq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),qq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),Uq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),Hq=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Wq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,l,c,u,f,p,h,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=p=0,h=a.length;p<h;s=++p)i=a[s],r.pos=i.offset,f=r.readString(i.length),l=new Hq(f,i),u[g=i.nameID]==null&&(u[g]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),Vq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),Gq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)p.push(r.readInt16());return p}(),this.widths=(function(){var f,p,h,g;for(g=[],f=0,p=(h=this.metrics).length;f<p;f++)s=h[f],g.push(s.advance);return g}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),i7=[].slice,Kq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,l,c,u,f,p,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ed(n.read(i))).readShort(),f=c.readShort(),h=c.readShort(),u=c.readShort(),p=c.readShort(),this.cache[r]=l===-1?new Jq(c,f,h,u,p):new Yq(c,l,f,h,u,p),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,l,c,u;for(l=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(l.length),i&&(l=l.concat(i.encode(a)));return s.push(l.length),{table:l,offsets:s}},e}(),Yq=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Jq=function(){function t(e,r,n,a,i){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ed(i7.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Xq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ru(e,_c),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<a.length;++l)if(a[l]=i,s<n.length&&n[s]==l){++s,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var f=new Array(4*a.length),p=0;p<a.length;++p)f[4*p+3]=255&a[p],f[4*p+2]=(65280&a[p])>>8,f[4*p+1]=(16711680&a[p])>>16,f[4*p]=(4278190080&a[p])>>24;return f},e}(),Zq=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,l,c,u,f,p,h,g,x,v,y,E;for(a in n=o7.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),g={0:0},E=n.charMap)g[(c=E[a]).old]=c.new;for(x in h=n.maxGlyphID,s)x in g||(g[x]=h++);return f=function(C){var k,_;for(k in _={},C)_[C[k]]=k;return _}(g),p=Object.keys(f).sort(function(C,k){return C-k}),v=function(){var C,k,_;for(_=[],C=0,k=p.length;C<k;C++)l=p[C],_.push(f[l]);return _}(),i=this.font.glyf.encode(s,v,g),u=this.font.loca.encode(i.offsets,v),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();sn.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();function s7(t,e,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,l=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=l*c,f=/\r\n|\r|\n/g,p="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(f):t,h=p.length||1),r+=l*(2-i),n.valign==="middle"?r-=h/2*u:n.valign==="bottom"&&(r-=h*u),n.halign==="center"||n.halign==="right"){var g=l;if(n.halign==="center"&&(g*=.5),p&&h>=1){for(var x=0;x<p.length;x++)a.text(p[x],e-a.getStringUnitWidth(p[x])*g,r),r+=u;return a}e-=a.getStringUnitWidth(t)*g}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var o4={},Pm=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:o4=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=t.unifyColor(e.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return o4||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),i5=function(t,e){return i5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},i5(t,e)};function l7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c7=function(t){l7(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function Qq(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function eU(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Hv(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function u7(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var s=d7(a,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function d7(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function tb(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function f7(t,e){var r=tb(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function tU(t,e,r,n,a){var i={},s=1.3333333333333333,l=Xy(e,function(k){return a.getComputedStyle(k).backgroundColor});l!=null&&(i.fillColor=l);var c=Xy(e,function(k){return a.getComputedStyle(k).color});c!=null&&(i.textColor=c);var u=nU(n,r);u&&(i.cellPadding=u);var f="borderTopColor",p=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var g=(parseFloat(h)||0)/p;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var x=Xy(e,function(k){return a.getComputedStyle(k)[f]});x!=null&&(i.lineColor=x);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/s);var E=rU(n);E&&(i.fontStyle=E);var C=(n.fontFamily||"").toLowerCase();return t.indexOf(C)!==-1&&(i.font=C),i}function rU(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Xy(t,e){var r=m7(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function m7(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:m7(t.parentElement,e):r}function nU(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),s=tb(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function p7(t,e,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],p=[],h=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:h};for(var g=0;g<l.rows.length;g++){var x=l.rows[g],v=(s=(i=x==null?void 0:x.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),y=aU(c,u,r,x,n,a);y&&(v==="thead"?f.push(y):v==="tfoot"?h.push(y):p.push(y))}return{head:f,body:p,foot:h}}function aU(t,e,r,n,a,i){for(var s=new c7(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;i&&(f=tU(t,c,e,u,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:oU(c)})}}var p=r.getComputedStyle(n);if(s.length>0&&(a||p.display!=="none"))return s}function oU(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function iU(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Eu(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function h7(t,e){var r=new Pm(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();iU(a,n,e);var i=Eu({},a,n,e),s;typeof window<"u"&&(s=window);var l=sU(a,n,e),c=lU(a,n,e),u=cU(r,i),f=dU(r,i,s);return{id:e.tableId,content:f,hooks:c,styles:l,settings:u}}function sU(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=t[c],f=e[c],p=r[c];n.columnStyles=Eu({},u,f,p)}else{var h=[t,e,r],g=h.map(function(x){return x[c]||{}});n[c]=Eu({},g[0],g[1],g[2])}},i=0,s=Object.keys(n);i<s.length;i++){var l=s[i];a(l)}return n}function lU(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var l=s[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function cU(t,e){var r,n,a,i,s,l,c,u,f,p,h,g,x=tb(e.margin,40/t.scaleFactor()),v=(r=uU(t,e.startY))!==null&&r!==void 0?r:x.top,y;e.showFoot===!0?y="everyPage":e.showFoot===!1?y="never":y=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var C=(i=e.useCss)!==null&&i!==void 0?i:!1,k=e.theme||(C?"plain":"striped"),_=!!e.horizontalPageBreak,N=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:C,theme:k,startY:v,margin:x,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:E,showFoot:y,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(h=e.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:_,horizontalPageBreakRepeat:N,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function uU(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function dU(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var l=p7(t,e.html,r,s,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||fU(n,a,i);return{columns:c,head:n,body:a,foot:i}}function fU(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var s5=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),mU=function(t){l7(e,t);function e(r,n,a,i,s,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return e}(s5),pU=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,s){for(var l=0,c=r;l<c.length;l++){var u=c[l],f=new mU(e,this,n,a,i,s),p=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new s5(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new s5(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),g7=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof c7&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var l=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+l;return u>a?u:a},0)},t}(),v7=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=tb(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),hU=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t}();function gU(t,e){vU(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=l5(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=l5(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),yU(e),wU(e,t),bU(e)}function vU(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=f7(t,e);e.allRows().forEach(function(i){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,i,c,null);var p=u.padding("horizontal");u.contentWidth=Hv(u.text,u.styles,t)+p;var h=Hv(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=h+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/r;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function l5(t,e,r){for(var n=e,a=t.reduce(function(g,x){return g+x.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],l=s.wrappedWidth/a,c=n*l,u=s.width+c,f=r(s),p=u<f?f:u;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var h=t.filter(function(g){return e<0?g.width>r(g):!0});h.length&&(e=l5(h,e,r))}return e}function bU(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,l=t.columns;s<l.length;s++){var c=l[s],u=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var f=i.cells[c.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var p=n.length-a,h=f.rowSpan>p?p:f.rowSpan;e[c.index]={cell:f,left:h,row:i}}}}}function yU(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,s=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(s-=1,s>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function wU(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],s=0,l=t.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=i4(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=i4(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,f);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var h=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<h*u.rowSpan?r={height:h,count:u.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function i4(t,e,r,n,a){return t.map(function(i){return xU(i,e,r,n,a)})}function xU(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Hv(t,r,n))return t;for(;e<Hv(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function b7(t,e){var r=new Pm(t),n=EU(e,r.scaleFactor()),a=new pU(e,n);return gU(r,a),r.applyStyles(r.userStyles),a}function EU(t,e){var r=t.content,n=CU(r.columns);if(r.head.length===0){var a=s4(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=s4(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,s=t.styles;return{columns:n,head:Zy("head",r.head,n,s,i,e),body:Zy("body",r.body,n,s,i,e),foot:Zy("foot",r.foot,n,s,i,e)}}function Zy(t,e,r,n,a,i){var s={},l=e.map(function(c,u){for(var f=0,p={},h=0,g=0,x=0,v=r;x<v.length;x++){var y=v[x];if(s[y.index]==null||s[y.index].left===0)if(g===0){var E=void 0;Array.isArray(c)?E=c[y.index-h-f]:E=c[y.dataKey];var C={};typeof E=="object"&&!Array.isArray(E)&&(C=(E==null?void 0:E.styles)||{});var k=NU(t,y,u,a,n,i,C),_=new v7(E,k,t);p[y.dataKey]=_,p[y.index]=_,g=_.colSpan-1,s[y.index]={left:_.rowSpan-1,times:g}}else g--,h++;else s[y.index].left--,g=s[y.index].times,f++}return new g7(c,u,t,p)});return l}function s4(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=SU(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function SU(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function CU(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new hU(a,e,r)})}function NU(t,e,r,n,a,i,s){var l=eU(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var u=Eu({},l.table,l[t],a.styles,c),f=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},p=t==="body"?f:{},h=t==="body"&&r%2===0?Eu({},l.alternateRow,a.alternateRowStyles):{},g=Qq(i),x=Eu({},g,u,h,p);return Eu(x,s)}function PU(t,e,r){var n;r===void 0&&(r={});var a=f7(t,e),i=new Map,s=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(h){var g=e.columns.find(function(x){return x.dataKey===h||x.index===h});g&&!i.has(g.index)&&(i.set(g.index,!0),s.push(g.index),l.push(e.columns[g.index]),a-=g.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(i.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(u||a>=p)u=!1,s.push(f),l.push(e.columns[f]),a-=p;else break;f++}return{colIndexes:s,columns:l,lastIndex:f-1}}function kU(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=PU(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function y7(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(h,g){return h+g.height},0);l+=u}var f=new Pm(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(x7(f),i.y=a.top),e.callWillDrawPageHooks(f,i);var p=Eu({},i);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?AU(f,e,p,i):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(h){return Au(f,e,h,i,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(h,g){var x=g===e.body.length-1;Wv(f,e,h,x,p,i,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(h){return Au(f,e,h,i,e.columns)})),u7(f,e,p,i),e.callEndPageHooks(f,i),e.finalY=i.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function AU(t,e,r,n){var a=kU(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?eh(t,e,r,n,u.columns,!0):l4(t,e,n,u.columns),_U(t,e,r,n,u.columns),Qy(t,e,n,u.columns)});else for(var s=-1,l=a[0],c=function(){var u=s;if(l){t.applyStyles(t.userStyles);var f=l.columns;s>=0?eh(t,e,r,n,f,!0):l4(t,e,n,f),u=c4(t,e,s+1,n,f),Qy(t,e,n,f)}var p=u-s;a.slice(1).forEach(function(h){t.applyStyles(t.userStyles),eh(t,e,r,n,h.columns,!0),c4(t,e,s+1,n,h.columns,p),Qy(t,e,n,h.columns)}),s=u};s<e.body.length-1;)c()}function l4(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Au(t,e,i,r,n)})}function _U(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var l=s===e.body.length-1;Wv(t,e,i,l,r,n,a)})}function c4(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,s).forEach(function(c,u){var f=r+u===e.body.length-1,p=w7(t,e,f,n);c.canEntireRowFit(p,a)&&(Au(t,e,c,n,a),l=r+u)}),l}function Qy(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Au(t,e,i,r,n)})}function OU(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function IU(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,l=r.columns;s<l.length;s++){var c=l[s],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new v7(u.raw,u.styles,u.section);f=Eu(f,u),f.text=[];var p=OU(u,e,n);u.text.length>p&&(f.text=u.text.splice(p,u.text.length));var h=n.scaleFactor(),g=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(h,g),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(h,g),f.contentHeight>i&&(i=f.contentHeight),a[c.index]=f}}var x=new g7(t.raw,-1,t.section,a,!0);x.height=i;for(var v=0,y=r.columns;v<y.length;v++){var c=y[v],f=x.cells[c.index];f&&(f.height=x.height);var u=t.cells[c.index];u&&(u.height=t.height)}return x}function TU(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,l=a-s;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>l;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function Wv(t,e,r,n,a,i,s){var l=w7(t,e,n,i);if(r.canEntireRowFit(l,s))Au(t,e,r,i,s);else if(TU(t,r,l,e)){var c=IU(r,l,e,t);Au(t,e,r,i,s),eh(t,e,a,i,s),Wv(t,e,c,n,a,i,s)}else eh(t,e,a,i,s),Wv(t,e,r,n,a,i,s)}function Au(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var l=s[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}RU(t,c,n);var f=c.getTextPos();s7(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function RU(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=d7(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),LU(t,e,r,n.lineWidth))}function LU(t,e,r,n){var a,i,s,l;n.top&&(a=r.x,i=r.y,s=r.x+e.width,l=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,l)),n.bottom&&(a=r.x,i=r.y+e.height,s=r.x+e.width,l=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,l)),n.left&&(a=r.x,i=r.y,s=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,s,l)),n.right&&(a=r.x+e.width,i=r.y,s=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,s,l));function c(u,f,p,h,g){t.getDocument().setLineWidth(u),t.getDocument().line(f,p,h,g,"S")}}function w7(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function eh(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Au(t,e,l,n,a)}),e.callEndPageHooks(t,n);var s=e.settings.margin;u7(t,e,r,n),x7(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Au(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function x7(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function jU(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=h7(this,n),i=b7(this,a);return y7(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){s7(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Pm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Pm.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Pm(this),i=p7(a,e,window,r,!1),s=i.head,l=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var e1;function DU(t,e){var r=h7(t,e),n=b7(t,r);y7(t,n)}try{if(typeof window<"u"&&window){var u4=window,d4=u4.jsPDF||((e1=u4.jspdf)===null||e1===void 0?void 0:e1.jsPDF);d4&&jU(d4)}}catch(t){console.error("Could not apply autoTable plugin",t)}const _o={rosaPrincipal:[255,20,147],rosaClaro:[255,182,193],amarillo:[255,215,0],amarilloClaro:[255,255,224],grisTexto:[64,64,64],blanco:[255,255,255],grisElegante:[108,117,125],grisFondo:[248,249,250]},Ap={nombre:"Delicias Darsy",subtitulo:"Gestión de Compras",usarLogoPersonalizado:!0,logoURL:"/imagenes/logo-delicias-darsy.png",logoFormato:"PNG",logoAncho:35,logoAlto:25,logoFooterSize:15},MU=({visible:t,onClose:e,compraData:r,onDownload:n})=>{const[a,i]=b.useState(null),[s,l]=b.useState(!1),[c,u]=b.useState(null),f=()=>{const O=new Date,R=O.toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"}),D=O.toLocaleTimeString("es-CO",{timeZone:"America/Bogota",hour12:!1});return{fecha:R,hora:D}},p=(O,R,D,B=20)=>{try{O.setFillColor(..._o.blanco);const z=B/2+3;O.circle(R,D,z,"F"),O.setDrawColor(200,200,200),O.setLineWidth(.5),O.circle(R,D,z,"S"),O.addImage(Ap.logoURL,Ap.logoFormato,R-B/2,D-B/2,B,B)}catch(z){console.error("Error al cargar logo personalizado:",z),h(O,R,D,B)}},h=(O,R,D,B)=>{O.setFillColor(..._o.blanco);const z=B/2+3;O.circle(R,D,z,"F"),O.setFillColor(..._o.rosaPrincipal),O.circle(R,D,B,"F"),O.setFillColor(..._o.amarillo),O.circle(R,D,B*.6,"F"),O.setFontSize(B*.8),O.setTextColor(..._o.blanco),O.setFont("helvetica","bold"),O.text("DD",R-4,D+3)},g=O=>{O.setFillColor(..._o.rosaPrincipal),O.rect(0,0,210,40,"F"),p(O,160,20,Ap.logoAncho),O.setFontSize(18),O.setTextColor(..._o.blanco),O.setFont("helvetica","bold"),O.text("DETALLE DE COMPRA ",20,18),O.setFontSize(14),O.text("Delicias Darsy",20,26),O.setFontSize(11),O.setFont("helvetica","normal"),O.text(Ap.subtitulo,20,33),O.setFillColor(..._o.rosaClaro),O.rect(0,40,210,10,"F"),O.setDrawColor(..._o.amarillo),O.setLineWidth(2),O.line(20,55,190,55)},x=(O,R)=>{O.setTextColor(..._o.grisTexto),O.setFontSize(11),O.setFont("helvetica","normal"),O.setFillColor(..._o.grisFondo),O.rect(20,60,170,25,"F"),O.setDrawColor(..._o.grisElegante),O.setLineWidth(.5),O.rect(20,60,170,25),O.setFont("helvetica","bold"),O.text("PROVEEDOR:",25,70),O.setFont("helvetica","normal"),O.text(R.proveedor||"N/A",65,70),O.setFont("helvetica","bold"),O.text("FECHA DE COMPRA:",25,77),O.setFont("helvetica","normal"),O.text(R.fecha_compra||R.fecha||"N/A",75,77),O.setFont("helvetica","bold"),O.text("COMPRA N°:",130,70),O.setFont("helvetica","normal"),O.text(R.id?R.id.toString():"N/A",165,70),O.setFont("helvetica","bold"),O.text("FECHA REGISTRO:",130,77),O.setFont("helvetica","normal");let D=R.fecha_registro||"";if(D&&D.includes("T")&&(D=D.split("T")[0]),D&&D.includes("2025-09-12T00:00:00.000Z")&&(D="12/09/2025"),D.match(/^\d{4}-\d{2}-\d{2}$/)){const[B,z,I]=D.split("-");D=`${I}/${z}/${B}`}O.text(D||new Date().toLocaleDateString("es-ES"),165,77)},v=(O,R)=>{DU(O,{head:[["Nombre Producto","Cantidad","Unidad Medida","Precio unitario","Subtotal"]],body:R.map(D=>[D.nombre||"N/A",D.cantidad||0,D.unidad_medida||D.unidad||"Unidad",`$${(D.precio||0).toFixed(2)}`,`$${((D.cantidad||0)*(D.precio||0)).toFixed(2)}`]),startY:95,styles:{fillColor:_o.blanco,textColor:_o.grisTexto,fontSize:9,cellPadding:4,lineWidth:.1,lineColor:[220,220,220],halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontSize:10,fontStyle:"bold",halign:"center",valign:"middle"},alternateRowStyles:{fillColor:[248,248,248]},columnStyles:{0:{halign:"left",cellWidth:42},1:{halign:"center",cellWidth:25},2:{halign:"center",cellWidth:40},3:{halign:"right",cellWidth:25},4:{halign:"right",cellWidth:45,fontStyle:"bold"}}})},y=(O,R,D)=>{const B=D+10;return O.setFillColor(..._o.grisElegante),O.rect(130,B,60,15,"F"),O.setDrawColor(..._o.amarillo),O.setLineWidth(1),O.rect(130,B,60,15),O.setFontSize(14),O.setTextColor(..._o.blanco),O.setFont("helvetica","bold"),O.text("TOTAL:",135,B+7),O.text(`${R.toFixed(2)}`,165,B+7),B},E=(O,R,D)=>{if(R&&R.trim()!==""){O.setFontSize(11),O.setTextColor(..._o.grisTexto),O.setFont("helvetica","bold"),O.text("OBSERVACIONES:",20,D+25),O.setFont("helvetica","normal");const B=O.splitTextToSize(R,170);O.text(B,20,D+32)}},C=O=>{const R=O.internal.pageSize.height;O.setFillColor(..._o.rosaClaro),O.rect(0,R-20,210,20,"F"),O.setFontSize(8),O.setTextColor(..._o.grisTexto),O.setFont("helvetica","normal"),O.text("Documento generado automáticamente - Delicias Darsy",20,R-10);const{fecha:D}=f();O.text(`Fecha: ${D} - `,20,R-5),p(O,180,R-10,Ap.logoFooterSize)},k=O=>O.reduce((R,D)=>{const B=D.cantidad||0,z=D.precio||0;return R+B*z},0),_=async O=>{try{if(l(!0),u(null),!O.insumos||O.insumos.length===0)throw new Error("No hay insumos para generar el PDF");const R=new sn,D={...O,id:O.id||Date.now().toString()};g(R),x(R,D),v(R,D.insumos);const B=k(D.insumos),z=R.previousAutoTable?R.previousAutoTable.finalY:150,I=y(R,B,z);E(R,D.observaciones,I),C(R);const L=R.output("datauristring");return i(L),R}catch(R){throw console.error("Error al generar PDF preview:",R),u("Error al generar la previsualización del PDF"),R}finally{l(!1)}},N=async()=>{try{if(l(!0),u(null),!r||!r.insumos||r.insumos.length===0)throw new Error("No hay insumos para generar el PDF");const O=await _(r),{fecha:R}=f(),D=`compra-${r.id||Date.now()}-${R.replace(/\//g,"-")}.pdf`;O.save(D),n&&n()}catch(O){console.error("Error al descargar PDF:",O),u("Error al descargar el PDF")}finally{l(!1)}};return b.useEffect(()=>{t&&r&&_(r)},[t,r]),t?o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:e},o.createElement("div",{style:{width:"95vw",height:"90vh",maxWidth:"1400px",maxHeight:"850px",backgroundColor:"white",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},onClick:O=>O.stopPropagation()},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",backgroundColor:"#f8f9fa",borderRadius:"8px 8px 0 0"}},o.createElement("h2",{style:{margin:0,color:"#333",fontSize:"1.5rem",fontWeight:"600"}},"Previsualización de Compra"),o.createElement("div",{style:{display:"flex",gap:"10px"}},o.createElement("button",{onClick:N,disabled:s||c,style:{padding:"10px 20px",backgroundColor:"#ee52a5",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"500",cursor:s||c?"not-allowed":"pointer",opacity:s||c?.6:1,display:"flex",alignItems:"center",gap:"8px"}},"📥 Descargar"),o.createElement("button",{onClick:e,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}},"✖ Cerrar"))),o.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",minHeight:"700px",position:"relative"}},s&&o.createElement("div",{style:{textAlign:"center",color:"#666"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"4px solid #f3f3f3",borderTop:"4px solid #ff1493",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",{style:{fontSize:"18px"}},"Generando previsualización...")),c&&o.createElement("div",{style:{textAlign:"center",color:"#dc3545",fontSize:"18px"}},o.createElement("p",null,"⚠ ",c),o.createElement("button",{onClick:()=>_(r),style:{marginTop:"15px",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"}},"Reintentar")),a&&!s&&!c&&o.createElement("iframe",{src:a,style:{width:"100%",height:"100%",border:"none",minHeight:"700px"},title:"Previsualización PDF"})))),o.createElement("style",{jsx:!0},`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `)):null},FU=({proveedores:t=[],value:e="",onChange:r,onSelect:n,disabled:a=!1,error:i=!1,placeholder:s="Buscar por nombre o documento..."})=>{const[l,c]=b.useState(!1),[u,f]=b.useState(e),p=b.useRef(null);b.useEffect(()=>{const y=E=>{p.current&&!p.current.contains(E.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),b.useEffect(()=>{f(e)},[e]);const h=t.filter(y=>{if(!(y.estado===!0||y.estado===1||y.estado==="1"))return!1;const C=(y.nombre||y.nombreProveedor||y.nombreproveedor||y.nombreempresa||"").toLowerCase(),k=(y.documento||y.nit||"").toString(),_=u.toLowerCase();return C.includes(_)||k.includes(_)}),g=y=>{const E=y.target.value;f(E),c(!0),r&&r(E)},x=y=>{const E=y.nombre||y.nombreProveedor||y.nombreproveedor||y.nombreempresa;f(E),c(!1),n&&n(y)},v=()=>{a||c(!0)};return o.createElement("div",{ref:p,className:"proveedor-autocomplete"},o.createElement("input",{type:"text",value:u,onChange:g,onFocus:v,placeholder:s,disabled:a,className:`autocomplete-input ${i?"error":""} ${a?"disabled":""}`}),l&&!a&&h.length>0&&o.createElement("div",{className:"autocomplete-dropdown"},h.map(y=>{const E=y.nombre||y.nombreProveedor||y.nombreproveedor||y.nombreempresa,C=y.documento||y.nit||"";return o.createElement("div",{key:y.idProveedor||y.idproveedor,onClick:()=>x(y),className:"autocomplete-item"},o.createElement("span",{className:"item-nombre"},E),o.createElement("span",{className:"item-documento"},C))})),l&&!a&&u&&h.length===0&&o.createElement("div",{className:"autocomplete-dropdown"},o.createElement("div",{className:"autocomplete-empty"},"No se encontraron proveedores activos")))};function $U({compraData:t,setCompraData:e,insumosSeleccionados:r,setInsumosSeleccionados:n,proveedores:a,errores:i,setErrores:s,modalTipo:l,cargando:c,onGuardar:u,onCancelar:f,onAbrirModalProveedor:p,buscarProveedor:h,setBuscarProveedor:g,mostrarModalInsumos:x,setMostrarModalInsumos:v}){const[y,E]=b.useState({idProveedor:"",proveedor:"",fechaCompra:"",fechaRegistro:new Date().toISOString().split("T")[0]}),[C,k]=b.useState([]);b.useEffect(()=>{var U,j,Y;if(console.log("=== CARGANDO DATOS EN COMPRAFORM ==="),console.log("modalTipo:",l),console.log("compraData COMPLETO:",JSON.stringify(t,null,2)),console.log("compraData.detallecompra:",t==null?void 0:t.detallecompra),console.log("compraData.detalles:",t==null?void 0:t.detalles),console.log("compraData.proveedor:",t==null?void 0:t.proveedor),console.log("compraData.nombreProveedor:",t==null?void 0:t.nombreProveedor),t&&l==="ver"){const G=((U=t.proveedor)==null?void 0:U.nombreproveedor)||((j=t.proveedor)==null?void 0:j.nombreempresa)||((Y=t.proveedor)==null?void 0:Y.nombre)||t.nombreProveedor||"",X=t.fechacompra||t.fechaCompra,ie=t.fecharegistro||t.fechaRegistro;console.log("Proveedor encontrado:",G),console.log("Fecha compra:",X),E({idProveedor:t.idproveedor||t.idProveedor,proveedor:G,fechaCompra:X?new Date(X).toISOString().split("T")[0]:"",fechaRegistro:ie?new Date(ie).toISOString().split("T")[0]:""});let ye=[];if(t.detallecompra&&Array.isArray(t.detallecompra)?(ye=t.detallecompra,console.log("Detalles desde detallecompra:",ye)):t.detalles&&Array.isArray(t.detalles)&&(ye=t.detalles,console.log("Detalles desde detalles:",ye)),ye.length>0){const me=ye.map(he=>{var je,Fe,ue,xe,Pe;return console.log("Procesando detalle:",he),{id:he.idinsumos||he.idInsumo||he.id,nombre:he.nombreInsumo||((je=he.insumos)==null?void 0:je.nombreinsumo)||((Fe=he.insumo)==null?void 0:Fe.nombre)||`Insumo ${he.idinsumos||he.idInsumo}`,cantidad:parseInt(he.cantidad)||0,precio:parseFloat(he.preciounitario||he.precioUnitario)||0,precioUnitario:parseFloat(he.preciounitario||he.precioUnitario)||0,unidad:he.unidadMedida||((xe=(ue=he.insumos)==null?void 0:ue.unidadmedida)==null?void 0:xe.unidadmedida)||((Pe=he.insumo)==null?void 0:Pe.unidad)||"Unidad"}});console.log("Insumos formateados:",me),k(me)}else console.warn("No se encontraron detalles en la compra")}},[t,l]);const _=l==="ver"&&t?y:t||{idProveedor:"",proveedor:"",fechaCompra:"",fechaRegistro:new Date().toISOString().split("T")[0]},N=l==="ver"&&t?C:r||[],O=U=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(U),R=()=>new Date().toISOString().split("T")[0],D=U=>{if(!U)return"La fecha de compra es obligatoria";const j=new Date(U),Y=new Date;return Y.setHours(23,59,59,999),j>Y?"La fecha de compra no puede ser mayor al día presente":""},B=U=>U?"":"Debe seleccionar un proveedor",z=U=>U.length===0?"Debe agregar al menos un insumo":"",I=U=>{const{name:j,value:Y}=U.target;if(j==="idProveedor"){const G=a.find(X=>X.idProveedor===Number(Y));e(X=>({...X,idProveedor:Y?Number(Y):null,proveedor:(G==null?void 0:G.nombre)||(G==null?void 0:G.nombreProveedor)||(G==null?void 0:G.nombreempresa)||""})),s(X=>({...X,proveedor:G?"":"Debe seleccionar un proveedor"}))}else e(G=>({...G,[j]:Y})),j==="fechaCompra"&&s(G=>({...G,fecha_compra:D(Y)}))},L=U=>{const j=U.map(G=>({...G,cantidad:parseInt(G.cantidad)||1,precio:parseFloat(G.precio||G.precioUnitario)||0,precioUnitario:parseFloat(G.precio||G.precioUnitario)||0})),Y=[...r,...j.filter(G=>!r.some(X=>X.id===G.id))];n(Y),s(G=>({...G,insumos:z(Y)}))},M=(U,j)=>{const Y=Math.max(1,parseInt(j)||1);n(G=>G.map(X=>X.id===U?{...X,cantidad:Y}:X))},F=U=>{const j=r.filter(Y=>Y.id!==U);n(j),s(Y=>({...Y,insumos:z(j)}))},H=()=>{const U=B(_.idProveedor),j=D(_.fechaCompra),Y=z(N);return s({proveedor:U,fecha_compra:j,insumos:Y}),!U&&!j&&!Y},J=()=>{H()&&u(_,N)},ee=N.reduce((U,j)=>U+(j.precio||j.precioUnitario||0)*(j.cantidad||0),0),re=ee*.19,te=ee+re,K=()=>l==="ver"?`Compra ${(t==null?void 0:t.estado)!==!1?"Activa":"Anulada"} - #${(t==null?void 0:t.idcompra)||(t==null?void 0:t.id)||""}`:l==="crear"?"Nueva Compra":"Editar Compra";return o.createElement("div",{className:"compra-form-container"},l==="ver"&&t&&o.createElement("div",{className:`compra-status-header ${t.estado===!1?"anulada":"activa"}`},o.createElement("h1",{className:"compra-title"},K()),o.createElement("div",{className:"status-indicator"},o.createElement("span",{className:`status-badge ${t.estado===!1?"anulada":"activa"}`},t.estado===!1?"❌ ANULADA":"✅ ACTIVA"))),o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},"📊"),o.createElement("span",null,"Proveedores cargados: ",(a==null?void 0:a.length)||0))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"🏢"),"Información de la Compra"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Proveedor *"),o.createElement("div",{className:"provider-input-group"},o.createElement(FU,{proveedores:a,value:l==="ver"?_.proveedor:h||"",onChange:U=>{l!=="ver"&&g&&g(U)},onSelect:U=>{l!=="ver"&&(e(j=>({...j,idProveedor:U.idProveedor,proveedor:U.nombre||U.nombreProveedor||U.nombreempresa})),s(j=>({...j,proveedor:""})),g&&g(U.nombre||U.nombreProveedor||U.nombreempresa))},disabled:l==="ver"||c,error:!!(i!=null&&i.proveedor),placeholder:"Buscar por nombre o documento..."}),l!=="ver"&&o.createElement("button",{type:"button",onClick:p,className:"add-provider-btn",title:"Agregar nuevo proveedor",disabled:c},"+")),(i==null?void 0:i.proveedor)&&o.createElement("span",{className:"error-message"},i.proveedor),l!=="ver"&&(a==null?void 0:a.length)===0&&o.createElement("small",{style:{color:"#f59e0b",fontSize:"12px"}},"No hay proveedores disponibles"),(_==null?void 0:_.idProveedor)&&o.createElement("small",{style:{color:"#ec4899",fontSize:"12px",marginTop:"4px",display:"block"}},"✓ Seleccionado: ",_.proveedor)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de compra *"),o.createElement("input",{type:"date",name:"fechaCompra",value:(_==null?void 0:_.fechaCompra)||"",onChange:I,disabled:l==="ver"||c,max:R(),className:`form-input ${i!=null&&i.fecha_compra?"error":""}`}),(i==null?void 0:i.fecha_compra)&&o.createElement("span",{className:"error-message"},i.fecha_compra)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de registro"),o.createElement("input",{type:"date",name:"fechaRegistro",value:(_==null?void 0:_.fechaRegistro)||"",onChange:I,className:"form-input",disabled:!0})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📦"),"Detalle de Productos"),(i==null?void 0:i.insumos)&&o.createElement("div",{className:"error-banner"},o.createElement("span",{className:"error-icon"},"⚠️"),i.insumos),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Nombre Producto"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Unidad Medida"),o.createElement("th",null,"Precio unitario"),o.createElement("th",null,"Subtotal"),l!=="ver"&&o.createElement("th",null,"Acción"))),o.createElement("tbody",null,N.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:l==="ver"?5:6,style:{textAlign:"center",padding:"20px"}},"No hay productos en esta compra")):N.map(U=>o.createElement("tr",{key:U.id,className:"product-row"},o.createElement("td",{className:"product-name"},U.nombre),o.createElement("td",{className:"quantity-cell"},l==="ver"?o.createElement("span",{className:"quantity-display"},U.cantidad):o.createElement("input",{type:"number",min:"1",value:U.cantidad,onChange:j=>M(U.id,parseInt(j.target.value)),disabled:c,className:"quantity-input"})),o.createElement("td",{className:"unit-cell"},U.unidad),o.createElement("td",{className:"price-cell"},O(U.precio||U.precioUnitario||0)),o.createElement("td",{className:"subtotal-cell"},O((U.cantidad||0)*(U.precio||U.precioUnitario||0))),l!=="ver"&&o.createElement("td",{className:"action-cell"},o.createElement("button",{className:"delete-btn",onClick:()=>F(U.id),disabled:c,title:"Eliminar producto"},"🗑️"))))))),l!=="ver"&&v&&o.createElement("button",{className:"add-products-btn",onClick:()=>v(!0),disabled:c},o.createElement("span",{className:"btn-icon"},"+"),"Agregar Productos")),o.createElement("div",{className:"totals-section"},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#f10079ff",fontSize:"2rem"}},"💰"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Subtotal"),o.createElement("div",{className:"card-value"},O(ee)))),o.createElement("div",{className:"total-card iva-card"},o.createElement("div",{className:"card-icon",style:{color:"#ff0080ff",fontSize:"2rem"}},"📊"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"IVA (19%)"),o.createElement("div",{className:"card-value"},O(re)))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#f7007cff",fontSize:"2rem"}},"💎"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total"),o.createElement("div",{className:"card-value total-value"},O(te)))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:f,disabled:c},l==="ver"?"Cerrar":"Cancelar"),l!=="ver"&&u&&o.createElement("button",{className:"btn btn-save",onClick:J,disabled:c},o.createElement("span",{className:"btn-icon"}),"Guardar")),x&&l!=="ver"&&v&&o.createElement(QB,{onClose:()=>v(!1),onAgregar:L}))}function zU({visible:t,onClose:e,onGuardar:r,proveedores:n,loading:a}){const[i,s]=b.useState("Natural"),[l,c]=b.useState(""),[u,f]=b.useState(""),[p,h]=b.useState(""),[g,x]=b.useState(""),[v,y]=b.useState(""),[E,C]=b.useState("CC"),[k,_]=b.useState(""),[N,O]=b.useState(""),[R,D]=b.useState(!0),[B,z]=b.useState({}),[I,L]=b.useState({}),M=(K,U)=>{let j="";switch(K){case"nombre":i==="Natural"&&(U.trim()?U.trim().length<3?j="El nombre debe tener al menos 3 caracteres":U.trim().length>50?j="El nombre no puede tener más de 50 caracteres":/^[A-Za-zÀÁÉÍÓÚÑÜ àáéíóúñüs.]+$/.test(U)||(j="El nombre solo puede contener letras, espacios y puntos"):j="El nombre es obligatorio");break;case"nombreEmpresa":i==="Jurídico"&&(U.trim()?U.trim().length<3?j="El nombre de empresa debe tener al menos 3 caracteres":U.trim().length>50&&(j="El nombre de empresa no puede tener más de 50 caracteres"):j="El nombre de empresa es obligatorio");break;case"nombreContacto":i==="Jurídico"&&(U.trim()?U.trim().length<3?j="El nombre del contacto debe tener al menos 3 caracteres":U.trim().length>50?j="El nombre del contacto no puede tener más de 50 caracteres":/^[A-Za-zÀÁÉÍÓÚÑÜ àáéíóúñüs.]+$/.test(U)||(j="El nombre del contacto solo puede contener letras, espacios y puntos"):j="El nombre del contacto es obligatorio");break;case"contacto":U.trim()?/^\d+$/.test(U)?U.length<3?j="El contacto debe tener al menos 3 dígitos":U.length>10&&(j="El contacto no puede tener más de 10 dígitos"):j="El contacto debe contener solo números":j="El contacto es obligatorio";break;case"correo":U.trim()?U.length>50?j="El correo no puede tener más de 50 caracteres":(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U)||!U.includes("@"))&&(j="Correo no válido"):j="El correo es obligatorio";break;case"direccion":U.trim()?U.trim().length<5?j="La dirección debe tener al menos 5 caracteres":U.trim().length>30&&(j="La dirección no puede tener más de 30 caracteres"):j="La dirección es obligatoria";break;case"documentoONit":const Y=i==="Natural"?"Documento":"NIT";U.trim()?/^\d+$/.test(U)?i==="Natural"?U.length<7?j="El documento debe tener al menos 7 dígitos":U.length>10&&(j="El documento no puede tener más de 10 dígitos"):U.length<9?j="El NIT debe tener al menos 9 dígitos":U.length>12&&(j="El NIT no puede tener más de 12 dígitos"):j=`${Y} debe contener solo números`:j=`${Y} es obligatorio`;break}return j},F=(K,U)=>{switch(K){case"tipoProveedor":if(s(U),U==="Natural"?(C("CC"),_(""),O("")):(C("NIT"),c("")),v){const j=M("documentoONit",v);z(Y=>({...Y,documentoONit:j}))}break;case"tipoDocumento":C(U);break;case"nombre":c(U);break;case"nombreEmpresa":_(U);break;case"nombreContacto":O(U);break;case"contacto":f(U);break;case"correo":h(U);break;case"direccion":x(U);break;case"documentoONit":y(U);break;case"estadoProveedor":D(U);break}if(I[K]){const j=M(K,U);z(Y=>({...Y,[K]:j}))}},H=(K,U)=>{L(Y=>({...Y,[K]:!0}));const j=M(K,U);z(Y=>({...Y,[K]:j})),K==="correo"&&!j&&n.some(G=>G.correo.toLowerCase()===U.toLowerCase())&&z(G=>({...G,correo:"Ya existe un proveedor con este correo"})),K==="nombre"&&!j&&i==="Natural"&&n.some(G=>G.nombre&&G.nombre.toLowerCase()===U.toLowerCase())&&z(G=>({...G,nombre:"Ya existe un proveedor con este nombre"})),K==="nombreEmpresa"&&!j&&i==="Jurídico"&&n.some(G=>G.nombreEmpresa&&G.nombreEmpresa.toLowerCase()===U.toLowerCase())&&z(G=>({...G,nombreEmpresa:"Ya existe un proveedor con este nombre de empresa"}))},J=()=>{let K=["contacto","correo","direccion","documentoONit"];i==="Natural"?K=[...K,"nombre"]:K=[...K,"nombreEmpresa","nombreContacto"];let U=!1;const j={};return K.forEach(G=>{let X;switch(G){case"nombre":X=l;break;case"nombreEmpresa":X=k;break;case"nombreContacto":X=N;break;case"contacto":X=u;break;case"correo":X=p;break;case"direccion":X=g;break;case"documentoONit":X=v;break}const ie=M(G,X);ie&&(j[G]=ie,U=!0)}),n.some(G=>G.correo.toLowerCase()===p.toLowerCase())&&(j.correo="Ya existe un proveedor con este correo",U=!0),i==="Natural"?n.some(X=>X.nombre&&X.nombre.toLowerCase()===l.toLowerCase())&&(j.nombre="Ya existe un proveedor con este nombre",U=!0):n.some(X=>X.nombreEmpresa&&X.nombreEmpresa.toLowerCase()===k.toLowerCase())&&(j.nombreEmpresa="Ya existe un proveedor con este nombre de empresa",U=!0),z(j),L(K.reduce((G,X)=>({...G,[X]:!0}),{})),!U},ee=()=>{if(!J())return;const K={TipoProveedor:i,tipodocumento:E,documento:v,contacto:u,correo:p,direccion:g,estado:R,...i==="Natural"?{nombreproveedor:l,nombreempresa:null}:{nombreempresa:k,nombreproveedor:N}};r(K)},re=()=>{s("Natural"),c(""),f(""),h(""),x(""),y(""),C("CC"),_(""),O(""),D(!0),z({}),L({})},te=()=>{re(),e()};return o.createElement(Wn,{visible:t,onClose:te,className:"modal-wide"},o.createElement("h2",{className:"modal-title"},"Agregar Proveedor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid-two-columns"},o.createElement("label",null,"Tipo de Proveedor*",o.createElement("select",{value:i,onChange:K=>F("tipoProveedor",K.target.value),className:"modal-input",disabled:a},o.createElement("option",{value:"Natural"},"Natural"),o.createElement("option",{value:"Jurídico"},"Jurídico"))),o.createElement("label",null,"Tipo de Documento*",o.createElement("select",{value:E,onChange:K=>F("tipoDocumento",K.target.value),className:"modal-input",disabled:a},i==="Natural"?o.createElement(o.Fragment,null,o.createElement("option",{value:"CC"},"Cédula de Ciudadanía"),o.createElement("option",{value:"CE"},"Cédula de Extranjería"),o.createElement("option",{value:"TI"},"Tarjeta de Identidad")):o.createElement(o.Fragment,null,o.createElement("option",{value:"NIT"},"NIT"),o.createElement("option",{value:"RUT"},"RUT")))),o.createElement("label",null,i==="Natural"?"Número de Documento*":E==="RUT"?"RUT*":"NIT*",o.createElement("input",{type:"text",value:v,onChange:K=>F("documentoONit",K.target.value),onBlur:K=>H("documentoONit",K.target.value),className:`modal-input ${B.documentoONit?"error":""}`,placeholder:i==="Natural"?"Número de documento":E==="RUT"?"Número de RUT":"Número de NIT",maxLength:i==="Natural"||E==="RUT"?"10":"12",disabled:a}),B.documentoONit&&o.createElement("span",{className:"error-message"},B.documentoONit)),i==="Natural"?o.createElement("label",null,"Nombre Completo*",o.createElement("input",{type:"text",value:l,onChange:K=>F("nombre",K.target.value),onBlur:K=>H("nombre",K.target.value),className:`modal-input ${B.nombre?"error":""}`,placeholder:"Ingrese el nombre completo",disabled:a}),B.nombre&&o.createElement("span",{className:"error-message"},B.nombre)):o.createElement(o.Fragment,null,o.createElement("label",null,"Razón Social*",o.createElement("input",{type:"text",value:k,onChange:K=>F("nombreEmpresa",K.target.value),onBlur:K=>H("nombreEmpresa",K.target.value),className:`modal-input ${B.nombreEmpresa?"error":""}`,placeholder:"Ingrese la razón social",disabled:a}),B.nombreEmpresa&&o.createElement("span",{className:"error-message"},B.nombreEmpresa))),i==="Jurídico"&&o.createElement("label",null,"Nombre del Contacto*",o.createElement("input",{type:"text",value:N,onChange:K=>F("nombreContacto",K.target.value),onBlur:K=>H("nombreContacto",K.target.value),className:`modal-input ${B.nombreContacto?"error":""}`,placeholder:"Ingrese el nombre del contacto",disabled:a}),B.nombreContacto&&o.createElement("span",{className:"error-message"},B.nombreContacto)),o.createElement("label",null,"Teléfono*",o.createElement("input",{type:"text",value:u,onChange:K=>F("contacto",K.target.value),onBlur:K=>H("contacto",K.target.value),className:`modal-input ${B.contacto?"error":""}`,placeholder:"Número de teléfono (10 dígitos)",maxLength:"10",disabled:a}),B.contacto&&o.createElement("span",{className:"error-message"},B.contacto)),o.createElement("label",null,"Correo Electrónico*",o.createElement("input",{type:"email",value:p,onChange:K=>F("correo",K.target.value),onBlur:K=>H("correo",K.target.value),className:`modal-input ${B.correo?"error":""}`,placeholder:"ejemplo@correo.com",disabled:a}),B.correo&&o.createElement("span",{className:"error-message"},B.correo)),o.createElement("label",null,"Dirección*",o.createElement("input",{type:"text",value:g,onChange:K=>F("direccion",K.target.value),onBlur:K=>H("direccion",K.target.value),className:`modal-input ${B.direccion?"error":""}`,placeholder:"Dirección completa",disabled:a}),B.direccion&&o.createElement("span",{className:"error-message"},B.direccion)))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:te,disabled:a},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:ee,disabled:a},a?"Guardando...":"Guardar")))}function BU({compra:t,onVer:e,onAnular:r,onReactivar:n,onGenerarPDF:a,cargando:i}){return!t.estado||t.estado===!1?o.createElement("div",{style:{display:"flex",gap:"4px",justifyContent:"center"}},o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>{console.log("Ver compra anulada:",t),e(t)},disabled:i},"👁")):o.createElement("div",{style:{display:"flex",gap:"4px",justifyContent:"center"}},o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>{console.log("Ver compra activa:",t),e(t)},disabled:i},"👁"),o.createElement("button",{className:"admin-button red",title:"Anular",onClick:()=>{console.log("Anular compra:",t),r(t)},disabled:i},"🛑"),o.createElement("button",{className:"admin-button blue",title:"Descargar PDF",onClick:()=>{console.log("Generar PDF compra activa:",t),a(t)},disabled:i},"📄"))}const qU="/assets/mu%C3%B1equita-CMjcHU41.gif";function zl(){return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(6px)"}},o.createElement("div",{style:{marginBottom:"1.5rem",animation:"float 3s ease-in-out infinite"}},o.createElement("img",{src:qU,alt:"Cargando...",style:{width:"300px",height:"300px"}})),o.createElement("p",{style:{color:"#d81b60",fontSize:"22px",fontWeight:"600",marginBottom:"1.5rem",fontFamily:"Arial, sans-serif",animation:"pulse 2s ease-in-out infinite"}},"Cargando..."),o.createElement("div",{style:{width:"280px",height:"8px",backgroundColor:"rgba(240, 240, 240, 0.6)",borderRadius:"20px",overflow:"hidden",position:"relative"}},o.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"50%",background:"linear-gradient(90deg, #f48fb1, #ec407a, #ff69b4, #ec407a, #f48fb1)",backgroundSize:"200% 100%",borderRadius:"20px",animation:"loadingBar 2s ease-in-out infinite, shimmer 3s linear infinite"}})),o.createElement("style",null,`
          @keyframes loadingBar {
            0% { left: -50%; }
            50% { left: 100%; }
            100% { left: -50%; }
          }
          
          @keyframes shimmer {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
          }
          
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-12px); }
          }
          
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
          }
        `))}const qd="https://deliciasoft-backend-i6g9.onrender.com/api/compra";class UU{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r}catch(n){console.error("Error parsing error response:",n)}throw new Error(r)}return e.json()}async cambiarEstadoCompra(e,r){try{console.log("=== INICIANDO CAMBIO DE ESTADO ==="),console.log("ID de compra:",e),console.log("Nuevo estado:",r);const a=`${qd}/${e}/${r?"activar":"anular"}`;console.log("URL del endpoint:",a);const i=await fetch(a,{method:"PUT",headers:this.baseHeaders});if(console.log("Status respuesta:",i.status),console.log("StatusText:",i.statusText),!i.ok){const u=await i.text();throw console.error("Error del servidor:",u),new Error(`Error ${i.status}: ${u}`)}const s=await i.json();console.log("Respuesta del servidor:",s);const l=s.compra||s;if(!l)throw console.error("No se recibió compra actualizada"),new Error("Respuesta inválida del servidor");console.log("Estado recibido:",l.estado),l.estado!==r?console.warn(`ADVERTENCIA: Estado esperado ${r}, recibido ${l.estado}`):console.log(`ÉXITO: Estado cambiado a ${l.estado}`);const c=this.transformarCompraDesdeAPI(l);return console.log("Compra transformada final:",c),c}catch(n){throw console.error("ERROR EN cambiarEstadoCompra:",n),new Error(`No se pudo ${r?"reactivar":"anular"} la compra: ${n.message}`)}}async obtenerCompras(){try{console.log("Obteniendo compras desde:",qd);const e=await fetch(`${qd}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);console.log("Datos crudos de la API:",r.length,"compras");const n=this.transformarComprasDesdeAPI(r);console.log("Compras transformadas:",n.length);const a=n.filter(s=>s.estado===!0),i=n.filter(s=>s.estado===!1);return console.log("Estados después de transformar: Activas:",a.length,"Anuladas:",i.length),n}catch(e){throw console.error("Error en obtenerCompras:",e),e}}async obtenerCompraPorId(e){try{console.log("Obteniendo compra por ID:",e);const r=await fetch(`${qd}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Compra no encontrada");const n=await this.handleResponse(r);return console.log("Compra obtenida:",n),this.transformarCompraDesdeAPI(n)}catch(r){throw console.error("Error en obtenerCompraPorId:",r),r}}async crearCompra(e){try{const r=this.transformarCompraParaAPI(e);this.validarDatosCompra(r);const n=await fetch(qd,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)}),a=await this.handleResponse(n);return this.transformarCompraDesdeAPI(a)}catch(r){throw console.error("Error en crearCompra:",r),r}}async actualizarCompra(e,r){try{const n=this.transformarCompraParaAPI(r);this.validarDatosCompra(n);const a=await fetch(`${qd}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarCompraDesdeAPI(i)}catch(n){throw console.error("Error en actualizarCompra:",n),n}}async eliminarCompra(e){try{const r=await fetch(`${qd}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),{success:!0,message:"Compra eliminada exitosamente"}}catch(r){throw console.error("Error en eliminarCompra:",r),r}}validarDatosCompra(e){const r=[];if(e.idproveedor||r.push("El proveedor es requerido"),e.fechacompra||r.push("La fecha de compra es requerida"),(!e.subtotal||e.subtotal<=0)&&r.push("El subtotal debe ser mayor a 0"),(!e.total||e.total<=0)&&r.push("El total debe ser mayor a 0"),r.length>0)throw new Error("Datos inválidos: "+r.join(", "))}transformarCompraParaAPI(e){return{idproveedor:e.idProveedor,fecharegistro:e.fechaRegistro||new Date().toISOString().split("T")[0],fechacompra:e.fechaCompra,subtotal:parseFloat(e.subtotal)||0,iva:parseFloat(e.iva)||0,total:parseFloat(e.total)||0,observaciones:e.observaciones||"",estado:e.estado!==void 0?e.estado:!0,detallecompra:e.detalles?e.detalles.map(r=>this.transformarDetalleCompraParaAPI(r)):[]}}transformarCompraDesdeAPI(e){var n,a;if(!e)return null;console.log("Transformando compra:",e.idcompra,"Estado original:",e.estado,typeof e.estado);const r={id:e.idcompra||e.id,idcompra:e.idcompra||e.id,idProveedor:e.idproveedor||e.idProveedor,fechaRegistro:e.fecharegistro||e.fechaRegistro,fechaCompra:e.fechacompra||e.fechaCompra,fechacompra:e.fechacompra||e.fechaCompra,subtotal:parseFloat(e.subtotal)||0,iva:parseFloat(e.iva)||0,total:parseFloat(e.total)||0,estado:!!e.estado,observaciones:e.observaciones||"",nombreProveedor:e.nombreProveedor||((n=e.proveedor)==null?void 0:n.nombreproveedor)||((a=e.proveedor)==null?void 0:a.nombreempresa),proveedor:this.transformarProveedorDesdeAPI(e.proveedor||e.Proveedor),detalles:this.transformarDetallesCompraDesdeAPI(e.detallecompra||e.detalles||e.DetalleCompras||[])};return console.log("Estado transformado final:",r.estado,typeof r.estado),r}transformarProveedorDesdeAPI(e){return e?{id:e.idproveedor||e.id,idproveedor:e.idproveedor||e.id,nombre:e.nombreproveedor||e.nombre||e.nombreempresa||e.nombreCategoria||e.nombre_proveedor,nombreproveedor:e.nombreproveedor||e.nombre,nombreempresa:e.nombreempresa}:null}transformarComprasDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarCompraDesdeAPI(r)):(console.warn("Las compras no son un array:",e),[])}transformarDetalleCompraParaAPI(e){return{idinsumos:e.idinsumos??e.idinsumo??e.idInsumo??e.id,cantidad:e.cantidad,preciounitario:e.preciounitario??e.precioUnitario,subtotalproducto:e.subtotalproducto??e.subtotalProducto}}transformarDetalleCompraDesdeAPI(e){return e?{id:e.iddetallecompra||e.id,idCompra:e.idcompra||e.idCompra,idInsumo:e.idinsumos||e.idInsumo||null,cantidad:parseFloat(e.cantidad)||0,precioUnitario:parseFloat(e.preciounitario||e.precioUnitario)||0,subtotalProducto:parseFloat(e.subtotalproducto||e.subtotalProducto)||0,insumo:e.insumos||e.insumo?{id:(e.insumos||e.insumo).idinsumo||(e.insumos||e.insumo).id,nombre:(e.insumos||e.insumo).nombreinsumo||(e.insumos||e.insumo).nombre,unidad:(e.insumos||e.insumo).unidad||"N/A"}:null}:null}transformarDetallesCompraDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarDetalleCompraDesdeAPI(r)):[]}}const sf=new UU,HU=()=>{const[t,e]=b.useState([]),r=async()=>{try{console.log("=== CARGANDO COMPRAS ===");const c=await sf.obtenerCompras();console.log("Compras obtenidas de la API:",c),e(c)}catch(c){throw console.error("Error al cargar compras:",c),new Error("Error al cargar las compras: "+c.message)}};function n(c){return{idinsumo:c.idinsumo,nombreinsumo:c.nombreinsumo,idcategoriainsumos:c.idcategoriainsumos,idunidadmedida:c.idunidadmedida,idimagen:c.idimagen,estado:c.estado,cantidad:c.cantidad!==null&&c.cantidad!==void 0&&c.cantidad!==""?parseFloat(c.cantidad):0,precio:c.precio}}const a=async c=>{try{const p=(await(await fetch("https://deliciasoft-backend.onrender.com/api/insumos")).json()).map(n),h={};p.forEach(x=>{h[x.idinsumo]=x.cantidad});const g={};c.forEach(x=>{g[x.idinsumo]=(g[x.idinsumo]||0)+parseFloat(x.cantidad)});for(const x of Object.keys(g)){const y=await(await fetch(`https://deliciasoft-backend.onrender.com/api/Insumos/${x}`)).json();console.log("📋 Insumo crudo desde API:",y);const E=n(y);console.log("📦 Insumo normalizado:",E);const C=E.cantidad,k=Number((C+g[x]).toFixed(2));console.log(`🔄 Actualizando insumo ${x}: ${C} + ${g[x]} = ${k}`);const _={idinsumo:E.idinsumo,nombreinsumo:E.nombreinsumo,idcategoriainsumos:E.idcategoriainsumos,idunidadmedida:E.idunidadmedida,idimagen:E.idimagen,estado:E.estado,cantidad:k};await fetch(`https://deliciasoft-backend.onrender.com/api/Insumos/${x}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}),console.log(`✅ Insumo ${x} actualizado con cantidad ${k}`)}}catch(u){throw console.error("❌ Error actualizando stock de insumos:",u),u}};return{compras:t,cargarCompras:r,guardarCompra:async(c,u)=>{try{if(!c.idProveedor||u.length===0)throw new Error("Debe seleccionar un proveedor y agregar al menos un insumo");const f=u.reduce((y,E)=>y+(E.cantidad||0)*(E.precioUnitario||E.precio||0),0),p=f*.19,h=f+p,g=u.map(y=>({idinsumo:y.idinsumo??y.id,cantidad:Number(y.cantidad)||0,precioUnitario:y.precioUnitario||y.precio,subtotalProducto:(Number(y.cantidad)||0)*(y.precioUnitario||y.precio||0)})),x={idProveedor:c.idProveedor,fechaCompra:c.fechaCompra,fechaRegistro:c.fechaRegistro,observaciones:c.observaciones,detalles:g,subtotal:f,iva:p,total:h};console.log("📦 Guardando compra con datos:",x);const v=await sf.crearCompra(x);return console.log("✅ Compra creada exitosamente:",v),await a(g),v}catch(f){throw console.error("❌ Error al guardar la compra:",f),f}},anularCompra:async c=>{try{await sf.cambiarEstadoCompra(c,!1)}catch(u){throw console.error("❌ Error al anular compra:",u),u}},reactivarCompra:async c=>{try{if(c.detalles&&c.detalles.length>0){const f=c.detalles.map(p=>({idinsumo:p.idinsumo,cantidad:Math.abs(p.cantidad)}));await a(f)}return await sf.cambiarEstadoCompra(c.id,!0)}catch(u){throw console.error("Error al reactivar compra:",u),u}}}},_p="https://deliciasoft-backend-i6g9.onrender.com/api/proveedor";class WU{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async crearProveedor(e){console.log("📤 Enviando datos para crear proveedor:",e);const r=await fetch(_p,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(e)});if(!r.ok){const a=await r.json().catch(()=>({message:"Error desconocido"}));throw console.error("❌ Error en la respuesta del servidor:",a),new Error(a.message||"Error al crear proveedor")}const n=await r.json();return console.log("✅ Proveedor creado exitosamente:",n),this.transformarProveedorDesdeAPI(n)}async actualizarProveedor(e,r){console.log("📤 Enviando datos para actualizar proveedor:",{id:e,proveedorData:r});const n=await fetch(`${_p}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(r)});if(!n.ok){const i=await n.json().catch(()=>({message:"Error desconocido"}));throw console.error("❌ Error al actualizar proveedor:",i),new Error(i.message||"Error al actualizar proveedor")}const a=await n.json();return console.log("✅ Proveedor actualizado exitosamente:",a),this.transformarProveedorDesdeAPI(a)}async eliminarProveedor(e){console.log("🗑️ Eliminando proveedor con ID:",e);const r=await fetch(`${_p}/${e}`,{method:"DELETE",headers:this.baseHeaders});if(!r.ok){const n=await r.json().catch(()=>({message:"Error desconocido"}));throw console.error("❌ Error al eliminar proveedor:",n),new Error(n.message||"Error al eliminar proveedor")}return console.log("✅ Proveedor eliminado exitosamente"),!0}async cambiarEstadoProveedor(e,r){console.log("🔄 Cambiando estado del proveedor:",{id:e,nuevoEstado:r});const n=await fetch(`${_p}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify({estado:r})});if(!n.ok){const i=await n.json().catch(()=>({message:"Error desconocido"}));console.error("❌ Error al cambiar estado:",i);const s=new Error(i.message||"Error al cambiar estado");throw s.response={data:i},s}const a=await n.json();return console.log("✅ Estado cambiado exitosamente:",a),this.transformarProveedorDesdeAPI(a)}async obtenerProveedores(){console.log("📋 Obteniendo lista de proveedores...");const e=await fetch(_p,{method:"GET",headers:this.baseHeaders});if(!e.ok){const n=await e.json().catch(()=>({message:"Error desconocido"}));throw console.error("❌ Error al obtener proveedores:",n),new Error(n.message||"Error al obtener proveedores")}const r=await e.json();return console.log("✅ Proveedores obtenidos:",r),this.transformarProveedoresDesdeAPI(r)}transformarProveedorDesdeAPI(e){if(!e)return null;const r=e.TipoProveedor||"Natural",n=r==="Jurídico";return{idProveedor:e.idproveedor,tipo:r,tipoDocumento:e.tipodocumento,documento:e.documento?String(e.documento):"",extra:e.documento?String(e.documento):"",nombre:n?e.nombreempresa||"":e.nombreproveedor||"",nombreProveedor:e.nombreproveedor||"",nombreEmpresa:e.nombreempresa||"",nombreContacto:n&&e.nombreproveedor||"",contacto:e.contacto?String(e.contacto):"",correo:e.correo||"",direccion:e.direccion||"",estado:!!e.estado}}transformarProveedoresDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarProveedorDesdeAPI(r)).filter(r=>r!==null):(console.warn("⚠️ Los datos recibidos no son un array:",e),[])}}const mf=new WU,VU=()=>{const[t,e]=b.useState([]);return{proveedores:t,cargarProveedores:async()=>{try{const a=await mf.obtenerProveedores();e(a)}catch(a){throw console.error("Error al cargar proveedores:",a),new Error("Error al cargar los proveedores: "+a.message)}},guardarProveedor:async a=>{try{return await mf.crearProveedor(a)}catch(i){throw console.error("Error al guardar proveedor:",i),i}}}},GU=()=>{const[t,e]=b.useState({visible:!1,mensaje:"",tipo:"success"});return{notification:t,showNotification:(a,i="success")=>{e({visible:!0,mensaje:a,tipo:i})},hideNotification:()=>{e({visible:!1,mensaje:"",tipo:"success"})}}};function KU(){var lr;const[t,e]=b.useState(""),[r,n]=b.useState(!1),[a,i]=b.useState(null),[s,l]=b.useState(null),[c,u]=b.useState(!1),[f,p]=b.useState([]),[h,g]=b.useState(!1),[x,v]=b.useState(!1),[y,E]=b.useState(!1),[C,k]=b.useState("Cargando..."),[_,N]=b.useState(!1),[O,R]=b.useState(null),[D,B]=b.useState([]),[z,I]=b.useState(!1),[L,M]=b.useState(null),[F,H]=b.useState(""),[J,ee]=b.useState({proveedor:"",fecha_compra:"",insumos:""}),re=()=>new Date().toISOString().split("T")[0],[te,K]=b.useState({proveedor:"",idProveedor:null,fechaCompra:"",fechaRegistro:re(),observaciones:""}),{compras:U,cargarCompras:j,guardarCompra:Y,anularCompra:G,reactivarCompra:X}=HU(),{proveedores:ie,cargarProveedores:ye,guardarProveedor:me}=VU(),{notification:he,showNotification:je,hideNotification:Fe}=GU(),ue=ct=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(ct);b.useEffect(()=>{(async()=>{k("Cargando insumos..."),E(!0);try{const nt=await(await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/insumos")).json(),rt=xe(nt);B(rt)}finally{E(!1)}})()},[]),b.useEffect(()=>{(async()=>{k("Cargando datos..."),E(!0);try{await Promise.all([j(),ye()])}finally{E(!1)}})()},[]);function xe(ct){return ct.map(pt=>({idinsumo:pt.idinsumo,nombreinsumo:pt.nombreinsumo,idcategoriainsumos:pt.idcategoriainsumos,idunidadmedida:pt.idunidadmedida,idimagen:pt.idimagen,estado:pt.estado,cantidad:pt.cantidad!==null&&pt.cantidad!==void 0&&pt.cantidad!==""?parseFloat(pt.cantidad):0,precio:pt.precio}))}const Pe=async ct=>{var pt;try{k("Preparando PDF..."),E(!0);const nt=await sf.obtenerCompraPorId(ct.id);if(!nt.detalles||nt.detalles.length===0){je("No se puede generar PDF: La compra no tiene insumos registrados","error");return}const rt={id:nt.id,proveedor:((pt=nt.proveedor)==null?void 0:pt.nombre)||"N/A",fecha_compra:nt.fechaCompra,fecha_registro:nt.fechaRegistro,observaciones:nt.observaciones||"",insumos:nt.detalles.map(Lt=>{var hr,tr;return{nombre:((hr=Lt.insumo)==null?void 0:hr.nombre)||"N/A",cantidad:Lt.cantidad,precio:Lt.precioUnitario,precioUnitario:Lt.precioUnitario,unidad_medida:((tr=Lt.insumo)==null?void 0:tr.unidad)||"N/A"}})};R(rt),N(!0)}catch(nt){console.error("Error al preparar PDF:",nt),je("Error al preparar la visualización: "+nt.message,"error")}finally{E(!1)}},_e=()=>{N(!1),R(null)},ce=async ct=>{await Pe(ct)},Je=()=>{n(!1),l(null),i(null)},Te=()=>{u(!1),K({proveedor:"",idProveedor:null,fechaCompra:"",fechaRegistro:re(),observaciones:""}),p([]),l(null),i(null),ee({proveedor:"",fecha_compra:"",insumos:""})},Le=async()=>{try{if(!s||!s.id){je("No se ha seleccionado una compra válida","error");return}k("Anulando compra..."),E(!0),await G(s.id),je("Compra anulada correctamente","success"),n(!1),await j()}catch(ct){console.error("Error al anular compra:",ct),je("Error al anular la compra: "+ct.message,"error")}finally{E(!1)}},Ze=async ct=>{try{k("Reactivando compra..."),E(!0),await X(ct),await j(),je("Compra reactivada exitosamente.","success")}catch(pt){console.error("Error al reactivar compra:",pt),je("Error al reactivar la compra: "+pt.message,"error")}finally{E(!1)}},Be=async(ct,pt=null)=>{if(console.log("abrirModal llamado con:",ct,pt),i(ct),ct==="ver"&&pt)try{k("Cargando detalles de compra..."),E(!0);const nt=pt.id||pt.idcompra||pt.idCompra;if(!nt){console.error("No se pudo determinar el ID de la compra:",pt),je("Error: No se encontró un ID válido","error");return}console.log("Cargando compra con ID:",nt);const rt=await sf.obtenerCompraPorId(nt);console.log("Compra completa obtenida:",rt),l(rt);const hr=(rt.detalles||[]).map(tr=>{var rr,Wr;return{id:tr.idInsumo||tr.id,nombre:((rr=tr.insumo)==null?void 0:rr.nombre)||"N/A",cantidad:Number(tr.cantidad)||0,precioUnitario:Number(tr.precioUnitario)||0,precio:Number(tr.precioUnitario)||0,unidad:((Wr=tr.insumo)==null?void 0:Wr.unidad)||"N/A"}});p(hr),u(!0)}catch(nt){console.error("Error al cargar compra:",nt),je("Error al cargar la compra: "+nt.message,"error")}finally{E(!1)}else if(ct==="agregar")K({proveedor:"",idProveedor:null,fechaCompra:"",fechaRegistro:new Date().toISOString().split("T")[0],observaciones:""}),l(null),p([]),ee({proveedor:"",fecha_compra:"",insumos:""}),u(!0);else if(ct==="anular"&&pt){const nt=pt.id||pt.idcompra||pt.idCompra;if(!nt){console.error("No se pudo determinar el ID de la compra:",pt),je("Error: No se encontró un ID válido","error");return}l({...pt,id:nt}),n(!0)}},Dt=((ct,pt)=>{if(!pt||pt.trim()==="")return ct;const nt=pt.toLowerCase().trim();return ct.filter(rt=>{var kr;const Lt=((kr=rt.proveedor)==null?void 0:kr.nombre)&&rt.proveedor.nombre.toLowerCase().includes(nt),hr=rt.fechaCompra&&rt.fechaCompra.toLowerCase().includes(nt),tr=rt.observaciones&&rt.observaciones.toLowerCase().includes(nt),rr=rt.id&&rt.id.toString().includes(nt),Wr=rt.total&&rt.total.toString().includes(nt),Nr=rt.subtotal&&rt.subtotal.toString().includes(nt),bt=rt.iva&&rt.iva.toString().includes(nt),ke=rt.total?ue(rt.total):"",Re=rt.subtotal?ue(rt.subtotal):"",Qe=rt.iva?ue(rt.iva):"",jt=ke.toLowerCase().includes(nt),gt=Re.toLowerCase().includes(nt),At=Qe.toLowerCase().includes(nt);return Lt||hr||tr||rr||Wr||Nr||bt||jt||gt||At})})(U,t).filter(ct=>x?ct.estado===!1:ct.estado===!0||ct.estado===void 0),Ut=async(ct,pt)=>{try{k("Guardando compra..."),E(!0),await Y(ct,pt),je("Compra guardada correctamente y stock actualizado"),Te(),await j()}catch(nt){console.error("Error al guardar la compra:",nt),je("Error al guardar la compra: "+nt.message,"error")}finally{E(!1)}},Vt=async ct=>{try{k("Guardando proveedor..."),E(!0);const pt=await me(ct);await ye(),K(nt=>({...nt,idProveedor:pt.idProveedor||pt.id,proveedor:pt.nombre||pt.nombreProveedor})),ee(nt=>({...nt,proveedor:""})),je("Proveedor agregado exitosamente"),I(!1),M(null)}catch(pt){console.error("Error al guardar proveedor:",pt),je(pt.message||"Error al guardar el proveedor","error")}finally{E(!1)}},Jt=()=>{M("agregar"),I(!0)},dr=()=>{I(!1),M(null)};return o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:he.visible,mensaje:he.mensaje,tipo:he.tipo,onClose:Fe}),o.createElement(MU,{visible:_,onClose:_e,compraData:O,onDownload:()=>{},modalSize:"large"}),y&&o.createElement(zl,{mensaje:C,fullScreen:!0}),c?o.createElement($U,{compraData:a==="ver"?s:te,setCompraData:K,insumosSeleccionados:f,setInsumosSeleccionados:p,proveedores:ie,errores:J,setErrores:ee,modalTipo:a,cargando:y,onGuardar:Ut,onCancelar:Te,onAbrirModalProveedor:Jt,buscarProveedor:F,setBuscarProveedor:H,mostrarModalInsumos:h,setMostrarModalInsumos:g}):o.createElement(o.Fragment,null,o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>Be("agregar"),type:"button",disabled:y},"+ Agregar"),o.createElement($l,{placeholder:"Buscar Compras",value:t,onChange:e})),o.createElement("div",{className:"admin-section-header"},o.createElement("h2",{className:"admin-tab"},"Gestión de Compras"),o.createElement("button",{className:"admin-tab",onClick:()=>v(ct=>!ct),type:"button"},x?"Ver Activas":"Ver Anuladas")),o.createElement(ps,{value:Dt,className:"admin-table",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25,50],rowClassName:ct=>ct.estado?"":"fila-anulada",tableStyle:{tableLayout:"fixed",width:"100%"}},o.createElement(Zt,{header:"N°",body:(ct,{rowIndex:pt})=>pt+1,style:{width:"60px",textAlign:"center",padding:"8px 4px"},headerStyle:{width:"60px",textAlign:"center",padding:"8px 4px"}}),o.createElement(Zt,{field:"proveedor",header:"Proveedor",body:ct=>{var pt;return((pt=ct.proveedor)==null?void 0:pt.nombre)||"N/A"},style:{width:"25%",textAlign:"left",padding:"8px"},headerStyle:{width:"25%",textAlign:"left",padding:"8px"}}),o.createElement(Zt,{field:"fechaCompra",header:"Fecha Compra",body:ct=>{try{return new Date(ct.fechaCompra).toLocaleDateString("es-ES")}catch{return ct.fechaCompra||"N/A"}},style:{width:"20%",textAlign:"center",padding:"8px"},headerStyle:{width:"20%",textAlign:"center",padding:"8px"}}),o.createElement(Zt,{field:"total",header:"Total",body:ct=>ue(ct.total),style:{width:"20%",textAlign:"right",padding:"8px"},headerStyle:{width:"20%",textAlign:"right",padding:"8px"}}),o.createElement(Zt,{header:"Acción",body:ct=>o.createElement(BU,{compra:ct,onVer:()=>Be("ver",ct),onAnular:()=>Be("anular",ct),onReactivar:()=>Ze(ct),onGenerarPDF:()=>ce(ct),cargando:y}),style:{width:"15%",textAlign:"center",padding:"8px"},headerStyle:{width:"15%",textAlign:"center",padding:"8px"}})),a==="anular"&&s&&o.createElement(Wn,{visible:r,onClose:Je},o.createElement("h2",{className:"modal-title"},"Confirmar Anulación"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Seguro que deseas anular la compra del proveedor ",o.createElement("strong",null,(lr=s.proveedor)==null?void 0:lr.nombre),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:Je,disabled:y},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:Le,disabled:y},"Anular")))),z&&L==="agregar"&&o.createElement(zU,{visible:z,onClose:dr,onGuardar:Vt,proveedores:ie,loading:y}),o.createElement("style",{jsx:!0},`
                .fila-anulada {
                    background-color: #ffebee !important;
                    opacity: 0.7;
                }
                
                .admin-table .p-datatable-header-cell {
                    text-align: center;
                    vertical-align: middle;
                    padding: 12px 8px;
                    font-weight: 600;
                    background-color: #f8f9fa;
                    border-bottom: 2px solid #dee2e6;
                }
                
                .admin-table .p-datatable-tbody > tr > td {
                    vertical-align: middle;
                    padding: 8px;
                    border-bottom: 1px solid #dee2e6;
                }
            `))}function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},th.apply(null,arguments)}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function YU(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JU(t){var e=YU(t,"string");return Nh(e)=="symbol"?e:e+""}function XU(t,e,r){return(e=JU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ZU={root:function(e){var r=e.props,n=e.checked;return ur("p-inputswitch p-component",{"p-highlight":n,"p-disabled":r.disabled,"p-invalid":r.invalid})},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},uv=yn.extend({defaultProps:{__TYPE:"InputSwitch",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,id:null,inputId:null,inputRef:null,invalid:!1,name:null,onBlur:null,onChange:null,onFocus:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,children:void 0},css:{classes:ZU}});function f4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(r),!0).forEach(function(n){XU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ro=b.memo(b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=uv.getProps(t,n),i=uv.setMetaData({props:a}),s=i.ptm,l=i.cx,c=i.isUnstyled;Fl(uv.css.styles,c,{name:"inputswitch"});var u=b.useRef(null),f=b.useRef(a.inputRef),p=a.checked===a.trueValue,h=function(O){if(a.onChange){var R=p?a.falseValue:a.trueValue;a.onChange({originalEvent:O,value:R,stopPropagation:function(){O==null||O.stopPropagation()},preventDefault:function(){O==null||O.preventDefault()},target:{name:a.name,id:a.id,value:R}})}},g=function(O){var R;a==null||(R=a.onFocus)===null||R===void 0||R.call(a,O)},x=function(O){var R;a==null||(R=a.onBlur)===null||R===void 0||R.call(a,O)};b.useImperativeHandle(e,function(){return{props:a,focus:function(){return Ue.focus(f.current)},getElement:function(){return u.current},getInput:function(){return f.current}}}),b.useEffect(function(){Me.combinedRefs(f,a.inputRef)},[f,a.inputRef]),$s(function(){a.autoFocus&&Ue.focus(f.current,a.autoFocus)});var v=Me.isNotEmpty(a.tooltip),y=uv.getOtherProps(a),E=Me.reduceKeys(y,Ue.ARIA_PROPS),C=r({className:ur(a.className,l("root",{checked:p})),style:a.style,role:"checkbox","aria-checked":p,"data-p-highlight":p,"data-p-disabled":a.disabled},y,s("root")),k=r(QU({type:"checkbox",id:a.inputId,name:a.name,checked:p,onChange:h,onFocus:g,onBlur:x,disabled:a.disabled,role:"switch",tabIndex:a.tabIndex,"aria-checked":p,className:l("input")},E),s("input")),_=r({className:l("slider")},s("slider"));return b.createElement(b.Fragment,null,b.createElement("div",th({id:a.id,ref:u},C),b.createElement("input",th({ref:f},k)),b.createElement("span",_)),v&&b.createElement(Ru,th({target:u,content:a.tooltip,pt:s("tooltip")},a.tooltipOptions)))}));Ro.displayName="InputSwitch";const am="https://deliciasoft-backend-i6g9.onrender.com/api/categoria-insumos";class eH{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r}catch{}throw new Error(r)}return e.json()}async obtenerCategorias(){const e=await fetch(`${am}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return this.transformarCategoriasDesdeAPI(r)}async obtenerCategoriaPorId(e){const r=await fetch(`${am}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Categoría no encontrada");const n=await this.handleResponse(r);return this.transformarCategoriaDesdeAPI(n)}async crearCategoria(e){const r=this.transformarCategoriaParaAPI(e);this.validarDatosCategoria(r);const n=await fetch(am,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)}),a=await this.handleResponse(n);return this.transformarCategoriaDesdeAPI(a)}async actualizarCategoria(e,r){const n=this.transformarCategoriaParaAPI(r);this.validarDatosCategoria(n);const a=await fetch(`${am}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarCategoriaDesdeAPI(i)}async eliminarCategoria(e){const r=await fetch(`${am}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),{success:!0,message:"Categoría eliminada exitosamente"}}async cambiarEstadoCategoria(e,r){const n=await this.obtenerCategoriaPorId(e),a={...this.transformarCategoriaParaAPI(n),estado:r},i=await fetch(`${am}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(a)}),s=await this.handleResponse(i);return this.transformarCategoriaDesdeAPI(s)}validarDatosCategoria(e){const r=[];if(e.nombrecategoria||r.push("El nombre de la categoría es requerido"),e.descripcion||r.push("La descripción es requerida"),r.length>0)throw new Error("Datos inválidos: "+r.join(", "))}transformarCategoriaParaAPI(e){return{nombrecategoria:e.nombreCategoria,descripcion:e.descripcion,estado:e.estado!==void 0?!!e.estado:!0}}transformarCategoriaDesdeAPI(e){return e?{id:e.idcategoriainsumos,nombreCategoria:e.nombrecategoria,descripcion:e.descripcion,estado:e.estado}:null}transformarCategoriasDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarCategoriaDesdeAPI(r)):[]}}const nf=new eH;function tH(){const[t,e]=b.useState([]),[r,n]=b.useState(!1),[a,i]=b.useState({}),[s,l]=b.useState(""),[c,u]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[f,p]=b.useState(!1),[h,g]=b.useState(null),[x,v]=b.useState(null),[y,E]=b.useState(""),[C,k]=b.useState(""),[_,N]=b.useState(!0),[O,R]=b.useState({nombre:"",descripcion:""}),[D,B]=b.useState(!0),[z,I]=b.useState("Cargando...");b.useEffect(()=>{L()},[]);const L=async()=>{try{I("Cargando categorías..."),n(!0);const X=(await nf.obtenerCategorias()).map(ie=>({id:ie.id,nombre:ie.nombreCategoria,descripcion:ie.descripcion,activo:ie.estado}));e(X)}catch(G){console.error("Error al cargar categorías:",G),F("Error al cargar las categorías: "+G.message,"error"),e([{id:201,nombre:"Frutas",descripcion:"Productos naturales",activo:!0},{id:202,nombre:"Chocolate",descripcion:"Derivados del cacao",activo:!0},{id:203,nombre:"Lácteos",descripcion:"Productos de leche",activo:!0},{id:204,nombre:"Harinas",descripcion:"Cereales y derivados",activo:!1},{id:205,nombre:"Proteínas",descripcion:"Carnes y vegetales",activo:!0}])}finally{n(!1)}};b.useEffect(()=>{const G={nombre:"",descripcion:""};y.trim()?y.trim().length<3?G.nombre="El nombre debe tener al menos 3 caracteres":y.trim().length>50?G.nombre="El nombre no puede superar los 50 caracteres":/^[A-Za-zÀÁÉÍÓÚÀáéíóúÑñ\s]+$/.test(y.trim())||(G.nombre="El nombre solo puede contener letras y espacios"):G.nombre="El nombre es obligatorio",C.trim()?C.trim().length<10?G.descripcion="La descripción debe tener al menos 10 caracteres":C.trim().length>200&&(G.descripcion="La descripción no puede superar los 200 caracteres"):G.descripcion="La descripción es obligatoria",R(G)},[y,C]);const M=async G=>{try{i(ye=>({...ye,[G.id]:!0}));const X=!G.activo;await nf.cambiarEstadoCategoria(G.id,X);const ie=t.map(ye=>ye.id===G.id?{...ye,activo:X}:ye);e(ie),F(`Categoría ${G.activo?"desactivada":"activada"} exitosamente`)}catch(X){console.error("Error al cambiar estado:",X),F("Error al cambiar el estado: "+X.message,"error")}finally{i(X=>({...X,[G.id]:!1}))}},F=(G,X="success")=>{u({visible:!0,mensaje:G,tipo:X})},H=()=>{u({visible:!1,mensaje:"",tipo:"success"})},J=(G,X)=>{if((G==="editar"||G==="eliminar")&&!D){F("Las funciones de edición y eliminación están deshabilitadas","error");return}g(G),v(X),G==="editar"&&(E(X.nombre),k(X.descripcion),N(X.activo)),G==="agregar"&&(E(""),k(""),N(!0)),p(!0)},ee=()=>{p(!1),v(null),g(null),E(""),k(""),N(!0),R({nombre:"",descripcion:""})},re=()=>O.nombre||O.descripcion?(O.nombre&&F(O.nombre,"error"),O.descripcion&&F(O.descripcion,"error"),!1):!0,te=async()=>{if(re())try{I("Guardando cambios..."),n(!0);const G={nombreCategoria:y.trim(),descripcion:C.trim(),estado:_},X=await nf.actualizarCategoria(x.id,G),ie=t.map(ye=>ye.id===x.id?{id:X.id,nombre:X.nombreCategoria,descripcion:X.descripcion,activo:X.estado}:ye);e(ie),ee(),F("Categoría editada exitosamente")}catch(G){console.error("Error al editar categoría:",G),F("Error al editar la categoría: "+G.message,"error")}finally{n(!1)}},K=async()=>{try{I("Eliminando categoría..."),n(!0),await nf.eliminarCategoria(x.id);const G=t.filter(X=>X.id!==x.id);e(G),ee(),F("Categoría eliminada exitosamente")}catch(G){console.error("Error al eliminar categoría:",G),F("Error al eliminar la categoría: "+G.message,"error"),ee()}finally{n(!1)}},U=async()=>{if(re())try{I("Agregando categoría..."),n(!0);const G={nombreCategoria:y.trim(),descripcion:C.trim(),estado:!0},X=await nf.crearCategoria(G),ie={id:X.id,nombre:X.nombreCategoria,descripcion:X.descripcion,activo:X.estado};e([...t,ie]),ee(),F("Categoría agregada exitosamente")}catch(G){console.error("Error al agregar categoría:",G),F("Error al agregar la categoría: "+G.message,"error")}finally{n(!1)}},j=G=>G.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Y=t.filter(G=>{const X=j(s);return j(G.nombre).includes(X)||j(G.descripcion).includes(X)||(G.activo?"activo":"inactivo").includes(X)});return o.createElement("div",{className:"admin-wrapper"},r&&o.createElement(zl,{mensaje:z,fullScreen:!0}),o.createElement(ui,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:H}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>J("agregar"),type:"button",disabled:r},r?"Cargando...":"+ Agregar"),o.createElement($l,{placeholder:"Buscar categoría...",value:s,onChange:l})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Categoría Insumos"),o.createElement(ps,{value:Y,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(Zt,{header:"N°",body:(G,{rowIndex:X})=>X+1}),o.createElement(Zt,{field:"nombre",header:"Nombre"}),o.createElement(Zt,{field:"descripcion",header:"Descripción"}),o.createElement(Zt,{header:"Estados",body:G=>o.createElement(Ro,{checked:G.activo,onChange:()=>M(G),disabled:a[G.id]})}),o.createElement(Zt,{header:"Acción",body:G=>{const X=G.activo,ie=a[G.id];return o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>J("visualizar",G),disabled:ie},"👁"),o.createElement("button",{className:"admin-button yellow",title:X?"Editar":"Editar (Deshabilitado)",onClick:()=>X&&J("editar",G),disabled:!X||ie,style:{opacity:X&&!ie?1:.5,cursor:X&&!ie?"pointer":"not-allowed"}},"✏️"),o.createElement("button",{className:"admin-button red",title:X?"Eliminar":"Eliminar (Deshabilitado)",onClick:()=>X&&J("eliminar",G),disabled:!X||ie,style:{opacity:X&&!ie?1:.5,cursor:X&&!ie?"pointer":"not-allowed"}},"🗑️"))}})),f&&(h==="agregar"||h==="editar")&&o.createElement(Wn,{visible:f,onClose:ee},o.createElement("h2",{className:"modal-title"},h==="agregar"?"Agregar Categoria de Insumo":"Editar Categoría"),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},o.createElement("label",null,"Nombre*",o.createElement("input",{list:"categorias-list",value:y,onChange:G=>E(G.target.value),className:"modal-input",placeholder:"Seleccione o escriba una categoría",disabled:r}),O.nombre&&o.createElement("p",{className:"error"},O.nombre),o.createElement("datalist",{id:"categorias-list"},t.map(G=>o.createElement("option",{key:G.id,value:G.nombre})))),o.createElement("label",null,"Descripción*",o.createElement("textarea",{value:C,onChange:G=>k(G.target.value),className:"modal-input textarea",rows:3,style:{resize:"vertical"},disabled:r}),O.descripcion&&o.createElement("p",{className:"error"},O.descripcion)),h==="editar"&&o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement("label",{style:{margin:0}},"Estado:"),o.createElement(Ro,{checked:_,onChange:G=>N(G.value),disabled:r}),o.createElement("span",{style:{fontSize:"0.9rem",color:"#666"}},_?"Activo":"Inactivo")))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:ee,disabled:r},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:h==="agregar"?U:te,disabled:r},r?"Guardando...":"Guardar"))),h==="visualizar"&&x&&o.createElement(Wn,{visible:f,onClose:ee},o.createElement("h2",{className:"modal-title"},"Detalles Categoría"),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},o.createElement("label",null,"Nombre*",o.createElement("input",{value:x.nombre,className:"modal-input",readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})),o.createElement("label",null,"Descripción*",o.createElement("textarea",{value:x.descripcion,className:"modal-input textarea",rows:3,readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed",resize:"vertical"}})),o.createElement("label",null,"Estado",o.createElement("input",{value:x.activo?"Activo":"Inactivo",className:"modal-input",readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:ee},"Cerrar"))),h==="eliminar"&&x&&o.createElement(Wn,{visible:f,onClose:ee},o.createElement("h2",{className:"modal-title"},"Confirmar Eliminación"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Seguro que quieres eliminar la categoría ",o.createElement("strong",null,x.nombre),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:ee,disabled:r},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:K,disabled:r},r?"Eliminando...":"Eliminar"))))}function rH({visible:t=!1,titulo:e="Mensaje",mensaje:r="",cerrar:n,onConfirmar:a}){return o.createElement(Wn,{visible:t,onClose:n},o.createElement("h2",{className:"modal-title"},e),o.createElement("div",{className:"modal-body"},o.createElement("p",null,r)),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:n},"Cerrar"),a&&o.createElement("button",{className:"modal-btn save-btn",onClick:()=>{a(),n()}},"Confirmar")))}const id="https://deliciasoft-backend-i6g9.onrender.com/api/insumos",m4="https://deliciasoft-backend-i6g9.onrender.com/api/categoria-insumos",p4="https://deliciasoft-backend-i6g9.onrender.com/api/unidadmedida",h4="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-adiciones",g4="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-relleno",v4="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-sabor";class nH{constructor(){this.baseHeaders={"Content-Type":"application/json"},this.unidadesCache=null,this.categoriasCache=null}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n=null;try{const i=await e.json();r=i.message||i.error||r,n=i,console.error("Error de la API:",i)}catch(i){console.error("No se pudo parsear la respuesta de error:",i)}const a=new Error(r);throw a.status=e.status,a.details=n,a}return e.json()}async crearCatalogo(e,r){try{console.log("CREANDO CATÁLOGO"),console.log("Tipo:",e),console.log("Datos:",JSON.stringify(r,null,2));let n,a;switch(e.toLowerCase()){case"adicion":case"adiciones":n=h4,a={idinsumos:parseInt(r.idinsumos),nombre:r.nombre.trim(),precioadicion:parseFloat(r.precioadicion),estado:!!r.estado};break;case"relleno":case"rellenos":n=g4,a={idinsumos:parseInt(r.idinsumos),nombre:r.nombre.trim(),precioadicion:parseFloat(r.precioadicion),estado:!!r.estado};break;case"sabor":case"sabores":n=v4,a={idinsumos:parseInt(r.idinsumos),nombre:r.nombre.trim(),precioadicion:parseFloat(r.precioadicion),estado:!!r.estado};break;default:throw new Error(`Tipo de catálogo no válido: ${e}`)}console.log("Enviando datos a:",n),console.log("Datos preparados:",JSON.stringify(a,null,2));const i=await fetch(n,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(a)});if(!i.ok){const l=await i.text();throw console.error("Error del servidor:",l),new Error(`Error al crear catálogo: ${i.status} - ${l}`)}const s=await i.json();return console.log("Catálogo creado exitosamente:",s),s}catch(n){throw console.error("Error en crearCatalogo:",n),n}}async obtenerCatalogos(e){try{let r;switch(e.toLowerCase()){case"adicion":case"adiciones":r=h4;break;case"relleno":case"rellenos":r=g4;break;case"sabor":case"sabores":r=v4;break;default:throw new Error(`Tipo de catálogo no válido: ${e}`)}const n=await fetch(r,{method:"GET",headers:this.baseHeaders});return await this.handleResponse(n)}catch(r){throw console.error(`Error al obtener catálogos de ${e}:`,r),r}}async obtenerUnidadesMedida(){try{if(this.unidadesCache&&this.unidadesCache.length>0)return console.log("Usando unidades desde cache:",this.unidadesCache),this.unidadesCache;console.log("OBTENIENDO UNIDADES DE MEDIDA"),console.log("URL:",p4);const e=await fetch(p4,{method:"GET",headers:this.baseHeaders});console.log("Response status:",e.status);const r=await e.text();if(console.log("Raw response:",r),!e.ok)throw console.error("Response no OK:",e.status,r),new Error(`HTTP ${e.status}: ${r}`);let n;try{n=r?JSON.parse(r):null,console.log("Datos parseados:",n)}catch(a){throw console.error("Error al parsear JSON:",a),new Error(`Error parsing JSON: ${a.message}`)}if(!n)throw new Error("La respuesta está vacía o es null");if(!Array.isArray(n)){if(console.error("La respuesta no es un array:",n),typeof n=="object"){console.log("Propiedades del objeto:",Object.keys(n));for(const a of Object.keys(n))if(Array.isArray(n[a])){console.log(`Encontrado array en propiedad '${a}':`,n[a]),n=n[a];break}}if(!Array.isArray(n))throw new Error("No se pudo encontrar un array válido en la respuesta")}return console.log("Unidades finales ("+n.length+" elementos):",n),n.length>0&&(console.log("Estructura del primer elemento:",n[0]),console.log("Claves disponibles:",Object.keys(n[0]))),this.unidadesCache=n,console.log("Unidades cacheadas exitosamente"),n}catch(e){throw console.error("ERROR EN OBTENER UNIDADES"),console.error("Mensaje:",e.message),this.unidadesCache=null,e}}async obtenerCategorias(){try{if(this.categoriasCache&&this.categoriasCache.length>0)return console.log("Usando categorías desde cache:",this.categoriasCache),this.categoriasCache;console.log("OBTENIENDO CATEGORÍAS"),console.log("URL:",m4);const e=await fetch(m4,{method:"GET",headers:this.baseHeaders});console.log("Response status:",e.status);const r=await e.text();if(console.log("Raw response:",r),!e.ok)throw console.error("Response no OK:",e.status,r),new Error(`HTTP ${e.status}: ${r}`);let n;try{n=r?JSON.parse(r):null,console.log("Datos parseados:",n)}catch(a){throw console.error("Error al parsear JSON:",a),new Error(`Error parsing JSON: ${a.message}`)}if(!n)throw new Error("La respuesta está vacía o es null");if(!Array.isArray(n)){if(console.error("La respuesta no es un array:",n),typeof n=="object"){console.log("Propiedades del objeto:",Object.keys(n));for(const a of Object.keys(n))if(Array.isArray(n[a])){console.log(`Encontrado array en propiedad '${a}':`,n[a]),n=n[a];break}}if(!Array.isArray(n))throw new Error("No se pudo encontrar un array válido en la respuesta")}return console.log("Categorías finales ("+n.length+" elementos):",n),n.length>0&&(console.log("Estructura del primer elemento:",n[0]),console.log("Claves disponibles:",Object.keys(n[0]))),this.categoriasCache=n,console.log("Categorías cacheadas exitosamente"),n}catch(e){throw console.error("ERROR EN OBTENER CATEGORÍAS"),console.error("Mensaje:",e.message),this.categoriasCache=null,e}}async verificarIDsValidos(e){try{console.log("Verificando IDs válidos para:",e);const r=parseInt(e.idunidadmedida),n=parseInt(e.idcategoriainsumos);if(isNaN(r)||r<=0)throw new Error(`ID de unidad de medida inválido: ${e.idunidadmedida}`);if(isNaN(n)||n<=0)throw new Error(`ID de categoría inválido: ${e.idcategoriainsumos}`);console.log("Obteniendo datos de referencia...");const[a,i]=await Promise.all([this.obtenerUnidadesMedida(),this.obtenerCategorias()]);if(console.log("Datos obtenidos:"),console.log("  - Unidades:",(a==null?void 0:a.length)||0),console.log("  - Categorías:",(i==null?void 0:i.length)||0),!a||a.length===0)throw new Error("No se pudieron obtener las unidades de medida disponibles");if(!i||i.length===0)throw new Error("No se pudieron obtener las categorías disponibles");if(!i.some(c=>parseInt(c.idcategoriainsumos||c.id)===n)){const c=i.map(u=>`${u.idcategoriainsumos||u.id} (${u.nombrecategoria||u.nombre||"Sin nombre"})`).join(", ");throw new Error(`La categoría ID ${n} no existe. IDs disponibles: ${c}`)}if(!a.some(c=>parseInt(c.idunidadmedida)===r)){const c=a.map(u=>`${u.idunidadmedida} (${u.unidadmedida})`).join(", ");throw new Error(`La unidad de medida ID ${r} no existe. IDs disponibles: ${c}`)}return console.log("Todos los IDs son válidos"),console.log(`  Unidad de medida ID: ${r}`),console.log(`  Categoría ID: ${n}`),!0}catch(r){throw console.error("Error en verificación de IDs:",r.message),r}}async obtenerInsumos(){try{const e=await fetch(`${id}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e),n=await this.enriquecerInsumosConReferencias(r);return this.transformarInsumosDesdeAPI(n)}catch(e){throw console.error("Error al obtener insumos:",e),e}}async enriquecerInsumosConReferencias(e){try{if(!Array.isArray(e)||e.length===0)return e;const[r,n]=await Promise.all([this.obtenerUnidadesMedida(),this.obtenerCategorias()]);return e.map(a=>{const i=r.find(l=>parseInt(l.idunidadmedida)===parseInt(a.idunidadmedida)),s=n.find(l=>parseInt(l.id||l.idcategoriainsumos)===parseInt(a.idcategoriainsumos));return{...a,nombreUnidadMedida:i?i.unidadmedida:"Unidad desconocida",nombreCategoria:s?s.nombre||s.nombrecategoria:"Categoría desconocida"}})}catch(r){return console.error("Error al enriquecer insumos:",r),e}}async obtenerInsumoPorId(e){try{const r=await fetch(`${id}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Insumo no encontrado");const n=await this.handleResponse(r),[a]=await this.enriquecerInsumosConReferencias([n]);return this.transformarInsumoDesdeAPI(a)}catch(r){throw console.error(`Error al obtener insumo ${e}:`,r),r}}async crearInsumo(e){try{console.log("INICIANDO CREACIÓN DE INSUMO"),console.log("Datos originales recibidos:",JSON.stringify(e,null,2)),this.limpiarCache();const r=this.transformarInsumoParaAPI(e);console.log("Datos transformados para API:",JSON.stringify(r,null,2)),this.validarDatosInsumo(r),console.log("Verificando foreign keys..."),await this.verificarIDsValidos(r),console.log("Enviando datos al servidor...");const n=await fetch(id,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)});if(!n.ok){const i=await n.text();console.error("Respuesta de error del servidor:",i);try{const s=JSON.parse(i);if(console.error("Detalles del error:",s),i.includes("foreign key")||i.includes("constraint"))throw new Error("Error de clave foránea: Verifica que la categoría y unidad de medida seleccionadas existan en la base de datos")}catch{console.error("No se pudo parsear el error como JSON")}throw new Error(`Error del servidor: ${n.status} - ${i}`)}const a=await n.json();return console.log("Insumo creado exitosamente:",a),this.transformarInsumoDesdeAPI(a)}catch(r){throw console.error("ERROR EN CREACIÓN DE INSUMO"),console.error("Mensaje:",r.message),r}}async actualizarInsumo(e,r){try{console.log("=== DEBUG ACTUALIZACIÓN ==="),console.log("ID del insumo:",e),console.log("Datos recibidos del frontend:",JSON.stringify(r,null,2));const n=this.transformarInsumoParaAPI({...r,cantidad:Number(r.cantidad)||0});console.log("Datos después de transformación:",JSON.stringify(n,null,2)),console.log("Precio en datos transformados:",n.precio),console.log("Stock mínimo en datos transformados:",n.stockminimo),await this.verificarIDsValidos(n),this.validarDatosInsumo(n),console.log("Enviando PUT request a:",`${id}/${e}`),console.log("Body del request:",JSON.stringify(n,null,2));const a=await fetch(`${id}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)});console.log("Response status:",a.status);const i=await a.text();if(console.log("Response raw text:",i),!a.ok)throw new Error(`HTTP error! status: ${a.status}, body: ${i}`);const s=JSON.parse(i);console.log("Respuesta del servidor:",JSON.stringify(s,null,2)),console.log("Precio en respuesta:",s.precio);const l=this.transformarInsumoDesdeAPI(s);return console.log("Resultado final transformado:",JSON.stringify(l,null,2)),l}catch(n){throw console.error(`Error al actualizar insumo ${e}:`,n),n}}transformarInsumoParaAPI(e){console.log("TRANSFORMANDO INSUMO PARA API"),console.log("Datos originales:",JSON.stringify(e,null,2));const r={idinsumo:e.id||e.idinsumo||e.idInsumo,nombreinsumo:e.nombreInsumo?String(e.nombreInsumo).trim():"",idcategoriainsumos:e.idCategoriaInsumos?parseInt(e.idCategoriaInsumos):null,idunidadmedida:e.idUnidadMedida?parseInt(e.idUnidadMedida):null,cantidad:e.cantidad!==void 0&&e.cantidad!==null&&e.cantidad!==""?parseFloat(e.cantidad):0,precio:e.precio!==void 0&&e.precio!==null&&e.precio!==""?parseFloat(e.precio):0,stockminimo:e.stockMinimo!==void 0&&e.stockMinimo!==null&&e.stockMinimo!==""?parseInt(e.stockMinimo):e.stockminimo!==void 0&&e.stockminimo!==null&&e.stockminimo!==""?parseInt(e.stockminimo):5,estado:e.estado!==void 0?!!e.estado:!0};return e.idImagen&&String(e.idImagen).trim()!==""?(r.idimagen=String(e.idImagen).trim(),console.log("Imagen incluida en datos API, longitud:",r.idimagen.length)):console.log("Sin imagen proporcionada"),console.log("Datos transformados:",JSON.stringify(r,null,2)),r}async eliminarInsumo(e){try{const r=await fetch(`${id}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),console.log("Insumo eliminado exitosamente"),{success:!0,message:"Insumo eliminado exitosamente"}}catch(r){throw console.error(`Error al eliminar insumo ${e}:`,r),r}}async cambiarEstadoInsumo(e,r){try{console.log(`Cambiando estado del insumo ${e} a:`,r);const n=await fetch(`${id}/${e}`,{method:"GET",headers:this.baseHeaders});if(!n.ok)throw new Error(`No se pudo obtener el insumo: ${n.status}`);const a=await n.json();console.log("Insumo actual obtenido:",a);const i={nombreinsumo:a.nombreinsumo,idcategoriainsumos:a.idcategoriainsumos,idunidadmedida:a.idunidadmedida,estado:r,cantidad:parseFloat(a.cantidad||0),precio:parseFloat(a.precio||0),stockminimo:parseInt(a.stockminimo||5)};console.log("Enviando actualización:",i);const s=await fetch(`${id}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(i)});if(!s.ok){const c=await s.text();throw console.error("Error del servidor:",c),new Error(`Error al cambiar estado: ${s.status}`)}const l=await s.json();return console.log("Estado cambiado exitosamente:",l),this.transformarInsumoDesdeAPI(l)}catch(n){throw console.error(`Error al cambiar estado del insumo ${e}:`,n),n}}validarDatosInsumo(e){const r=[];if(console.log("VALIDANDO DATOS DE INSUMO"),console.log("Datos a validar:",JSON.stringify(e,null,2)),(!e.nombreinsumo||typeof e.nombreinsumo!="string"||e.nombreinsumo.trim()==="")&&r.push("El nombre del insumo es requerido y debe ser una cadena válida"),!e.idcategoriainsumos)r.push("La categoría es requerida");else{const n=parseInt(e.idcategoriainsumos);(isNaN(n)||n<=0)&&r.push(`La categoría debe ser un ID válido mayor a 0 (recibido: ${e.idcategoriainsumos})`)}if(!e.idunidadmedida)r.push("La unidad de medida es requerida");else{const n=parseInt(e.idunidadmedida);(isNaN(n)||n<=0)&&r.push(`La unidad de medida debe ser un ID válido mayor a 0 (recibido: ${e.idunidadmedida})`)}if(e.cantidad!==void 0&&e.cantidad!==null){const n=parseFloat(e.cantidad);(isNaN(n)||n<0)&&r.push(`La cantidad debe ser un número válido mayor o igual a 0 (recibido: ${e.cantidad})`)}if(console.log("Validando precio:",e.precio),e.precio!==void 0&&e.precio!==null&&e.precio!==""){const n=parseFloat(e.precio);console.log("Precio parseado:",n),(isNaN(n)||n<0)&&r.push(`El precio debe ser un número válido mayor o igual a 0 (recibido: ${e.precio})`)}if(console.log("Validando stock mínimo:",e.stockminimo),e.stockminimo!==void 0&&e.stockminimo!==null&&e.stockminimo!==""){const n=parseInt(e.stockminimo);console.log("Stock mínimo parseado:",n),(isNaN(n)||n<0)&&r.push(`El stock mínimo debe ser un número entero mayor o igual a 0 (recibido: ${e.stockminimo})`)}if(console.log("Errores de validación encontrados:",r),r.length>0)throw new Error("Datos inválidos: "+r.join("; "))}transformarInsumoDesdeAPI(e){return e?{id:e.idinsumo,nombreInsumo:e.nombreinsumo,idCategoriaInsumos:e.idcategoriainsumos,idUnidadMedida:e.idunidadmedida,cantidad:e.cantidad,precio:e.precio,stockMinimo:e.stockminimo||e.stockMinimo||5,estado:e.estado,idImagen:e.idimagen,nombreUnidadMedida:e.unidadmedida?e.unidadmedida.unidadmedida:e.nombreUnidadMedida||"Unidad desconocida",nombreCategoria:e.categoriainsumos?e.categoriainsumos.nombrecategoria:e.nombreCategoria||"Categoría desconocida"}:null}transformarInsumosDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarInsumoDesdeAPI(r)):[]}limpiarCache(){this.unidadesCache=null,this.categoriasCache=null,console.log("Cache limpiado - se obtendrán datos frescos en la próxima consulta")}async probarCreacion(){try{console.log("PROBANDO CREACIÓN CON DATOS DE EJEMPLO");const[e,r]=await Promise.all([this.obtenerUnidadesMedida(),this.obtenerCategorias()]);if(!e||e.length===0||!r||r.length===0){console.error("No hay datos suficientes para probar");return}const n={nombreInsumo:"Insumo de Prueba "+Date.now(),idCategoriaInsumos:r[0].id||r[0].idcategoriainsumos,idUnidadMedida:e[0].idunidadmedida,cantidad:10,precio:25.5,stockMinimo:5,estado:!0};console.log("Datos de ejemplo:",JSON.stringify(n,null,2));const a=await this.crearInsumo(n);return console.log("Prueba exitosa:",a),a}catch(e){throw console.error("Error en prueba de creación:",e),e}}}const pf=new nH;function aH({modal:t,cerrar:e,categorias:r,unidades:n,cargarInsumos:a,showNotification:i,abriragregarCategoria:s}){var g,x,v,y,E,C,k,_,N,O,R,D,B,z,I,L,M,F,H,J;const[l,c]=b.useState({nombreInsumo:"",idCategoriaInsumos:"",cantidad:"",idUnidadMedida:"",stockMinimo:5,precio:"",estado:!0,imagen:null,imagenPreview:null});b.useRef(null),b.useEffect(()=>{t.tipo==="editar"&&t.insumo?c({nombreInsumo:t.insumo.nombreInsumo||t.insumo.nombreinsumo||"",idCategoriaInsumos:t.insumo.idCategoriaInsumos||t.insumo.idcategoriainsumos||"",cantidad:t.insumo.cantidad||"",idUnidadMedida:t.insumo.idUnidadMedida||t.insumo.idunidadmedida||"",stockMinimo:t.insumo.stockMinimo||5,precio:t.insumo.precio||"",estado:t.insumo.estado!==void 0?t.insumo.estado:!0,imagen:null,imagenPreview:t.insumo.idImagen||null}):t.tipo==="agregar"&&c({nombreInsumo:"",idCategoriaInsumos:"",cantidad:"",idUnidadMedida:"",stockMinimo:5,precio:"",estado:!0,imagen:null,imagenPreview:null})},[t]);const u=ee=>{const{name:re,value:te}=ee.target;c(K=>({...K,[re]:te}))},f=ee=>new Promise((re,te)=>{const K=new FileReader;K.onloadend=()=>re(K.result),K.onerror=te,K.readAsDataURL(ee)}),p=async()=>{try{if(!l.nombreInsumo.trim()){i("El nombre del insumo es obligatorio","error");return}if(!l.idCategoriaInsumos){i("La categoría es obligatoria","error");return}if(!l.cantidad||l.cantidad<=0){i("La cantidad debe ser mayor a 0","error");return}if(!l.precio||l.precio<=0){i("El precio debe ser mayor a 0","error");return}const ee={...l,idCategoriaInsumos:parseInt(l.idCategoriaInsumos),idUnidadMedida:parseInt(l.idUnidadMedida),cantidad:parseFloat(l.cantidad),stockMinimo:parseInt(l.stockMinimo),precio:parseFloat(l.precio)};if(l.imagen){const re=await f(l.imagen);ee.idImagen=re}if(t.tipo==="agregar")await pf.crearInsumo(ee),i("Insumo agregado exitosamente");else if(t.tipo==="editar"){const re=t.insumo.id||t.insumo.idinsumo;await pf.actualizarInsumo(re,ee),i("Insumo actualizado exitosamente")}await a(),e()}catch(ee){console.error("Error al guardar:",ee),i("Error al guardar: "+ee.message,"error")}},h=async()=>{var ee,re,te,K;try{const U=parseFloat(t.insumo.cantidad)||0;if(U>0){i(`No se puede eliminar este insumo porque tiene ${U} unidades en stock. Para eliminarlo, primero debe reducir el stock a 0.`,"error");return}const j=t.insumo.id||t.insumo.idinsumo;await pf.eliminarInsumo(j),i("Insumo eliminado exitosamente"),await a(),e()}catch(U){console.error("Error al eliminar:",U);let j="Error al eliminar el insumo";(ee=U.message)!=null&&ee.includes("asociado")||(re=U.message)!=null&&re.includes("referencia")||(te=U.message)!=null&&te.includes("constraint")||(K=U.message)!=null&&K.includes("foreign key")||U.status===409?j="No se puede eliminar este insumo porque está siendo usado en productos, recetas o pedidos. Primero debe desvincularlo de esos registros.":U.status===404?j="El insumo no existe o ya fue eliminado":U.message&&(j=U.message),i(j,"error")}};return o.createElement(Wn,{visible:t.visible,onClose:e},o.createElement("h2",{className:"modal-title"},t.tipo==="agregar"&&"Agregar Insumo",t.tipo==="editar"&&"Editar Insumo",t.tipo==="ver"&&"Detalles del Insumo",t.tipo==="eliminar"&&"Eliminar Insumo"),o.createElement("div",{className:"modal-body"},t.tipo==="eliminar"?o.createElement("div",{style:{textAlign:"center",padding:"20px 0"}},o.createElement("p",{style:{fontSize:"16px",margin:0}},"¿Seguro que quieres eliminar el insumo"," ",o.createElement("strong",null,((g=t.insumo)==null?void 0:g.nombreInsumo)||((x=t.insumo)==null?void 0:x.nombreinsumo)),"?")):t.tipo==="ver"?o.createElement("div",{className:"modal-form-grid"},o.createElement("label",null,"Nombre",o.createElement("input",{value:((v=t.insumo)==null?void 0:v.nombreInsumo)||((y=t.insumo)==null?void 0:y.nombreinsumo)||"",readOnly:!0,className:"modal-input",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})),o.createElement("label",null,"Categoría",o.createElement("input",{value:((E=t.insumo)==null?void 0:E.nombreCategoria)||((C=t.insumo)==null?void 0:C.categoria)||((_=(k=t.insumo)==null?void 0:k.categoriainsumos)==null?void 0:_.nombrecategoria)||((N=r.find(ee=>{var re,te;return ee.id===parseInt(((re=t.insumo)==null?void 0:re.idCategoriaInsumos)||((te=t.insumo)==null?void 0:te.idcategoriainsumos))}))==null?void 0:N.nombreCategoria)||"Sin categoría",readOnly:!0,className:"modal-input",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})),o.createElement("label",null,"Cantidad",o.createElement("input",{type:"number",value:((O=t.insumo)==null?void 0:O.cantidad)||0,readOnly:!0,className:"modal-input",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})),o.createElement("label",null,"Unidad",o.createElement("input",{value:((R=t.insumo)==null?void 0:R.nombreUnidadMedida)||((D=t.insumo)==null?void 0:D.unidad)||((z=(B=t.insumo)==null?void 0:B.unidadmedida)==null?void 0:z.unidadmedida)||((I=n.find(ee=>{var re,te;return ee.idunidadmedida===parseInt(((re=t.insumo)==null?void 0:re.idUnidadMedida)||((te=t.insumo)==null?void 0:te.idunidadmedida))}))==null?void 0:I.unidadmedida)||"Sin unidad",readOnly:!0,className:"modal-input",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})),o.createElement("label",null,"Stock Mínimo",o.createElement("input",{type:"number",value:((L=t.insumo)==null?void 0:L.stockMinimo)||5,readOnly:!0,className:"modal-input",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})),o.createElement("label",null,"Precio",o.createElement("div",{style:{position:"relative"}},o.createElement("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d"}},"$"),o.createElement("input",{type:"number",value:((M=t.insumo)==null?void 0:M.precio)||0,readOnly:!0,className:"modal-input",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed",paddingLeft:"25px"}}))),l.imagenPreview&&o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",marginTop:"10px"}},o.createElement("img",{src:l.imagenPreview,alt:"Insumo",style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"8px",border:"2px solid #ddd"}})),o.createElement("div",{style:{gridColumn:"1 / -1",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"}},o.createElement("span",null,"Estado:"),o.createElement("div",{style:{display:"inline-flex",alignItems:"center",padding:"6px 12px",borderRadius:"12px",backgroundColor:(F=t.insumo)!=null&&F.estado?"#e8f5e9":"#ffebee",color:(H=t.insumo)!=null&&H.estado?"#2e7d32":"#c62828",fontWeight:"500"}},(J=t.insumo)!=null&&J.estado?"✅ Activo":"❌ Inactivo"))):o.createElement("div",{className:"modal-form-grid"},o.createElement("label",null,"Nombre*",o.createElement("input",{name:"nombreInsumo",value:l.nombreInsumo,onChange:u,className:"modal-input",placeholder:"Ingrese el nombre del insumo"})),o.createElement("label",null,"Categoría*",o.createElement("div",{style:{display:"flex",gap:"8px"}},o.createElement("select",{name:"idCategoriaInsumos",value:l.idCategoriaInsumos,onChange:u,className:"modal-input",style:{flex:1}},o.createElement("option",{value:""},"Selecciona una categoría"),r.map(ee=>o.createElement("option",{key:ee.id,value:ee.id},ee.nombreCategoria))),s&&o.createElement("button",{type:"button",onClick:s,title:"Agregar nueva categoría",style:{width:"40px",minWidth:"40px",height:"40px",backgroundColor:"#e91e63",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"20px",fontWeight:"bold",padding:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(233, 30, 99, 0.3)"},onMouseEnter:ee=>{ee.currentTarget.style.backgroundColor="#c2185b",ee.currentTarget.style.transform="scale(1.05)",ee.currentTarget.style.boxShadow="0 4px 8px rgba(233, 30, 99, 0.4)"},onMouseLeave:ee=>{ee.currentTarget.style.backgroundColor="#e91e63",ee.currentTarget.style.transform="scale(1)",ee.currentTarget.style.boxShadow="0 2px 4px rgba(233, 30, 99, 0.3)"}},"+"))),o.createElement("label",null,"Cantidad*",o.createElement("input",{type:"number",name:"cantidad",value:l.cantidad,onChange:u,className:"modal-input",min:"0",step:"0.01",placeholder:"0.00"})),o.createElement("label",null,"Unidad*",o.createElement("select",{name:"idUnidadMedida",value:l.idUnidadMedida,onChange:u,className:"modal-input"},o.createElement("option",{value:""},"Selecciona una unidad"),n.map(ee=>o.createElement("option",{key:ee.idunidadmedida,value:ee.idunidadmedida},ee.unidadmedida)))),o.createElement("label",null,"Stock Mínimo*",o.createElement("input",{type:"number",name:"stockMinimo",value:l.stockMinimo,onChange:u,className:"modal-input",min:"0",step:"1",placeholder:"5"})),o.createElement("label",null,"Precio*",o.createElement("div",{style:{position:"relative"}},o.createElement("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d",fontSize:"14px",fontWeight:"500"}},"$"),o.createElement("input",{type:"number",name:"precio",value:l.precio,onChange:u,className:"modal-input",min:"0",step:"0.01",placeholder:"0.00",style:{paddingLeft:"25px"}}))),t.tipo!=="agregar"&&o.createElement("div",{style:{gridColumn:"1 / -1",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"}},o.createElement("span",null,"Estado:"),o.createElement(Ro,{checked:l.estado,onChange:ee=>c({...l,estado:ee.value})}),o.createElement("span",{style:{color:l.estado?"#28a745":"#dc3545",fontWeight:"500"}},l.estado?"Activo":"Inactivo")))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},t.tipo==="ver"?"Cerrar":(t.tipo==="eliminar","Cancelar")),t.tipo==="eliminar"&&o.createElement("button",{className:"modal-btn",onClick:h,style:{backgroundColor:"#ff4081",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:ee=>{ee.target.style.backgroundColor="#fbbf24"},onMouseLeave:ee=>{ee.target.style.backgroundColor="#ff4081"}},"Eliminar"),(t.tipo==="agregar"||t.tipo==="editar")&&o.createElement("button",{className:"modal-btn save-btn",onClick:p},"Guardar")))}function oH({cerrar:t,showNotification:e,cargarCategorias:r}){const[n,a]=b.useState(""),[i,s]=b.useState(""),[l,c]=b.useState({nombre:"",descripcion:""}),[u,f]=b.useState(!1);b.useEffect(()=>{const g={nombre:"",descripcion:""};n.trim()?n.trim().length<3?g.nombre="El nombre debe tener al menos 3 caracteres":n.trim().length>50?g.nombre="El nombre no puede superar los 50 caracteres":/^[A-Za-zÀÁÉÍÓÚÀáéíóúÑñ\s]+$/.test(n.trim())||(g.nombre="El nombre solo puede contener letras y espacios"):g.nombre="El nombre es obligatorio",i.trim()?i.trim().length<10?g.descripcion="La descripción debe tener al menos 10 caracteres":i.trim().length>200&&(g.descripcion="La descripción no puede superar los 200 caracteres"):g.descripcion="La descripción es obligatoria",c(g)},[n,i]);const p=()=>l.nombre||l.descripcion?(l.nombre?e(l.nombre,"error"):l.descripcion&&e(l.descripcion,"error"),!1):!0,h=async()=>{if(p())try{f(!0);const g={nombreCategoria:n.trim(),descripcion:i.trim(),estado:!0};await nf.crearCategoria(g),e("Categoría agregada exitosamente"),await r(),t()}catch(g){console.error("Error al agregar categoría:",g),e("Error al agregar la categoría: "+g.message,"error")}finally{f(!1)}};return o.createElement(Wn,{visible:!0,onClose:t},o.createElement("h2",{className:"modal-title"},"Agregar Categoría de Insumo"),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},o.createElement("label",null,"Nombre*",o.createElement("input",{value:n,onChange:g=>a(g.target.value),className:"modal-input",placeholder:"Ej: Frutas, Lácteos, Harinas...",disabled:u,autoFocus:!0}),l.nombre&&o.createElement("p",{className:"error",style:{color:"#dc3545",fontSize:"12px",margin:"5px 0 0 0"}},l.nombre)),o.createElement("label",null,"Descripción*",o.createElement("textarea",{value:i,onChange:g=>s(g.target.value),className:"modal-input textarea",rows:3,placeholder:"Descripción detallada de la categoría...",style:{resize:"vertical"},disabled:u}),l.descripcion&&o.createElement("p",{className:"error",style:{color:"#dc3545",fontSize:"12px",margin:"5px 0 0 0"}},l.descripcion)),o.createElement("div",{style:{backgroundColor:"#e3f2fd",padding:"10px",borderRadius:"4px",fontSize:"12px",color:"#1565c0"}},o.createElement("strong",null,"Nota:")," La nueva categoría se creará en estado ",o.createElement("strong",null,"Activo")," por defecto."))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:t,disabled:u},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:h,disabled:u},u?"Guardando...":"Guardar")))}function iH({cerrar:t,showNotification:e,insumoParaCatalogo:r,tipoCatalogo:n}){const[a,i]=b.useState({nombre:"",precioadicion:0,estado:!0}),[s,l]=b.useState({nombre:"",precioadicion:""}),c=()=>{let f=!0,p={nombre:"",precioadicion:""};return a.nombre.trim()?a.nombre.length<2&&(p.nombre="Debe tener al menos 2 caracteres",f=!1):(p.nombre="El nombre es obligatorio",f=!1),(!a.precioadicion||isNaN(a.precioadicion)||Number(a.precioadicion)<0)&&(p.precioadicion="Debe ser un número mayor o igual a 0",f=!1),l(p),f},u=async()=>{if(c())try{const f={nombre:a.nombre.trim(),precioadicion:parseFloat(a.precioadicion),estado:a.estado,idinsumos:(r==null?void 0:r.id)||(r==null?void 0:r.idinsumo)};await pf.crearCatalogo(n,f),e(`Catálogo de ${n} creado exitosamente`),t()}catch(f){e("Error al guardar catálogo: "+f.message,"error")}};return o.createElement(Wn,{visible:!0,onClose:t},o.createElement("h2",{className:"modal-title"},"Crear ",n==="adicion"?"Adición":n==="relleno"?"Relleno":"Sabor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid"},o.createElement("label",null,"Nombre*",o.createElement("input",{name:"nombre",value:a.nombre,onChange:f=>i({...a,nombre:f.target.value}),className:`modal-input ${s.nombre?"input-invalid":""}`,placeholder:"Ejemplo: Chocolate, Crema, Vainilla..."}),s.nombre&&o.createElement("span",{className:"error-message"},s.nombre)),o.createElement("label",null,"Precio*",o.createElement("input",{type:"number",name:"precioadicion",value:a.precioadicion,onChange:f=>i({...a,precioadicion:f.target.value}),className:`modal-input ${s.precioadicion?"input-invalid":""}`,min:"0",step:"0.01",placeholder:"0.00"}),s.precioadicion&&o.createElement("span",{className:"error-message"},s.precioadicion)),o.createElement("label",{style:{marginTop:"10px"}},"Estado:",o.createElement("input",{type:"checkbox",checked:a.estado,onChange:f=>i({...a,estado:f.target.checked}),style:{marginLeft:"10px"}})))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:u},"Guardar")))}function sH({modalSelectorVisible:t,cerrarModalSelector:e,insumoParaCatalogo:r,seleccionarTipoCatalogo:n}){return t?o.createElement(Wn,{visible:t,onClose:e},o.createElement("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"30px",margin:"-20px -20px 20px -20px",borderRadius:"12px 12px 0 0",textAlign:"center",position:"relative"}},o.createElement("div",{style:{position:"absolute",top:"10px",right:"15px",fontSize:"24px",cursor:"pointer",opacity:"0.8",transition:"opacity 0.2s"},onClick:e,onMouseEnter:a=>a.target.style.opacity="1",onMouseLeave:a=>a.target.style.opacity="0.8"},"×"),o.createElement("div",{style:{fontSize:"48px",marginBottom:"15px"}},"🎯"),o.createElement("h2",{style:{margin:"0 0 10px 0",fontSize:"24px",fontWeight:"600"}},"Seleccionar Tipo de Catálogo"),o.createElement("p",{style:{margin:0,opacity:"0.9",fontSize:"16px"}},"¿Qué tipo de catálogo deseas crear para ",o.createElement("strong",null,r==null?void 0:r.nombre),"?")),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",padding:"20px 0"}},o.createElement("div",{className:"catalog-option",onClick:()=>n("adicion"),style:{background:"linear-gradient(145deg, #ff6b6b, #ee5a52)",color:"white",padding:"30px 20px",borderRadius:"16px",cursor:"pointer",textAlign:"center",border:"none",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)",transition:"all 0.3s ease",transform:"translateY(0)"},onMouseEnter:a=>{a.target.style.transform="translateY(-5px)",a.target.style.boxShadow="0 12px 35px rgba(255, 107, 107, 0.4)"},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow="0 8px 25px rgba(255, 107, 107, 0.3)"}},o.createElement("div",{style:{fontSize:"40px",marginBottom:"15px"}},"🧁"),o.createElement("h3",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600"}},"Adiciones"),o.createElement("p",{style:{margin:0,fontSize:"14px",opacity:"0.9"}},"Ingredientes extra para personalizar")),o.createElement("div",{className:"catalog-option",onClick:()=>n("relleno"),style:{background:"linear-gradient(145deg, #4ecdc4, #44a08d)",color:"white",padding:"30px 20px",borderRadius:"16px",cursor:"pointer",textAlign:"center",border:"none",boxShadow:"0 8px 25px rgba(78, 205, 196, 0.3)",transition:"all 0.3s ease",transform:"translateY(0)"},onMouseEnter:a=>{a.target.style.transform="translateY(-5px)",a.target.style.boxShadow="0 12px 35px rgba(78, 205, 196, 0.4)"},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow="0 8px 25px rgba(78, 205, 196, 0.3)"}},o.createElement("div",{style:{fontSize:"40px",marginBottom:"15px"}},"🥧"),o.createElement("h3",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600"}},"Rellenos"),o.createElement("p",{style:{margin:0,fontSize:"14px",opacity:"0.9"}},"Rellenos cremosos y deliciosos")),o.createElement("div",{className:"catalog-option",onClick:()=>n("sabor"),style:{background:"linear-gradient(145deg, #a8edea, #fed6e3)",color:"#333",padding:"30px 20px",borderRadius:"16px",cursor:"pointer",textAlign:"center",border:"none",boxShadow:"0 8px 25px rgba(168, 237, 234, 0.4)",transition:"all 0.3s ease",transform:"translateY(0)"},onMouseEnter:a=>{a.target.style.transform="translateY(-5px)",a.target.style.boxShadow="0 12px 35px rgba(168, 237, 234, 0.5)"},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow="0 8px 25px rgba(168, 237, 234, 0.4)"}},o.createElement("div",{style:{fontSize:"40px",marginBottom:"15px"}},"🍰"),o.createElement("h3",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600"}},"Sabores"),o.createElement("p",{style:{margin:0,fontSize:"14px",opacity:"0.8"}},"Sabores únicos y especiales"))),o.createElement("div",{style:{textAlign:"center",paddingTop:"20px",borderTop:"1px solid #eee",marginTop:"20px"}},o.createElement("button",{onClick:e,style:{background:"#f8f9fa",color:"#6c757d",border:"2px solid #dee2e6",borderRadius:"8px",padding:"10px 30px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:a=>{a.target.style.background="#e9ecef",a.target.style.borderColor="#adb5bd"},onMouseLeave:a=>{a.target.style.background="#f8f9fa",a.target.style.borderColor="#dee2e6"}},"Cancelar"))):null}function lH({insumo:t}){const e=c=>{var u;return c.nombreUnidadMedida?c.nombreUnidadMedida:(u=c.unidadmedida)!=null&&u.unidadmedida?c.unidadmedida.unidadmedida:c.unidad?c.unidad:"unid"},r=t.stockMinimo>0?t.cantidad/t.stockMinimo*100:100,a=t.cantidad<=0?{texto:"A",backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:r<20?{texto:"C",backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:r<50?{texto:"B",backgroundColor:"#fff3e0",color:"#ef6c00",borderColor:"#ff9800"}:{texto:"N",backgroundColor:"#e8f5e8",color:"#2e7d32",borderColor:"#4caf50"},i=e(t),s=t.cantidad||0,l={padding:"6px 12px",borderRadius:"12px",fontWeight:"500",fontSize:"12px",textAlign:"center",display:"inline-block",minWidth:"120px",border:`1px solid ${a.borderColor}`,backgroundColor:a.backgroundColor,color:a.color};return o.createElement("div",{style:l},s," ",i," ",a.texto)}function cH({insumo:t}){const e=s=>{var l;return s.nombreUnidadMedida?s.nombreUnidadMedida:(l=s.unidadmedida)!=null&&l.unidadmedida?s.unidadmedida.unidadmedida:s.unidad?s.unidad:"unid"},r=s=>{const{cantidad:l,stockMinimo:c}=s,u=c>0?l/c*100:100,f={padding:"6px 12px",borderRadius:"12px",fontWeight:"500",fontSize:"12px",textAlign:"center",display:"inline-block",minWidth:"120px",border:"1px solid"};return l<=0?{...f,backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:u<20?{...f,backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:u<50?{...f,backgroundColor:"#f8bbd9",color:"#c62828",borderColor:"#e91e63"}:{...f,backgroundColor:"#e8f5e8",color:"#2e7d32",borderColor:"#4caf50"}},n=t.stockMinimo||5,a=e(t),i=r(t);return o.createElement("div",{style:i},"Min: ",n," ",a)}function uH(){const[t,e]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState([]),[s,l]=b.useState(!0),[c,u]=b.useState(""),[f,p]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[h,g]=b.useState({visible:!1,tipo:"",insumo:null}),[x,v]=b.useState(!1),[y,E]=b.useState(!1),[C,k]=b.useState(!1),[_,N]=b.useState(!1),[O,R]=b.useState(null),[D,B]=b.useState("");b.useEffect(()=>{z()},[]);const z=async()=>{try{const G=await nf.obtenerCategorias();n(G.filter(ye=>ye.estado));const X=await pf.obtenerUnidadesMedida();i(X);const ie=await pf.obtenerInsumos();e(ie)}catch(G){I("Error cargando datos: "+G.message,"error")}finally{l(!1)}},I=(G,X="success")=>{p({visible:!0,mensaje:G,tipo:X})},L=()=>p({visible:!1}),M=async G=>{try{const X=t.find(ye=>(ye.id||ye.idinsumo)===G);if(!X){console.error("Insumo no encontrado:",G),I("Insumo no encontrado","error");return}const ie=!X.estado;if(!ie&&parseFloat(X.cantidad)>0){I(`No se puede deshabilitar este insumo porque tiene ${X.cantidad} unidades en stock. Para deshabilitarlo, primero debe reducir el stock a 0.`,"error");return}console.log(`Cambiando estado de insumo ${G} a:`,ie),await pf.cambiarEstadoInsumo(G,ie),e(t.map(ye=>(ye.id||ye.idinsumo)===G?{...ye,estado:ie}:ye)),I(`Insumo ${ie?"activado":"desactivado"} exitosamente`)}catch(X){console.error("Error al cambiar estado:",X),I("Error cambiando estado: "+X.message,"error")}},F=(G,X=null)=>{g({visible:!0,tipo:G,insumo:X})},H=()=>{g({visible:!1,tipo:"",insumo:null})},J=()=>{N(G=>!G)},ee=G=>{console.log("Abriendo selector de catálogo para:",G),R(G),k(!0)},re=()=>{k(!1),R(null)},te=G=>{B(G),k(!1),E(!0)},K=()=>{E(!1),B(""),R(null)},U=(G,X)=>{if(X)return["toppings","adiciones","sabores","rellenos","relleno","sabor","adicion"].some(ye=>X.toLowerCase().includes(ye));if(G&&r.length>0){const ie=r.find(ye=>ye.id===parseInt(G));if(ie)return["toppings","adiciones","sabores","rellenos","relleno","sabor","adicion"].some(me=>{var he;return(he=ie.nombreCategoria)==null?void 0:he.toLowerCase().includes(me)})}return!1},j=t.filter(G=>{var ie,ye,me,he;const X=c.toLowerCase();return((ie=G.nombreInsumo)==null?void 0:ie.toLowerCase().includes(X))||((ye=G.nombreCategoria)==null?void 0:ye.toLowerCase().includes(X))||((he=(me=G.categoriainsumos)==null?void 0:me.nombrecategoria)==null?void 0:he.toLowerCase().includes(X))||String(G.cantidad).includes(X)||(G.estado?"activo":"inactivo").includes(X)}),Y=G=>G.id||G.idinsumo;return s?o.createElement("div",null,o.createElement(zl,null)):o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:f.visible,mensaje:f.mensaje,tipo:f.tipo,onClose:L}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>F("agregar")},"+ Agregar"),o.createElement($l,{value:c,onChange:u,placeholder:"Buscar por nombre, categoría, cantidad, estado..."})),o.createElement("div",{style:{margin:"10px 0",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",{style:{fontSize:"14px",color:"#666"}},"📊 ",t.length," insumos | 📂 ",r.length," categorías | 📏"," ",a.length," unidades"),o.createElement("button",{className:"admin-button info-button",onClick:J,style:{padding:"5px 10px",fontSize:"14px",backgroundColor:"#e3f2fd",color:"#1565c0",border:"1px solid #bbdefb"}},"📚")),_&&o.createElement("div",{className:"stock-info-message",style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"5px",marginBottom:"15px",border:"1px solid #dee2e6"}},o.createElement("h4",{style:{marginTop:0}},"📊 Niveles de Stock:"),o.createElement("ul",{style:{marginBottom:0}},o.createElement("li",null,o.createElement("strong",null,"Crítico:")," Menos del 20% del stock mínimo"),o.createElement("li",null,o.createElement("strong",null,"Bajo:")," Entre 20% y 50% del stock mínimo"),o.createElement("li",null,o.createElement("strong",null,"Normal:")," Más del 50% del stock mínimo"))),o.createElement("h2",{className:"admin-section-title"},"Gestión de Insumos"),o.createElement(ps,{value:j,paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} insumos",className:"admin-table"},o.createElement(Zt,{header:"N°",body:(G,{rowIndex:X})=>X+1,style:{width:"3rem",textAlign:"center"}}),o.createElement(Zt,{field:"nombreInsumo",header:"Nombre"}),o.createElement(Zt,{header:"Categoría",body:G=>{var X;return G.nombreCategoria||((X=G.categoriainsumos)==null?void 0:X.nombrecategoria)||"Sin categoría"}}),o.createElement(Zt,{header:"Unidad",body:G=>{var X;return G.nombreUnidadMedida||((X=G.unidadmedida)==null?void 0:X.unidadmedida)||"Sin unidad"}}),o.createElement(Zt,{header:"Stock Actual",body:G=>o.createElement(lH,{insumo:G})}),o.createElement(Zt,{header:"Stock Mínimo",body:G=>o.createElement(cH,{insumo:G})}),o.createElement(Zt,{header:"Estado",body:G=>o.createElement(Ro,{checked:G.estado,onChange:()=>M(Y(G))})}),o.createElement(Zt,{header:"Acción",body:G=>{var X;return o.createElement("div",{style:{display:"flex",gap:"5px",alignItems:"center"}},o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>F("ver",G)},"👁"),o.createElement("button",{className:`admin-button yellow ${G.estado?"":"disabled"}`,title:"Editar",onClick:()=>G.estado&&F("editar",G),disabled:!G.estado,style:{opacity:G.estado?1:.5,cursor:G.estado?"pointer":"not-allowed"}},"✏️"),o.createElement("button",{className:`admin-button red ${G.estado?"":"disabled"}`,title:"Eliminar",onClick:()=>G.estado&&F("eliminar",G),disabled:!G.estado,style:{opacity:G.estado?1:.5,cursor:G.estado?"pointer":"not-allowed"}},"🗑️"),G.estado&&U(G.idCategoriaInsumos||G.idcategoriainsumos,G.nombreCategoria||((X=G.categoriainsumos)==null?void 0:X.nombrecategoria))&&o.createElement("button",{className:"catalog-button",title:"Agregar Catálogo",onClick:()=>ee(G)},o.createElement("button",{className:`admin-button purple ${G.estado?"":"disabled"}`,title:"Copiar",onClick:()=>G.estado&&copiar(G),disabled:!G.estado,style:{backgroundColor:"#6c5ce7",opacity:G.estado?1:.5,cursor:G.estado?"pointer":"not-allowed"}},"📋")))}})),h.visible&&o.createElement(aH,{modal:h,cerrar:H,categorias:r,unidades:a,cargarInsumos:z,showNotification:I,abriragregarCategoria:()=>v(!0)}),x&&o.createElement(oH,{cerrar:()=>v(!1),showNotification:I,cargarCategorias:z}),C&&o.createElement(sH,{modalSelectorVisible:C,cerrarModalSelector:re,insumoParaCatalogo:O,seleccionarTipoCatalogo:te}),y&&o.createElement(iH,{visible:y,cerrar:K,tipoCatalogo:D,insumoParaCatalogo:O,showNotification:I}),o.createElement(rH,null))}const dn={isRequired:t=>t&&t.toString().trim().length>0,minLength:(t,e)=>t&&t.toString().trim().length>=e,maxLength:(t,e)=>!t||t.toString().trim().length<=e,isValidName:t=>/^[a-zA-ZáéíóúÁÉÍÓÚüÜñÑ\s]+$/.test(t),hasValidNameLength:t=>{const e=t.trim();return e.length>=2&&e.length<=15},noMultipleSpaces:t=>!/\s{2,}/.test(t),noLeadingTrailingSpaces:t=>t===t.trim(),isValidEmail:t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t),isValidEmailDomain:t=>{var r;const e=(r=t.split("@")[1])==null?void 0:r.toLowerCase();return e&&e.includes(".")&&e.length>3},hasValidEmailLength:t=>t.length>=5&&t.length<=100,hasMinLength:(t,e=6)=>t.length>=e,hasMaxLength:(t,e=50)=>t.length<=e,hasLetter:t=>/[a-zA-Z]/.test(t),hasNumber:t=>/[0-9]/.test(t),hasUpperCase:t=>/[A-Z]/.test(t),hasLowerCase:t=>/[a-z]/.test(t),hasSpecialChar:t=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t),noCommonPatterns:t=>{const e=["123456","654321","password","contraseña","qwerty","abc123","123abc","admin","usuario","user"],r=t.toLowerCase();return!e.some(n=>r.includes(n))},isValidDocumentFormat:(t,e)=>{const r=t.trim();switch(e){case"CC":return/^\d{7,10}$/.test(r);case"CE":return/^\d{6,10}$/.test(r);case"PA":return/^[A-Z0-9]{6,12}$/i.test(r);case"NIT":return/^\d{9,11}$/.test(r);default:return r.length>=6&&r.length<=12}},isValidDocumentLength:(t,e)=>{const r=t.trim().length;switch(e){case"CC":return r>=7&&r<=10;case"CE":return r>=6&&r<=10;case"PA":return r>=6&&r<=12;case"NIT":return r>=9&&r<=11;default:return r>=6&&r<=12}},isNumeric:t=>/^\d*$/.test(t),isAlphanumeric:t=>/^[A-Z0-9]*$/i.test(t),isUniqueEmail:(t,e,r=null)=>!e.some(n=>n.correo.toLowerCase()===t.toLowerCase()&&n.id!==r),isUniqueDocument:(t,e,r=null)=>!e.some(n=>n.documento===t.trim()&&n.id!==r),isValidSelection:t=>t&&t!==""&&t!=="0"},dH=(t,e,r,n)=>{const a=[],{nombres:i,apellidos:s,correo:l,contraseña:c,confirmarContraseña:u,rol_id:f,tipo_documento_id:p,documento:h}=t;return dn.isRequired(i)?(dn.hasValidNameLength(i)||a.push("Los nombres deben tener entre 2 y 15 caracteres"),dn.isValidName(i)||a.push("Los nombres solo pueden contener letras y espacios"),dn.noMultipleSpaces(i)||a.push("Los nombres no pueden tener espacios múltiples consecutivos"),dn.noLeadingTrailingSpaces(i)||a.push("Los nombres no pueden comenzar o terminar con espacios")):a.push("Los nombres son obligatorios"),dn.isRequired(s)?(dn.hasValidNameLength(s)||a.push("Los apellidos deben tener entre 2 y 15 caracteres"),dn.isValidName(s)||a.push("Los apellidos solo pueden contener letras y espacios"),dn.noMultipleSpaces(s)||a.push("Los apellidos no pueden tener espacios múltiples consecutivos"),dn.noLeadingTrailingSpaces(s)||a.push("Los apellidos no pueden comenzar o terminar con espacios")):a.push("Los apellidos son obligatorios"),dn.isRequired(l)?(dn.hasValidEmailLength(l)||a.push("El correo debe tener entre 5 y 100 caracteres"),dn.isValidEmail(l)?dn.isValidEmailDomain(l)||a.push("El dominio del correo electrónico no es válido"):a.push("El formato del correo electrónico no es válido"),dn.isUniqueEmail(l,r,n==null?void 0:n.id)||a.push("Ya existe un usuario registrado con este correo electrónico")):a.push("El correo electrónico es obligatorio"),(e==="agregar"||e==="editar"&&c!=="********")&&(dn.isRequired(c)?(dn.hasMinLength(c,8)||a.push("La contraseña debe tener al menos 8 caracteres"),dn.hasMaxLength(c,50)||a.push("La contraseña no puede tener más de 50 caracteres"),dn.hasLetter(c)||a.push("La contraseña debe contener al menos una letra"),dn.hasNumber(c)||a.push("La contraseña debe contener al menos un número"),dn.hasUpperCase(c)||a.push("La contraseña debe contener al menos una letra mayúscula"),dn.hasLowerCase(c)||a.push("La contraseña debe contener al menos una letra minúscula"),dn.hasSpecialChar(c)||a.push("La contraseña debe contener al menos un carácter especial (!@#$%^&*()_+-=[]{}|;:,.<>?)"),dn.noCommonPatterns(c)||a.push("La contraseña no puede contener patrones comunes (123456, password, qwerty, etc.)")):a.push("La contraseña es obligatoria"),e==="agregar"&&(dn.isRequired(u)?c!==u&&a.push("La confirmación de contraseña no coincide"):a.push("Debe confirmar la contraseña"))),dn.isValidSelection(p)||a.push("Debe seleccionar un tipo de documento"),dn.isRequired(h)?(p==="PA"?dn.isAlphanumeric(h)||a.push("El pasaporte solo puede contener letras y números"):dn.isNumeric(h)||a.push("El documento solo puede contener números"),dn.isValidDocumentLength(h,p)||a.push("La longitud del documento no es válida para el tipo seleccionado"),dn.isValidDocumentFormat(h,p)||a.push("El formato del documento no es válido para el tipo seleccionado"),dn.isUniqueDocument(h,r,n==null?void 0:n.id)||a.push("Ya existe un usuario registrado con este número de documento")):a.push("El número de documento es obligatorio"),dn.isValidSelection(f)||a.push("Debe seleccionar un rol para el usuario"),{isValid:a.length===0,errors:a}},fH=(t,e,r,n,a)=>{const i=[];switch(t){case"nombres":e&&!dn.isValidName(e)&&i.push("Solo se permiten letras y espacios"),e&&!dn.hasValidNameLength(e)&&i.push("Debe tener entre 2 y 15 caracteres");break;case"apellidos":e&&!dn.isValidName(e)&&i.push("Solo se permiten letras y espacios"),e&&!dn.hasValidNameLength(e)&&i.push("Debe tener entre 2 y 15 caracteres");break;case"correo":e&&!dn.isValidEmail(e)&&i.push("Formato de correo inválido"),e&&!dn.isUniqueEmail(e,n,a==null?void 0:a.id)&&i.push("Este correo ya está registrado");break;case"contraseña":e&&(dn.hasMinLength(e,8)||i.push("Mínimo 8 caracteres"),dn.hasUpperCase(e)||i.push("Falta mayúscula"),dn.hasLowerCase(e)||i.push("Falta minúscula"),dn.hasNumber(e)||i.push("Falta número"),dn.hasSpecialChar(e)||i.push("Falta carácter especial"));break;case"documento":e&&r.tipo_documento_id&&(r.tipo_documento_id==="PA"?dn.isAlphanumeric(e)||i.push("Solo letras y números para pasaporte"):dn.isNumeric(e)||i.push("Solo se permiten números"),dn.isValidDocumentFormat(e,r.tipo_documento_id)||i.push("Formato inválido para este tipo de documento"),dn.isUniqueDocument(e,n,a==null?void 0:a.id)||i.push("Este documento ya está registrado"));break}return i},mH=(t,e)=>{if(t.length===1)e({visible:!0,mensaje:t[0],tipo:"error"});else if(t.length>1){const r=`Se encontraron ${t.length} errores:
${t.slice(0,3).map((n,a)=>`${a+1}. ${n}`).join(`
`)}${t.length>3?`
...`:""}`;e({visible:!0,mensaje:r,tipo:"error"})}};function pH({modalTipo:t,usuarioSeleccionado:e,roles:r,tiposDocumento:n,usuarios:a,onSave:i,onCancel:s,setNotification:l}){var k,_,N,O,R,D,B,z,I,L,M,F,H,J,ee,re;const[c,u]=b.useState({nombres:"",apellidos:"",correo:"",contraseña:"",confirmarContraseña:"",rol_id:"",tipo_documento_id:"",documento:"",activo:!0}),[f,p]=b.useState({}),[h,g]=b.useState(!1),[x,v]=b.useState(!1),y=t==="visualizar";b.useEffect(()=>{u((t==="editar"||t==="visualizar")&&e?{nombres:e.nombres||"",apellidos:e.apellidos||"",correo:e.correo||"",contraseña:e.contraseña||"********",confirmarContraseña:"",rol_id:e.rol_id||"",tipo_documento_id:e.tipo_documento_id||"",documento:e.documento||"",activo:e.activo!==!1}:{nombres:"",apellidos:"",correo:"",contraseña:"",confirmarContraseña:"",rol_id:"",tipo_documento_id:"",documento:"",activo:!0}),p({})},[t,e]);const E=(te,K)=>{if(y)return;let U=K;te==="documento"&&(c.tipo_documento_id==="PA"?U=K.replace(/[^A-Z0-9]/gi,"").toUpperCase():U=K.replace(/[^0-9]/g,"")),u(Y=>({...Y,[te]:U}));const j=fH(te,U,c,a,e);p(Y=>({...Y,[te]:j})),te==="contraseña"&&f.confirmarContraseña&&setTimeout(()=>{c.confirmarContraseña&&U===c.confirmarContraseña&&p(Y=>({...Y,confirmarContraseña:[]}))},100),te==="confirmarContraseña"&&U===c.contraseña&&p(Y=>({...Y,confirmarContraseña:[]}))},C=()=>{if(y)return;const te=dH(c,t,a,e);if(!te.isValid){mH(te.errors,l);return}i(c)};return o.createElement("div",{className:"usuarios-modal-body usuarios-modal-body-compact"},o.createElement("div",{className:"usuarios-modal-grid-two-columns"},o.createElement("div",{className:"usuarios-modal-column"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Tipo de Documento",o.createElement("span",{className:"required"},"*"),":"),o.createElement("select",{value:c.tipo_documento_id,onChange:te=>{E("tipo_documento_id",te.target.value),c.documento&&(u(K=>({...K,documento:""})),p(K=>({...K,documento:[]})))},className:`modal-input ${(k=f.tipo_documento_id)!=null&&k.length?"error":""}`,disabled:y},o.createElement("option",{value:""},"Seleccionar"),n.map(te=>o.createElement("option",{key:te.id,value:te.id},te.nombre))),((_=f.tipo_documento_id)==null?void 0:_.length)>0&&o.createElement("div",{className:"error-message"},f.tipo_documento_id[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Nombre",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"text",value:c.nombres,onChange:te=>E("nombres",te.target.value),className:`modal-input ${(N=f.nombres)!=null&&N.length?"error":""}`,placeholder:"Nombres",maxLength:"15",readOnly:y}),((O=f.nombres)==null?void 0:O.length)>0&&o.createElement("div",{className:"error-message"},f.nombres[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Correo",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"email",value:c.correo,onChange:te=>E("correo",te.target.value),className:`modal-input ${(R=f.correo)!=null&&R.length?"error":""}`,placeholder:"ejemplo@correo.com",maxLength:"100",readOnly:y}),((D=f.correo)==null?void 0:D.length)>0&&o.createElement("div",{className:"error-message"},f.correo[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Contraseña",o.createElement("span",{className:"required"},"*"),":"),o.createElement("div",{className:"password-container",style:{position:"relative"}},o.createElement("input",{type:h?"text":"password",value:c.contraseña,onChange:te=>E("contraseña",te.target.value),className:`modal-input ${(B=f.contraseña)!=null&&B.length?"error":""}`,placeholder:"8+ chars, 1 mayúscula, 1 special",maxLength:"50",readOnly:y}),!y&&o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>g(!h),title:h?"Ocultar contraseña":"Mostrar contraseña",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",zIndex:1}},h?"👁️":"👁️‍🗨️")),((z=f.contraseña)==null?void 0:z.length)>0&&o.createElement("div",{className:"error-message"},f.contraseña.slice(0,2).map((te,K)=>o.createElement("div",{key:K},"• ",te))))),o.createElement("div",{className:"modal-column"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"N° Documento",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"text",value:c.documento,onChange:te=>E("documento",te.target.value),className:`modal-input ${(I=f.documento)!=null&&I.length?"error":""}`,placeholder:c.tipo_documento_id==="PA"?"Alfanumérico":"Número",maxLength:"12",inputMode:c.tipo_documento_id==="PA"?"text":"numeric",readOnly:y}),((L=f.documento)==null?void 0:L.length)>0&&o.createElement("div",{className:"error-message"},f.documento[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Apellido",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"text",value:c.apellidos,onChange:te=>E("apellidos",te.target.value),className:`modal-input ${(M=f.apellidos)!=null&&M.length?"error":""}`,placeholder:"Apellidos",maxLength:"15",readOnly:y}),((F=f.apellidos)==null?void 0:F.length)>0&&o.createElement("div",{className:"error-message"},f.apellidos[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Rol",o.createElement("span",{className:"required"},"*"),":"),o.createElement("select",{value:c.rol_id,onChange:te=>E("rol_id",te.target.value),className:`modal-input ${(H=f.rol_id)!=null&&H.length?"error":""}`,disabled:y},o.createElement("option",{value:""},"Seleccionar rol"),r.map(te=>o.createElement("option",{key:te.id,value:te.id},te.nombre))),((J=f.rol_id)==null?void 0:J.length)>0&&o.createElement("div",{className:"error-message"},f.rol_id[0])),t==="agregar"&&o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Confirmar Contraseña",o.createElement("span",{className:"required"},"*"),":"),o.createElement("div",{className:"password-container",style:{position:"relative"}},o.createElement("input",{type:x?"text":"password",value:c.confirmarContraseña,onChange:te=>E("confirmarContraseña",te.target.value),className:`modal-input ${(ee=f.confirmarContraseña)!=null&&ee.length?"error":""}`,placeholder:"Confirme la contraseña",maxLength:"50"}),o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>v(!x),title:x?"Ocultar contraseña":"Mostrar contraseña",style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",zIndex:1}},x?"👁️":"👁️‍🗨️")),((re=f.confirmarContraseña)==null?void 0:re.length)>0&&o.createElement("div",{className:"error-message"},f.confirmarContraseña[0]),c.contraseña&&c.confirmarContraseña&&c.contraseña===c.confirmarContraseña&&o.createElement("div",{className:"success-message"},"✓ Las contraseñas coinciden")),t!=="agregar"&&o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Estado:"),o.createElement("div",{className:"switch-container"},o.createElement(Ro,{checked:c.activo,onChange:te=>E("activo",te.value),disabled:y}),o.createElement("span",{className:"switch-label"},c.activo?"Activo":"Inactivo"))))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:s},y?"Cerrar":"Cancelar"),!y&&o.createElement("button",{className:"modal-btn save-btn",onClick:C},"Guardar")))}const sd="https://deliciasoft-backend.onrender.com/api";class hH{async obtenerUsuarios(){try{console.log("Obteniendo usuarios desde API...");const e=await fetch(`${sd}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Usuarios obtenidos de la API:",r);const n=this.transformarUsuariosDesdeAPI(r);return console.log("Usuarios transformados:",n),n}catch(e){throw console.error("Error al obtener usuarios:",e),new Error("Error al obtener la lista de usuarios: "+e.message)}}async obtenerUsuarioPorId(e){try{console.log("Obteniendo usuario por ID:",e);const r=await fetch(`${sd}/usuarios/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw r.status===404?new Error("Usuario no encontrado"):new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return console.log("Usuario obtenido:",n),this.transformarUsuarioDesdeAPI(n)}catch(r){throw console.error("Error al obtener usuario:",r),r}}async crearUsuario(e){try{console.log("Datos a enviar para crear usuario:",e);const r=this.transformarUsuarioParaAPI(e);console.log("Datos transformados para API:",r);const n=await fetch(`${sd}/usuarios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(console.log("Respuesta del servidor:",n.status),!n.ok){const i=await n.json().catch(()=>({message:"Error en el servidor"}));throw console.error("Error del servidor:",i),new Error(i.message||`HTTP error! status: ${n.status}`)}const a=await n.json();return console.log("Usuario creado exitosamente:",a),this.transformarUsuarioDesdeAPI(a)}catch(r){throw console.error("Error al crear usuario:",r),r}}async actualizarUsuario(e,r){try{console.log("Actualizando usuario:",e,r);const n=this.transformarUsuarioParaAPI(r);console.log("Datos transformados para actualizar:",n);const a=await fetch(`${sd}/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){const s=await a.json().catch(()=>({message:"Error en el servidor"}));throw console.error("Error al actualizar:",s),new Error(s.message||`HTTP error! status: ${a.status}`)}const i=await a.json();return console.log("Usuario actualizado exitosamente:",i),this.transformarUsuarioDesdeAPI(i)}catch(n){throw console.error("Error al actualizar usuario:",n),n}}async eliminarUsuario(e){try{console.log("Eliminando usuario:",e);const r=await fetch(`${sd}/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok){const n=await r.json().catch(()=>({message:"Error en el servidor"}));throw console.error("Error al eliminar:",n),new Error(n.message||`HTTP error! status: ${r.status}`)}return{success:!0,message:"Usuario eliminado exitosamente"}}catch(r){throw console.error("Error al eliminar usuario:",r),r}}async cambiarEstadoUsuario(e,r){try{console.log("Cambiando estado del usuario:",e,"a",r);const n=await this.obtenerUsuarioPorId(e),a={...this.transformarUsuarioParaAPI(n),estado:r},i=await fetch(`${sd}/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok){const l=await i.json().catch(()=>({message:"Error en el servidor"}));throw new Error(l.message||"Error al actualizar usuario")}const s=await i.json();return this.transformarUsuarioDesdeAPI(s)}catch(n){throw console.error("Error completo:",n),new Error(`No se pudo actualizar el estado: ${n.message}`)}}async obtenerRoles(){try{console.log("Obteniendo roles...");const e=await fetch(`${sd}/rol`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();return console.log("Roles obtenidos:",r),r.map(n=>({id:n.idrol,nombre:n.rol}))}catch(e){return console.error("Error al obtener roles:",e),[{id:1,nombre:"Administrador"},{id:2,nombre:"Repostero"},{id:3,nombre:"Decorador"},{id:4,nombre:"Vendedor"}]}}async obtenerTiposDocumento(){try{return[{id:"CC",nombre:"Cédula de Ciudadanía"},{id:"CE",nombre:"Cédula de Extranjería"},{id:"PA",nombre:"Pasaporte"},{id:"NIT",nombre:"NIT"}]}catch(e){return console.error("Error al obtener tipos de documento:",e),[{id:"CC",nombre:"Cédula de Ciudadanía"},{id:"CE",nombre:"Cédula de Extranjería"},{id:"PA",nombre:"Pasaporte"},{id:"NIT",nombre:"NIT"}]}}async usuarioTieneVentas(e){try{const r=await fetch(`${sd}/usuarios/${e}/ventas`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok&&(await r.json()).tieneVentas||!1}catch(r){return console.error("Error al verificar ventas del usuario:",r),!1}}transformarUsuarioDesdeAPI(e){var n;console.log("Transformando usuario desde API:",e);const r={id:e.idusuario,nombres:e.nombre||"",apellidos:e.apellido||"",correo:e.correo||"",contraseña:"********",rol_id:e.idrol,rol_nombre:((n=e.rol)==null?void 0:n.rol)||"Sin rol",tipo_documento_id:e.tipodocumento||"",tipo_documento_nombre:this.obtenerNombreTipoDocumento(e.tipodocumento),documento:e.documento?e.documento.toString():"",activo:e.estado!==!1};return console.log("Usuario transformado:",r),r}transformarUsuariosDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarUsuarioDesdeAPI(r)):(console.warn("Los datos de usuarios no son un array:",e),[])}transformarUsuarioParaAPI(e){console.log("Transformando usuario para API:",e);const r={tipodocumento:e.tipo_documento_id||e.tipodocumento,documento:parseInt(e.documento),nombre:e.nombres||e.nombre,apellido:e.apellidos||e.apellido,correo:e.correo,idrol:parseInt(e.rol_id||e.idrol),estado:e.activo!==void 0?e.activo:!0};return e.contraseña&&e.contraseña.trim()&&e.contraseña!=="********"&&(r.hashcontrasena=e.contraseña),console.log("Datos transformados para API:",r),r}obtenerNombreTipoDocumento(e){return{CC:"Cédula de Ciudadanía",CE:"Cédula de Extranjería",PA:"Pasaporte",NIT:"NIT"}[e]||"Tipo no definido"}async manejarRespuesta(e){if(!e.ok){const r=e.headers.get("content-type");if(r&&r.includes("application/json")){const n=await e.json();throw new Error(n.message||`HTTP error! status: ${e.status}`)}else throw new Error(`HTTP error! status: ${e.status}`)}return e.json()}}const Ud=new hH;function gH(){const[t,e]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState([]),[s,l]=b.useState(""),[c,u]=b.useState(!0),[f,p]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[h,g]=b.useState(!1),[x,v]=b.useState(null),[y,E]=b.useState(null);b.useEffect(()=>{C()},[]);const C=async()=>{try{u(!0);const[L,M,F]=await Promise.all([Ud.obtenerUsuarios(),Ud.obtenerRoles(),Ud.obtenerTiposDocumento()]);e(L),n(M),i(F)}catch(L){console.error("Error al cargar datos:",L),N("Error al cargar los datos: "+L.message,"error"),k()}finally{u(!1)}},k=()=>{const L=[{id:1,nombres:"Juan Carlos",apellidos:"Pérez García",correo:"juan@gmail.com",contraseña:"123456",rol_id:1,rol_nombre:"Administrador",tipo_documento_id:1,tipo_documento_nombre:"Cédula de Ciudadanía",documento:"12345678",activo:!0},{id:2,nombres:"María Elena",apellidos:"García López",correo:"maria@gmail.com",contraseña:"123456",rol_id:2,rol_nombre:"Repostero",tipo_documento_id:1,tipo_documento_nombre:"Cédula de Ciudadanía",documento:"87654321",activo:!0}],M=[{id:1,nombre:"Administrador"},{id:2,nombre:"Repostero"},{id:3,nombre:"Decorador"},{id:4,nombre:"Vendedor"}],F=[{id:1,nombre:"Cédula de Ciudadanía"},{id:2,nombre:"Cédula de Extranjería"},{id:3,nombre:"Pasaporte"},{id:4,nombre:"NIT"}];e(L),n(M),i(F)},_=async L=>{try{const M=!L.activo;await Ud.cambiarEstadoUsuario(L.id,M);const F=t.map(H=>H.id===L.id?{...H,activo:M}:H);e(F),N(`Usuario ${M?"activado":"desactivado"} exitosamente`)}catch(M){console.error("Error al cambiar estado:",M),N("Error al cambiar el estado del usuario: "+M.message,"error")}},N=(L,M="success")=>{p({visible:!0,mensaje:L,tipo:M})},O=()=>{p({visible:!1,mensaje:"",tipo:"success"})},R=(L,M=null)=>{if((L==="editar"||L==="eliminar")&&M&&!M.activo){N("No se puede realizar esta acción en un usuario desactivado","error");return}if(L==="eliminar"&&M&&M.rol_nombre==="Administrador"){N("No se puede eliminar un usuario con el rol de Administrador","error");return}v(L),E(M),g(!0)},D=()=>{g(!1),E(null),v(null)},B=async L=>{try{if(x==="agregar"){const M=await Ud.crearUsuario(L);e([...t,M]),N("Usuario agregado exitosamente")}else if(x==="editar"){const M=await Ud.actualizarUsuario(y.id,L),F=t.map(H=>H.id===y.id?M:H);e(F),N("Usuario actualizado exitosamente")}D()}catch(M){console.error("Error al guardar usuario:",M),N("Error al guardar el usuario: "+M.message,"error")}},z=async()=>{try{await Ud.eliminarUsuario(y.id);const L=t.filter(M=>M.id!==y.id);e(L),D(),N("Usuario eliminado exitosamente")}catch(L){console.error("Error al eliminar usuario:",L),N("Error al eliminar el usuario: "+L.message,"error")}},I=t.filter(L=>L.id.toString().includes(s.toLowerCase())||L.nombres.toLowerCase().includes(s.toLowerCase())||L.apellidos.toLowerCase().includes(s.toLowerCase())||L.correo.toLowerCase().includes(s.toLowerCase())||L.rol_nombre.toLowerCase().includes(s.toLowerCase()));return c?o.createElement(zl,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:f.visible,mensaje:f.mensaje,tipo:f.tipo,onClose:O}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>R("agregar"),type:"button"},"+ Agregar"),o.createElement($l,{placeholder:"Buscar usuario...",value:s,onChange:l})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Usuarios"),o.createElement(ps,{value:I,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(Zt,{header:"N°",body:(L,{rowIndex:M})=>M+1,style:{width:"3rem",textAlign:"center"},headerStyle:{paddingLeft:"1rem"}}),o.createElement(Zt,{field:"nombres",header:"Nombres",headerStyle:{paddingLeft:"2.5rem"}}),o.createElement(Zt,{field:"apellidos",header:"Apellidos",headerStyle:{paddingLeft:"4rem"}}),o.createElement(Zt,{field:"correo",header:"Correo",headerStyle:{paddingLeft:"10rem"}}),o.createElement(Zt,{field:"rol_nombre",header:"Rol",headerStyle:{paddingLeft:"3.5rem"}}),o.createElement(Zt,{header:"Estado",headerStyle:{paddingLeft:"1rem"},body:L=>o.createElement(Ro,{checked:L.activo,onChange:()=>_(L)})}),o.createElement(Zt,{header:"Acciones",headerStyle:{paddingLeft:"3rem"},body:L=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>R("visualizar",L)},"👁"),o.createElement("button",{className:`admin-button yellow ${L.activo?"":"disabled"}`,title:L.activo?"Editar":"Usuario desactivado",onClick:()=>R("editar",L),disabled:!L.activo},"✏️"),o.createElement("button",{className:`admin-button red ${L.activo?"":"disabled"}`,title:L.activo?"Eliminar":"Usuario desactivado",onClick:()=>R("eliminar",L),disabled:!L.activo},"🗑️"))})),(x==="agregar"||x==="editar"||x==="visualizar")&&h&&o.createElement(Wn,{visible:h,onClose:D},o.createElement("h2",{className:"modal-title modal-title-compact"},x==="agregar"?"Agregar Usuario":x==="editar"?"Editar Usuario":"Detalles del Usuario"),o.createElement(pH,{modalTipo:x,usuarioSeleccionado:y,roles:r,tiposDocumento:a,usuarios:t,onSave:B,onCancel:D,setNotification:p})),x==="eliminar"&&h&&o.createElement(Wn,{visible:h,onClose:D},o.createElement("h2",{className:"modal-title modal-title-compact"},"Confirmar Eliminación"),o.createElement("div",{className:"modal-body modal-body-compact"},o.createElement("p",null,"¿Está seguro de que desea eliminar al usuario ",o.createElement("strong",null,y==null?void 0:y.nombres," ",y==null?void 0:y.apellidos),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:D},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:z},"Eliminar"))))}const Il="https://deliciasoft-backend.onrender.com/api";class vH{async obtenerRoles(){try{const e=await fetch(`${Il}/rol`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json(),n=this.transformarRolesDesdeAPI(r);return this.ordenarRolesConAdminPrimero(n)}catch(e){throw console.error("Error al obtener roles:",e),new Error("Error al obtener la lista de roles")}}ordenarRolesConAdminPrimero(e){const r=e.filter(a=>this.esRolAdmin(a.nombre)),n=e.filter(a=>!this.esRolAdmin(a.nombre));return n.sort((a,i)=>a.nombre.localeCompare(i.nombre)),[...r,...n]}esRolAdmin(e){return e&&e.toLowerCase()==="admin"}puedeEditarRol(e){return!this.esRolAdmin(e.nombre)}async obtenerRolPorId(e){try{const r=await fetch(`${Il}/rol/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw r.status===404?new Error("Rol no encontrado"):new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return this.transformarRolDesdeAPI(n)}catch(r){throw console.error("Error al obtener rol:",r),r}}async crearRol(e){var r;try{if(this.esRolAdmin(e.nombre))throw new Error('No se puede crear otro rol con el nombre "Admin". Ya existe un rol administrador en el sistema.');const n=this.transformarRolParaAPI(e);if(!e.permisos||!Array.isArray(e.permisos))throw new Error("Los permisos deben ser un array");const a=e.permisos.filter(l=>typeof l=="number"&&l>0&&Number.isInteger(l));if(a.length!==e.permisos.length)throw new Error("Algunos permisos no tienen un formato válido");n.permisos=a,console.log("Enviando datos al backend:",n);const i=await fetch(`${Il}/rol`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.message||`HTTP error! status: ${i.status}`)}const s=await i.json();return console.log("Respuesta del backend:",s),{id:s.idrol||((r=s.rol)==null?void 0:r.idrol),nombre:e.nombre,descripcion:e.descripcion,permisos:a,activo:e.activo!==void 0?e.activo:!0}}catch(n){throw console.error("Error detallado al crear rol:",n),n}}async actualizarRol(e,r){try{if(this.esRolAdmin(r.nombre))throw new Error("No se puede editar el rol Admin. Este rol está protegido del sistema.");const n=this.transformarRolParaAPI(r);if(r.permisos&&Array.isArray(r.permisos)){const s=r.permisos.filter(l=>typeof l=="number"&&l>0&&Number.isInteger(l));console.log("Permisos originales:",r.permisos),console.log("Permisos válidos filtrados:",s);try{const l=await this.obtenerPermisosDisponiblesIds();console.log("Permisos disponibles en backend:",l);const c=s.filter(u=>l.includes(u));console.log("Permisos que existen en backend:",c),c.length>0?n.permisos=c:(console.warn("No se encontraron permisos válidos, se omite el campo permisos"),delete n.permisos)}catch{console.warn("No se pudieron validar permisos contra backend, usando permisos del cliente"),n.permisos=s}}console.log("Datos finales a enviar al backend:",n);const a=await fetch(`${Il}/rol/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(n)});if(!a.ok){const s=await a.text();console.error("Error response body:",s);let l;try{l=JSON.parse(s)}catch{l={message:`HTTP ${a.status}: ${s}`}}throw new Error(l.message||`HTTP error! status: ${a.status}`)}const i=await a.json();return console.log("Rol actualizado exitosamente:",i),{id:e,nombre:r.nombre,descripcion:r.descripcion,permisos:r.permisos||[],activo:r.activo}}catch(n){throw console.error("Error al actualizar rol:",n),n}}async obtenerPermisosDisponiblesIds(){try{const e=await fetch(`${Il}/rol/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).map(a=>a.idpermiso);const r=await fetch(`${Il}/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok)return(await r.json()).map(a=>a.idpermiso);throw new Error("No se pudieron obtener permisos")}catch(e){return console.warn("Error al obtener permisos disponibles:",e),[1,2,3,4,5,6,7,8,9,10,11,12,13]}}async eliminarRol(e){try{const r=await this.obtenerRolPorId(e);if(this.esRolAdmin(r.nombre))throw new Error("No se puede eliminar el rol Admin. Este rol es esencial para el sistema.");const n=await fetch(`${Il}/rol/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`}});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(a.message||`HTTP error! status: ${n.status}`)}return{success:!0,message:"Rol eliminado exitosamente"}}catch(r){throw console.error("Error al eliminar rol:",r),r}}async cambiarEstadoRol(e,r){try{const n=await this.obtenerRolPorId(e);if(this.esRolAdmin(n.nombre)&&!r)throw new Error("No se puede desactivar el rol Admin. Este rol debe permanecer siempre activo.");const a=await fetch(`${Il}/rol/${e}/estado`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify({estado:r})});if(!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.message||"Error al actualizar estado")}return await a.json()}catch(n){throw console.error("Error al cambiar estado:",n),new Error(`No se pudo actualizar el estado: ${n.message}`)}}async rolTieneUsuarios(e){try{const r=await fetch(`${Il}/rol/${e}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok?(await r.json()).length>0:!1}catch(r){return console.error("Error al verificar usuarios del rol:",r),!1}}async obtenerPermisos(){try{console.log("Intentando obtener permisos desde /rol/permisos...");const e=await fetch(`${Il}/rol/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const n=await e.json();return console.log("Permisos obtenidos desde /rol/permisos:",n),this.transformarPermisosDesdeAPI(n)}console.log("Intentando obtener permisos desde /permisos...");const r=await fetch(`${Il}/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const n=await r.json();return console.log("Permisos obtenidos desde /permisos:",n),this.transformarPermisosDesdeAPI(n)}throw new Error("Ambos endpoints de permisos fallaron")}catch(e){return console.error("Error al obtener permisos:",e),console.log("Usando permisos mock como fallback"),this.obtenerPermisosMock()}}async obtenerPermisosActivos(){try{return(await this.obtenerPermisos()).filter(r=>r.estado!==!1)}catch(e){return console.error("Error al obtener permisos activos:",e),this.obtenerPermisosMock()}}async obtenerPermisosRol(e){try{const r=await fetch(`${Il}/rol/${e}/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok?(await r.json()).map(a=>a.idpermiso):(console.warn(`No se pudieron obtener permisos del rol ${e}`),[])}catch(r){return console.error("Error al obtener permisos del rol:",r),[]}}getToken(){return typeof window<"u"&&window.localStorage&&localStorage.getItem("token")||""}obtenerPermisosMock(){return[{id:1,nombre:"Dashboard",modulo:"Dashboard",estado:!0},{id:2,nombre:"Roles",modulo:"Roles",estado:!0},{id:3,nombre:"Usuarios",modulo:"Usuarios",estado:!0},{id:4,nombre:"Cliente",modulo:"Cliente",estado:!0},{id:5,nombre:"Ventas",modulo:"Ventas",estado:!0},{id:6,nombre:"Sedes",modulo:"Sedes",estado:!0},{id:7,nombre:"Cat.Productos",modulo:"Cat.Productos",estado:!0},{id:8,nombre:"Productos",modulo:"Productos",estado:!0},{id:9,nombre:"Cat.Insumos",modulo:"Cat.Insumos",estado:!0},{id:10,nombre:"Insumos",modulo:"Insumos",estado:!0},{id:11,nombre:"Proveedores",modulo:"Proveedores",estado:!0},{id:12,nombre:"Compras",modulo:"Compras",estado:!0},{id:13,nombre:"Produccion",modulo:"Produccion",estado:!0}]}transformarRolDesdeAPI(e){return{id:e.idrol||e.id,nombre:e.rol||e.nombre,descripcion:e.descripcion,permisos:e.permisos||[],activo:e.estado!==void 0?e.estado:!0,tieneUsuarios:e.tieneUsuarios||!1,esAdmin:this.esRolAdmin(e.rol||e.nombre)}}transformarRolesDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarRolDesdeAPI(r)):[]}transformarRolParaAPI(e){return{rol:e.nombre,descripcion:e.descripcion,estado:e.activo!==void 0?e.activo:!0}}transformarPermisosDesdeAPI(e){return Array.isArray(e)?e.map(r=>({id:r.idpermiso||r.id,nombre:r.modulo||r.descripcion||r.nombre,modulo:r.modulo||"Sin módulo",descripcion:r.descripcion||"",estado:r.estado!==!1})):[]}validarDatosRol(e){var a,i,s,l,c,u,f,p,h,g,x;const r=[];this.esRolAdmin(e.nombre)&&r.push('No se puede crear otro rol con el nombre "Admin"'),(a=e.nombre)!=null&&a.trim()||r.push("El nombre del rol es obligatorio"),((i=e.nombre)==null?void 0:i.trim().length)<3&&r.push("El nombre del rol debe tener al menos 3 caracteres"),((s=e.nombre)==null?void 0:s.trim().length)>20&&r.push("El nombre del rol no puede tener más de 20 caracteres"),(l=e.descripcion)!=null&&l.trim()||r.push("La descripción del rol es obligatoria"),((c=e.descripcion)==null?void 0:c.trim().length)<5&&r.push("La descripción debe tener al menos 5 caracteres"),((u=e.descripcion)==null?void 0:u.trim().length)>30&&r.push("La descripción no puede tener más de 30 caracteres"),(f=e.permisos)!=null&&f.length||r.push("Debe seleccionar al menos un permiso");const n=((p=e.permisos)==null?void 0:p.filter(v=>typeof v!="number"||v<=0||!Number.isInteger(v)))||[];return n.length>0&&r.push(`Permisos inválidos encontrados: ${n.join(", ")}`),{valido:r.length===0,errores:r,detalles:{nombre:((h=e.nombre)==null?void 0:h.trim())||"",descripcion:((g=e.descripcion)==null?void 0:g.trim())||"",permisos:e.permisos||[],cantidadPermisos:((x=e.permisos)==null?void 0:x.length)||0}}}}const ka=new vH;function bH({initialData:t,formType:e,permisos:r,onSave:n,onCancel:a,showNotification:i,allRoles:s,currentRoleId:l}){const[c,u]=b.useState(t),[f,p]=b.useState({nombre:{valido:!1,mensaje:""},descripcion:{valido:!1,mensaje:""}}),[h,g]=b.useState(!1),x=e==="visualizar";b.useEffect(()=>{console.log("FormRol - Datos iniciales recibidos:",t),u(t),e==="editar"&&t?p({nombre:y(t.nombre),descripcion:E(t.descripcion)}):e==="agregar"&&p({nombre:{valido:!1,mensaje:""},descripcion:{valido:!1,mensaje:""}})},[t,e]);const v=r.reduce((L,M)=>(L[M.modulo]||(L[M.modulo]=[]),L[M.modulo].push(M),L),{}),y=L=>{const M=L.trim();return M?/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/.test(M)?M.length<3?{valido:!1,mensaje:"El nombre debe tener al menos 3 caracteres"}:M.length>20?{valido:!1,mensaje:"El nombre no puede tener más de 20 caracteres"}:ka.esRolAdmin(M)&&e==="agregar"?{valido:!1,mensaje:'No se puede crear otro rol con el nombre "Admin"'}:s.some(J=>J.nombre.toLowerCase()===M.toLowerCase()&&(e==="agregar"||J.id!==l))?{valido:!1,mensaje:"Ya existe un rol con este nombre"}:{valido:!0,mensaje:"✓ Nombre válido"}:{valido:!1,mensaje:"El nombre solo puede contener letras y espacios"}:{valido:!1,mensaje:"El nombre del rol es obligatorio"}},E=L=>{const M=L.trim();return M?M.length<5?{valido:!1,mensaje:"La descripción debe tener al menos 5 caracteres"}:M.length>30?{valido:!1,mensaje:"La descripción no puede tener más de 30 caracteres"}:{valido:!0,mensaje:"✓ Descripción válida"}:{valido:!1,mensaje:"La descripción es obligatoria"}},C=L=>{if(x)return;if(e==="editar"&&ka.esRolAdmin(c.nombre)){i("No se puede modificar el nombre del rol Admin","error");return}const F=L.replace(/[^a-zA-ZáéíóúÁÉÍÓÚñÑ\s]/g,"").replace(/\s+/g," ");u(J=>({...J,nombre:F}));const H=y(F);p(J=>({...J,nombre:H}))},k=(L,M)=>{if(!x){if(e==="editar"&&ka.esRolAdmin(c.nombre)&&(L==="nombre"||L==="descripcion"||L==="activo")){i("No se pueden modificar los datos del rol Admin","error");return}if(console.log(`Cambiando campo ${L} a:`,M),L==="nombre")C(M);else if(L==="descripcion"){u(H=>({...H,[L]:M}));const F=E(M);p(H=>({...H,descripcion:F}))}else u(F=>({...F,[L]:M}))}},_=(L,M)=>{if(!x){if(e==="editar"&&ka.esRolAdmin(c.nombre)){i("No se pueden modificar los permisos del rol Admin","error");return}console.log(`Cambiando permiso ${L} a ${M}`),u(F=>({...F,permisos:M?[...F.permisos,L]:F.permisos.filter(H=>H!==L)}))}},N=()=>{const L=y(c.nombre),M=E(c.descripcion);return p({nombre:L,descripcion:M}),L.valido?M.valido?c.permisos.length===0?(i("Debe seleccionar al menos un permiso para el rol","error"),!1):!0:(i(M.mensaje,"error"),!1):(i(L.mensaje,"error"),!1)},O=async L=>{var M;if(L.preventDefault(),!x&&(console.log("=== DEBUGGING FORMULARIO ==="),console.log("Datos del formulario antes de validar:",{formData:c,formType:e,permisos:c.permisos,tipoPermisos:typeof c.permisos,permisosLength:(M=c.permisos)==null?void 0:M.length}),!!N())){if(c.permisos&&Array.isArray(c.permisos)){const F=c.permisos.filter(H=>typeof H!="number"||H<=0||!Number.isInteger(H));if(F.length>0){console.error("Permisos inválidos encontrados:",F),i("Algunos permisos seleccionados no son válidos","error");return}}if(c.permisos&&Array.isArray(c.permisos)){const F=r.map(J=>J.id),H=c.permisos.filter(J=>!F.includes(J));if(H.length>0){console.error("Permisos que no existen:",H),console.error("Permisos disponibles:",F),i("Algunos permisos seleccionados no están disponibles","error");return}}console.log("Datos finales a enviar:",c);try{g(!0),await n(c)}catch(F){console.error("Error al guardar:",F),i(`Error al guardar: ${F.message}`,"error")}finally{g(!1)}}},R=e==="editar"&&ka.esRolAdmin(c.nombre),D=x||R,B=e==="agregar"?f.nombre.valido&&f.descripcion.valido&&c.permisos.length>0:f.nombre.valido&&f.descripcion.valido,z=()=>{switch(e){case"agregar":return"Agregar Rol";case"editar":return"Editar Rol";case"visualizar":return"Ver Detalles del Rol";default:return"Rol"}},I=()=>Object.keys(v).sort();return o.createElement("div",{style:{width:"900px",maxWidth:"90vw"}},o.createElement("h2",{style:{marginTop:0,marginBottom:"1.5rem",color:"#000000"}},z(),ka.esRolAdmin(c.nombre)&&o.createElement("span",{style:{marginLeft:"1rem",backgroundColor:"#d32f2f",color:"white",padding:"0.3rem 0.8rem",borderRadius:"15px",fontSize:"0.8rem",fontWeight:"bold"}},"ROL DEL SISTEMA")),R&&o.createElement("div",{style:{backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement("i",{className:"pi pi-info-circle",style:{color:"#d32f2f"}}),o.createElement("span",{style:{color:"#d32f2f",fontWeight:"500"}},"Este es un rol del sistema protegido. Solo se pueden visualizar sus datos, no se pueden modificar.")),o.createElement("form",{onSubmit:O},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"2rem"}},o.createElement("div",null,o.createElement("h3",{style:{color:"#c2185b",marginBottom:"1rem"}},"Información Básica"),o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"0.5rem"}},"Nombre del Rol",!x&&!R&&o.createElement("span",{style:{color:"red"}}," *"),R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement("input",{type:"text",value:c.nombre,onChange:L=>k("nombre",L.target.value),readOnly:D,style:{width:"100%",padding:"0.5rem",border:D?"2px solid #e0e0e0":`2px solid ${f.nombre.valido?"#4caf50":f.nombre.mensaje?"#f44336":"#f48fb1"}`,borderRadius:"6px",outline:"none",backgroundColor:D?"#f5f5f5":f.nombre.valido?"#f1f8e9":f.nombre.mensaje?"#ffebee":"white",cursor:D?"not-allowed":"text"},placeholder:D?"":"Ej: Administrador",maxLength:20}),!D&&f.nombre.mensaje&&o.createElement("small",{style:{color:f.nombre.valido?"#4caf50":"#f44336",fontSize:"0.8rem",display:"block",marginTop:"0.3rem"}},f.nombre.mensaje),!D&&o.createElement("small",{style:{color:"#666",fontSize:"0.75rem",display:"block",marginTop:"0.2rem"}},"Solo se permiten letras y espacios (",c.nombre.length,"/20)")),o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"0.5rem"}},"Descripción",!x&&!R&&o.createElement("span",{style:{color:"red"}}," *"),R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement("textarea",{value:c.descripcion,onChange:L=>k("descripcion",L.target.value),readOnly:D,style:{width:"100%",padding:"0.5rem",border:D?"2px solid #e0e0e0":`2px solid ${f.descripcion.valido?"#4caf50":f.descripcion.mensaje?"#f44336":"#f48fb1"}`,borderRadius:"6px",outline:"none",minHeight:"80px",resize:D?"none":"vertical",backgroundColor:D?"#f5f5f5":f.descripcion.valido?"#f1f8e9":f.descripcion.mensaje?"#ffebee":"white",cursor:D?"not-allowed":"text"},placeholder:D?"":"Describe las responsabilidades...",maxLength:30}),!D&&f.descripcion.mensaje&&o.createElement("small",{style:{color:f.descripcion.valido?"#4caf50":"#f44336",fontSize:"0.8rem",display:"block",marginTop:"0.3rem"}},f.descripcion.mensaje),!D&&o.createElement("small",{style:{color:"#666",fontSize:"0.75rem",display:"block",marginTop:"0.2rem"}},c.descripcion.length,"/30 caracteres")),(e==="editar"||e==="visualizar")&&o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem"}},o.createElement("label",{style:{fontWeight:"bold"}},"Estado:",R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement(Ro,{checked:c.activo,onChange:L=>k("activo",L.value),disabled:D}),o.createElement("span",{style:{color:c.activo?"#4caf50":"#f44336",fontWeight:"bold",fontSize:"0.9rem"}},c.activo?"Activo":"Inactivo"),R&&o.createElement("i",{className:"pi pi-lock",title:"El rol Admin no se puede modificar",style:{color:"#d32f2f",fontSize:"0.8rem"}})))),o.createElement("div",null,o.createElement("h3",{style:{color:"#c2185b",marginBottom:"1rem"}},"Permisos del Sistema",!x&&!R&&e==="agregar"&&o.createElement("span",{style:{color:"red"}}," *"),R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement("div",{style:{padding:"1rem",border:`2px solid ${c.permisos.length===0&&!x&&!R&&e==="agregar"?"#f44336":"#f48fb1"}`,borderRadius:"10px",backgroundColor:x||R?"#f8f8f8":"#fafafa",maxHeight:"350px",overflowY:"auto"}},I().length>0?I().map(L=>o.createElement("div",{key:L,style:{marginBottom:"1rem"}},o.createElement("h4",{style:{color:"#c2185b",fontSize:"0.9rem",marginBottom:"0.5rem",borderBottom:"1px solid #f48fb1",paddingBottom:"0.2rem"}},L),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.5rem",marginLeft:"1rem"}},v[L].map(M=>o.createElement("div",{key:M.id,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.3rem",borderRadius:"4px",backgroundColor:c.permisos.includes(M.id)?"#f3e5f5":"transparent",opacity:R?.7:1}},o.createElement("input",{type:"checkbox",id:`permiso-${M.id}`,checked:c.permisos.includes(M.id),onChange:F=>_(M.id,F.target.checked),disabled:x||R,style:{width:"16px",height:"16px",cursor:x||R?"not-allowed":"pointer",accentColor:"#c2185b"}}),o.createElement("label",{htmlFor:`permiso-${M.id}`,style:{fontSize:"0.85rem",cursor:x||R?"not-allowed":"pointer",margin:0,fontWeight:c.permisos.includes(M.id)?"600":"normal",color:c.permisos.includes(M.id)?"#c2185b":"inherit"}},M.nombre)))))):o.createElement("div",{style:{textAlign:"center",color:"#666",fontStyle:"italic",padding:"2rem"}},o.createElement("i",{className:"pi pi-exclamation-triangle",style:{fontSize:"2rem",marginBottom:"1rem",display:"block"}}),"No hay permisos disponibles")),!x&&!R&&o.createElement("div",{style:{marginTop:"0.5rem"}},o.createElement("small",{style:{color:c.permisos.length===0&&e==="agregar"?"#f44336":"#666",fontSize:"0.8rem",fontWeight:c.permisos.length===0&&e==="agregar"?"bold":"normal"}},c.permisos.length===0&&e==="agregar"?"Debe seleccionar al menos un permiso":`${c.permisos.length} permiso(s) seleccionado(s)`)),(x||R)&&c.permisos.length>0&&o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("h4",{style:{color:"#c2185b",fontSize:"0.9rem",marginBottom:"0.5rem"}},"Permisos Asignados:"),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"}},r.filter(L=>c.permisos.includes(L.id)).map(L=>o.createElement("span",{key:L.id,style:{backgroundColor:R?"#ffebee":"#e8f5e8",color:R?"#d32f2f":"#2e7d2e",padding:"0.3rem 0.6rem",borderRadius:"15px",fontSize:"0.8rem",border:R?"1px solid #f44336":"1px solid #c8e6c9",fontWeight:R?"bold":"normal"}},L.nombre,R&&o.createElement("i",{className:"pi pi-lock",style:{marginLeft:"0.3rem",fontSize:"0.7rem"}}))))))),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid #eee"}},o.createElement("button",{className:"modal-btn cancel-btn",type:"button",onClick:a,disabled:h},x||R?"Cerrar":"Cancelar"),!x&&!R&&o.createElement("button",{className:`modal-btn ${B&&!h?"save-btn":"save-btn-disabled"}`,type:"submit",disabled:!B||h,style:{opacity:B&&!h?1:.5,cursor:B&&!h?"pointer":"not-allowed",position:"relative"}},h?o.createElement(o.Fragment,null,o.createElement("i",{className:"pi pi-spin pi-spinner",style:{marginRight:"0.5rem"}}),"Guardando..."):"Guardar"))))}function yH(){const[t,e]=b.useState([]),[r,n]=b.useState([]),[a,i]=b.useState(""),[s,l]=b.useState(!0),[c,u]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[f,p]=b.useState(!1),[h,g]=b.useState(null),[x,v]=b.useState(null),[y,E]=b.useState({nombre:"",descripcion:"",permisos:[],activo:!0});b.useEffect(()=>{C()},[]);const C=async()=>{try{l(!0),console.log("Cargando datos...");const[F,H]=await Promise.all([ka.obtenerPermisos(),ka.obtenerRoles()]);console.log("Permisos cargados:",F),console.log("Roles cargados:",H),n(F),e(H),_("Datos cargados correctamente","success")}catch(F){console.error("Error al cargar datos:",F),_(`Error al cargar datos: ${F.message}`,"error");const H=ka.obtenerPermisosMock();n(H),e([]),console.log("Usando permisos mock:",H)}finally{l(!1)}},k=async F=>{try{if(ka.esRolAdmin(F.nombre)&&F.activo){_("No se puede desactivar el rol Admin. Este rol debe permanecer siempre activo.","error");return}const H=!F.activo;console.log(`Cambiando estado del rol ${F.id} a ${H}`),await ka.cambiarEstadoRol(F.id,H);const J=t.map(ee=>ee.id===F.id?{...ee,activo:H}:ee);e(ka.ordenarRolesConAdminPrimero(J)),_(`Rol ${H?"activado":"desactivado"} exitosamente`,"success")}catch(H){console.error("Error al cambiar estado:",H),_(`Error al cambiar estado: ${H.message}`,"error")}},_=(F,H="success")=>{u({visible:!0,mensaje:F,tipo:H}),setTimeout(()=>{u({visible:!1,mensaje:"",tipo:"success"})},5e3)},N=()=>{u({visible:!1,mensaje:"",tipo:"success"})},O=async(F,H=null)=>{if(console.log(`Abriendo modal tipo: ${F}`,H),H&&ka.esRolAdmin(H.nombre)){if(F==="editar"){_("No se puede editar el rol Admin. Este rol está protegido del sistema.","error");return}if(F==="eliminar"){_("No se puede eliminar el rol Admin. Este rol es esencial para el sistema.","error");return}}if(g(F),v(H),F==="agregar")E({nombre:"",descripcion:"",permisos:[],activo:!0});else if((F==="editar"||F==="visualizar")&&H)try{console.log(`Obteniendo permisos para el rol ${H.id}`);const J=await ka.obtenerPermisosRol(H.id);console.log("Permisos del rol obtenidos:",J),E({nombre:H.nombre,descripcion:H.descripcion,permisos:J,activo:H.activo})}catch(J){console.error("Error al obtener permisos del rol:",J),E({nombre:H.nombre,descripcion:H.descripcion,permisos:H.permisos||[],activo:H.activo}),_("Advertencia: No se pudieron cargar los permisos actuales","warn")}p(!0)},R=()=>{p(!1),v(null),g(null),E({nombre:"",descripcion:"",permisos:[],activo:!0})},D=async F=>{try{console.log("Guardando rol con datos:",F);let H;if(h==="agregar"){console.log("Creando nuevo rol..."),H=await ka.crearRol(F),console.log("Rol creado:",H);const J=[...t,H];e(ka.ordenarRolesConAdminPrimero(J)),_("Rol agregado exitosamente","success")}else if(h==="editar"){console.log(`Actualizando rol ${x.id}...`),H=await ka.actualizarRol(x.id,F),console.log("Rol actualizado:",H);const J=t.map(ee=>ee.id===x.id?H:ee);e(ka.ordenarRolesConAdminPrimero(J)),_("Rol actualizado exitosamente","success")}R()}catch(H){console.error("Error al guardar rol:",H),_(`Error al guardar rol: ${H.message}`,"error")}},B=async()=>{try{if(console.log(`Intentando eliminar rol ${x.id}`),ka.esRolAdmin(x.nombre)){_("No se puede eliminar el rol Admin. Este rol es esencial para el sistema.","error"),R();return}if(await ka.rolTieneUsuarios(x.id)){_("No se puede eliminar este rol porque tiene usuarios asociados","error"),R();return}await ka.eliminarRol(x.id),console.log("Rol eliminado exitosamente");const H=t.filter(J=>J.id!==x.id);e(ka.ordenarRolesConAdminPrimero(H)),R(),_("Rol eliminado exitosamente","success")}catch(F){console.error("Error al eliminar rol:",F),_(`Error al eliminar rol: ${F.message}`,"error")}},z=(F,H)=>{const J=ka.esRolAdmin(F.nombre);switch(H){case"editar":case"eliminar":return!J&&F.activo;case"toggleEstado":return!J||J&&F.activo;default:return!0}},I=t.filter(F=>{const H=a.toLowerCase();return F.nombre.toLowerCase().includes(H)||F.descripcion.toLowerCase().includes(H)||F.id.toString().includes(H)}),L=F=>Array.isArray(F)?r.filter(H=>F.includes(H.id)).map(H=>H.nombre).join(", "):"",M=({rol:F})=>{const H=ka.esRolAdmin(F.nombre);return o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement("span",null,F.nombre),H&&o.createElement("span",{style:{backgroundColor:"#d81b60",color:"white",padding:"0.2rem 0.5rem",borderRadius:"10px",fontSize:"0.7rem",fontWeight:"bold"}},"SISTEMA"))};return s?o.createElement(zl,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:N}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>O("agregar"),type:"button"},"+ Agregar"),o.createElement($l,{placeholder:"Buscar rol por nombre, descripción o N°...",value:a,onChange:i})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Roles"),o.createElement(ps,{value:I,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"35rem"},rowClassName:F=>ka.esRolAdmin(F.nombre)?"fila-admin":F.activo?"":"fila-inactiva",emptyMessage:"No se encontraron roles"},o.createElement(Zt,{header:"N°",headerStyle:{paddingLeft:"2rem"},body:(F,{rowIndex:H})=>H+1,style:{width:"3rem",textAlign:"center"}}),o.createElement(Zt,{field:"nombre",header:"Nombre",headerStyle:{paddingLeft:"5.8rem"},style:{width:"12rem",textAlign:"center"},body:F=>o.createElement(M,{rol:F})}),o.createElement(Zt,{field:"descripcion",header:"Descripción",headerStyle:{paddingLeft:"5rem"},style:{width:"12rem",textAlign:"center"}}),o.createElement(Zt,{header:"Permisos",headerStyle:{paddingLeft:"3rem"},body:F=>{var H;return o.createElement("span",{title:L(F.permisos)},((H=F.permisos)==null?void 0:H.length)||0," permisos")},style:{width:"6rem",textAlign:"center"}}),o.createElement(Zt,{header:"Estado",headerStyle:{paddingLeft:"3rem"},body:F=>{const H=ka.esRolAdmin(F.nombre);return o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement(Ro,{checked:F.activo,onChange:()=>k(F),disabled:H&&F.activo}),H&&F.activo&&o.createElement("i",{className:"pi pi-lock",title:"El rol Admin no se puede desactivar",style:{color:"#d32f2f",fontSize:"0.8rem"}}))},style:{width:"6rem",textAlign:"center"}}),o.createElement(Zt,{header:"Acciones",headerStyle:{paddingLeft:"5rem"},body:F=>{const H=ka.esRolAdmin(F.nombre),J=z(F,"editar"),ee=z(F,"eliminar");return o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>O("visualizar",F)},"👁"),o.createElement("button",{className:`admin-button ${J?"yellow":"disabled"}`,title:H?"No disponible (rol del sistema)":F.activo?"Editar":"No disponible (rol inactivo)",onClick:()=>J&&O("editar",F),disabled:!J,style:{opacity:J?1:.5,cursor:J?"pointer":"not-allowed"}},"✏️"),o.createElement("button",{className:`admin-button ${ee?"red":"disabled"}`,title:H?"No disponible (rol del sistema)":F.activo?"Eliminar":"No disponible (rol inactivo)",onClick:()=>ee&&O("eliminar",F),disabled:!ee,style:{opacity:ee?1:.5,cursor:ee?"pointer":"not-allowed"}},"🗑️"))},style:{width:"10rem",textAlign:"center"}})),o.createElement(Wn,{visible:f,onClose:R},(h==="agregar"||h==="editar"||h==="visualizar")&&o.createElement(bH,{initialData:y,formType:h,permisos:r,onSave:D,onCancel:R,showNotification:_,allRoles:t,currentRoleId:x==null?void 0:x.id}),h==="eliminar"&&x&&o.createElement("div",null,o.createElement("h2",{style:{marginTop:0,color:"#d81b60"}},"Confirmar Eliminación"),o.createElement("div",{style:{margin:"1rem 0"}},o.createElement("p",null,"¿Estás seguro que deseas eliminar el rol ",o.createElement("strong",null,x.nombre),"?"),o.createElement("p",{style:{color:"#e53935",fontSize:"14px"}},"Esta acción no se puede deshacer.")),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:R},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:B},"Eliminar")))))}const t1=t=>{const e=[];return t.length<8&&e.push("Debe tener al menos 8 caracteres."),/[A-Z]/.test(t)||e.push("Debe contener al menos una letra mayúscula."),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Debe contener al menos un carácter especial."),e},wH=t=>t.replace(/^\s+/,""),r1=t=>!t||t.trim().length===0?!1:[/^(cra?\.?|carrera)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(calle?|cl\.?)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(kr?\.?|carrera)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(av\.?|avenida)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(diagonal|diag\.?)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(transversal|tv\.?)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(autopista|aut\.?)\s/i,/^(via|vía)\s/i].some(r=>r.test(t.trim()));function xH({visible:t,onClose:e,modalTipo:r,clienteSeleccionado:n,clientes:a,onSave:i,showNotification:s}){const[l,c]=b.useState({tipoDocumento:"CC",numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",direccion:"",barrio:"",ciudad:"",fechaNacimiento:"",celular:"",estado:!0}),[u,f]=b.useState({numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",celular:"",fechaNacimiento:"",direccion:""}),[p,h]=b.useState(!1),[g,x]=b.useState(!1),v=r==="visualizar";b.useEffect(()=>{t&&(f({numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",celular:"",fechaNacimiento:"",direccion:""}),r==="agregar"?c({tipoDocumento:"CC",numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",direccion:"",barrio:"",ciudad:"",fechaNacimiento:"",celular:"",estado:!0}):(r==="editar"||r==="visualizar")&&n&&c({tipoDocumento:n.tipoDocumento,numeroDocumento:n.numeroDocumento,nombre:n.nombre,apellido:n.apellido,correo:n.correo,contrasena:n.contrasena,confirmarContrasena:"",direccion:n.direccion,barrio:n.barrio,ciudad:n.ciudad,fechaNacimiento:n.fechaNacimiento,celular:n.celular,estado:n.estado}),h(!1),x(!1))},[t,r,n]);const y=(R,D)=>{if(v)return;let B="",z=D;switch(typeof D=="string"&&R!=="contrasena"&&R!=="confirmarContrasena"&&(z=wH(D)),R){case"numeroDocumento":/^\d*$/.test(z)?z.trim()?a.some(L=>L.numeroDocumento===z&&(r==="agregar"||L.idCliente!==(n==null?void 0:n.idCliente)))&&(B="Ya existe un cliente con este número."):B="El número de documento es obligatorio.":(B="Solo se permiten números.",z=l.numeroDocumento);break;case"nombre":z.trim()?/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]*$/.test(z)||(B="Solo se permiten letras."):B="El nombre es obligatorio.";break;case"apellido":z.trim()?/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]*$/.test(z)||(B="Solo se permiten letras."):B="El apellido es obligatorio.";break;case"correo":z.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z)||(B="Formato de correo no válido."):B="El correo es obligatorio.";break;case"celular":/^\d*$/.test(z)?z.trim()||(B="El celular es obligatorio."):(B="Solo se permiten números.",z=l.celular);break;case"contrasena":if(r==="agregar"||r==="editar"&&D.trim()){const I=t1(D);I.length>0&&(B=I[0])}z=D;break;case"confirmarContrasena":z=D,r==="agregar"&&(D.trim()&&l.contrasena!==D?B="Las contraseñas no coinciden.":!D.trim()&&l.contrasena.trim()&&(B="Debe confirmar la contraseña."));break;case"fechaNacimiento":if(z){const I=new Date(z),L=new Date,M=L.getFullYear()-I.getFullYear(),F=L.getMonth(),H=I.getMonth();let J=M;(F<H||F===H&&L.getDate()<I.getDate())&&J--,J<13&&(B="El cliente debe tener al menos 13 años.")}break;case"direccion":z.trim()?r1(z)||(B="Ingrese una dirección válida (ej: Cra 51a #71-25, Calle 45 #23-12)"):B="La dirección es obligatoria.";break}c(I=>({...I,[R]:z})),f(I=>({...I,[R]:B})),r==="agregar"&&R==="contrasena"&&(l.confirmarContrasena&&D!==l.confirmarContrasena?f(I=>({...I,confirmarContrasena:"Las contraseñas no coinciden."})):l.confirmarContrasena&&D===l.confirmarContrasena&&f(I=>({...I,confirmarContrasena:""})))},E=()=>{const R={};let D=!0;const{numeroDocumento:B,nombre:z,apellido:I,correo:L,celular:M,contrasena:F,confirmarContrasena:H,fechaNacimiento:J,direccion:ee}=l;if(B.trim()?/^\d+$/.test(B)?a.some(te=>te.numeroDocumento===B&&(r==="agregar"||te.idCliente!==(n==null?void 0:n.idCliente)))&&(R.numeroDocumento="Ya existe un cliente con este número de documento.",D=!1):(R.numeroDocumento="Solo se permiten números.",D=!1):(R.numeroDocumento="El número de documento es obligatorio.",D=!1),z.trim()?/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/.test(z)||(R.nombre="Solo se permiten letras y espacios.",D=!1):(R.nombre="El nombre es obligatorio.",D=!1),I.trim()?/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+$/.test(I)||(R.apellido="Solo se permiten letras y espacios.",D=!1):(R.apellido="El apellido es obligatorio.",D=!1),L.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L)||(R.correo="El formato del correo no es válido.",D=!1):(R.correo="El correo es obligatorio.",D=!1),M.trim()?/^\d+$/.test(M)||(R.celular="Solo se permiten números.",D=!1):(R.celular="El celular es obligatorio.",D=!1),ee.trim()?r1(ee)||(R.direccion="Ingrese una dirección válida (ej: Cra 51a #71-25, Calle 45 #23-12)",D=!1):(R.direccion="La dirección es obligatoria.",D=!1),r==="agregar"){if(!F.trim())R.contrasena="La contraseña es obligatoria.",D=!1;else{const re=t1(F);re.length>0&&(R.contrasena=re[0],D=!1)}H.trim()?F!==H&&(R.confirmarContrasena="Las contraseñas no coinciden.",D=!1):(R.confirmarContrasena="Debe confirmar la contraseña.",D=!1)}else if(r==="editar"&&F.trim()){const re=t1(F);re.length>0&&(R.contrasena=re[0],D=!1)}if(J){const re=new Date(J),te=new Date,K=te.getFullYear()-re.getFullYear(),U=te.getMonth(),j=re.getMonth();let Y=K;(U<j||U===j&&te.getDate()<re.getDate())&&Y--,Y<13&&(R.fechaNacimiento="El cliente debe tener al menos 13 años.",D=!1)}return f(R),D},C=()=>{if(!E()){s("Por favor, corrige los errores del formulario.","error");return}i(l)},k=R=>R?new Date(R).toLocaleDateString("es-ES"):"",_=()=>{switch(r){case"agregar":return"Agregar Cliente";case"editar":return"Editar Cliente";case"visualizar":return"Detalles del Cliente";default:return"Cliente"}},N={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},O={backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",minWidth:"500px",maxWidth:"90%",maxHeight:"90%",overflowY:"auto"};return t&&o.createElement("div",{style:N},o.createElement("div",{style:O},o.createElement("h2",{className:"modal-title text-base"},_()),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"0.50fr 0.50fr",gap:"0.25rem",width:"100%",minWidth:"500px"}},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Tipo de Documento: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{value:l.tipoDocumento,onChange:R=>y("tipoDocumento",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},disabled:v},o.createElement("option",{value:"CC"},"Cédula de Ciudadanía"),o.createElement("option",{value:"TI"},"Tarjeta de Identidad"),o.createElement("option",{value:"CE"},"Cédula de Extranjería"),o.createElement("option",{value:"PA"},"Pasaporte"))),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"N° Documento: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.numeroDocumento,onChange:R=>y("numeroDocumento",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.numeroDocumento?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:10,readOnly:v}),u.numeroDocumento&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.numeroDocumento)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Nombre: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.nombre,onChange:R=>y("nombre",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.nombre?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:15,readOnly:v}),u.nombre&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.nombre)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Apellido: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.apellido,onChange:R=>y("apellido",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.apellido?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:15,readOnly:v}),u.apellido&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.apellido)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Correo: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"email",value:l.correo,onChange:R=>y("correo",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.correo?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:20,readOnly:v}),u.correo&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.correo)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Celular: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.celular,onChange:R=>y("celular",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.celular?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:10,readOnly:v}),u.celular&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.celular)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Contraseña: ",r==="agregar"&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("div",{style:{position:"relative"}},o.createElement("input",{type:p?"text":"password",value:v?"********":l.contrasena,onChange:R=>y("contrasena",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 25px 2px 4px",paddingRight:"25px",borderColor:u.contrasena?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},placeholder:r==="editar"?"Opcional (dejar vacío para mantener la actual)":"8+ chars, 1 mayúscula, 1 especial",maxLength:20,readOnly:v}),o.createElement("button",{type:"button",onClick:()=>h(!p),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:v?"default":"pointer",fontSize:"12px",color:v?"#ccc":"#666",padding:"0",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:p?"Ocultar contraseña":"Mostrar contraseña",disabled:v},p?"👁️":"👁️‍🗨️")),u.contrasena&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.contrasena)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Fecha Nacimiento:"),v?o.createElement("input",{type:"text",value:k(l.fechaNacimiento),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:"#f5f5f5",color:"#666"},readOnly:!0}):o.createElement("input",{type:"date",value:l.fechaNacimiento,onChange:R=>y("fechaNacimiento",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.fechaNacimiento?"red":""}}),u.fechaNacimiento&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.fechaNacimiento)),r==="agregar"&&o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Confirmar Contraseña: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("div",{style:{position:"relative"}},o.createElement("input",{type:g?"text":"password",value:l.confirmarContrasena,onChange:R=>y("confirmarContrasena",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 25px 2px 4px",borderColor:u.confirmarContrasena?"red":""},placeholder:"Confirme la contraseña",maxLength:20}),o.createElement("button",{type:"button",onClick:()=>x(!g),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"12px",color:"#666",padding:"0",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:g?"Ocultar contraseña":"Mostrar contraseña"},g?"👁️":"👁️‍🗨️")),u.confirmarContrasena&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.confirmarContrasena)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Dirección: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement(_I,{value:l.direccion,onChange:R=>y("direccion",R),placeholder:"Ej: Cra 51a #71-25, Calle 45 #23-12",className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.direccion?"red":"",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},disabled:v,onPlaceSelect:R=>{console.log("Place selected:",R),c(D=>({...D,direccion:R.direccion||D.direccion,barrio:R.barrio||D.barrio,ciudad:R.ciudad||D.ciudad})),R.direccion&&r1(R.direccion)&&f(D=>({...D,direccion:""}))}}),u.direccion&&!v&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.direccion)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Barrio:"),o.createElement("input",{type:"text",value:l.barrio,onChange:R=>y("barrio",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:30,readOnly:v})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Ciudad:"),o.createElement("input",{type:"text",value:l.ciudad,onChange:R=>y("ciudad",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:v?"#f5f5f5":"white",color:v?"#666":"black"},maxLength:30,readOnly:v})),r==="editar"&&o.createElement("div",{className:"modal-field"},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"1.2rem"}},o.createElement("label",{className:"text-sm",style:{fontSize:"12px"}},"Estado:"),o.createElement(Ro,{checked:l.estado,onChange:R=>y("estado",R.value)}))))),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:e},"Cancelar"),r!=="visualizar"&&o.createElement("button",{className:"modal-btn save-btn text-sm px-3 py-1",onClick:C},"Guardar"))))}const Vc="https://deliciasoft-backend-i6g9.onrender.com/api";class EH{async obtenerClientesParaVenta(){try{const e=await fetch(`${Vc}/clientes`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();return[{idcliente:null,nombre:"Cliente",apellido:"Genérico",numeroDocumento:"",nombreCompleto:"Cliente Genérico"},...r.map(a=>({...a,numeroDocumento:a.numerodocumento||"",nombreCompleto:`${a.nombre} ${a.apellido}`.trim()}))]}catch(e){return console.error("Error al obtener clientes:",e),[{idcliente:null,nombre:"Cliente",apellido:"Genérico",numeroDocumento:"",nombreCompleto:"Cliente Genérico"}]}}async obtenerClientes(){try{const e=await fetch(`${Vc}/clientes`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();return this.transformarClientesDesdeAPI(r)}catch(e){throw console.error("Error al obtener clientes:",e),new Error("Error al obtener la lista de clientes")}}async obtenerClientePorId(e){try{const r=await fetch(`${Vc}/clientes/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw r.status===404?new Error("Cliente no encontrado"):new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return this.transformarClienteDesdeAPI(n)}catch(r){throw console.error("Error al obtener cliente:",r),r}}async crearCliente(e){try{await this.validarDuplicados(e,null);const r=this.transformarClienteParaAPI(e),n=await fetch(`${Vc}/clientes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(i.message||`HTTP error! status: ${n.status}`)}const a=await n.json();return this.transformarClienteDesdeAPI(a)}catch(r){throw console.error("Error al crear cliente:",r),r}}async actualizarCliente(e,r){try{await this.validarDuplicados(r,e);const n=this.transformarClienteParaAPI(r),a=await fetch(`${Vc}/clientes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){const s=await a.json();throw new Error(s.message||`HTTP error! status: ${a.status}`)}const i=await a.json();return this.transformarClienteDesdeAPI(i)}catch(n){throw console.error("Error al actualizar cliente:",n),n}}async eliminarCliente(e){try{const r=await fetch(`${Vc}/clientes/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),n=await r.json();return r.ok?{success:!0,message:n.message||"Cliente eliminado exitosamente"}:r.status===400&&n.tieneVentas?{success:!1,tieneVentas:!0,message:"No se puede eliminar el cliente porque está asociado a una venta"}:r.status===404?{success:!1,message:"Cliente no encontrado"}:{success:!1,message:n.message||"Error al eliminar cliente"}}catch{return{success:!1,message:"Error de conexión al intentar eliminar el cliente"}}}async toggleEstadoCliente(e){try{const r=await fetch(`${Vc}/clientes/${e}/estado`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al cambiar estado")}const n=await r.json();return await this.obtenerClientePorId(e)}catch(r){throw console.error("Error al cambiar estado del cliente:",r),r}}async clienteTieneVentas(e){try{const r=await fetch(`${Vc}/clientes/${e}/ventas`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok&&(await r.json()).tieneVentas||!1}catch{return!1}}async validarDuplicados(e,r=null){try{const a=(await this.obtenerClientes()).find(l=>(l.numeroDocumento===e.numeroDocumento||l.correo===e.correo)&&l.idCliente!==r);if(a){if(a.numeroDocumento===e.numeroDocumento)throw new Error("Ya existe un cliente con este número de documento");if(a.correo===e.correo)throw new Error("Ya existe un cliente con este correo electrónico")}const s=(await this.obtenerUsuarios()).find(l=>l.documento===e.numeroDocumento||l.correo===e.correo);if(s){if(s.documento===e.numeroDocumento)throw new Error("Ya existe un usuario con este número de documento");if(s.correo===e.correo)throw new Error("Ya existe un usuario con este correo electrónico")}}catch(n){if(n.message.includes("Ya existe"))throw n;console.warn("No se pudo validar duplicados con usuarios:",n)}}async obtenerUsuarios(){try{const e=await fetch(`${Vc}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(await e.json()).map(n=>{var a;return{id:n.idusuario,documento:(a=n.documento)==null?void 0:a.toString(),correo:n.correo}})}catch(e){throw console.error("Error al obtener usuarios para validación:",e),e}}async actualizarContrasenaCliente(e,r){try{const n=await fetch(`${Vc}/clientes/${e}/password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({nuevaContrasena:r})});if(!n.ok){const a=await n.json();throw new Error(a.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error al actualizar contraseña:",n),n}}async obtenerPerfilCliente(){try{const e=authService.getUserProfile();if(!e||!e.data||!e.data.idcliente)throw new Error("No hay sesión activa de cliente");return await this.obtenerClientePorId(e.data.idcliente)}catch(e){throw console.error("Error al obtener perfil:",e),e}}transformarClienteDesdeAPI(e){return{idCliente:e.idcliente,tipoDocumento:e.tipodocumento,numeroDocumento:e.numerodocumento,nombre:e.nombre,apellido:e.apellido,correo:e.correo,contrasena:e.hashcontrasena||"********",direccion:e.direccion,barrio:e.barrio,ciudad:e.ciudad,fechaNacimiento:e.fechanacimiento?this.formatearFechaDesdeAPI(e.fechanacimiento):"",celular:e.celular,estado:e.estado,nombreCompleto:`${e.nombre} ${e.apellido}`.trim()}}transformarClientesDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarClienteDesdeAPI(r)):[]}transformarClienteParaAPI(e){const r={tipodocumento:e.tipoDocumento,numerodocumento:e.numeroDocumento,nombre:e.nombre,apellido:e.apellido,correo:e.correo,direccion:e.direccion,barrio:e.barrio,ciudad:e.ciudad,celular:e.celular,estado:e.estado};return e.contrasena&&e.contrasena.trim()&&e.contrasena!=="********"&&(r.hashcontrasena=e.contrasena),e.fechaNacimiento?r.fechanacimiento=new Date(e.fechaNacimiento).toISOString():r.fechanacimiento=null,r}formatearFechaDesdeAPI(e){return e?new Date(e).toISOString().split("T")[0]:""}formatearFechaParaAPI(e){return e||null}async manejarRespuesta(e){if(!e.ok){const r=e.headers.get("content-type");if(r&&r.includes("application/json")){const n=await e.json();throw new Error(n.message||`HTTP error! status: ${e.status}`)}else throw new Error(`HTTP error! status: ${e.status}`)}return e.json()}}const Zd=new EH;function SH(){const[t,e]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[s,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(null),[h,g]=b.useState(!0),[x,v]=b.useState(null);b.useEffect(()=>{y()},[]);const y=async()=>{try{g(!0),v(null);const I=(await Zd.obtenerClientes()).sort((L,M)=>M.idCliente-L.idCliente);e(I)}catch(z){console.error("Error al cargar clientes:",z),v(z.message),C(`Error al cargar clientes: ${z.message}`,"error")}finally{g(!1)}},E=async z=>{try{const I=await Zd.toggleEstadoCliente(z.idCliente);e(M=>M.map(H=>H.idCliente===z.idCliente?{...H,estado:I.estado}:H));const L=I.estado?"activado":"desactivado";C(`Cliente ${L} exitosamente`)}catch(I){console.error("Error al cambiar estado:",I),C(`Error al cambiar estado: ${I.message}`,"error")}},C=(z,I="success")=>{i({visible:!0,mensaje:z,tipo:I})},k=()=>{i({visible:!1,mensaje:"",tipo:"success"})},_=async(z,I=null)=>{if(u(z),p(I),l(!0),z==="eliminar"&&I){const L=await Zd.clienteTieneVentas(I.idCliente);p({...I,tieneVentas:L})}},N=()=>{l(!1),p(null),u(null)},O=async z=>{try{let I;c==="agregar"?(I=await Zd.crearCliente(z),e(L=>[I,...L]),C("Cliente agregado exitosamente")):c==="editar"&&(I=await Zd.actualizarCliente(f.idCliente,z),e(L=>L.map(M=>M.idCliente===f.idCliente?I:M)),C("Cliente actualizado exitosamente")),N()}catch(I){console.error("Error al guardar cliente:",I);let L=I.message;L.includes("Ya existe un cliente")||L.includes("Ya existe un usuario")?C(L,"error"):C(`Error al guardar cliente: ${L}`,"error")}},R=()=>{if(f.tieneVentas){N(),C("No se puede eliminar el cliente porque tiene ventas asociadas","error");return}u("confirmarEliminar")},D=async()=>{const z=await Zd.eliminarCliente(f.idCliente);N(),z.success?(e(I=>I.filter(L=>L.idCliente!==f.idCliente)),C("Cliente eliminado exitosamente")):C(z.message,"error")},B=t.filter(z=>{var I,L,M,F;return((I=z.nombre)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((L=z.apellido)==null?void 0:L.toLowerCase().includes(r.toLowerCase()))||((M=z.correo)==null?void 0:M.toLowerCase().includes(r.toLowerCase()))||((F=z.numeroDocumento)==null?void 0:F.includes(r))});return h?o.createElement(zl,null):x&&t.length===0?o.createElement("div",{className:"admin-wrapper"},o.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"200px"}},o.createElement("p",{style:{color:"red",marginBottom:"10px"}},"Error al cargar clientes: ",x),o.createElement("button",{className:"admin-button pink",onClick:y,style:{padding:"8px 16px"}},"Reintentar"))):o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:a.visible,mensaje:a.mensaje,tipo:a.tipo,onClose:k}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>_("agregar"),type:"button"},"+ Agregar"),o.createElement($l,{placeholder:"Buscar cliente...",value:r,onChange:n})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Clientes"),o.createElement(ps,{value:B,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},emptyMessage:"No hay clientes para mostrar"},o.createElement(Zt,{header:"N°",headerStyle:{paddingLeft:"1.5rem"},body:(z,{rowIndex:I})=>I+1,style:{width:"3rem",textAlign:"center"}}),o.createElement(Zt,{field:"numeroDocumento",header:"N° Documento",headerStyle:{paddingLeft:"2rem"}}),o.createElement(Zt,{field:"nombre",header:"Nombre",headerStyle:{paddingLeft:"3rem"}}),o.createElement(Zt,{field:"apellido",header:"Apellido",headerStyle:{paddingLeft:"3rem"}}),o.createElement(Zt,{field:"correo",header:"Correo",headerStyle:{paddingLeft:"7rem"}}),o.createElement(Zt,{header:"Estado",body:z=>o.createElement(Ro,{inputId:`switch-${z.idCliente}`,checked:!!z.estado,onChange:()=>E(z),disabled:!1})}),o.createElement(Zt,{header:"Acciones",headerStyle:{paddingLeft:"3.5rem"},body:z=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>_("visualizar",z)},"👁"),o.createElement("button",{className:"admin-button yellow",title:"Editar",onClick:()=>_("editar",z),disabled:!z.estado,style:{opacity:z.estado?1:.5,cursor:z.estado?"pointer":"not-allowed"}},"✏️"),o.createElement("button",{className:"admin-button red",title:"Eliminar",onClick:()=>_("eliminar",z),disabled:!z.estado,style:{opacity:z.estado?1:.5,cursor:z.estado?"pointer":"not-allowed"}},"🗑️"))})),(c==="agregar"||c==="editar"||c==="visualizar")&&o.createElement(xH,{visible:s,onClose:N,modalTipo:c,clienteSeleccionado:f,clientes:t,onSave:O,showNotification:C}),c==="eliminar"&&f&&o.createElement(Wn,{visible:s,onClose:N},o.createElement("h2",{className:"modal-title"},"Eliminar Cliente"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Está seguro que desea eliminar el cliente ",o.createElement("strong",null,f.nombre," ",f.apellido),"?"),f.tieneVentas&&o.createElement("p",{style:{color:"#e53935",fontSize:"14px",marginTop:"10px"}},o.createElement("strong",null,"⚠️ Este cliente tiene ventas asociadas y no puede ser eliminado."))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:N},"Cancelar"),!f.tieneVentas&&o.createElement("button",{className:"modal-btn save-btn",onClick:R},"Eliminar"))),c==="confirmarEliminar"&&f&&o.createElement(Wn,{visible:s,onClose:N},o.createElement("h2",{className:"modal-title"}," Eliminar Cliente"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Está seguro que desea eliminar el cliente ",o.createElement("strong",null,f.nombre," ",f.apellido),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:N},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:D},"Eliminar"))))}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function CH(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NH(t){var e=CH(t,"string");return Ph(e)=="symbol"?e:e+""}function c5(t,e,r){return(e=NH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var PH={value:"p-tag-value",icon:"p-tag-icon",root:function(e){var r=e.props;return ur("p-tag p-component",c5(c5({},"p-tag-".concat(r.severity),r.severity!==null),"p-tag-rounded",r.rounded))}},kH=`
@layer primereact {
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }
    
    .p-tag-icon,
    .p-tag-value,
    .p-tag-icon.pi {
        line-height: 1.5;
    }
    
    .p-tag.p-tag-rounded {
        border-radius: 10rem;
    }
}
`,dv=yn.extend({defaultProps:{__TYPE:"Tag",value:null,severity:null,rounded:!1,icon:null,style:null,className:null,children:void 0},css:{classes:PH,styles:kH}});function b4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(r),!0).forEach(function(n){c5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Rv=b.forwardRef(function(t,e){var r=$n(),n=b.useContext(ra),a=dv.getProps(t,n),i=dv.setMetaData({props:a}),s=i.ptm,l=i.cx,c=i.isUnstyled;Fl(dv.css.styles,c,{name:"tag"});var u=b.useRef(null),f=r({className:l("icon")},s("icon")),p=ga.getJSXIcon(a.icon,AH({},f),{props:a});b.useImperativeHandle(e,function(){return{props:a,getElement:function(){return u.current}}});var h=r({ref:u,className:ur(a.className,l("root")),style:a.style},dv.getOtherProps(a),s("root")),g=r({className:l("value")},s("value"));return b.createElement("span",h,p,b.createElement("span",g,a.value),b.createElement("span",null,a.children))});Rv.displayName="Tag";function _H({ventasFiltradas:t,abrirModal:e,generarPDFVenta:r,setVentaSeleccionada:n,setMostrarModalAbonos:a,manejarCambioEstado:i,notification:s,hideNotification:l,getRowClassName:c,filtroTipoVenta:u,setFiltroTipoVenta:f,verDetalleVenta:p,estadosVenta:h,setFiltro:g,setMostrarAgregarVenta:x}){const v=k=>parseFloat(k||0).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),y=k=>{switch(k){case"Activa":return"estado-activa";case"Anulada":return"estado-anulada";case"En espera":case"Pendiente":return"estado-espera";case"En producción":case"En Proceso":return"estado-produccion";case"Por entregar":return"estado-entregar";case"Finalizado":case"Completada":return"estado-finalizado";default:return""}},E=k=>{var I,L,M,F;const _=(I=h.find(H=>H.nombre_estado==="Anulada"))==null?void 0:I.idestadoventa,N=(L=h.find(H=>H.nombre_estado==="Activa"))==null?void 0:L.idestadoventa,O=(M=h.find(H=>H.nombre_estado==="Finalizado"))==null?void 0:M.idestadoventa,R=(F=h.find(H=>H.nombre_estado==="Completada"))==null?void 0:F.idestadoventa,D=k.idEstadoVenta===_||k.idEstadoVenta===O||k.idEstadoVenta===R||k.tipoVenta==="directa"&&k.idEstadoVenta===N,B=h.find(H=>H.idestadoventa===k.idEstadoVenta),z=(B==null?void 0:B.nombre_estado)||k.nombreEstado;if(D)return o.createElement(Rv,{value:z,className:`estado-tag ${y(z)}`});{const H=h.filter(re=>{const te=re.nombre_estado;return te!=="Activa"&&te!=="Anulada"}),J=re=>re?o.createElement(Rv,{value:re.nombre_estado,className:`estado-tag ${y(re.nombre_estado)}`}):null,ee=re=>o.createElement(Rv,{value:re.nombre_estado,className:`estado-tag ${y(re.nombre_estado)}`});return o.createElement(wh,{value:B,options:H,onChange:re=>i(k.idVenta,re.value.idestadoventa),optionLabel:"nombre_estado",valueTemplate:J,itemTemplate:ee,className:"estado-dropdown",panelClassName:"estado-dropdown-panel"})}},C=k=>{var R,D;const _=(R=h.find(B=>B.nombre_estado==="Anulada"))==null?void 0:R.idestadoventa,N=(D=h.find(B=>B.nombre_estado==="Activa"))==null?void 0:D.idestadoventa,O=k.idEstadoVenta!==_&&k.idEstadoVenta!==N;return o.createElement("div",{className:"action-buttons-container"},o.createElement("button",{className:"admin-button gray",title:"Ver Detalle",onClick:()=>p(k)},"🔍"),o.createElement("button",{className:"admin-button red",title:"Anular",onClick:()=>e("anular",k),disabled:k.idEstadoVenta===_},"🛑"),o.createElement("button",{className:"admin-button blue",title:"Descargar PDF",onClick:()=>r(k)},"⬇️"),k.tipoVenta==="pedido"&&O&&o.createElement("button",{className:"admin-button green",title:"Abonos",onClick:()=>a(k)},"💰"))};return o.createElement(o.Fragment,null,o.createElement(ui,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:l}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>x(!0),type:"button"},"+ Agregar"),o.createElement($l,{placeholder:"Buscar venta...",onChange:g})),o.createElement("div",{className:"ventas-header-container"},o.createElement("h2",{className:"admin-section-title"},"Gestión de Ventas"),o.createElement("div",{className:"filter-buttons-container"},o.createElement("button",{className:`filter-tab ${u==="directa"?"filter-tab-active":""}`,onClick:()=>f("directa")},"Directas"),o.createElement("button",{className:`filter-tab ${u==="pedido"?"filter-tab-active":""}`,onClick:()=>f("pedido")},"Pedidos"),o.createElement("button",{className:`filter-tab ${u==="anulado"?"filter-tab-active":""}`,onClick:()=>f("anulado")},"Anuladas"))),o.createElement(ps,{value:t,className:"admin-table",dataKey:"idVenta",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} ventas",emptyMessage:"No se encontraron ventas.",rowClassName:c},o.createElement(Zt,{field:"idVenta",header:"N°"}),o.createElement(Zt,{field:"nombreCliente",header:"Cliente"}),o.createElement(Zt,{field:"nombreSede",header:"Sede"}),o.createElement(Zt,{field:"metodoPago",header:"Método de Pago"}),o.createElement(Zt,{field:"tipoVenta",header:"Tipo de Venta"}),o.createElement(Zt,{field:"nombreEstado",header:"Estado",body:E,style:{minWidth:"110px",maxWidth:"130px"}}),o.createElement(Zt,{field:"total",header:"Total",body:k=>v(k.total)}),o.createElement(Zt,{header:"Acciones",body:C})),o.createElement("style",{jsx:!0},`
                .estado-dropdown {
                    border: none !important;
                    box-shadow: none !important;
                    background: transparent !important;
                    width: 100% !important;
                    max-width: 140px !important;
                    transition: all 0.2s ease-in-out;
                    border-radius: 6px !important;
                }
                
                .estado-dropdown .p-dropdown-trigger {
                    display: none !important;
                }
                
                .estado-dropdown .p-dropdown-label {
                    border: none !important;
                    padding: 0 !important;
                    background: transparent !important;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                }
                
                .estado-dropdown:hover {
                    background: #e9ecef !important;
                    cursor: pointer;
                }

                .estado-dropdown-panel {
                    border: 1px solid #dee2e6 !important;
                    border-radius: 6px !important;
                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15) !important;
                    background-color: transparent !important;
                    max-height: none !important;
                }
                
                .estado-dropdown-panel .p-dropdown-items .p-dropdown-item {
                    padding: 0.6rem 0.8rem !important;
                    margin: 0.2rem 0 !important;
                    border-radius: 4px !important;
                }
                
                .estado-dropdown-panel .p-dropdown-items .p-dropdown-item:hover {
                    background-color: #f1f3f5 !important;
                }
                
                .estado-tag {
                    font-size: 0.75rem !important;
                    font-weight: 600 !important;
                    padding: 0.35rem 0.8rem !important;
                    border-radius: 10px !important;
                    min-width: 90px !important;
                    text-align: center !important;
                    display: inline-block !important;
                    white-space: nowrap !important;
                    overflow: hidden !important;
                    text-overflow: ellipsis !important;
                    background-color: #f1f3f5 !important;
                    color: black !important;
                }
                
                .estado-activa {
                    background-color: #10b981 !important;
                    color: white !important;
                }
                
                .estado-anulada {
                    background-color: #ef4444 !important;
                    color: white !important;
                }
                
                .estado-espera {
                    background-color: #f59e0b !important;
                    color: white !important;
                }
                
                .estado-produccion {
                    background-color: #3b82f6 !important;
                    color: white !important;
                }
                
                .estado-entregar {
                    background-color: #ec4899 !important;
                    color: white !important;
                }
                
                .estado-finalizado,
                .estado-completada {
                    background-color: #8b5cf6 !important;
                    color: white !important;
                }
                
                .admin-table .row-anulado {
                    background-color: #fdf2f8 !important;
                }
                
                .admin-table .row-anulado:hover {
                    background-color: #fce7f3 !important;
                }
            `))}const om="https://deliciasoft-backend.onrender.com/api/inventariosede";class OH{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r,console.error("Error del servidor:",n)}catch{console.error("No se pudo parsear el error")}throw new Error(r)}return e.json()}async obtenerInventarioPorSede(e){try{console.log(`📦 Obteniendo inventario de sede ${e}...`);const r=await fetch(`${om}/sede/${e}`,{method:"GET",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log("Inventario obtenido:",n),n}catch(r){throw console.error("Error al obtener inventario por sede:",r),r}}async obtenerInventarioProductoSede(e,r){try{console.log(`📦 Consultando inventario: Producto ${e}, Sede ${r}`);const n=await fetch(`${om}?idproductogeneral=${e}&idsede=${r}`,{method:"GET",headers:this.baseHeaders}),a=await this.handleResponse(n);return console.log("Cantidad disponible:",a.cantidad),a}catch(n){throw console.error("Error al obtener inventario del producto:",n),n}}async obtenerInventarioGeneral(){try{console.log("📦 Obteniendo inventario general...");const e=await fetch(`${om}/general`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log("Inventario general obtenido:",r.length,"registros"),r}catch(e){throw console.error("Error al obtener inventario general:",e),e}}async obtenerInventarioProducto(e){try{console.log(`📦 Obteniendo inventario del producto ${e}...`);const r=await fetch(`${om}/producto/${e}`,{method:"GET",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log("Inventario por sedes:",n),n}catch(r){throw console.error("Error al obtener inventario del producto:",r),r}}async actualizarInventario(e,r,n){try{console.log(`📝 Actualizando inventario: Producto ${e}, Sede ${r}, Cantidad ${n}`);const a=await fetch(`${om}`,{method:"POST",headers:this.baseHeaders,body:JSON.stringify({idproductogeneral:parseInt(e),idsede:parseInt(r),cantidad:parseFloat(n)})}),i=await this.handleResponse(a);return console.log("Inventario actualizado:",i),i}catch(a){throw console.error("Error al actualizar inventario:",a),a}}async verificarDisponibilidad(e,r){try{console.log("🔍 Verificando disponibilidad de productos...");const a=(await Promise.all(e.map(async i=>{var u;const s=await this.obtenerInventarioProductoSede(i.idproductogeneral||i.id,r),l=parseFloat(s.cantidad||0),c=parseFloat(i.cantidad||1);return{id:i.idproductogeneral||i.id,nombre:((u=s.productogeneral)==null?void 0:u.nombreproducto)||i.nombre,disponible:l,solicitado:c,suficiente:l>=c}}))).filter(i=>!i.suficiente);return a.length>0?(console.warn("⚠️ Productos con inventario insuficiente:",a),{valido:!1,productosInsuficientes:a,mensaje:`Inventario insuficiente para: ${a.map(i=>`${i.nombre} (disponible: ${i.disponible}, solicitado: ${i.solicitado})`).join(", ")}`}):(console.log("✅ Todos los productos tienen inventario suficiente"),{valido:!0,productosInsuficientes:[],mensaje:"Inventario verificado correctamente"})}catch(n){throw console.error("Error al verificar disponibilidad:",n),n}}formatearInventarioParaUI(e){return Array.isArray(e)?e.map(r=>{var n,a,i,s,l,c;return{idproductogeneral:r.idproductogeneral,nombreproducto:((n=r.productogeneral)==null?void 0:n.nombreproducto)||"Sin nombre",cantidad:parseFloat(r.cantidad||0),sede:((a=r.sede)==null?void 0:a.nombre)||"Sin sede",idsede:r.idsede,precio:((i=r.productogeneral)==null?void 0:i.precioproducto)||0,urlimagen:((l=(s=r.productogeneral)==null?void 0:s.imagenes)==null?void 0:l.urlimg)||null,estado:((c=r.productogeneral)==null?void 0:c.estado)||!1}}):[]}async testConnection(){try{console.log("🔌 Probando conexión con API de inventario...");const e=await fetch(`${om}/general`,{method:"GET",headers:this.baseHeaders});return{success:e.ok,status:e.status,message:e.ok?"Conexión exitosa":`Error HTTP ${e.status}`}}catch(e){return console.error("Error en test de conexión:",e),{success:!1,error:e.message,message:"No se pudo conectar con el servidor de inventario"}}}}const IH=new OH,TH=({producto:t,selected:e,onToggle:r,disponible:n,esPedido:a})=>{const i=!a&&n===0;return o.createElement("div",{className:`producto-modal-card ${e?"producto-modal-card-selected":""} ${i?"producto-modal-card-disabled":""}`,onClick:()=>!i&&r(),style:{opacity:i?.5:1,cursor:i?"not-allowed":"pointer"}},o.createElement("img",{src:t.urlimagen||"https://via.placeholder.com/100x100?text=Sin+Imagen",alt:t.nombre,onError:s=>{s.target.src="https://via.placeholder.com/100x100?text=Sin+Imagen"}}),o.createElement("h4",null,t.nombre),o.createElement("p",null,"$",t.precio.toLocaleString("es-CO")," / Unidad"),!a&&o.createElement("div",{style:{marginTop:"8px",padding:"4px 8px",borderRadius:"6px",fontSize:"13px",fontWeight:"bold",backgroundColor:n===0?"#ffebee":n<5?"#fff3e0":"#e8f5e9",color:n===0?"#c62828":n<5?"#ef6c00":"#2e7d32"}},n===0?"Sin stock":`${n} disponibles`),a&&o.createElement("div",{style:{marginTop:"8px",padding:"4px 8px",borderRadius:"6px",fontSize:"13px",fontWeight:"bold",backgroundColor:"#e3f2fd",color:"#1976d2"}},"Para producción"))},RH=({onClose:t,onAgregar:e,sedeSeleccionada:r,tipoVenta:n,insumosSeleccionados:a=[]})=>{const[i,s]=b.useState([]),[l,c]=b.useState(""),[u,f]=b.useState("Todos"),[p,h]=b.useState(!1),[g,x]=b.useState([]),[v,y]=b.useState(["Todos"]),[E,C]=b.useState(!0),[k,_]=b.useState(""),[N,O]=b.useState([]),R=n==="pedido";b.useEffect(()=>{D()},[r,n]);const D=async()=>{try{C(!0),_(""),console.log("Cargando productos para:",{sede:r,tipo:n});const ee=(await Ms.obtenerProductos()).filter(te=>te.estado===!0);if(!R&&r){const te=r==="San Pablo"?1:2;console.log("Obteniendo inventario de sede ID:",te);const K=await IH.obtenerInventarioPorSede(te);console.log("Inventario obtenido:",K);const U={};K.inventarios&&Array.isArray(K.inventarios)&&K.inventarios.forEach(Y=>{U[Y.producto.id]=parseFloat(Y.cantidad)}),O(U);const j=ee.map(Y=>({...Y,disponible:U[Y.idproductogeneral||Y.id]||0}));x(j)}else{const te=ee.map(K=>({...K,disponible:999}));x(te)}const re=[...new Set(ee.map(te=>te.categoria).filter(te=>te&&te!=="Sin categoría"))];y(["Todos",...re])}catch(J){console.error("Error al cargar productos:",J),_("Error al cargar productos desde la API"),x([])}finally{C(!1)}},B=J=>R?999:N[J.idproductogeneral||J.id]||0,z=g.filter(J=>J.nombre.toLowerCase().includes(l.toLowerCase())&&(u==="Todos"||J.categoria===u)),I=R?z:z.filter(J=>B(J)>0),L=R?[]:z.filter(J=>B(J)===0),M=[...I,...L],F=J=>{const ee=B(J);!R&&ee===0||s(re=>re.some(te=>te.id===J.id)?re.filter(te=>te.id!==J.id):[...re,{...J,cantidad:1,disponible:ee}])},H=()=>{if(i.length===0){alert("Por favor selecciona al menos un producto");return}e(i),t()};return o.createElement("div",{className:"producto-modal-overlay"},o.createElement("div",{className:"producto-modal-container"},o.createElement("style",null,`
          .producto-modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
          }

          .producto-modal-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            animation: fadeIn 0.3s ease-in-out;
          }

          .producto-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .producto-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384;
          }

          .producto-modal-search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
          }

          .producto-modal-search-container input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1;
            font-size: 16px;
          }

          .producto-modal-filter-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
          }

          .producto-modal-filter-btn:hover {
            background-color: #d63384;
          }

          .producto-modal-categories-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #ffe4ec;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 150px;
            max-height: 300px;
            overflow-y: auto;
          }

          .producto-modal-category-btn {
            padding: 8px 15px;
            border: 1px solid #ff69b4;
            border-radius: 8px;
            background-color: #ffe4ec;
            color: #d63384;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s, color 0.2s;
            text-align: left;
          }

          .producto-modal-category-btn.selected {
            background-color: #ff69b4;
            color: white;
          }

          .producto-modal-category-btn:hover:not(.selected) {
            background-color: #ffb6c1;
          }

          .inventario-info {
            background: #e3f2fd;
            padding: 10px 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
          }

          .inventario-info-title {
            font-weight: bold;
            color: #1976d2;
          }

          .producto-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin: 20px 0;
            min-height: 200px;
          }

          .producto-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
          }

          .producto-modal-card:hover:not(.producto-modal-card-disabled) {
            transform: translateY(-4px);
            border-color: #ff69b4;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
          }

          .producto-modal-card-selected {
            border-color: #d63384;
            background: #ffe4ec;
          }

          .producto-modal-card-disabled {
            background: #f5f5f5;
            cursor: not-allowed;
          }

          .producto-modal-card img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 10px;
          }

          .producto-modal-card h4 {
            font-size: 15px;
            color: #d63384;
            margin: 0 0 8px 0;
            min-height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .producto-modal-card p {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin: 4px 0;
          }

          .producto-modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
          }

          .selected-count {
            font-size: 14px;
            color: #666;
            font-weight: bold;
          }

          .producto-modal-actions {
            display: flex;
            gap: 10px;
          }

          .producto-modal-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.2s;
          }

          .producto-modal-btn-cancel {
            background-color: #f8d7da;
            color: #721c24;
          }

          .producto-modal-btn-cancel:hover {
            background-color: #f1b0b7;
          }

          .producto-modal-btn-add {
            background-color: #ff69b4;
            color: white;
          }

          .producto-modal-btn-add:hover:not(:disabled) {
            background-color: #d63384;
          }

          .producto-modal-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
          }

          .loading-container, .error-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 250px;
            flex-direction: column;
            gap: 15px;
          }

          .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ff69b4;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
          }

          .error-container {
            color: #d63384;
          }

          .error-container button {
            background-color: #ff69b4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
          }

          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `),o.createElement("div",{className:"producto-modal-header"},o.createElement("h2",null,"Seleccionar Productos"),o.createElement("button",{onClick:t,className:"producto-modal-close-btn"},"×")),!R&&r&&o.createElement("div",{className:"inventario-info"},o.createElement("span",{className:"inventario-info-title"},"📦 Inventario de ",r),o.createElement("span",null,I.length," productos disponibles")),R&&o.createElement("div",{className:"inventario-info",style:{backgroundColor:"#fff3e0",color:"#e65100"}},o.createElement("span",{className:"inventario-info-title"},"🎂 Modo Pedido - Todos los productos disponibles"),o.createElement("span",null,"Los productos irán a producción")),o.createElement("div",{className:"producto-modal-search-container"},o.createElement("input",{type:"text",placeholder:"Buscar producto...",value:l,onChange:J=>c(J.target.value),disabled:E}),o.createElement("button",{className:"producto-modal-filter-btn",onClick:()=>h(!p),disabled:E},"Categorías ",p?"▲":"▼"),p&&o.createElement("div",{className:"producto-modal-categories-dropdown"},v.map(J=>o.createElement("button",{key:J,className:`producto-modal-category-btn ${u===J?"selected":""}`,onClick:()=>{f(J),h(!1)}},J)))),o.createElement("div",{className:"producto-modal-grid"},E?o.createElement("div",{className:"loading-container",style:{gridColumn:"1 / -1"}},o.createElement("div",{className:"loading-spinner"}),o.createElement("p",null,"Cargando productos...")):k&&g.length===0?o.createElement("div",{className:"error-container",style:{gridColumn:"1 / -1"}},o.createElement("p",null,k),o.createElement("button",{onClick:D},"Reintentar")):M.length===0?o.createElement("div",{className:"error-container",style:{gridColumn:"1 / -1"}},o.createElement("p",null,"No se encontraron productos"),l&&o.createElement("button",{onClick:()=>c("")},"Limpiar búsqueda")):M.map(J=>o.createElement(TH,{key:J.id||J.idproductogeneral,producto:J,selected:i.some(ee=>ee.id===J.id),onToggle:()=>F(J),disponible:B(J),esPedido:R}))),o.createElement("div",{className:"producto-modal-footer"},o.createElement("div",{className:"selected-count"},i.length>0?`${i.length} producto${i.length>1?"s":""} seleccionado${i.length>1?"s":""}`:"Ningún producto seleccionado"),o.createElement("div",{className:"producto-modal-actions"},o.createElement("button",{className:"producto-modal-btn producto-modal-btn-cancel",onClick:t},"Cancelar"),o.createElement("button",{className:"producto-modal-btn producto-modal-btn-add",onClick:H,disabled:i.length===0||E},"Agregar (",i.length,")")))))},LH=({adicion:t,selected:e,onToggle:r})=>o.createElement("div",{className:`adicion-modal-card ${e?"adicion-modal-card-selected":""}`,onClick:r},o.createElement("img",{src:t.imagen,alt:t.nombre}),o.createElement("h4",null,t.nombre),o.createElement("p",null,`$${t.precio.toFixed(2)} / ${t.unidad}`)),jH=({onClose:t,onAgregar:e})=>{const[r,n]=b.useState([]),[a,i]=b.useState(""),[s,l]=b.useState("Todos"),[c,u]=b.useState(!1),f=[{id:307,nombre:"Mini malvaviscos",unidad:"g",precio:520,imagen:"https://media.istockphoto.com/id/628530120/es/foto/fondo-de-mini-malvaviscos-rosas-y-blancos.jpg?s=612x612&w=0&k=20&c=w-ZmM7gE9Jegs9uBnit5FMiU9HEHptX-8LYMhm3glJg=",category:"Malvaviscos"},{id:308,nombre:"Chocolatina rallada",unidad:"g",precio:600,imagen:"https://thumbs.dreamstime.com/b/piel-de-chocolate-rallado-en-blanco-pila-bloques-sobre-fondo-151707432.jpg",category:"Chocolates"},{id:309,nombre:"Frambuesas frescas",unidad:"unidad",precio:750,imagen:"https://editorial.aristeguinoticias.com/wp-content/uploads/2024/03/enfermedades-frambuesa-232024.jpg",category:"Frutas"},{id:310,nombre:"Rodajas de fresa",unidad:"unidad",precio:625,imagen:"https://st3.depositphotos.com/15352324/33625/i/450/depositphotos_336259748-stock-photo-strawberry-slices-fresh-berries-macro.jpg",category:"Frutas"},{id:311,nombre:"Galletas oreo",unidad:"g",precio:395,imagen:"https://www.pediatriamildias.com/wp-content/uploads/2022/09/Blog53.jpg",category:"Galletas"}],p=["Todos","Malvaviscos","Chocolates","Frutas","Galletas"],h=f.filter(v=>v.nombre.toLowerCase().includes(a.toLowerCase())&&(s==="Todos"||v.category===s)),g=v=>{n(y=>y.some(E=>E.id===v.id)?y.filter(E=>E.id!==v.id):[...y,{...v,cantidad:1}])},x=()=>{e(r),t()};return o.createElement("div",{className:"adicion-modal-overlay"},o.createElement("div",{className:"adicion-modal-container"},o.createElement("style",null,`
          .adicion-modal-overlay {
            background-color: rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
          }

          .adicion-modal-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
          }

          .adicion-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .adicion-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384;
          }

          .adicion-modal-search-container { /* New class for search and filter */
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
          }

          .adicion-modal-search-container input {
            flex-grow: 1; /* Allows input to take available space */
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1;
            font-size: 16px;
          }

          .adicion-modal-filter-btn { /* New button style */
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
          }

          .adicion-modal-filter-btn:hover {
            background-color: #d63384;
          }

          .adicion-modal-categories-dropdown { /* New dropdown style */
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #ffe4ec;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 150px;
          }

          .adicion-modal-category-btn {
            padding: 8px 15px;
            border: 1px solid #ff69b4;
            border-radius: 8px;
            background-color: #ffe4ec;
            color: #d63384;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s, color 0.2s;
            text-align: left;
          }

          .adicion-modal-category-btn.selected {
            background-color: #ff69b4;
            color: white;
          }

          .adicion-modal-category-btn:hover:not(.selected) {
            background-color: #ffb6c1;
          }

          .adicion-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
          }

          .adicion-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
          }

          .adicion-modal-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4;
          }

          .adicion-modal-card-selected {
            border-color: #d63384;
            background: #ffe4ec;
          }

          .adicion-modal-card img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 8px;
          }

          .adicion-modal-card h4 {
            font-size: 16px;
            color: #d63384;
            margin: 0;
          }

          .adicion-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
          }

          .adicion-modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .adicion-modal-btn-cancel {
            background-color: #f8d7da;
            color: #721c24;
          }

          .adicion-modal-btn-add {
            background-color: #ff69b4;
            color: white;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
          }
        `),o.createElement("div",{className:"adicion-modal-header"},o.createElement("h2",null,"Seleccionar Adiciones"),o.createElement("button",{onClick:t,className:"adicion-modal-close-btn"},"×")),o.createElement("div",{className:"adicion-modal-search-container"}," ",o.createElement("input",{type:"text",placeholder:"Buscar adición...",value:a,onChange:v=>i(v.target.value)}),o.createElement("button",{className:"adicion-modal-filter-btn",onClick:()=>u(!c)},"Categorías",c?" ▲":" ▼"),c&&o.createElement("div",{className:"adicion-modal-categories-dropdown"},p.map(v=>o.createElement("button",{key:v,className:`adicion-modal-category-btn ${s===v?"selected":""}`,onClick:()=>{l(v),u(!1)}},v)))),o.createElement("div",{className:"adicion-modal-grid"},h.map(v=>o.createElement(LH,{key:v.id,adicion:v,selected:r.some(y=>y.id===v.id),onToggle:()=>g(v)}))),o.createElement("div",{className:"adicion-modal-footer"},o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-cancel",onClick:t},"Cancelar"),o.createElement("button",{className:"adicion-modal-btn adicion-modal-btn-add",onClick:x},"Agregar (",r.length,")"))))},DH=({salsa:t,selected:e,onToggle:r})=>o.createElement("div",{className:`salsa-modal-card ${e?"salsa-modal-card-selected":""}`,onClick:r},o.createElement("img",{src:t.imagen,alt:t.nombre}),o.createElement("h4",null,t.nombre),o.createElement("p",null,`${t.unidad} - $${t.precio.toFixed(2)}`)),MH=({onClose:t,onAgregar:e})=>{const[r,n]=b.useState([]),[a,i]=b.useState(""),[s,l]=b.useState("Todos"),[c,u]=b.useState(!1),f=[{id:601,nombre:"Salsa de chocolate",unidad:"ml",precio:0,imagen:"https://i.ytimg.com/vi/GeEQmg3S0hE/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLC91Ih-VqEsWH2Pi5R1qAjAaSytaA",category:"Chocolate"},{id:602,nombre:"Salsa de fresa",unidad:"ml",precio:0,imagen:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTVT8vaCx4lA7Qf9XFLhQQZSxBmGnyZXs3shQ&s",category:"Fresa"},{id:603,nombre:"Caramelo líquido",unidad:"ml",precio:0,imagen:"https://www.infobae.com/new-resizer/YONmsTYkM3W9btYcQ0Nym1YilLk=/arc-anglerfish-arc2-prod-infobae/public/VMZ5SC5UCJDZVHXFQBV3RIXCEU.jpg",category:"Caramelo"}],p=["Todos","Chocolate","Fresa","Caramelo"],h=f.filter(v=>v.nombre.toLowerCase().includes(a.toLowerCase())&&(s==="Todos"||v.category===s)),g=v=>{n(y=>y.some(E=>E.id===v.id)?y.filter(E=>E.id!==v.id):[...y,{...v,cantidad:1}])},x=()=>{e(r),t()};return o.createElement("div",{className:"salsa-modal-overlay"},o.createElement("div",{className:"salsa-modal-container"},o.createElement("style",null,`
          .salsa-modal-overlay {
            background-color: rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
          }

          .salsa-modal-container {
            background: #fff0f5; /* Adiciones background */
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
          }

          .salsa-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .salsa-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384; /* Adiciones close button color */
          }

          .salsa-modal-search-container { /* New class for search and filter */
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
          }

          .salsa-modal-search-container input {
            flex-grow: 1; /* Allows input to take available space */
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1; /* Adiciones border color */
            font-size: 16px;
          }

          .salsa-modal-filter-btn { /* New button style */
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
          }

          .salsa-modal-filter-btn:hover {
            background-color: #d63384;
          }

          .salsa-modal-categories-dropdown { /* New dropdown style */
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #ffe4ec;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 150px;
          }

          .salsa-modal-category-btn {
            padding: 8px 15px;
            border: 1px solid #ff69b4;
            border-radius: 8px;
            background-color: #ffe4ec;
            color: #d63384;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s, color 0.2s;
            text-align: left;
          }

          .salsa-modal-category-btn.selected {
            background-color: #ff69b4;
            color: white;
          }

          .salsa-modal-category-btn:hover:not(.selected) {
            background-color: #ffb6c1;
          }

          .salsa-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
          }

          .salsa-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
          }

          .salsa-modal-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4; /* Adiciones hover border */
          }

          .salsa-modal-card-selected {
            border-color: #d63384; /* Adiciones selected border */
            background: #ffe4ec; /* Adiciones selected background */
          }

          .salsa-modal-card img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 8px;
          }

          .salsa-modal-card h4 {
            font-size: 16px;
            color: #d63384; /* Adiciones h4 color */
            margin: 0;
          }

          .salsa-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
          }

          .salsa-modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .salsa-modal-btn-cancel {
            background-color: #f8d7da; /* Adiciones cancel button background */
            color: #721c24; /* Adiciones cancel button color */
          }

          .salsa-modal-btn-add {
            background-color: #ff69b4; /* Adiciones add button background */
            color: white;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
          }
        `),o.createElement("div",{className:"salsa-modal-header"},o.createElement("h2",null,"Seleccionar Salsas"),o.createElement("button",{onClick:t,className:"salsa-modal-close-btn"},"×")),o.createElement("div",{className:"salsa-modal-search-container"}," ",o.createElement("input",{type:"text",placeholder:"Buscar salsa...",value:a,onChange:v=>i(v.target.value)}),o.createElement("button",{className:"salsa-modal-filter-btn",onClick:()=>u(!c)},"Categorías",c?" ▲":" ▼"),c&&o.createElement("div",{className:"salsa-modal-categories-dropdown"},p.map(v=>o.createElement("button",{key:v,className:`salsa-modal-category-btn ${s===v?"selected":""}`,onClick:()=>{l(v),u(!1)}},v)))),o.createElement("div",{className:"salsa-modal-grid"},h.map(v=>o.createElement(DH,{key:v.id,salsa:v,selected:r.some(y=>y.id===v.id),onToggle:()=>g(v)}))),o.createElement("div",{className:"salsa-modal-footer"},o.createElement("button",{className:"salsa-modal-btn salsa-modal-btn-cancel",onClick:t},"Cancelar"),o.createElement("button",{className:"salsa-modal-btn salsa-modal-btn-add",onClick:x},"Agregar (",r.length,")"))))},FH=({relleno:t,selected:e,onToggle:r})=>o.createElement("div",{className:`relleno-modal-card ${e?"relleno-modal-card-selected":""}`,onClick:r},o.createElement("img",{src:t.imagen,alt:t.nombre}),o.createElement("h4",null,t.nombre),o.createElement("p",null,`${t.unidad} - $${t.precio.toFixed(2)}`)),$H=({onClose:t,onAgregar:e})=>{const[r,n]=b.useState([]),[a,i]=b.useState(""),[s,l]=b.useState("Todos"),[c,u]=b.useState(!1),f=[{id:501,nombre:"Crema pastelera",unidad:"g",precio:600,imagen:"https://cdn.pixabay.com/photo/2022/05/27/09/22/pastry-cream-7225199_1280.jpg",category:"Cremas"},{id:502,nombre:"Dulce de leche",unidad:"g",precio:550,imagen:"https://cdn.pixabay.com/photo/2021/11/10/18/10/dulce-de-leche-6783187_1280.jpg",category:"Dulces"},{id:503,nombre:"Nutella",unidad:"g",precio:800,imagen:"https://cdn.pixabay.com/photo/2017/03/19/13/30/nutella-2154376_1280.jpg",category:"Dulces"},{id:504,nombre:"Arequipe",unidad:"g",precio:525,imagen:"https://cdn.pixabay.com/photo/2021/03/22/04/44/dulce-de-leche-6112026_1280.jpg",category:"Dulces"},{id:505,nombre:"Mermelada de fresa",unidad:"g",precio:450,imagen:"https://cdn.pixabay.com/photo/2017/01/20/00/30/strawberry-jam-1990177_1280.jpg",category:"Mermeladas"}],p=["Todos","Cremas","Dulces","Mermeladas"],h=f.filter(v=>v.nombre.toLowerCase().includes(a.toLowerCase())&&(s==="Todos"||v.category===s)),g=v=>{n(y=>y.some(E=>E.id===v.id)?y.filter(E=>E.id!==v.id):[...y,{...v,cantidad:1}])},x=()=>{e(r),t()};return o.createElement("div",{className:"relleno-modal-overlay"},o.createElement("div",{className:"relleno-modal-container"},o.createElement("style",null,`
          .relleno-modal-overlay {
            background-color: rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
          }

          .relleno-modal-container {
            background: #fff0f5; /* Adiciones background */
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
          }

          .relleno-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .relleno-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384; /* Adiciones close button color */
          }

          .relleno-modal-search-container { /* New class for search and filter */
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
          }

          .relleno-modal-search-container input {
            flex-grow: 1; /* Allows input to take available space */
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1; /* Adiciones border color */
            font-size: 16px;
          }

          .relleno-modal-filter-btn { /* New button style */
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
          }

          .relleno-modal-filter-btn:hover {
            background-color: #d63384;
          }

          .relleno-modal-categories-dropdown { /* New dropdown style */
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #ffe4ec;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 150px;
          }

          .relleno-modal-category-btn {
            padding: 8px 15px;
            border: 1px solid #ff69b4;
            border-radius: 8px;
            background-color: #ffe4ec;
            color: #d63384;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s, color 0.2s;
            text-align: left;
          }

          .relleno-modal-category-btn.selected {
            background-color: #ff69b4;
            color: white;
          }

          .relleno-modal-category-btn:hover:not(.selected) {
            background-color: #ffb6c1;
          }

          .relleno-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
          }

          .relleno-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
          }

          .relleno-modal-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4; /* Adiciones hover border */
          }

          .relleno-modal-card-selected {
            border-color: #d63384; /* Adiciones selected border */
            background: #ffe4ec; /* Adiciones selected background */
          }

          .relleno-modal-card img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 8px;
          }

          .relleno-modal-card h4 {
            font-size: 16px;
            color: #d63384; /* Adiciones h4 color */
            margin: 0;
          }

          .relleno-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
          }

          .relleno-modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .relleno-modal-btn-cancel {
            background-color: #f8d7da; /* Adiciones cancel button background */
            color: #721c24; /* Adiciones cancel button color */
          }

          .relleno-modal-btn-add {
            background-color: #ff69b4; /* Adiciones add button background */
            color: white;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
          }
        `),o.createElement("div",{className:"relleno-modal-header"},o.createElement("h2",null,"Seleccionar Rellenos"),o.createElement("button",{onClick:t,className:"relleno-modal-close-btn"},"×")),o.createElement("div",{className:"relleno-modal-search-container"}," ",o.createElement("input",{type:"text",placeholder:"Buscar relleno...",value:a,onChange:v=>i(v.target.value)}),o.createElement("button",{className:"relleno-modal-filter-btn",onClick:()=>u(!c)},"Categorías",c?" ▲":" ▼"),c&&o.createElement("div",{className:"relleno-modal-categories-dropdown"},p.map(v=>o.createElement("button",{key:v,className:`relleno-modal-category-btn ${s===v?"selected":""}`,onClick:()=>{l(v),u(!1)}},v)))),o.createElement("div",{className:"relleno-modal-grid"},h.map(v=>o.createElement(FH,{key:v.id,relleno:v,selected:r.some(y=>y.id===v.id),onToggle:()=>g(v)}))),o.createElement("div",{className:"relleno-modal-footer"},o.createElement("button",{className:"relleno-modal-btn relleno-modal-btn-cancel",onClick:t},"Cancelar"),o.createElement("button",{className:"relleno-modal-btn relleno-modal-btn-add",onClick:x},"Agregar (",r.length,")"))))};function zH({ventaData:t,handleChange:e,erroresValidacion:r,insumosSeleccionados:n,toggleNestedDetails:a,nestedDetailsVisible:i,handleCantidadChange:s,abrirModalAdiciones:l,abrirModalSalsas:c,abrirModalRellenos:u,removeInsumo:f,removeAdicion:p,removeSalsa:h,removeRelleno:g,setMostrarModalInsumos:x,subtotal:v,iva:y,total:E,guardarVenta:C,setMostrarAgregarVenta:k,mostrarModalInsumos:_,agregarInsumos:N,mostrarModalAdiciones:O,agregarAdiciones:R,mostrarModalSalsas:D,agregarSalsas:B,mostrarModalRellenos:z,agregarRellenos:I,setProductoEditandoId:L,productoEditandoId:M,showNotification:F}){var ct,pt,nt;const[H,J]=b.useState([]),[ee,re]=b.useState(!0),[te,K]=b.useState(""),[U,j]=b.useState([]),[Y,G]=b.useState(!0),[X,ie]=b.useState(""),[ye,me]=b.useState(""),[he,je]=b.useState([]),[Fe,ue]=b.useState(!1),xe=()=>{const rt=new Date,Lt=rt.getFullYear(),hr=String(rt.getMonth()+1).padStart(2,"0"),tr=String(rt.getDate()).padStart(2,"0");return`${Lt}-${hr}-${tr}`};b.useEffect(()=>{Pe(),_e()},[]),b.useEffect(()=>{t.fecha_venta!==xe()&&e({target:{name:"fecha_venta",value:xe()}})},[t.fecha_venta,e]);const Pe=async()=>{try{re(!0),K("");const rt=await Zd.obtenerClientesParaVenta();J(rt),je(rt)}catch(rt){console.error("Error al cargar clientes:",rt),K("Error al cargar clientes");const Lt=[{idcliente:null,numeroDocumento:"",nombreCompleto:"Cliente Genérico"}];J(Lt),je(Lt)}finally{re(!1)}},_e=async()=>{try{G(!0),ie("");const rt=await fetch("https://deliciasoft-backend.onrender.com/api/sede",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!rt.ok)throw new Error(`HTTP error! status: ${rt.status}`);const hr=(await rt.json()).filter(tr=>tr.estado===!0);j(hr)}catch(rt){console.error("Error al cargar sedes:",rt),ie("Error al cargar sedes"),j([{idsede:1,nombre:"San Pablo"},{idsede:2,nombre:"San Benito"}])}finally{G(!1)}},ce=rt=>{if(!rt||rt.trim()===""){je(H);return}const Lt=rt.toLowerCase().trim(),hr=H.filter(tr=>{var Nr,bt;const rr=((Nr=tr.nombreCompleto)==null?void 0:Nr.toLowerCase())||"",Wr=((bt=tr.numeroDocumento)==null?void 0:bt.toString())||"";return rr.includes(Lt)||Wr.includes(Lt)});je(hr)},Je=rt=>{const Lt=rt.target.value;me(Lt),ce(Lt),ue(!0);const hr=H.find(tr=>tr.numeroDocumento&&tr.numeroDocumento.toString()===Lt.trim());hr?(me(hr.nombreCompleto),Te(hr),ue(!1)):(e({target:{name:"cliente",value:Lt}}),e({target:{name:"clienteId",value:null}}))},Te=rt=>{const Lt=rt.numeroDocumento?`${rt.nombreCompleto} -- ${rt.numeroDocumento}`:rt.nombreCompleto;me(Lt),ue(!1),e({target:{name:"cliente",value:rt.nombreCompleto}}),e({target:{name:"clienteId",value:rt.idcliente}})},Le=()=>{ue(!0),he.length===H.length&&ye===""&&ce("")},Ze=()=>{setTimeout(()=>{ue(!1)},200)},Be=new Date,et=new Date;et.setDate(Be.getDate()+15);const Dt=new Date;Dt.setMonth(Be.getMonth()+2);const Ut=rt=>{const Lt=rt.getFullYear(),hr=String(rt.getMonth()+1).padStart(2,"0"),tr=String(rt.getDate()).padStart(2,"0");return`${Lt}-${hr}-${tr}`},Vt=Ut(et),Jt=Ut(Dt),dr=async rt=>{rt.preventDefault();try{const Lt={fecha_venta:t.fecha_venta,tipo_venta:t.tipo_venta,sede:t.sede,cliente:t.cliente,clienteId:t.clienteId,metodo_pago:t.metodo_pago,total:E,productos:n.map(hr=>({id:hr.id,nombre:hr.nombre,cantidad:hr.cantidad||1,precio:hr.precio,subtotal:hr.precio*(hr.cantidad||1),disponible:hr.disponible,adiciones:hr.adiciones||[],salsas:hr.salsas||[],sabores:hr.sabores||[]}))};await C(Lt)}catch(Lt){console.error("Error al procesar la venta:",Lt)}},lr=()=>{if(!t.tipo_venta){F?F("Por favor selecciona el tipo de venta primero","error"):alert("Por favor selecciona el tipo de venta primero");return}if((t.tipo_venta==="directa"||t.tipo_venta==="venta directa")&&!t.sede){F?F("Por favor selecciona la sede primero","error"):alert("Por favor selecciona la sede primero");return}x(!0)};return o.createElement("div",{className:"compra-form-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},"🛒"),o.createElement("span",null,"Clientes cargados: ",(H==null?void 0:H.length)||0))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"🏢"),"Información de la Venta"),o.createElement("form",{onSubmit:dr},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Tipo de Venta ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{name:"tipo_venta",value:t.tipo_venta,onChange:e,className:`form-input ${r.tipo_venta?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione"),o.createElement("option",{value:"directa"},"Venta Directa"),o.createElement("option",{value:"pedido"},"Pedido")),r.tipo_venta&&o.createElement("span",{className:"error-message"},r.tipo_venta)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Venta"),o.createElement("input",{type:"date",name:"fecha_venta",value:t.fecha_venta,onChange:e,className:`form-input ${r.fecha_venta?"error":""}`,required:!0,disabled:!0}),r.fecha_venta&&o.createElement("span",{className:"error-message"},r.fecha_venta)),t.tipo_venta==="pedido"&&o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Entrega ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"date",name:"fecha_entrega",value:t.fecha_entrega||"",onChange:e,className:`form-input ${r.fecha_entrega?"error":""}`,required:t.tipo_venta==="pedido",min:Vt,max:Jt}),r.fecha_entrega&&o.createElement("span",{className:"error-message"},r.fecha_entrega)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Sede ",o.createElement("span",{style:{color:"red"}},"*")),Y?o.createElement("select",{disabled:!0,className:"form-input"},o.createElement("option",null,"Cargando sedes...")):o.createElement("select",{name:"sede",value:t.sede,onChange:e,className:`form-input ${r.sede?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione una sede"),U.map(rt=>o.createElement("option",{key:rt.idsede,value:rt.nombre},rt.nombre))),X&&o.createElement("span",{className:"error-message"},X),r.sede&&o.createElement("span",{className:"error-message"},r.sede)),o.createElement("div",{className:"field-group",style:{position:"relative"}},o.createElement("label",{className:"field-label"},"Cliente ",o.createElement("span",{style:{color:"red"}},"*")),ee?o.createElement("input",{type:"text",placeholder:"Cargando clientes...",disabled:!0,className:"form-input"}):o.createElement(o.Fragment,null,o.createElement("input",{type:"text",name:"cliente_search",value:ye,onChange:Je,onFocus:Le,onBlur:Ze,placeholder:"Buscar por nombre o documento...",className:`form-input ${r.cliente?"error":""}`,required:!0,autoComplete:"off"}),Fe&&he.length>0&&o.createElement("div",{className:"clientes-dropdown"},he.slice(0,10).map((rt,Lt)=>o.createElement("div",{key:rt.idcliente||Lt,className:"cliente-option",onClick:()=>Te(rt)},o.createElement("div",{className:"cliente-nombre"},rt.nombreCompleto),rt.numeroDocumento&&o.createElement("div",{className:"cliente-documento"},rt.numeroDocumento))))),te&&o.createElement("span",{className:"error-message"},te),r.cliente&&o.createElement("span",{className:"error-message"},r.cliente)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Método de Pago ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{name:"metodo_pago",value:t.metodo_pago,onChange:e,className:`form-input ${r.metodo_pago?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione"),o.createElement("option",{value:"efectivo"},"Efectivo"),o.createElement("option",{value:"transferencia"},"Transferencia")),r.metodo_pago&&o.createElement("span",{className:"error-message"},r.metodo_pago))))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📦"),"Detalle de Productos"),r.productos&&o.createElement("div",{className:"error-banner"},o.createElement("span",{className:"error-icon"},"⚠️"),r.productos),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Nombre"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Precio Unitario"),o.createElement("th",null,"Adiciones"),o.createElement("th",null,"Salsas"),o.createElement("th",null,"Rellenos"),o.createElement("th",null,"Subtotal Item"),o.createElement("th",null,"Acciones"))),o.createElement("tbody",null,n.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"}},"No hay productos en esta venta")):n.map(rt=>{var Lt,hr,tr;return o.createElement(o.Fragment,{key:rt.id},o.createElement("tr",{className:"product-row"},o.createElement("td",{className:"product-name"},rt.nombre,o.createElement("button",{type:"button",className:"btn-small toggle-details-btn",onClick:()=>a(rt.id),title:i[rt.id]?"Ocultar detalles":"Mostrar detalles",style:{marginLeft:"10px"}},i[rt.id]?"▲":"▼")),o.createElement("td",{className:"quantity-cell"},o.createElement("input",{type:"number",min:1,max:t.tipo_venta==="directa"||t.tipo_venta==="venta directa"?rt.disponible:void 0,value:rt.cantidad||1,onChange:rr=>s(rt.id,parseInt(rr.target.value)||1),className:"quantity-input"}),(t.tipo_venta==="directa"||t.tipo_venta==="venta directa")&&o.createElement("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"}},"Máx: ",rt.disponible),t.tipo_venta==="pedido"&&o.createElement("div",{style:{fontSize:"11px",color:"#2563eb",marginTop:"2px"}},"Sin límite (se producirá)")),o.createElement("td",{className:"price-cell"},"$",rt.precio.toLocaleString("es-CO")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"btn-small",onClick:()=>l(rt.id)},"+ Adición")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"btn-small",onClick:()=>c(rt.id)},"+ Salsa")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"btn-small",onClick:()=>u(rt.id)},"+ Relleno")),o.createElement("td",{className:"subtotal-cell"},"$",(rt.precio*(rt.cantidad||1)+(((hr=(Lt=rt.adiciones)==null?void 0:Lt.slice(2))==null?void 0:hr.reduce((rr,Wr)=>rr+Wr.precio*(Wr.cantidad||1),0))||0)+(((tr=rt.sabores)==null?void 0:tr.reduce((rr,Wr)=>rr+Wr.precio*(Wr.cantidad||1),0))||0)).toLocaleString("es-CO")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"delete-btn",onClick:()=>f(rt.id),title:"Eliminar producto"},"🗑️"))),i[rt.id]&&o.createElement("tr",null,o.createElement("td",{colSpan:"8",style:{background:"#f9fafb",padding:"16px"}},rt.adiciones&&rt.adiciones.length>0&&o.createElement("div",{className:"nested-item-list"},o.createElement("strong",null,"Adiciones:"),rt.adiciones.map(rr=>o.createElement("div",{key:rr.id},rr.nombre," ($",rr.precio.toLocaleString("es-CO"),")",o.createElement("button",{type:"button",className:"btn-small btn-eliminar-nested",onClick:()=>p(rt.id,rr.id)},"x")))),rt.salsas&&rt.salsas.length>0&&o.createElement("div",{className:"nested-item-list"},o.createElement("strong",null,"Salsas:"),rt.salsas.map(rr=>o.createElement("div",{key:rr.id},rr.nombre," ($",rr.precio.toLocaleString("es-CO"),")",o.createElement("button",{type:"button",className:"btn-small btn-eliminar-nested",onClick:()=>h(rt.id,rr.id)},"x")))),rt.sabores&&rt.sabores.length>0&&o.createElement("div",{className:"nested-item-list"},o.createElement("strong",null,"Rellenos:"),rt.sabores.map(rr=>o.createElement("div",{key:rr.id},rr.nombre," ($",rr.precio.toLocaleString("es-CO"),")",o.createElement("button",{type:"button",className:"btn-small btn-eliminar-nested",onClick:()=>g(rt.id,rr.id)},"x")))),(!rt.adiciones||rt.adiciones.length===0)&&(!rt.salsas||rt.salsas.length===0)&&(!rt.sabores||rt.sabores.length===0)&&o.createElement("p",{style:{margin:0,color:"#6b7280"}},"No hay adiciones, salsas o rellenos añadidos."))))})))),o.createElement("button",{type:"button",className:"add-products-btn",onClick:lr},o.createElement("span",{className:"btn-icon"},"+"),"Agregar Productos")),o.createElement("div",{className:"totals-section"},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"💰"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Subtotal"),o.createElement("div",{className:"card-value"},"$",v.toLocaleString("es-CO")))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"💎"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total"),o.createElement("div",{className:"card-value total-value"},"$",E.toLocaleString("es-CO")))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:()=>k(!1)},"Cancelar"),o.createElement("button",{className:"btn btn-save",onClick:dr},o.createElement("span",{className:"btn-icon"},"💾"),"Guardar")),_&&o.createElement(RH,{onClose:()=>x(!1),onAgregar:N,sedeSeleccionada:t.sede,tipoVenta:t.tipo_venta,insumosSeleccionados:n}),O&&o.createElement(jH,{onClose:()=>{setMostrarModalAdiciones(!1),L(null)},onAgregar:R,adicionesSeleccionadas:((ct=n.find(rt=>rt.id===M))==null?void 0:ct.adiciones)||[]}),D&&o.createElement(MH,{onClose:()=>{setMostrarModalSalsas(!1),L(null)},onAgregar:B,salsasSeleccionadas:((pt=n.find(rt=>rt.id===M))==null?void 0:pt.salsas)||[]}),z&&o.createElement($H,{onClose:()=>{setMostrarModalRellenos(!1),L(null)},onAgregar:I,rellenosSeleccionados:((nt=n.find(rt=>rt.id===M))==null?void 0:nt.sabores)||[]}))}function BH({visible:t,onClose:e,ventaSeleccionada:r,anularVenta:n}){return!t||!r?null:o.createElement(Wn,{visible:t,onClose:e},o.createElement("h2",{className:"modal-title"},"Confirmar anulación"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Está seguro que desea anular la venta de ",r.cliente,"?"),o.createElement("p",{style:{color:"#e53935",fontSize:"14px"}},"Esta acción no se puede deshacer.")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:n},"Anular")))}function qH({visible:t,onClose:e,ventaSeleccionada:r,abonos:n,setMostrarModalAgregarAbono:a,verDetalleAbono:i,anularAbono:s}){if(!t||!r)return null;const l=r.total||0,c=(n||[]).reduce((f,p)=>{const h=parseFloat(p.monto||p.cantidadPagar||p.totalPagado||0);return p.anulado?f:f+h},0),u=l-c;return o.createElement(Wn,{visible:t,onClose:e},o.createElement("div",{className:"abonos-modal"},o.createElement("div",{className:"modal-header"},o.createElement("h3",null,"Abonos de la Venta #",r.idVenta),o.createElement("div",{className:"venta-info"},o.createElement("p",null,o.createElement("strong",null,"Cliente:")," ",r.nombreCliente),o.createElement("p",null,o.createElement("strong",null,"Total de la Venta:")," $",l.toLocaleString()),o.createElement("p",null,o.createElement("strong",null,"Total Pagado:")," $",c.toLocaleString()),o.createElement("p",{className:`falta-pagar ${u<=0?"pagado-completo":""}`},o.createElement("strong",null,"Falta por Pagar:")," $",u.toLocaleString()))),o.createElement("div",{className:"abonos-lista"},n&&n.length>0?o.createElement("div",{className:"table-container"},o.createElement("table",{className:"abonos-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"ID"),o.createElement("th",null,"Fecha"),o.createElement("th",null,"Método de Pago"),o.createElement("th",null,"Monto"),o.createElement("th",null,"Falta por Pagar"),o.createElement("th",null,"Comprobante"),o.createElement("th",null,"Estado"),o.createElement("th",null,"Acciones"))),o.createElement("tbody",null,n.map((f,p)=>{var v;const h=parseFloat(f.monto||f.cantidadPagar||f.totalPagado||0),g=n.slice(0,p+1).reduce((y,E)=>{const C=parseFloat(E.monto||E.cantidadPagar||E.totalPagado||0);return E.anulado?y:y+C},0),x=Math.max(0,l-g);return o.createElement("tr",{key:f.id||f.idAbono||p,className:f.anulado?"abono-anulado":""},o.createElement("td",null,f.id||f.idAbono||"-"),o.createElement("td",null,f.fecha||new Date().toISOString().split("T")[0]),o.createElement("td",{className:"metodo-pago"},(f.metodoPago||f.metodo_pago||"N/A").toUpperCase()),o.createElement("td",{className:"monto"},"$",h.toLocaleString()),o.createElement("td",{className:"falta-pagar"},"$",x.toLocaleString()),o.createElement("td",{className:"comprobante"},f.comprobante_imagen||(v=f.imagenes)!=null&&v.urlimg?o.createElement("div",{className:"imagen-container"},o.createElement("img",{src:f.comprobante_imagen||f.imagenes.urlimg,alt:"Comprobante",className:"comprobante-thumbnail",onClick:()=>window.open(f.comprobante_imagen||f.imagenes.urlimg,"_blank"),title:"Click para ver imagen completa"})):o.createElement("span",{className:"no-comprobante"},"Sin comprobante")),o.createElement("td",{className:"estado"},f.anulado?o.createElement("span",{className:"estado-anulado"},"ANULADO"):o.createElement("span",{className:"estado-activo"},"ACTIVO")),o.createElement("td",{className:"acciones"},o.createElement("div",{className:"botones-acciones"},o.createElement("button",{className:"admin-button view-btn",title:"Ver Detalle",onClick:()=>i(f)},"👁️"),!f.anulado&&o.createElement("button",{className:"admin-button delete-btn",title:"Anular Abono",onClick:()=>{window.confirm("¿Está seguro de que desea anular este abono?")&&s(f.id||f.idAbono)}},"🚫"))))})))):o.createElement("div",{className:"no-abonos"},o.createElement("p",null,"No hay abonos registrados para esta venta"),o.createElement("p",{className:"help-text"},"Agregue el primer abono usando el botón de abajo"))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"btn-agregar-abono",onClick:()=>a(!0),disabled:u<=0,title:u<=0?"Esta venta ya está completamente pagada":"Agregar nuevo abono"},u<=0?"✅ Venta Pagada Completa":"+ Agregar Abono"),o.createElement("button",{className:"btn-cerrar",onClick:e},"Cerrar"))),o.createElement("style",{jsx:!0},`
                .abonos-modal {
                    max-width: 1000px;
                    width: 100%;
                    max-height: 80vh;
                    overflow-y: auto;
                }

                .modal-header {
                    margin-bottom: 20px;
                    padding-bottom: 15px;
                    border-bottom: 2px solid #e9ecef;
                }

                .modal-header h3 {
                    margin: 0 0 15px 0;
                    color: #333;
                    font-size: 1.5em;
                }

                .venta-info {
                    background: #f8f9fa;
                    padding: 15px;
                    border-radius: 5px;
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 10px;
                }

                .venta-info p {
                    margin: 5px 0;
                    color: #495057;
                }

                .falta-pagar {
                    color: #dc3545;
                    font-size: 1.1em;
                }

                .falta-pagar.pagado-completo {
                    color: #28a745;
                }

                .table-container {
                    max-height: 400px;
                    overflow-y: auto;
                    border: 1px solid #dee2e6;
                    border-radius: 5px;
                }

                .abonos-table {
                    width: 100%;
                    border-collapse: collapse;
                    font-size: 14px;
                }

                .abonos-table th,
                .abonos-table td {
                    padding: 10px 8px;
                    text-align: left;
                    border-bottom: 1px solid #dee2e6;
                }

                .abonos-table th {
                    background-color: #f8f9fa;
                    font-weight: bold;
                    color: #495057;
                    position: sticky;
                    top: 0;
                    z-index: 10;
                }

                .abonos-table tbody tr:hover {
                    background-color: #f5f5f5;
                }

                .abono-anulado {
                    background-color: #f8d7da;
                    opacity: 0.7;
                }

                .metodo-pago {
                    font-weight: 500;
                    color: #495057;
                }

                .monto {
                    font-weight: bold;
                    color: #28a745;
                }

                .falta-pagar {
                    font-weight: bold;
                    color: #dc3545;
                }

                .comprobante {
                    text-align: center;
                }

                .comprobante-thumbnail {
                    width: 50px;
                    height: 50px;
                    object-fit: cover;
                    border-radius: 4px;
                    border: 1px solid #ddd;
                    cursor: pointer;
                    transition: transform 0.2s;
                }

                .comprobante-thumbnail:hover {
                    transform: scale(1.1);
                }

                .no-comprobante {
                    color: #6c757d;
                    font-style: italic;
                    font-size: 12px;
                }

                .estado {
                    text-align: center;
                }

                .estado-activo {
                    background: #d4edda;
                    color: #155724;
                    padding: 4px 8px;
                    border-radius: 12px;
                    font-size: 11px;
                    font-weight: bold;
                }

                .estado-anulado {
                    background: #f8d7da;
                    color: #721c24;
                    padding: 4px 8px;
                    border-radius: 12px;
                    font-size: 11px;
                    font-weight: bold;
                }

                .acciones {
                    text-align: center;
                }

                .botones-acciones {
                    display: flex;
                    gap: 5px;
                    justify-content: center;
                }

                .admin-button {
                    padding: 6px 10px;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 12px;
                    transition: all 0.3s;
                }

                .view-btn {
                    background: #17a2b8;
                    color: white;
                }

                .view-btn:hover {
                    background: #138496;
                }

                .delete-btn {
                    background: #dc3545;
                    color: white;
                }

                .delete-btn:hover {
                    background: #c82333;
                }

                .no-abonos {
                    text-align: center;
                    padding: 40px 20px;
                    background: #f8f9fa;
                    border-radius: 5px;
                    color: #6c757d;
                }

                .no-abonos p {
                    margin: 10px 0;
                }

                .help-text {
                    font-size: 14px;
                    color: #6c757d;
                }

                .modal-footer {
                    margin-top: 20px;
                    padding-top: 15px;
                    border-top: 1px solid #e9ecef;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    gap: 10px;
                }

                .btn-agregar-abono {
                    background: #28a745;
                    color: white;
                    border: none;
                    padding: 12px 20px;
                    border-radius: 5px;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: bold;
                    transition: background-color 0.3s;
                }

                .btn-agregar-abono:hover:not(:disabled) {
                    background: #218838;
                }

                .btn-agregar-abono:disabled {
                    background: #6c757d;
                    cursor: not-allowed;
                }

                .btn-cerrar {
                    background: #6c757d;
                    color: white;
                    border: none;
                    padding: 12px 20px;
                    border-radius: 5px;
                    cursor: pointer;
                    font-size: 14px;
                }

                .btn-cerrar:hover {
                    background: #5a6268;
                }

                @media (max-width: 768px) {
                    .venta-info {
                        grid-template-columns: 1fr;
                    }
                    
                    .abonos-table {
                        font-size: 12px;
                    }
                    
                    .abonos-table th,
                    .abonos-table td {
                        padding: 6px 4px;
                    }
                    
                    .modal-footer {
                        flex-direction: column;
                        gap: 10px;
                    }
                    
                    .btn-agregar-abono,
                    .btn-cerrar {
                        width: 100%;
                    }
                }
            `))}function UH({visible:t,onClose:e,abonoData:r,handleAbonoChange:n,erroresValidacion:a,handleImageUpload:i,agregarAbono:s,ventaSeleccionada:l}){const[c,u]=b.useState(null),[f,p]=b.useState(0);if(b.useEffect(()=>{if(l){const E=l.total||0,C=(l.abonos||[]).reduce((k,_)=>{const N=parseFloat(_.monto||_.cantidadpagar||_.totalPagado||0);return _.anulado?k:k+N},0);p(E-C)}},[l]),!t)return null;const h=E=>{const C=E.target.files[0];if(C){if(console.log("Archivo seleccionado:",C.name,C.type,C.size),!C.type.startsWith("image/")){alert("Por favor selecciona solo archivos de imagen");return}if(C.size>5*1024*1024){alert("La imagen es muy grande. Máximo 5MB permitido");return}const k=new FileReader;k.onload=_=>{u(_.target.result)},k.readAsDataURL(C),i(E)}},g=()=>{u(null);const E=document.getElementById("comprobante");E&&(E.value=""),i({target:{files:[]}})},x=E=>{(parseFloat(E.target.value)||0)>f&&(E.target.value=f,alert(`El monto no puede ser mayor a lo que falta por pagar: $${f.toLocaleString()}`)),n(E)},v=E=>{if(E.preventDefault(),E.stopPropagation(),(parseFloat(r.total_pagado)||0)>f){alert(`El monto no puede ser mayor a lo que falta por pagar: $${f.toLocaleString()}`);return}s()},y=()=>{u(null),e()};return o.createElement(Wn,{visible:t,onClose:y},o.createElement("div",{className:"abono-modal-container"},o.createElement("div",{className:"modal-header-section"},o.createElement("h2",{className:"modal-title"},"Agregar Abono"),o.createElement("div",{className:"venta-info-badge"},"Venta #",l==null?void 0:l.idVenta," - ",l==null?void 0:l.nombreCliente)),o.createElement("div",{className:"venta-summary-card"},o.createElement("div",{className:"summary-grid"},o.createElement("div",{className:"summary-item"},o.createElement("span",{className:"summary-label"},"Total Venta:"),o.createElement("span",{className:"summary-value total-venta"},"$",((l==null?void 0:l.total)||0).toLocaleString())),o.createElement("div",{className:"summary-item"},o.createElement("span",{className:"summary-label"},"Total Pagado:"),o.createElement("span",{className:"summary-value pagado"},"$",((l==null?void 0:l.abonos)||[]).reduce((E,C)=>{const k=parseFloat(C.monto||C.cantidadpagar||C.totalPagado||0);return C.anulado?E:E+k},0).toLocaleString())),o.createElement("div",{className:"summary-item destacado"},o.createElement("span",{className:"summary-label"},"Falta por Pagar:"),o.createElement("span",{className:"summary-value pendiente"},"$",f.toLocaleString())))),o.createElement("div",{className:"abono-form"},o.createElement("div",{className:"form-row"},o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Método de Pago ",o.createElement("span",{className:"required"},"*")),o.createElement("select",{name:"metodo_pago",value:r.metodo_pago,onChange:n,className:`form-control ${a.metodo_pago?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione método"),o.createElement("option",{value:"efectivo"},"Efectivo"),o.createElement("option",{value:"transferencia"},"Transferencia"),o.createElement("option",{value:"otro"},"Otro")),a.metodo_pago&&o.createElement("span",{className:"error-text"},a.metodo_pago)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Monto a Pagar ",o.createElement("span",{className:"required"},"*")),o.createElement("input",{type:"number",name:"total_pagado",min:"0",max:f,step:"0.01",value:r.total_pagado,onChange:x,className:`form-control ${a.total_pagado?"error":""}`,placeholder:"0.00",required:!0}),a.total_pagado&&o.createElement("span",{className:"error-text"},a.total_pagado),o.createElement("div",{className:"input-help"},"Máximo: $",f.toLocaleString()))),r.metodo_pago==="efectivo"&&o.createElement("div",{className:"sede-info-card"},o.createElement("div",{className:"sede-icon"},"💵"),o.createElement("div",{className:"sede-text"},o.createElement("strong",null,"Pago en efectivo"),o.createElement("br",null),"Sede de pago: ",o.createElement("span",{className:"sede-name"},(l==null?void 0:l.nombreSede)||"N/A"))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Fecha del Abono"),o.createElement("input",{type:"date",name:"fecha",value:r.fecha,onChange:n,className:"form-control",max:new Date().toISOString().split("T")[0]})),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Comprobante de Pago"),o.createElement("div",{className:"file-upload-section"},o.createElement("input",{id:"comprobante",type:"file",accept:"image/*",onChange:h,className:"file-input"}),o.createElement("label",{htmlFor:"comprobante",className:"file-input-label"},o.createElement("div",{className:"file-input-content"},o.createElement("div",{className:"upload-icon"},"📎"),o.createElement("div",{className:"upload-text"},o.createElement("span",null,"Seleccionar imagen"),o.createElement("small",null,"JPG, PNG, GIF - Máx. 5MB"))))),c&&o.createElement("div",{className:"image-preview-section"},o.createElement("div",{className:"preview-header"},o.createElement("span",{className:"preview-title"},"Vista previa:"),o.createElement("button",{type:"button",onClick:g,className:"remove-image-btn"},"✕")),o.createElement("div",{className:"preview-container"},o.createElement("img",{src:c,alt:"Vista previa del comprobante",className:"preview-image"})))),o.createElement("div",{className:"modal-actions"},o.createElement("button",{type:"button",className:"btn-secondary",onClick:y},"Cancelar"),o.createElement("button",{type:"button",className:"btn-primary",onClick:v,disabled:!r.metodo_pago||!r.total_pagado||f<=0},f<=0?"✓ Venta Pagada":"Guardar Abono")))),o.createElement("style",{jsx:!0},`
                .abono-modal-container {
                    max-width: 700px;
                    width: 100%;
                    max-height: 90vh;
                    overflow-y: auto;
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                }

                /* Header */
                .modal-header-section {
                    text-align: center;
                    margin-bottom: 24px;
                    padding-bottom: 16px;
                    border-bottom: 2px solid #e9ecef;
                }

                .modal-title {
                    font-size: 24px;
                    font-weight: 600;
                    color: #2c3e50;
                    margin: 0 0 8px 0;
                }

                .venta-info-badge {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 14px;
                    font-weight: 500;
                    display: inline-block;
                }

                /* Resumen de venta */
                .venta-summary-card {
                    background: #f8f9fa;
                    border: 1px solid #dee2e6;
                    border-radius: 12px;
                    padding: 20px;
                    margin-bottom: 24px;
                }

                .summary-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                    gap: 16px;
                }

                .summary-item {
                    display: flex;
                    flex-direction: column;
                    gap: 4px;
                }

                .summary-item.destacado {
                    background: white;
                    padding: 12px;
                    border-radius: 8px;
                    border: 2px solid #007bff;
                }

                .summary-label {
                    font-size: 13px;
                    color: #6c757d;
                    font-weight: 500;
                }

                .summary-value {
                    font-size: 16px;
                    font-weight: 600;
                }

                .summary-value.total-venta {
                    color: #495057;
                }

                .summary-value.pagado {
                    color: #28a745;
                }

                .summary-value.pendiente {
                    color: #007bff;
                    font-size: 18px;
                }

                /* Formulario */
                .abono-form {
                    display: flex;
                    flex-direction: column;
                    gap: 20px;
                }

                .form-row {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 16px;
                }

                .form-group {
                    display: flex;
                    flex-direction: column;
                    gap: 6px;
                }

                .form-label {
                    font-size: 14px;
                    font-weight: 600;
                    color: #374151;
                    margin-bottom: 4px;
                }

                .required {
                    color: #dc3545;
                }

                .form-control {
                    padding: 12px 16px;
                    border: 2px solid #e1e5e9;
                    border-radius: 8px;
                    font-size: 14px;
                    background: white;
                    transition: all 0.3s ease;
                }

                .form-control:focus {
                    outline: none;
                    border-color: #007bff;
                    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
                }

                .form-control.error {
                    border-color: #dc3545;
                }

                .error-text {
                    color: #dc3545;
                    font-size: 12px;
                    margin-top: 4px;
                }

                .input-help {
                    color: #6c757d;
                    font-size: 12px;
                    font-style: italic;
                }

                /* Sede info card */
                .sede-info-card {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    background: #e8f4fd;
                    border: 2px solid #007bff;
                    border-radius: 10px;
                    padding: 16px;
                    margin: 8px 0;
                }

                .sede-icon {
                    font-size: 24px;
                }

                .sede-text {
                    font-size: 14px;
                    color: #374151;
                    line-height: 1.4;
                }

                .sede-name {
                    color: #007bff;
                    font-weight: 600;
                }

                /* File upload */
                .file-upload-section {
                    position: relative;
                }

                .file-input {
                    position: absolute;
                    opacity: 0;
                    width: 100%;
                    height: 100%;
                    cursor: pointer;
                }

                .file-input-label {
                    display: block;
                    border: 2px dashed #cbd5e0;
                    border-radius: 10px;
                    padding: 20px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    background: #fafafa;
                }

                .file-input-label:hover {
                    border-color: #007bff;
                    background: #f0f8ff;
                }

                .file-input-content {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 8px;
                }

                .upload-icon {
                    font-size: 24px;
                    color: #6c757d;
                }

                .upload-text span {
                    display: block;
                    font-size: 14px;
                    font-weight: 500;
                    color: #374151;
                }

                .upload-text small {
                    color: #6c757d;
                    font-size: 12px;
                }

                /* Image preview */
                .image-preview-section {
                    margin-top: 16px;
                    border: 1px solid #e1e5e9;
                    border-radius: 10px;
                    overflow: hidden;
                    background: white;
                }

                .preview-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 12px 16px;
                    background: #f8f9fa;
                    border-bottom: 1px solid #e1e5e9;
                }

                .preview-title {
                    font-size: 13px;
                    font-weight: 600;
                    color: #374151;
                }

                .remove-image-btn {
                    background: #dc3545;
                    color: white;
                    border: none;
                    border-radius: 50%;
                    width: 24px;
                    height: 24px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    font-size: 12px;
                    transition: background-color 0.2s;
                }

                .remove-image-btn:hover {
                    background: #c82333;
                }

                .preview-container {
                    padding: 16px;
                    text-align: center;
                }

                .preview-image {
                    max-width: 100%;
                    max-height: 200px;
                    border-radius: 8px;
                    border: 1px solid #e1e5e9;
                    object-fit: contain;
                }

                /* Botones de acción */
                .modal-actions {
                    display: flex;
                    gap: 12px;
                    justify-content: flex-end;
                    margin-top: 24px;
                    padding-top: 20px;
                    border-top: 1px solid #e9ecef;
                }

                .btn-secondary,
                .btn-primary {
                    padding: 12px 24px;
                    border: none;
                    border-radius: 8px;
                    font-size: 14px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    min-width: 120px;
                }

                .btn-secondary {
                    background: #6c757d;
                    color: white;
                }

                .btn-secondary:hover {
                    background: #5a6268;
                }

                .btn-primary {
                    background: #28a745;
                    color: white;
                }

                .btn-primary:hover:not(:disabled) {
                    background: #218838;
                }

                .btn-primary:disabled {
                    background: #6c757d;
                    cursor: not-allowed;
                    opacity: 0.6;
                }

                /* Responsive */
                @media (max-width: 768px) {
                    .abono-modal-container {
                        max-width: 95vw;
                        margin: 10px;
                    }
                    
                    .form-row {
                        grid-template-columns: 1fr;
                        gap: 12px;
                    }
                    
                    .summary-grid {
                        grid-template-columns: 1fr;
                        gap: 12px;
                    }
                    
                    .modal-actions {
                        flex-direction: column;
                    }
                    
                    .btn-secondary,
                    .btn-primary {
                        width: 100%;
                    }
                    
                    .sede-info-card {
                        flex-direction: column;
                        text-align: center;
                        gap: 8px;
                    }
                }
            `))}function HH({visible:t,onClose:e,abonoSeleccionado:r,anularAbono:n}){var f;if(!t||!r)return null;const a=parseFloat(r.monto||r.cantidadPagar||r.totalPagado||0),i=r.fecha||new Date().toISOString().split("T")[0],s=r.metodoPago||r.metodo_pago||"N/A",l=r.comprobante_imagen||((f=r.imagenes)==null?void 0:f.urlimg),c=r.id||r.idAbono,u=()=>{window.confirm("¿Está seguro de que desea anular este abono? Esta acción no se puede deshacer.")&&n(c)};return o.createElement(Wn,{visible:t,onClose:e},o.createElement("div",{className:"detalle-abono-modal"},o.createElement("h3",null,"Detalle del Abono #",c),o.createElement("div",{className:"abono-details"},o.createElement("div",{className:"detail-row"},o.createElement("label",null,"ID del Abono:"),o.createElement("span",{className:"value"},c||"N/A")),o.createElement("div",{className:"detail-row"},o.createElement("label",null,"ID de la Venta:"),o.createElement("span",{className:"value"},r.idPedido||"N/A")),o.createElement("div",{className:"detail-row"},o.createElement("label",null,"Fecha:"),o.createElement("span",{className:"value"},i)),o.createElement("div",{className:"detail-row"},o.createElement("label",null,"Método de Pago:"),o.createElement("span",{className:"value method-badge"},s.toUpperCase())),o.createElement("div",{className:"detail-row"},o.createElement("label",null,"Monto Pagado:"),o.createElement("span",{className:"value amount"},"$",a.toLocaleString())),o.createElement("div",{className:"detail-row"},o.createElement("label",null,"Estado:"),o.createElement("span",{className:`value status ${r.anulado?"anulado":"activo"}`},r.anulado?"ANULADO":"ACTIVO")),o.createElement("div",{className:"detail-row"},o.createElement("label",null,"Cliente:"),o.createElement("span",{className:"value"},r.cliente||"N/A")),r.totalVenta&&o.createElement("div",{className:"detail-row"},o.createElement("label",null,"Total de la Venta:"),o.createElement("span",{className:"value"},"$",parseFloat(r.totalVenta).toLocaleString())),l&&o.createElement("div",{className:"detail-row comprobante-row"},o.createElement("label",null,"Comprobante:"),o.createElement("div",{className:"comprobante-container"},o.createElement("img",{src:l,alt:"Comprobante de pago",className:"comprobante-image",onClick:()=>window.open(l,"_blank"),title:"Click para ver imagen completa"}),o.createElement("button",{className:"btn-ver-completa",onClick:()=>window.open(l,"_blank")},"Ver imagen completa")))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar"),!r.anulado&&o.createElement("button",{className:"modal-btn delete-btn",onClick:u},"Anular Abono"))),o.createElement("style",{jsx:!0},`
                .detalle-abono-modal {
                    max-width: 600px;
                    width: 100%;
                    max-height: 80vh;
                    overflow-y: auto;
                }

                .detalle-abono-modal h3 {
                    margin-bottom: 20px;
                    color: #333;
                    text-align: center;
                    border-bottom: 2px solid #e9ecef;
                    padding-bottom: 10px;
                }

                .abono-details {
                    margin-bottom: 20px;
                }

                .detail-row {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 12px 0;
                    border-bottom: 1px solid #e9ecef;
                }

                .detail-row:last-child {
                    border-bottom: none;
                }

                .detail-row label {
                    font-weight: bold;
                    color: #495057;
                    flex: 1;
                }

                .detail-row .value {
                    flex: 2;
                    text-align: right;
                    font-weight: 500;
                    color: #212529;
                }

                .method-badge {
                    background: #007bff;
                    color: white;
                    padding: 4px 12px;
                    border-radius: 15px;
                    font-size: 12px;
                    font-weight: bold;
                }

                .amount {
                    color: #28a745;
                    font-size: 18px;
                    font-weight: bold;
                }

                .status {
                    padding: 4px 12px;
                    border-radius: 15px;
                    font-size: 12px;
                    font-weight: bold;
                }

                .status.activo {
                    background: #d4edda;
                    color: #155724;
                }

                .status.anulado {
                    background: #f8d7da;
                    color: #721c24;
                }

                .comprobante-row {
                    flex-direction: column;
                    align-items: flex-start;
                }

                .comprobante-row label {
                    margin-bottom: 10px;
                }

                .comprobante-container {
                    width: 100%;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 10px;
                }

                .comprobante-image {
                    max-width: 100%;
                    max-height: 300px;
                    object-fit: contain;
                    border-radius: 8px;
                    border: 2px solid #e9ecef;
                    cursor: pointer;
                    transition: transform 0.2s, box-shadow 0.2s;
                }

                .comprobante-image:hover {
                    transform: scale(1.02);
                    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
                }

                .btn-ver-completa {
                    background: #6c757d;
                    color: white;
                    border: none;
                    padding: 6px 12px;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 12px;
                    transition: background-color 0.2s;
                }

                .btn-ver-completa:hover {
                    background: #5a6268;
                }

                .modal-footer {
                    display: flex;
                    justify-content: space-between;
                    gap: 10px;
                    padding-top: 15px;
                    border-top: 1px solid #e9ecef;
                }

                .modal-btn {
                    flex: 1;
                    padding: 10px 20px;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: bold;
                    transition: background-color 0.3s;
                }

                .cancel-btn {
                    background: #6c757d;
                    color: white;
                }

                .cancel-btn:hover {
                    background: #5a6268;
                }

                .delete-btn {
                    background: #dc3545;
                    color: white;
                }

                .delete-btn:hover {
                    background: #c82333;
                }

                @media (max-width: 768px) {
                    .detalle-abono-modal {
                        max-width: 95vw;
                        margin: 10px;
                    }

                    .detail-row {
                        flex-direction: column;
                        align-items: flex-start;
                        gap: 5px;
                    }

                    .detail-row .value {
                        text-align: left;
                    }

                    .modal-footer {
                        flex-direction: column;
                    }

                    .comprobante-image {
                        max-height: 200px;
                    }
                }
            `))}function WH({ventaSeleccionada:t,onBackToList:e,productosDisponibles:r=[]}){if(!t)return o.createElement("div",{className:"admin-container"},o.createElement("div",{className:"loading-container"},o.createElement("p",null,"Cargando detalle de venta...")));const{idVenta:n,nombreCliente:a,nombreSede:i,metodoPago:s,tipoVenta:l,nombreEstado:c,fechaVenta:u,total:f,detalleVenta:p=[],abonos:h=[],observaciones:g,descuento:x,fechaEntrega:v,subtotal:y=0,iva:E=0}=t,C=I=>{const L=r.find(M=>M.idproductogeneral===I);return(L==null?void 0:L.nombre)||`ID: ${I}`},k=I=>{switch(I){case"Activa":return"estado-activa";case"Anulada":return"estado-anulada";case"En espera":case"Pendiente":return"estado-espera";case"En producción":case"En Proceso":return"estado-produccion";case"Por entregar":return"estado-entregar";case"Finalizado":case"Completada":return"estado-finalizado";default:return""}},_=I=>{if(!I)return"No especificada";try{return new Date(I).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})}catch{return I}},N=I=>parseFloat(I||0).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),O=I=>!I.adiciones||I.adiciones.length===0?o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},"Ninguna"):o.createElement("div",{className:"nested-item-list"},I.adiciones.map((L,M)=>{var F;return o.createElement("div",{key:M},L.nombre," (x",L.cantidad,") - $",(F=L.precio)==null?void 0:F.toLocaleString("es-CO"))})),R=I=>!I.salsas||I.salsas.length===0?o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},"Ninguna"):o.createElement("div",{className:"nested-item-list"},I.salsas.map((L,M)=>{var F;return o.createElement("div",{key:M},L.nombre," (x",L.cantidad,") - $",(F=L.precio)==null?void 0:F.toLocaleString("es-CO"))})),D=I=>!I.sabores||I.sabores.length===0?o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},"Ninguno"):o.createElement("div",{className:"nested-item-list"},I.sabores.map((L,M)=>{var F;return o.createElement("div",{key:M},L.nombre," (x",L.cantidad,") - $",(F=L.precio)==null?void 0:F.toLocaleString("es-CO"))})),B=c==="Anulada",z=()=>`Venta ${B?"Anulada":"Activa"} - #${n||""}`;return o.createElement("div",{className:"compra-form-container"},o.createElement("div",{className:`compra-status-header ${B?"anulada":"activa"}`},o.createElement("h1",{className:"compra-title"},z()),o.createElement("div",{className:"status-indicator"},o.createElement("span",{className:`status-badge ${B?"anulada":"activa"}`},B?"❌ ANULADA":"✅ ACTIVA"))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"🏢"),"Información de la Venta"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cliente"),o.createElement("input",{type:"text",value:a||"N/A",disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Sede"),o.createElement("input",{type:"text",value:i||"N/A",disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Venta"),o.createElement("input",{type:"text",value:_(u),disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("div",{style:{paddingTop:"4px"}},o.createElement("span",{className:`estado-tag ${k(c)}`},c||"N/A"))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Tipo de venta"),o.createElement("input",{type:"text",value:l||"N/A",disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Método de Pago"),o.createElement("input",{type:"text",value:s||"N/A",disabled:!0,className:"form-input"})),v&&o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Entrega"),o.createElement("input",{type:"text",value:_(v),disabled:!0,className:"form-input"})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📦"),"Detalle de Productos"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Producto"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Precio Unitario"),o.createElement("th",null,"Adiciones"),o.createElement("th",null,"Salsas"),o.createElement("th",null,"Sabores"),o.createElement("th",null,"Subtotal"))),o.createElement("tbody",null,p&&p.length>0?p.map((I,L)=>o.createElement("tr",{key:L,className:"product-row"},o.createElement("td",{className:"product-name"},C(I.idproductogeneral)),o.createElement("td",{className:"quantity-cell"},o.createElement("span",{className:"quantity-display"},I.cantidad)),o.createElement("td",{className:"price-cell"},N(I.precioUnitario)),o.createElement("td",null,O(I)),o.createElement("td",null,R(I)),o.createElement("td",null,D(I)),o.createElement("td",{className:"subtotal-cell"},N(I.subtotal)))):o.createElement("tr",null,o.createElement("td",{colSpan:"7",style:{textAlign:"center",padding:"20px",color:"#6b7280"}},"No hay productos en esta venta")))))),o.createElement("div",{className:"totals-section"},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"💰"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Subtotal"),o.createElement("div",{className:"card-value"},N(y)))),E>0&&o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"📊"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"IVA (16%)"),o.createElement("div",{className:"card-value"},N(E)))),x>0&&o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"🎟️"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Descuento"),o.createElement("div",{className:"card-value"},"-",N(x)))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"💎"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total"),o.createElement("div",{className:"card-value total-value"},N(f)))))),h&&h.length>0&&o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"💳"),"Abonos Realizados"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Fecha"),o.createElement("th",null,"Monto"),o.createElement("th",null,"Método de Pago"),o.createElement("th",null,"Estado"))),o.createElement("tbody",null,h.map((I,L)=>o.createElement("tr",{key:L,className:"product-row"},o.createElement("td",null,_(I.fecha)),o.createElement("td",{className:"price-cell"},N(I.monto||I.totalPagado||0)),o.createElement("td",null,I.metodoPago),o.createElement("td",null,I.anulado?o.createElement("span",{className:"estado-tag estado-anulada"},"Anulado"):o.createElement("span",{className:"estado-tag estado-activa"},"Activo"))))))),o.createElement("div",{className:"totals-section",style:{marginTop:"20px",marginBottom:"0"}},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"✅"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total Abonado"),o.createElement("div",{className:"card-value"},N(h.filter(I=>!I.anulado).reduce((I,L)=>I+parseFloat(L.monto||L.totalPagado||0),0))))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},"⏳"),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Saldo Pendiente"),o.createElement("div",{className:"card-value total-value"},N(f-h.filter(I=>!I.anulado).reduce((I,L)=>I+parseFloat(L.monto||L.totalPagado||0),0)))))))),g&&o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📝"),"Observaciones"),o.createElement("div",{className:"field-group"},o.createElement("textarea",{value:g,disabled:!0,rows:"4",className:"form-input",style:{resize:"vertical",minHeight:"100px"}}))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:e},"Cerrar")))}function VH(){const[t,e]=b.useState([]),[r,n]=b.useState(!0),[a,i]=b.useState(""),[s,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(null),[h,g]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[x,v]=b.useState(!1),[y,E]=b.useState([]),[C,k]=b.useState(!1),[_,N]=b.useState(!1),[O,R]=b.useState({}),[D,B]=b.useState(!1),[z,I]=b.useState(!1),[L,M]=b.useState({metodo_pago:"",total_pagado:"",fecha:new Date().toISOString().split("T")[0],comprobante_imagen:null}),[F,H]=b.useState(null),[J,ee]=b.useState(!1),[re,te]=b.useState("directa"),[K,U]=b.useState(!1),[j,Y]=b.useState(!1),[G,X]=b.useState(!1),[ie,ye]=b.useState(null),[me,he]=b.useState({}),[je,Fe]=b.useState([]),[ue,xe]=b.useState([]),[Pe,_e]=b.useState({cod_venta:"00000000",tipo_venta:"",cliente:"",clienteId:null,sede:"",metodo_pago:"",fecha_venta:new Date().toISOString().split("T")[0],fecha_entrega:"",fecha_registro:"",observaciones:""}),ce=async()=>{try{const dt=await Ms.obtenerProductos();console.log("Productos disponibles obtenidos:",dt),xe(dt)}catch(dt){console.error("Error al obtener productos:",dt),Te(dt.message||"Error al obtener el catálogo de productos","error")}},Je=dt=>{he(Et=>({...Et,[dt]:!Et[dt]}))},Te=(dt,Et="success")=>{g({visible:!0,mensaje:dt,tipo:Et}),setTimeout(()=>{Le()},5e3)},Le=()=>{g({...h,visible:!1})},Ze=async()=>{try{n(!0);const dt=await Io.obtenerVentas();console.log("Ventas obtenidas:",dt),e(dt)}catch(dt){console.error("Error al obtener ventas:",dt),Te(dt.message||"Error al obtener las ventas","error"),cargarVentasMock()}finally{n(!1)}},Be=async()=>{try{const dt=await Io.obtenerEstadosVenta();console.log("Estados obtenidos:",dt),Fe(dt)}catch(dt){console.error("Error al obtener estados:",dt),Te("Error al obtener los estados de venta","error"),Fe([{idestadoventa:1,nombre_estado:"Activa"},{idestadoventa:2,nombre_estado:"Pendiente"},{idestadoventa:3,nombre_estado:"En Proceso"},{idestadoventa:4,nombre_estado:"Completada"},{idestadoventa:5,nombre_estado:"Anulada"}])}};b.useEffect(()=>{Ze(),ce(),Be()},[]);const et=b.useMemo(()=>{var Tt;const dt=(Tt=je.find(Gt=>Gt.nombre_estado==="Anulada"))==null?void 0:Tt.idestadoventa,Et=je.filter(Gt=>Gt.nombre_estado!=="Anulada").map(Gt=>Gt.idestadoventa);return t.filter(Gt=>{const br=a===""||Gt.nombreCliente&&Gt.nombreCliente.toLowerCase().includes(a.toLowerCase())||Gt.idVenta&&Gt.idVenta.toString().includes(a);return re==="directa"?br&&Gt.tipoVenta==="directa"&&Et.includes(Gt.idEstadoVenta):re==="pedido"?br&&Gt.tipoVenta==="pedido"&&Et.includes(Gt.idEstadoVenta):re==="anulado"?br&&Gt.idEstadoVenta===dt:!1}).sort((Gt,br)=>Gt.idEstadoVenta===dt&&br.idEstadoVenta!==dt?1:br.idEstadoVenta===dt&&Gt.idEstadoVenta!==dt?-1:0)},[t,a,re,je]),Dt=(dt,Et=null)=>{u(dt),p(Et),l(!0)},Ut=()=>{l(!1),p(null),u(null)},Vt=async dt=>{p(dt),N(!0);try{console.log("Obteniendo detalle completo de la venta:",dt.idVenta);const Et=await Io.obtenerVentaPorId(dt.idVenta);console.log("Venta completa obtenida:",Et),p(Et)}catch(Et){console.error("Error al obtener detalle:",Et),Te(Et.message||"No se pudo obtener información completa de la venta","error")}},Jt=async dt=>{if(console.log("Venta recibida para abonos:",dt),!dt||!dt.idVenta){Te("Error: Venta no válida","error");return}p(dt),B(!0);try{console.log("Obteniendo detalle completo de la venta:",dt.idVenta);const Et=await Io.obtenerVentaPorId(dt.idVenta);console.log("Venta completa obtenida:",Et),p(Et)}catch(Et){console.error("Error al obtener abonos:",Et),Te("Error al obtener los abonos de la venta","error")}},dr=async()=>{if(!(f!=null&&f.idVenta)){Te("No se pudo identificar la venta a anular","error");return}try{console.log("Anulando venta con ID:",f.idVenta),await Io.anularVenta(f.idVenta),e(dt=>dt.map(Et=>{var Tt;return Et.idVenta===f.idVenta?{...Et,idEstadoVenta:(Tt=je.find(Gt=>Gt.nombre_estado==="Anulada"))==null?void 0:Tt.idestadoventa,nombreEstado:"Anulada"}:Et})),Te("Venta anulada correctamente","success"),Ut()}catch(dt){console.error("Error al anular venta:",dt),Te(dt.message||"Error al anular la venta","error")}},lr=async(dt,Et)=>{try{await Io.actualizarEstadoVenta(dt,Et),e(Tt=>Tt.map(Gt=>{var br;return Gt.idVenta===dt?{...Gt,idEstadoVenta:Et,nombreEstado:((br=je.find(Kr=>Kr.idestadoventa===Et))==null?void 0:br.nombre_estado)||Gt.nombreEstado}:Gt})),Te("Estado de venta actualizado correctamente","success")}catch(Tt){console.error("Error al cambiar estado:",Tt),Te(Tt.message||"Error al actualizar el estado","error")}},ct=dt=>{console.log("Generando PDF para venta:",dt.idVenta),Te("PDF generado correctamente","success")},pt=dt=>{var Tt;const Et=(Tt=je.find(Gt=>Gt.nombre_estado==="Anulada"))==null?void 0:Tt.idestadoventa;return dt.idEstadoVenta===Et?"row-anulado":""},nt=b.useMemo(()=>y.reduce((dt,Et)=>{var Gt,br;const Tt=Et.precio*Et.cantidad+(((Gt=Et.adiciones)==null?void 0:Gt.slice(2).reduce((Kr,_t)=>Kr+_t.precio*(_t.cantidad||1),0))||0)+(((br=Et.sabores)==null?void 0:br.reduce((Kr,_t)=>Kr+_t.precio*(_t.cantidad||1),0))||0);return dt+Tt},0),[y]),rt=b.useMemo(()=>nt*.16,[nt]),Lt=b.useMemo(()=>nt+rt,[nt,rt]),hr=async()=>{var Et;const dt={};if(Pe.tipo_venta||(dt.tipo_venta="El tipo de venta es requerido"),Pe.cliente||(dt.cliente="El cliente es requerido"),Pe.sede||(dt.sede="La sede es requerida"),Pe.metodo_pago||(dt.metodo_pago="El método de pago es requerido"),y.length===0&&(dt.productos="Debe agregar al menos un producto"),Pe.tipo_venta==="directa"||Pe.tipo_venta==="venta directa")for(const Tt of y){const Gt=Tt.disponible||0,br=Tt.cantidad||1;if(br>Gt){dt.productos=`El producto "${Tt.nombre}" excede la cantidad disponible. Disponible: ${Gt}, Solicitado: ${br}`;break}}if(Pe.tipo_venta==="pedido"&&!Pe.fecha_entrega&&(dt.fecha_entrega="La fecha de entrega es requerida para pedidos"),Object.keys(dt).length>0){R(dt),Te("Por favor corrija los errores en el formulario","error");return}try{console.log("Datos de venta antes de enviar:"),console.log("ventaData.cliente:",Pe.cliente),console.log("ventaData.clienteId:",Pe.clienteId);const Tt=Pe.sede==="San Pablo"?1:2,Gt=((Et=je.find(_t=>_t.nombre_estado==="Activa"))==null?void 0:Et.idestadoventa)||5,br={fechaventa:Pe.fecha_venta,clienteId:Pe.clienteId,idsede:Tt,metodopago:Pe.metodo_pago,tipoventa:Pe.tipo_venta==="venta directa"?"directa":Pe.tipo_venta,estadoVentaId:Gt,total:Lt,clienteNombre:Pe.cliente,sedeNombre:Pe.sede,productos:y.map(_t=>{var gr;const at=_t.precio*(_t.cantidad||1),vt=(((gr=_t.adiciones)==null?void 0:gr.slice(2))||[]).reduce((Bt,it)=>Bt+it.precio*(it.cantidad||1),0),Kt=(_t.sabores||[]).reduce((Bt,it)=>Bt+it.precio*(it.cantidad||1),0),cr=at+vt+Kt;return{idproductogeneral:_t.id,cantidad:_t.cantidad||1,preciounitario:_t.precio,subtotal:cr,iva:cr*.16}})};console.log("Enviando nueva venta a la API:",br);const Kr=await Io.crearVenta(br);console.log("Venta creada exitosamente:",Kr),e(_t=>[Kr,..._t]),Te("Venta creada exitosamente. Inventario actualizado.","success"),v(!1),E([]),_e({cod_venta:"00000000",tipo_venta:"",cliente:"",clienteId:null,sede:"",metodo_pago:"",fecha_venta:new Date().toISOString().split("T")[0],fecha_entrega:"",fecha_registro:"",observaciones:""}),R({})}catch(Tt){console.error("Error al crear venta:",Tt),Tt.message.includes("inventario")||Tt.message.includes("Inventario")?Te("Stock insuficiente: "+Tt.message,"error"):Tt.message.includes("INVENTARIO_INSUFICIENTE")?Te("No hay suficiente inventario para completar la venta","error"):Te(Tt.message||"Error al crear la venta","error")}},tr=dt=>{const{name:Et,value:Tt}=dt.target;_e(Gt=>({...Gt,[Et]:Tt})),O[Et]&&R(Gt=>({...Gt,[Et]:""}))},rr=(dt,Et)=>{const Tt=Pe.tipo_venta==="directa"||Pe.tipo_venta==="venta directa";E(Gt=>Gt.map(br=>{if(br.id===dt){if(Tt){const Kr=br.disponible||0;if(Et>Kr)return Te(`Cantidad máxima disponible para ${br.nombre}: ${Kr} unidades`,"error"),{...br,cantidad:Math.min(Kr,Math.max(1,Et))}}return{...br,cantidad:Math.max(1,Et)}}return br}))},Wr=dt=>{ye(dt),U(!0)},Nr=dt=>{ye(dt),Y(!0)},bt=dt=>{ye(dt),X(!0)},ke=dt=>{const Et=dt.map(Tt=>({...Tt,cantidad:1,adiciones:[],salsas:[],sabores:[]}));E(Tt=>[...Tt,...Et])},Re=dt=>{E(Et=>Et.map(Tt=>Tt.id===ie?{...Tt,adiciones:[...Tt.adiciones||[],...dt]}:Tt))},Qe=dt=>{E(Et=>Et.map(Tt=>Tt.id===ie?{...Tt,salsas:[...Tt.salsas||[],...dt]}:Tt))},jt=dt=>{E(Et=>Et.map(Tt=>Tt.id===ie?{...Tt,sabores:[...Tt.sabores||[],...dt]}:Tt))},gt=dt=>{E(Et=>Et.filter(Tt=>Tt.id!==dt))},At=(dt,Et)=>{E(Tt=>Tt.map(Gt=>Gt.id===dt?{...Gt,adiciones:Gt.adiciones.filter(br=>br.id!==Et)}:Gt))},kr=(dt,Et)=>{E(Tt=>Tt.map(Gt=>Gt.id===dt?{...Gt,salsas:Gt.salsas.filter(br=>br.id!==Et)}:Gt))},xr=(dt,Et)=>{E(Tt=>Tt.map(Gt=>Gt.id===dt?{...Gt,sabores:Gt.sabores.filter(br=>br.id!==Et)}:Gt))},Xr=dt=>{const Et=dt.target.files[0];if(Et){if(console.log("Archivo seleccionado:",Et.name,Et.type,Et.size),!Et.type.startsWith("image/")){Te("Por favor selecciona solo archivos de imagen","error");return}if(Et.size>5*1024*1024){Te("La imagen es muy grande. Máximo 5MB permitido","error");return}M(Tt=>({...Tt,comprobante_imagen:Et}))}else M(Tt=>({...Tt,comprobante_imagen:null}))},Zr=async()=>{console.log("Iniciando creación de abono:",L);const dt={};if(L.metodo_pago||(dt.metodo_pago="Método de pago es requerido"),(!L.total_pagado||parseFloat(L.total_pagado)<=0)&&(dt.total_pagado="El monto debe ser mayor a 0"),Object.keys(dt).length>0){R(dt),Te("Por favor corrija los errores en el formulario","error");return}const Et={idpedido:f.idVenta,metodopago:L.metodo_pago,cantidadpagar:parseFloat(L.total_pagado),TotalPagado:parseFloat(L.total_pagado)};try{console.log("Creando abono con datos:",Et),console.log("Imagen a subir:",L.comprobante_imagen?"SÍ":"NO");const Tt=await Io.crearAbono(Et,L.comprobante_imagen);if(Te("Abono agregado correctamente","success"),I(!1),M({metodo_pago:"",total_pagado:"",fecha:new Date().toISOString().split("T")[0],comprobante_imagen:null}),R({}),f!=null&&f.idVenta){const Gt=await Io.obtenerVentaPorId(f.idVenta);p(Gt)}}catch(Tt){console.error("Error al agregar abono:",Tt),Te(Tt.message||"Error al agregar abono","error")}},Qt=dt=>{console.log("Viendo detalle del abono:",dt),H(dt),ee(!0)},ln=async dt=>{if(!dt){Te("ID de abono inválido","error");return}try{console.log("Anulando abono ID:",dt),await Io.anularAbono(dt),Te("Abono anulado correctamente","success"),ee(!1),f!=null&&f.idVenta&&await Jt(f)}catch(Et){console.error("Error al anular abono:",Et),Te(Et.message||"Error al anular el abono","error")}},Sn=()=>{N(!1),p(null)};return r?o.createElement("div",{className:"admin-container"},o.createElement("div",{className:"loading-container"},o.createElement(zl,null))):o.createElement("div",{className:"admin-container"},o.createElement(ui,{visible:h.visible,mensaje:h.mensaje,tipo:h.tipo,onClose:Le}),_?o.createElement(WH,{ventaSeleccionada:f,onBackToList:Sn,productosDisponibles:ue}):x?o.createElement(zH,{onBackToList:()=>v(!1),insumosSeleccionados:y,setInsumosSeleccionados:E,ventaData:Pe,setVentaData:_e,handleChange:tr,erroresValidacion:O,setErroresValidacion:R,guardarVenta:hr,mostrarModalInsumos:C,setMostrarModalInsumos:k,toggleNestedDetails:Je,nestedDetailsVisible:me,handleCantidadChange:rr,abrirModalAdiciones:Wr,abrirModalSalsas:Nr,abrirModalRellenos:bt,removeInsumo:gt,removeAdicion:At,removeSalsa:kr,removeRelleno:xr,subtotal:nt,iva:rt,total:Lt,setMostrarAgregarVenta:v,agregarInsumos:ke,mostrarModalAdiciones:K,agregarAdiciones:Re,mostrarModalSalsas:j,agregarSalsas:Qe,mostrarModalRellenos:G,agregarRellenos:jt,setProductoEditandoId:ye,productoEditandoId:ie}):o.createElement(_H,{ventasFiltradas:et,abrirModal:Dt,generarPDFVenta:ct,setVentaSeleccionada:p,setMostrarModalAbonos:Jt,manejarCambioEstado:lr,notification:h,hideNotification:Le,getRowClassName:pt,filtroTipoVenta:re,setFiltroTipoVenta:te,verDetalleVenta:Vt,estadosVenta:je,setFiltro:i,setMostrarAgregarVenta:v}),o.createElement(BH,{visible:s&&c==="anular",onClose:Ut,ventaSeleccionada:f,anularVenta:dr}),o.createElement(qH,{visible:D,onClose:()=>B(!1),ventaSeleccionada:f,abonos:(f==null?void 0:f.abonos)||[],setMostrarModalAgregarAbono:I,verDetalleAbono:Qt,anularAbono:ln}),o.createElement(UH,{visible:z,onClose:()=>{I(!1),R({}),M({metodo_pago:"",total_pagado:"",fecha:new Date().toISOString().split("T")[0],comprobante_imagen:null})},abonoData:L,handleAbonoChange:dt=>{M({...L,[dt.target.name]:dt.target.value}),O[dt.target.name]&&R(Et=>({...Et,[dt.target.name]:""}))},erroresValidacion:O,handleImageUpload:Xr,agregarAbono:Zr,ventaSeleccionada:f}),o.createElement(HH,{visible:J,onClose:()=>ee(!1),abonoSeleccionado:F,anularAbono:()=>ln(F==null?void 0:F.idAbono)}))}const fv=(t,e,r="Natural",n="CC")=>{let a="";switch(t){case"nombre":r==="Natural"&&(e.trim()?e.trim().length<3?a="El nombre debe tener al menos 3 caracteres":e.trim().length>50?a="El nombre no puede tener más de 50 caracteres":/^[A-Za-zÀÁÉÍÓÚÑ àáéíóúñ\s.]+$/.test(e)||(a="El nombre solo puede contener letras, espacios y puntos"):a="El nombre es obligatorio");break;case"nombreEmpresa":r==="Jurídico"&&(e.trim()?e.trim().length<3?a="El nombre de empresa debe tener al menos 3 caracteres":e.trim().length>50&&(a="El nombre de empresa no puede tener más de 50 caracteres"):a="El nombre de empresa es obligatorio");break;case"nombreContacto":r==="Jurídico"&&(e.trim()?e.trim().length<3?a="El nombre del contacto debe tener al menos 3 caracteres":e.trim().length>50?a="El nombre del contacto no puede tener más de 50 caracteres":/^[A-Za-zÀÁÉÍÓÚÑ àáéíóúñ\s.]+$/.test(e)||(a="El nombre del contacto solo puede contener letras, espacios y puntos"):a="El nombre del contacto es obligatorio");break;case"contacto":e.trim()?/^\d+$/.test(e)?e.length<7?a="El teléfono debe tener al menos 7 dígitos":e.length>10&&(a="El teléfono no puede tener más de 10 dígitos"):a="El teléfono debe contener solo números":a="El teléfono es obligatorio";break;case"correo":e.trim()?e.length>50?a="El correo no puede tener más de 50 caracteres":(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||!e.includes("@"))&&(a="Correo no válido"):a="El correo es obligatorio";break;case"direccion":e.trim()?e.trim().length<5?a="La dirección debe tener al menos 5 caracteres":e.trim().length>30&&(a="La dirección no puede tener más de 30 caracteres"):a="La dirección es obligatoria";break;case"documentoONit":const i=r==="Natural"?"Documento":"NIT";e.trim()?/^\d+$/.test(e)?r==="Natural"?e.length<7?a="El documento debe tener al menos 7 dígitos":e.length>10&&(a="El documento no puede tener más de 10 dígitos"):e.length<9?a="El NIT debe tener al menos 9 dígitos":e.length>12&&(a="El NIT no puede tener más de 12 dígitos"):a=`${i} debe contener solo números`:a=`${i} es obligatorio`;break}return a},GH=({tipo:t,proveedor:e,proveedores:r})=>{const[n,a]=b.useState({tipoProveedor:"Natural",nombre:"",contacto:"",correo:"",direccion:"",documentoONit:"",tipoDocumento:"CC",nombreEmpresa:"",nombreContacto:"",estadoProveedor:!0}),[i,s]=b.useState({}),[l,c]=b.useState({});return b.useEffect(()=>{t==="editar"&&e?(console.log("🔧 Inicializando formulario para editar:",e),a({tipoProveedor:e.tipo,nombre:e.tipo==="Natural"&&e.nombreProveedor||"",nombreEmpresa:e.tipo==="Jurídico"&&e.nombreEmpresa||"",nombreContacto:e.tipo==="Jurídico"&&e.nombreProveedor||"",contacto:e.contacto.toString(),correo:e.correo,direccion:e.direccion,documentoONit:e.documento.toString(),tipoDocumento:e.tipoDocumento,estadoProveedor:e.estado})):t==="agregar"&&a({tipoProveedor:"Natural",nombre:"",contacto:"",correo:"",direccion:"",documentoONit:"",tipoDocumento:"CC",nombreEmpresa:"",nombreContacto:"",estadoProveedor:!0}),s({}),c({})},[t,e]),{formData:n,errors:i,touched:l,handleFieldChange:(h,g)=>{if(h==="tipoProveedor"){if(a(x=>({...x,tipoProveedor:g,tipoDocumento:g==="Natural"?"CC":"NIT",nombre:g==="Jurídico"?"":x.nombre,nombreEmpresa:g==="Natural"?"":x.nombreEmpresa,nombreContacto:g==="Natural"?"":x.nombreContacto})),n.documentoONit&&l.documentoONit){const x=fv("documentoONit",n.documentoONit,g);s(v=>({...v,documentoONit:x}))}}else a(x=>({...x,[h]:g}));if(l[h]){const x=fv(h,g,n.tipoProveedor,n.tipoDocumento);s(v=>({...v,[h]:x}))}},handleFieldBlur:(h,g)=>{c(v=>({...v,[h]:!0}));const x=fv(h,g,n.tipoProveedor,n.tipoDocumento);if(s(v=>({...v,[h]:x})),!x&&(t==="agregar"&&(h==="correo"&&r.some(y=>y.correo.toLowerCase()===g.toLowerCase())&&s(y=>({...y,correo:"Ya existe un proveedor con este correo"})),h==="contacto"&&r.some(y=>y.contacto.toString()===g.toString())&&s(y=>({...y,contacto:"Ya existe un proveedor con este teléfono"})),h==="documentoONit"&&r.some(y=>y.documento.toString()===g.toString())&&s(y=>({...y,documentoONit:"Ya existe un proveedor con este documento"})),h==="nombre"&&n.tipoProveedor==="Natural"&&r.some(y=>y.nombre&&y.nombre.toLowerCase()===g.toLowerCase())&&s(y=>({...y,nombre:"Ya existe un proveedor con este nombre"})),h==="nombreEmpresa"&&n.tipoProveedor==="Jurídico"&&r.some(y=>y.nombreEmpresa&&y.nombreEmpresa.toLowerCase()===g.toLowerCase())&&s(y=>({...y,nombreEmpresa:"Ya existe un proveedor con este nombre de empresa"}))),t==="editar"&&e)){const v=e.idProveedor||e.idproveedor;h==="correo"&&r.some(E=>(E.idProveedor||E.idproveedor)!==v&&E.correo.toLowerCase()===g.toLowerCase())&&s(E=>({...E,correo:"Ya existe un proveedor con este correo"})),h==="contacto"&&r.some(E=>(E.idProveedor||E.idproveedor)!==v&&E.contacto.toString()===g.toString())&&s(E=>({...E,contacto:"Ya existe un proveedor con este teléfono"})),h==="documentoONit"&&r.some(E=>(E.idProveedor||E.idproveedor)!==v&&E.documento.toString()===g.toString())&&s(E=>({...E,documentoONit:"Ya existe un proveedor con este documento"})),h==="nombre"&&n.tipoProveedor==="Natural"&&r.some(E=>(E.idProveedor||E.idproveedor)!==v&&E.nombre&&E.nombre.toLowerCase()===g.toLowerCase())&&s(E=>({...E,nombre:"Ya existe un proveedor con este nombre"})),h==="nombreEmpresa"&&n.tipoProveedor==="Jurídico"&&r.some(E=>(E.idProveedor||E.idproveedor)!==v&&E.nombreEmpresa&&E.nombreEmpresa.toLowerCase()===g.toLowerCase())&&s(E=>({...E,nombreEmpresa:"Ya existe un proveedor con este nombre de empresa"}))}},validarCampos:()=>{let h=["contacto","correo","direccion","documentoONit"];n.tipoProveedor==="Natural"?h=[...h,"nombre"]:h=[...h,"nombreEmpresa","nombreContacto"];let g=!1;const x={};if(h.forEach(v=>{let y=n[v];const E=fv(v,y,n.tipoProveedor,n.tipoDocumento);E&&(x[v]=E,g=!0)}),t==="agregar"&&(r.some(C=>C.correo.toLowerCase()===n.correo.toLowerCase())&&(x.correo="Ya existe un proveedor con este correo",g=!0),r.some(C=>C.contacto.toString()===n.contacto.toString())&&(x.contacto="Ya existe un proveedor con este teléfono",g=!0),r.some(C=>C.documento.toString()===n.documentoONit.toString())&&(x.documentoONit="Ya existe un proveedor con este documento",g=!0),n.tipoProveedor==="Natural"&&r.some(k=>k.nombre&&k.nombre.toLowerCase()===n.nombre.toLowerCase())&&(x.nombre="Ya existe un proveedor con este nombre",g=!0),n.tipoProveedor==="Jurídico"&&r.some(k=>k.nombreEmpresa&&k.nombreEmpresa.toLowerCase()===n.nombreEmpresa.toLowerCase())&&(x.nombreEmpresa="Ya existe un proveedor con este nombre de empresa",g=!0)),t==="editar"&&e){const v=e.idProveedor||e.idproveedor;r.some(k=>(k.idProveedor||k.idproveedor)!==v&&k.correo.toLowerCase()===n.correo.toLowerCase())&&(x.correo="Ya existe un proveedor con este correo",g=!0),r.some(k=>(k.idProveedor||k.idproveedor)!==v&&k.contacto.toString()===n.contacto.toString())&&(x.contacto="Ya existe un proveedor con este teléfono",g=!0),r.some(k=>(k.idProveedor||k.idproveedor)!==v&&k.documento.toString()===n.documentoONit.toString())&&(x.documentoONit="Ya existe un proveedor con este documento",g=!0),n.tipoProveedor==="Natural"&&r.some(_=>(_.idProveedor||_.idproveedor)!==v&&_.nombre&&_.nombre.toLowerCase()===n.nombre.toLowerCase())&&(x.nombre="Ya existe un proveedor con este nombre",g=!0),n.tipoProveedor==="Jurídico"&&r.some(_=>(_.idProveedor||_.idproveedor)!==v&&_.nombreEmpresa&&_.nombreEmpresa.toLowerCase()===n.nombreEmpresa.toLowerCase())&&(x.nombreEmpresa="Ya existe un proveedor con este nombre de empresa",g=!0)}return s(x),c(h.reduce((v,y)=>({...v,[y]:!0}),{})),!g}}},KH=({tipo:t,proveedor:e,proveedores:r,onSave:n,onCancel:a,loading:i})=>{const{formData:s,errors:l,handleFieldChange:c,handleFieldBlur:u,validarCampos:f}=GH({tipo:t,proveedor:e,proveedores:r}),p=()=>{f()&&n(s)};return o.createElement(o.Fragment,null,o.createElement("h2",{className:"modal-title"},t==="agregar"?"Agregar Proveedor":"Editar Proveedor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid-wide"},o.createElement("label",null,"Tipo de Proveedor*",o.createElement("select",{value:s.tipoProveedor,onChange:h=>c("tipoProveedor",h.target.value),className:"modal-input",disabled:i},o.createElement("option",{value:"Natural"},"Natural"),o.createElement("option",{value:"Jurídico"},"Jurídico"))),o.createElement("label",null,"Tipo de Documento*",o.createElement("select",{value:s.tipoDocumento,onChange:h=>c("tipoDocumento",h.target.value),className:"modal-input",disabled:i},s.tipoProveedor==="Natural"?o.createElement(o.Fragment,null,o.createElement("option",{value:"CC"},"Cédula de Ciudadanía"),o.createElement("option",{value:"CE"},"Cédula de Extranjería"),o.createElement("option",{value:"TI"},"Tarjeta de Identidad")):o.createElement(o.Fragment,null,o.createElement("option",{value:"NIT"},"NIT"),o.createElement("option",{value:"RUT"},"RUT")))),o.createElement("label",null,s.tipoProveedor==="Natural"?"Número de Documento*":s.tipoDocumento==="RUT"?"RUT*":"NIT*",o.createElement("input",{type:"text",value:s.documentoONit,onChange:h=>c("documentoONit",h.target.value),onBlur:h=>u("documentoONit",h.target.value),className:`modal-input ${l.documentoONit?"error":""}`,placeholder:s.tipoProveedor==="Natural"?"Número de documento":s.tipoDocumento==="RUT"?"Número de RUT":"Número de NIT",maxLength:s.tipoProveedor==="Natural"||s.tipoDocumento==="RUT"?"10":"12",disabled:i}),l.documentoONit&&o.createElement("span",{className:"error-message"},l.documentoONit)),s.tipoProveedor==="Natural"?o.createElement("label",null,"Nombre Completo*",o.createElement("input",{type:"text",value:s.nombre,onChange:h=>c("nombre",h.target.value),onBlur:h=>u("nombre",h.target.value),className:`modal-input ${l.nombre?"error":""}`,placeholder:"Ingrese el nombre completo",disabled:i}),l.nombre&&o.createElement("span",{className:"error-message"},l.nombre)):o.createElement(o.Fragment,null,o.createElement("label",null,"Razón Social*",o.createElement("input",{type:"text",value:s.nombreEmpresa,onChange:h=>c("nombreEmpresa",h.target.value),onBlur:h=>u("nombreEmpresa",h.target.value),className:`modal-input ${l.nombreEmpresa?"error":""}`,placeholder:"Ingrese la razón social",disabled:i}),l.nombreEmpresa&&o.createElement("span",{className:"error-message"},l.nombreEmpresa)),o.createElement("label",null,"Nombre del Contacto*",o.createElement("input",{type:"text",value:s.nombreContacto,onChange:h=>c("nombreContacto",h.target.value),onBlur:h=>u("nombreContacto",h.target.value),className:`modal-input ${l.nombreContacto?"error":""}`,placeholder:"Ingrese el nombre del contacto",disabled:i}),l.nombreContacto&&o.createElement("span",{className:"error-message"},l.nombreContacto))),o.createElement("label",null,"Teléfono*",o.createElement("input",{type:"text",value:s.contacto,onChange:h=>c("contacto",h.target.value),onBlur:h=>u("contacto",h.target.value),className:`modal-input ${l.contacto?"error":""}`,placeholder:"Número de teléfono (7-10 dígitos)",maxLength:"10",disabled:i}),l.contacto&&o.createElement("span",{className:"error-message"},l.contacto)),o.createElement("label",null,"Correo Electrónico*",o.createElement("input",{type:"email",value:s.correo,onChange:h=>c("correo",h.target.value),onBlur:h=>u("correo",h.target.value),className:`modal-input ${l.correo?"error":""}`,placeholder:"ejemplo@correo.com",disabled:i}),l.correo&&o.createElement("span",{className:"error-message"},l.correo)),o.createElement("label",null,"Dirección*",o.createElement("input",{type:"text",value:s.direccion,onChange:h=>c("direccion",h.target.value),onBlur:h=>u("direccion",h.target.value),className:`modal-input ${l.direccion?"error":""}`,placeholder:"Dirección completa",disabled:i}),l.direccion&&o.createElement("span",{className:"error-message"},l.direccion)),t==="editar"&&o.createElement("label",null,"Estado",o.createElement("div",{className:"switch-container",style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"}},o.createElement("span",{style:{color:s.estadoProveedor?"#4CAF50":"#f44336",fontWeight:"bold"}},s.estadoProveedor?"Activo":"Inactivo"),o.createElement(Ro,{checked:s.estadoProveedor,onChange:h=>c("estadoProveedor",h.value),disabled:i}))))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:a,disabled:i},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:p,disabled:i},i?"Guardando...":"Guardar")))},YH=({proveedor:t,onClose:e})=>t?o.createElement(o.Fragment,null,o.createElement("h2",{className:"modal-title"},"Detalles del Proveedor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid-wide"},o.createElement("label",null,"Tipo de Proveedor*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.tipo)),o.createElement("label",null,"Tipo de Documento*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.tipoDocumento)),o.createElement("label",null,t.tipo==="Natural"?"Número de Documento*":t.tipoDocumento==="RUT"?"RUT*":"NIT*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.documento||t.extra)),t.tipo==="Natural"?o.createElement("label",null,"Nombre Completo*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.nombreProveedor||t.nombre)):o.createElement(o.Fragment,null,o.createElement("label",null,"Razón Social*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.nombreEmpresa)),o.createElement("label",null,"Nombre del Contacto*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.nombreProveedor||t.nombreContacto))),o.createElement("label",null,"Teléfono*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.contacto)),o.createElement("label",null,"Correo Electrónico*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.correo)),o.createElement("label",null,"Dirección*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.direccion)),o.createElement("label",null,"Estado",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},o.createElement("span",{style:{color:t.estado?"#4CAF50":"#f44336",fontWeight:"bold"}},t.estado?"Activo":"Inactivo"))))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar"))):null,JH=({mensaje:t,tipo:e,visible:r,onClose:n})=>{if(!r||!t)return null;const a={contenedor:{position:"fixed",top:"20px",right:"20px",backgroundColor:e==="success"?"#d1fae5":"#fee2e2",borderLeft:e==="success"?"4px solid #10b981":"4px solid #ef4444",borderRadius:"8px",padding:"20px 24px",minWidth:"300px",maxWidth:"500px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e4,animation:"slideInRight 0.3s ease-out"},contenido:{display:"flex",alignItems:"center",gap:"12px"},icono:{fontSize:"24px",flexShrink:0},mensaje:{flex:1,color:e==="success"?"#065f46":"#991b1b",fontSize:"14px",fontWeight:"500",lineHeight:"1.5"},botonCerrar:{background:"none",border:"none",fontSize:"24px",color:e==="success"?"#065f46":"#991b1b",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",opacity:.6,transition:"opacity 0.2s",flexShrink:0}};return o.createElement(o.Fragment,null,o.createElement("style",null,`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideDown {
          from { 
            transform: translateY(-20px);
            opacity: 0;
          }
          to { 
            transform: translateY(0);
            opacity: 1;
          }
        }
      `),o.createElement("div",{style:a.overlay,onClick:n},o.createElement("div",{style:a.contenedor,onClick:i=>i.stopPropagation()},o.createElement("div",{style:a.contenido},o.createElement("span",{style:a.icono},e==="success"?"✅":"❌"),o.createElement("span",{style:a.mensaje},t),o.createElement("button",{style:a.botonCerrar,onClick:n,onMouseEnter:i=>i.target.style.opacity="1",onMouseLeave:i=>i.target.style.opacity="0.6"},"×")))))},XH=({proveedor:t,onConfirm:e,onCancel:r,loading:n,alerta:a={visible:!1,mensaje:"",tipo:"success"},cerrarAlerta:i=()=>{}})=>{if(!t)return null;const s=()=>t.tipo==="Natural"?t.nombreProveedor||t.nombre||"Sin nombre":t.nombreEmpresa||"Sin nombre de empresa";return o.createElement(o.Fragment,null,a&&o.createElement(JH,{mensaje:a.mensaje,tipo:a.tipo,visible:a.visible,onClose:i}),o.createElement("h2",{className:"modal-title"},"Confirmar Eliminación"),o.createElement("p",null,"¿Estás seguro de que quieres eliminar al proveedor"," ",o.createElement("strong",null,s()),"?"),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:r,disabled:n},"Cancelar"),o.createElement("button",{className:"modal-btn",onClick:e,disabled:n,style:{backgroundColor:"#ff4081",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:n?"not-allowed":"pointer",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:l=>{n||(l.target.style.backgroundColor="#fbbf24")},onMouseLeave:l=>{l.target.style.backgroundColor="#ff4081"}},n?"Eliminando...":"Eliminar")))},ZH=({tipo:t,proveedor:e,proveedores:r,onClose:n,onSuccess:a})=>{const[i,s]=b.useState(!1),[l,c]=b.useState("Cargando..."),[u,f]=b.useState({visible:!1,mensaje:"",tipo:"success"}),p=(v,y="success")=>{f({visible:!0,mensaje:v,tipo:y}),setTimeout(()=>{f({visible:!1,mensaje:"",tipo:"success"})},3e3)};return{loading:i,mensajeCarga:l,guardarProveedor:async v=>{c(t==="agregar"?"Agregando proveedor...":"Actualizando proveedor..."),s(!0);try{const y={tipodocumento:v.tipoDocumento,documento:v.documentoONit,contacto:v.contacto,correo:v.correo,direccion:v.direccion,estado:v.estadoProveedor,TipoProveedor:v.tipoProveedor,...v.tipoProveedor==="Natural"?{nombreproveedor:v.nombre,nombreempresa:null}:{nombreempresa:v.nombreEmpresa,nombreproveedor:v.nombreContacto}};if(console.log("💾 Datos del proveedor a guardar:",y),t==="agregar")await mf.crearProveedor(y),p("Proveedor agregado exitosamente","success");else if(t==="editar"){const E=e.idProveedor||e.idproveedor;await mf.actualizarProveedor(E,y),p("Proveedor actualizado exitosamente","success")}setTimeout(()=>{a(),n()},1500)}catch(y){console.error("❌ Error al guardar proveedor:",y);let E="Error al guardar el proveedor";y.message&&y.message.includes("integer")&&(E="El teléfono o documento contiene caracteres inválidos"),p(E,"error")}finally{s(!1)}},confirmarEliminar:async()=>{var v;c("Eliminando proveedor..."),s(!0);try{const y=e.idProveedor||e.idproveedor;await mf.eliminarProveedor(y),p("Proveedor eliminado exitosamente","success"),setTimeout(()=>{a(),n()},1500)}catch(y){console.error("❌ Error al eliminar proveedor:",y);const E=JSON.stringify(y).toLowerCase(),C=((v=y.message)==null?void 0:v.toLowerCase())||"";E.includes("foreign key")||E.includes("fkey")||E.includes("compra_idproveedor")||C.includes("foreign key")||C.includes("constraint"),p("No es posible eliminar este proveedor porque está asociado a una o más compras registradas en el sistema","error")}finally{s(!1)}},alerta:u,cerrarAlerta:()=>{f({visible:!1,mensaje:"",tipo:"success"})}}},QH=({visible:t,tipo:e,proveedor:r,proveedores:n,onClose:a,onSuccess:i,loading:s})=>{const l=ZH({tipo:e,proveedor:r,proveedores:n,onClose:a,onSuccess:i});if(!t)return null;const c=()=>{switch(e){case"agregar":case"editar":return o.createElement(KH,{tipo:e,proveedor:r,proveedores:n,onSave:l.guardarProveedor,onCancel:a,loading:l.loading});case"visualizar":return o.createElement(YH,{proveedor:r,onClose:a});case"eliminar":return o.createElement(XH,{proveedor:r,onConfirm:l.confirmarEliminar,onCancel:a,loading:l.loading,alerta:l.alerta,cerrarAlerta:l.cerrarAlerta});default:return null}};return o.createElement(Wn,{visible:t,onClose:a,className:e==="eliminar"?"":"modal-wide"},c())},eW=({proveedor:t,onAction:e,loading:r})=>o.createElement("div",{style:{display:"flex",gap:"5px"}},o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>e("visualizar",t),disabled:r},"👁"),o.createElement("button",{className:`admin-button yellow ${t.estado?"":"disabled"}`,title:"Editar",onClick:()=>t.estado&&e("editar",t),disabled:!t.estado||r,style:{opacity:t.estado?1:.5,cursor:!t.estado||r?"not-allowed":"pointer"}},"✏️"),o.createElement("button",{className:`admin-button red ${t.estado?"":"disabled"}`,title:"Eliminar",onClick:()=>t.estado&&e("eliminar",t),disabled:!t.estado||r,style:{opacity:t.estado?1:.5,cursor:!t.estado||r?"not-allowed":"pointer"}},"🗑️")),tW=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[s,l]=b.useState(!1),c=(h,g="success")=>{i({visible:!0,mensaje:h,tipo:g})};return{proveedores:t,setProveedores:e,filtro:r,setFiltro:n,notification:a,loading:s,setLoading:l,showNotification:c,hideNotification:()=>{i({visible:!1,mensaje:"",tipo:"success"})},cargarProveedores:async()=>{l(!0);try{const h=await mf.obtenerProveedores();e(h)}catch(h){console.error("Error cargando proveedores:",h),c("Error al cargar los proveedores","error")}finally{l(!1)}},toggleEstado:async h=>{var g,x;l(!0);try{console.log("🔄 Cambiando estado de proveedor:",h);const v=h.idProveedor||h.idproveedor;await mf.cambiarEstadoProveedor(v,!h.estado);const y=t.map(E=>E.idProveedor===v||E.idproveedor===v?{...E,estado:!E.estado}:E);e(y),c(`Proveedor ${h.estado?"desactivado":"activado"} exitosamente`)}catch(v){console.error("Error al cambiar estado:",v);const y=((x=(g=v.response)==null?void 0:g.data)==null?void 0:x.message)||v.message||"Error al cambiar el estado del proveedor";c(y,"error")}finally{l(!1)}}}};function rW(){const{proveedores:t,loading:e,filtro:r,setFiltro:n,notification:a,hideNotification:i,toggleEstado:s,cargarProveedores:l}=tW(),[c,u]=b.useState(!1),[f,p]=b.useState(null),[h,g]=b.useState(null);b.useEffect(()=>{l()},[]);const x=(E,C=null)=>{p(E),g(C),u(!0)},v=()=>{u(!1),g(null),p(null)},y=t.filter(E=>{var M,F,H,J,ee,re,te,K,U;const C=r.toLowerCase(),k=((M=E.nombre)==null?void 0:M.toLowerCase())||"",_=((F=E.tipo)==null?void 0:F.toLowerCase())||"",N=((H=E.contacto)==null?void 0:H.toLowerCase())||"",O=((J=E.correo)==null?void 0:J.toLowerCase())||"",R=((ee=E.direccion)==null?void 0:ee.toLowerCase())||"",D=((re=E.tipoDocumento)==null?void 0:re.toLowerCase())||"",B=((te=E.extra)==null?void 0:te.toLowerCase())||"",z=E.estado?"activo":"inactivo",I=((K=E.nombreEmpresa)==null?void 0:K.toLowerCase())||"",L=((U=E.nombreContacto)==null?void 0:U.toLowerCase())||"";return k.includes(C)||_.includes(C)||N.includes(C)||O.includes(C)||R.includes(C)||D.includes(C)||B.includes(C)||z.includes(C)||I.includes(C)||L.includes(C)});return o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:a.visible,mensaje:a.mensaje,tipo:a.tipo,onClose:i}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>x("agregar"),disabled:e},"+ Agregar"),o.createElement($l,{placeholder:"Buscar proveedor...",value:r,onChange:n})),o.createElement("h2",{className:"admin-section-title"}," Gestión de Proveedores"),e?o.createElement("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"}},o.createElement(zl,null)):o.createElement(ps,{value:y,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,20],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:"Mostrando {first} a {last} de {totalRecords} proveedores"},o.createElement(Zt,{header:"N°",headerStyle:{paddingLeft:"1rem"},body:(E,{rowIndex:C})=>C+1,style:{width:"3rem",textAlign:"center"}}),o.createElement(Zt,{field:"nombre",header:"Nombre",headerStyle:{paddingLeft:"3rem"}}),o.createElement(Zt,{field:"tipo",header:"Tipo Proveedor"}),o.createElement(Zt,{field:"contacto",header:"Contacto"}),o.createElement(Zt,{field:"correo",header:"Correo",headerStyle:{paddingLeft:"3rem"}}),o.createElement(Zt,{field:"direccion",header:"Dirección",headerStyle:{paddingLeft:"2rem"}}),o.createElement(Zt,{header:"Estado",body:E=>o.createElement(Ro,{checked:E.estado,onChange:()=>s(E),disabled:e})}),o.createElement(Zt,{header:"Acción",body:E=>o.createElement(eW,{proveedor:E,onAction:x,loading:e})})),o.createElement(QH,{visible:c,tipo:f,proveedor:h,proveedores:t,onClose:v,onSuccess:l,loading:e}))}function E7(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=E7(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function jn(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=E7(t))&&(n&&(n+=" "),n+=e);return n}var n1,y4;function Bs(){if(y4)return n1;y4=1;var t=Array.isArray;return n1=t,n1}var a1,w4;function S7(){if(w4)return a1;w4=1;var t=typeof Wg=="object"&&Wg&&Wg.Object===Object&&Wg;return a1=t,a1}var o1,x4;function nu(){if(x4)return o1;x4=1;var t=S7(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return o1=r,o1}var i1,E4;function dg(){if(E4)return i1;E4=1;var t=nu(),e=t.Symbol;return i1=e,i1}var s1,S4;function nW(){if(S4)return s1;S4=1;var t=dg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var l=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var f=n.call(s);return u&&(l?s[a]=c:delete s[a]),f}return s1=i,s1}var l1,C4;function aW(){if(C4)return l1;C4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return l1=r,l1}var c1,N4;function ju(){if(N4)return c1;N4=1;var t=dg(),e=nW(),r=aW(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return c1=s,c1}var u1,P4;function Du(){if(P4)return u1;P4=1;function t(e){return e!=null&&typeof e=="object"}return u1=t,u1}var d1,k4;function op(){if(k4)return d1;k4=1;var t=ju(),e=Du(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return d1=n,d1}var f1,A4;function YS(){if(A4)return f1;A4=1;var t=Bs(),e=op(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return f1=a,f1}var m1,_4;function Cd(){if(_4)return m1;_4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return m1=t,m1}var p1,O4;function JS(){if(O4)return p1;O4=1;var t=ju(),e=Cd(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return p1=s,p1}var h1,I4;function oW(){if(I4)return h1;I4=1;var t=nu(),e=t["__core-js_shared__"];return h1=e,h1}var g1,T4;function iW(){if(T4)return g1;T4=1;var t=oW(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return g1=r,g1}var v1,R4;function C7(){if(R4)return v1;R4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return v1=r,v1}var b1,L4;function sW(){if(L4)return b1;L4=1;var t=JS(),e=iW(),r=Cd(),n=C7(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(h){if(!r(h)||e(h))return!1;var g=t(h)?f:i;return g.test(n(h))}return b1=p,b1}var y1,j4;function lW(){if(j4)return y1;j4=1;function t(e,r){return e==null?void 0:e[r]}return y1=t,y1}var w1,D4;function Af(){if(D4)return w1;D4=1;var t=sW(),e=lW();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return w1=r,w1}var x1,M4;function rb(){if(M4)return x1;M4=1;var t=Af(),e=t(Object,"create");return x1=e,x1}var E1,F4;function cW(){if(F4)return E1;F4=1;var t=rb();function e(){this.__data__=t?t(null):{},this.size=0}return E1=e,E1}var S1,$4;function uW(){if($4)return S1;$4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return S1=t,S1}var C1,z4;function dW(){if(z4)return C1;z4=1;var t=rb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var l=s[i];return l===e?void 0:l}return n.call(s,i)?s[i]:void 0}return C1=a,C1}var N1,B4;function fW(){if(B4)return N1;B4=1;var t=rb(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return N1=n,N1}var P1,q4;function mW(){if(q4)return P1;q4=1;var t=rb(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return P1=r,P1}var k1,U4;function pW(){if(U4)return k1;U4=1;var t=cW(),e=uW(),r=dW(),n=fW(),a=mW();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,k1=i,k1}var A1,H4;function hW(){if(H4)return A1;H4=1;function t(){this.__data__=[],this.size=0}return A1=t,A1}var _1,W4;function XS(){if(W4)return _1;W4=1;function t(e,r){return e===r||e!==e&&r!==r}return _1=t,_1}var O1,V4;function nb(){if(V4)return O1;V4=1;var t=XS();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return O1=e,O1}var I1,G4;function gW(){if(G4)return I1;G4=1;var t=nb(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var l=i.length-1;return s==l?i.pop():r.call(i,s,1),--this.size,!0}return I1=n,I1}var T1,K4;function vW(){if(K4)return T1;K4=1;var t=nb();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return T1=e,T1}var R1,Y4;function bW(){if(Y4)return R1;Y4=1;var t=nb();function e(r){return t(this.__data__,r)>-1}return R1=e,R1}var L1,J4;function yW(){if(J4)return L1;J4=1;var t=nb();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return L1=e,L1}var j1,X4;function ab(){if(X4)return j1;X4=1;var t=hW(),e=gW(),r=vW(),n=bW(),a=yW();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,j1=i,j1}var D1,Z4;function ZS(){if(Z4)return D1;Z4=1;var t=Af(),e=nu(),r=t(e,"Map");return D1=r,D1}var M1,Q4;function wW(){if(Q4)return M1;Q4=1;var t=pW(),e=ab(),r=ZS();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return M1=n,M1}var F1,e6;function xW(){if(e6)return F1;e6=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return F1=t,F1}var $1,t6;function ob(){if(t6)return $1;t6=1;var t=xW();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return $1=e,$1}var z1,r6;function EW(){if(r6)return z1;r6=1;var t=ob();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return z1=e,z1}var B1,n6;function SW(){if(n6)return B1;n6=1;var t=ob();function e(r){return t(this,r).get(r)}return B1=e,B1}var q1,a6;function CW(){if(a6)return q1;a6=1;var t=ob();function e(r){return t(this,r).has(r)}return q1=e,q1}var U1,o6;function NW(){if(o6)return U1;o6=1;var t=ob();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return U1=e,U1}var H1,i6;function QS(){if(i6)return H1;i6=1;var t=wW(),e=EW(),r=SW(),n=CW(),a=NW();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,H1=i,H1}var W1,s6;function N7(){if(s6)return W1;s6=1;var t=QS(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,s);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,W1=r,W1}var V1,l6;function PW(){if(l6)return V1;l6=1;var t=N7(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return V1=r,V1}var G1,c6;function kW(){if(c6)return G1;c6=1;var t=PW(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,l,c,u){i.push(c?u.replace(r,"$1"):l||s)}),i});return G1=n,G1}var K1,u6;function eC(){if(u6)return K1;u6=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return K1=t,K1}var Y1,d6;function AW(){if(d6)return Y1;d6=1;var t=dg(),e=eC(),r=Bs(),n=op(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Y1=s,Y1}var J1,f6;function P7(){if(f6)return J1;f6=1;var t=AW();function e(r){return r==null?"":t(r)}return J1=e,J1}var X1,m6;function k7(){if(m6)return X1;m6=1;var t=Bs(),e=YS(),r=kW(),n=P7();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return X1=a,X1}var Z1,p6;function ib(){if(p6)return Z1;p6=1;var t=op();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Z1=e,Z1}var Q1,h6;function tC(){if(h6)return Q1;h6=1;var t=k7(),e=ib();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return Q1=r,Q1}var e2,g6;function A7(){if(g6)return e2;g6=1;var t=tC();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return e2=e,e2}var _W=A7();const ml=sa(_W);var t2,v6;function OW(){if(v6)return t2;v6=1;function t(e){return e==null}return t2=t,t2}var IW=OW();const Dn=sa(IW);var r2,b6;function TW(){if(b6)return r2;b6=1;var t=ju(),e=Bs(),r=Du(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return r2=a,r2}var RW=TW();const bf=sa(RW);var LW=JS();const vn=sa(LW);var jW=Cd();const ip=sa(jW);var n2={exports:{}},da={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y6;function DW(){if(y6)return da;y6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function v(y){if(typeof y=="object"&&y!==null){var E=y.$$typeof;switch(E){case t:switch(y=y.type,y){case r:case a:case n:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case l:case s:case c:case h:case p:case i:return y;default:return E}}case e:return E}}}return da.ContextConsumer=s,da.ContextProvider=i,da.Element=t,da.ForwardRef=c,da.Fragment=r,da.Lazy=h,da.Memo=p,da.Portal=e,da.Profiler=a,da.StrictMode=n,da.Suspense=u,da.SuspenseList=f,da.isAsyncMode=function(){return!1},da.isConcurrentMode=function(){return!1},da.isContextConsumer=function(y){return v(y)===s},da.isContextProvider=function(y){return v(y)===i},da.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},da.isForwardRef=function(y){return v(y)===c},da.isFragment=function(y){return v(y)===r},da.isLazy=function(y){return v(y)===h},da.isMemo=function(y){return v(y)===p},da.isPortal=function(y){return v(y)===e},da.isProfiler=function(y){return v(y)===a},da.isStrictMode=function(y){return v(y)===n},da.isSuspense=function(y){return v(y)===u},da.isSuspenseList=function(y){return v(y)===f},da.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===u||y===f||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===p||y.$$typeof===i||y.$$typeof===s||y.$$typeof===c||y.$$typeof===x||y.getModuleId!==void 0)},da.typeOf=v,da}var w6;function MW(){return w6||(w6=1,n2.exports=DW()),n2.exports}var FW=MW(),a2,x6;function _7(){if(x6)return a2;x6=1;var t=ju(),e=Du(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return a2=n,a2}var o2,E6;function $W(){if(E6)return o2;E6=1;var t=_7();function e(r){return t(r)&&r!=+r}return o2=e,o2}var zW=$W();const fg=sa(zW);var BW=_7();const qW=sa(BW);var ds=function(e){return e===0?0:e>0?1:-1},lf=function(e){return bf(e)&&e.indexOf("%")===e.length-1},sr=function(e){return qW(e)&&!fg(e)},Ko=function(e){return sr(e)||bf(e)},UW=0,mg=function(e){var r=++UW;return"".concat(e||"").concat(r)},fs=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!sr(e)&&!bf(e))return n;var i;if(lf(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return fg(i)&&(i=n),a&&i>r&&(i=r),i},dd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},HW=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ld=function(e,r){return sr(e)&&sr(r)?function(n){return e+n*(r-e)}:function(){return r}};function u5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ml(n,e))===r})}var WW=function(e,r){return sr(e)&&sr(r)?e-r:bf(e)&&bf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function km(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function d5(t){"@babel/helpers - typeof";return d5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d5(t)}var VW=["viewBox","children"],GW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],S6=["points","pathLength"],i2={svg:VW,polygon:S6,polyline:S6},rC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!ip(n))return null;var a={};return Object.keys(n).forEach(function(i){rC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},KW=function(e,r,n){return function(a){return e(r,n,a),null}},yf=function(e,r,n){if(!ip(e)||d5(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];rC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=KW(s,r,n))}),a},YW=["children"],JW=["children"];function C6(t,e){if(t==null)return{};var r=XW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},P6=null,s2=null,nC=function t(e){if(e===P6&&Array.isArray(s2))return s2;var r=[];return b.Children.forEach(e,function(n){Dn(n)||(FW.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),s2=r,P6=e,r};function Dl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Pu(a)}):n=[Pu(e)],nC(t).forEach(function(a){var i=ml(a,"type.displayName")||ml(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ul(t,e){var r=Dl(t,e);return r&&r[0]}var k6=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!sr(n)||n<=0||!sr(a)||a<=0)},ZW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QW=function(e){return e&&e.type&&bf(e.type)&&ZW.indexOf(e.type)>=0},eV=function(e,r,n,a){var i,s=(i=i2==null?void 0:i2[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!vn(e)&&(a&&s.includes(r)||GW.includes(r))||n&&rC.includes(r)},fn=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(b.isValidElement(e)&&(a=e.props),!ip(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;eV((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},f5=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return A6(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!A6(i,s))return!1}return!0},A6=function(e,r){if(Dn(e)&&Dn(r))return!0;if(!Dn(e)&&!Dn(r)){var n=e.props||{},a=n.children,i=C6(n,YW),s=r.props||{},l=s.children,c=C6(s,JW);return a&&l?km(i,c)&&f5(a,l):!a&&!l?km(i,c):!1}return!1},_6=function(e,r){var n=[],a={};return nC(e).forEach(function(i,s){if(QW(i))n.push(i);else if(i){var l=Pu(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var p=u(i,l,s);n.push(p),a[l]=!0}}}),n},tV=function(e){var r=e&&e.type;return r&&N6[r]?N6[r]:null},rV=function(e,r){return nC(r).indexOf(e)},nV=["children","width","height","viewBox","className","style","title","desc"];function m5(){return m5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m5.apply(this,arguments)}function aV(t,e){if(t==null)return{};var r=oV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function p5(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,l=t.title,c=t.desc,u=aV(t,nV),f=a||{width:r,height:n,x:0,y:0},p=jn("recharts-surface",i);return o.createElement("svg",m5({},fn(u,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),o.createElement("title",null,l),o.createElement("desc",null,c),e)}var iV=["children","className"];function h5(){return h5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h5.apply(this,arguments)}function sV(t,e){if(t==null)return{};var r=lV(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var va=o.forwardRef(function(t,e){var r=t.children,n=t.className,a=sV(t,iV),i=jn("recharts-layer",n);return o.createElement("g",h5({className:i},fn(a,!0),{ref:e}),r)}),kc=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},l2,O6;function cV(){if(O6)return l2;O6=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return l2=t,l2}var c2,I6;function uV(){if(I6)return c2;I6=1;var t=cV();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return c2=e,c2}var u2,T6;function O7(){if(T6)return u2;T6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+a+i+"]");function c(u){return l.test(u)}return u2=c,u2}var d2,R6;function dV(){if(R6)return d2;R6=1;function t(e){return e.split("")}return d2=t,d2}var f2,L6;function fV(){if(L6)return f2;L6=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=u+"?",v="["+i+"]?",y="(?:"+g+"(?:"+[f,p,h].join("|")+")"+v+x+")*",E=v+x+y,C="(?:"+[f+l+"?",l,p,h,s].join("|")+")",k=RegExp(c+"(?="+c+")|"+C+E,"g");function _(N){return N.match(k)||[]}return f2=_,f2}var m2,j6;function mV(){if(j6)return m2;j6=1;var t=dV(),e=O7(),r=fV();function n(a){return e(a)?r(a):t(a)}return m2=n,m2}var p2,D6;function pV(){if(D6)return p2;D6=1;var t=uV(),e=O7(),r=mV(),n=P7();function a(i){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),u=l?t(l,1).join(""):s.slice(1);return c[i]()+u}}return p2=a,p2}var h2,M6;function hV(){if(M6)return h2;M6=1;var t=pV(),e=t("toUpperCase");return h2=e,h2}var gV=hV();const sb=sa(gV);function Fa(t){return function(){return t}}const I7=Math.cos,Gv=Math.sin,Oc=Math.sqrt,Kv=Math.PI,lb=2*Kv,g5=Math.PI,v5=2*g5,Qd=1e-6,vV=v5-Qd;function T7(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function bV(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return T7;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class yV{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?T7:bV(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-e,u=a-r,f=s-e,p=l-r,h=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Qd)if(!(Math.abs(p*c-u*f)>Qd)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-s,x=a-l,v=c*c+u*u,y=g*g+x*x,E=Math.sqrt(v),C=Math.sqrt(h),k=i*Math.tan((g5-Math.acos((v+h-y)/(2*E*C)))/2),_=k/C,N=k/E;Math.abs(_-1)>Qd&&this._append`L${e+_*f},${r+_*p}`,this._append`A${i},${i},0,0,${+(p*g>f*x)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,f=r+c,p=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Qd||Math.abs(this._y1-f)>Qd)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%v5+v5),h>vV?this._append`A${n},${n},0,1,${p},${e-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:h>Qd&&this._append`A${n},${n},0,${+(h>=g5)},${p},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function aC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new yV(e)}function oC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function R7(t){this._context=t}R7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cb(t){return new R7(t)}function L7(t){return t[0]}function j7(t){return t[1]}function D7(t,e){var r=Fa(!0),n=null,a=cb,i=null,s=aC(l);t=typeof t=="function"?t:t===void 0?L7:Fa(t),e=typeof e=="function"?e:e===void 0?j7:Fa(e);function l(c){var u,f=(c=oC(c)).length,p,h=!1,g;for(n==null&&(i=a(g=s())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(p,u,c),+e(p,u,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Fa(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Fa(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Fa(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function mv(t,e,r){var n=null,a=Fa(!0),i=null,s=cb,l=null,c=aC(u);t=typeof t=="function"?t:t===void 0?L7:Fa(+t),e=typeof e=="function"?e:Fa(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?j7:Fa(+r);function u(p){var h,g,x,v=(p=oC(p)).length,y,E=!1,C,k=new Array(v),_=new Array(v);for(i==null&&(l=s(C=c())),h=0;h<=v;++h){if(!(h<v&&a(y=p[h],h,p))===E)if(E=!E)g=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=g;--x)l.point(k[x],_[x]);l.lineEnd(),l.areaEnd()}E&&(k[h]=+t(y,h,p),_[h]=+e(y,h,p),l.point(n?+n(y,h,p):k[h],r?+r(y,h,p):_[h]))}if(C)return l=null,C+""||null}function f(){return D7().defined(a).curve(s).context(i)}return u.x=function(p){return arguments.length?(t=typeof p=="function"?p:Fa(+p),n=null,u):t},u.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Fa(+p),u):t},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Fa(+p),u):n},u.y=function(p){return arguments.length?(e=typeof p=="function"?p:Fa(+p),r=null,u):e},u.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Fa(+p),u):e},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Fa(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Fa(!!p),u):a},u.curve=function(p){return arguments.length?(s=p,i!=null&&(l=s(i)),u):s},u.context=function(p){return arguments.length?(p==null?i=l=null:l=s(i=p),u):i},u}class M7{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function wV(t){return new M7(t,!0)}function xV(t){return new M7(t,!1)}const iC={draw(t,e){const r=Oc(e/Kv);t.moveTo(r,0),t.arc(0,0,r,0,lb)}},EV={draw(t,e){const r=Oc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},F7=Oc(1/3),SV=F7*2,CV={draw(t,e){const r=Oc(e/SV),n=r*F7;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},NV={draw(t,e){const r=Oc(e),n=-r/2;t.rect(n,n,r,r)}},PV=.8908130915292852,$7=Gv(Kv/10)/Gv(7*Kv/10),kV=Gv(lb/10)*$7,AV=-I7(lb/10)*$7,_V={draw(t,e){const r=Oc(e*PV),n=kV*r,a=AV*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=lb*i/5,l=I7(s),c=Gv(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},g2=Oc(3),OV={draw(t,e){const r=-Oc(e/(g2*3));t.moveTo(0,r*2),t.lineTo(-g2*r,-r),t.lineTo(g2*r,-r),t.closePath()}},Tl=-.5,Rl=Oc(3)/2,b5=1/Oc(12),IV=(b5/2+1)*3,TV={draw(t,e){const r=Oc(e/IV),n=r/2,a=r*b5,i=n,s=r*b5+r,l=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(l,c),t.lineTo(Tl*n-Rl*a,Rl*n+Tl*a),t.lineTo(Tl*i-Rl*s,Rl*i+Tl*s),t.lineTo(Tl*l-Rl*c,Rl*l+Tl*c),t.lineTo(Tl*n+Rl*a,Tl*a-Rl*n),t.lineTo(Tl*i+Rl*s,Tl*s-Rl*i),t.lineTo(Tl*l+Rl*c,Tl*c-Rl*l),t.closePath()}};function RV(t,e){let r=null,n=aC(a);t=typeof t=="function"?t:Fa(t||iC),e=typeof e=="function"?e:Fa(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Fa(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Fa(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Yv(){}function Jv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function z7(t){this._context=t}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LV(t){return new z7(t)}function B7(t){this._context=t}B7.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jV(t){return new B7(t)}function q7(t){this._context=t}q7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DV(t){return new q7(t)}function U7(t){this._context=t}U7.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function MV(t){return new U7(t)}function F6(t){return t<0?-1:1}function $6(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(F6(i)+F6(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function z6(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function v2(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,s-l*r,i,s)}function Xv(t){this._context=t}Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v2(this,this._t0,z6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,v2(this,z6(this,r=$6(this,t,e)),r);break;default:v2(this,this._t0,r=$6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function H7(t){this._context=new W7(t)}(H7.prototype=Object.create(Xv.prototype)).point=function(t,e){Xv.prototype.point.call(this,e,t)};function W7(t){this._context=t}W7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function FV(t){return new Xv(t)}function $V(t){return new H7(t)}function V7(t){this._context=t}V7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=B6(t),a=B6(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function B6(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function zV(t){return new V7(t)}function ub(t,e){this._context=t,this._t=e}ub.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function BV(t){return new ub(t,.5)}function qV(t){return new ub(t,0)}function UV(t){return new ub(t,1)}function Rm(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,l=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function y5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function HV(t,e){return t[e]}function WV(t){const e=[];return e.key=t,e}function VV(){var t=Fa([]),e=y5,r=Rm,n=HV;function a(i){var s=Array.from(t.apply(this,arguments),WV),l,c=s.length,u=-1,f;for(const p of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(p,s[l].key,u,i)]).data=p;for(l=0,f=oC(e(s));l<c;++l)s[f[l]].index=l;return r(s,f),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Fa(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Fa(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?y5:typeof i=="function"?i:Fa(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Rm,a):r},a}function GV(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Rm(t,e)}}function KV(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rm(t,e)}}function YV(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var f=t[e[l]],p=f[n][1]||0,h=f[n-1][1]||0,g=(p-h)/2,x=0;x<l;++x){var v=t[e[x]],y=v[n][1]||0,E=v[n-1][1]||0;g+=y-E}c+=p,u+=g*p}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Rm(t,e)}}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}var JV=["type","size","sizeType"];function w5(){return w5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w5.apply(this,arguments)}function q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(r),!0).forEach(function(n){XV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XV(t,e,r){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZV(t){var e=QV(t,"string");return kh(e)=="symbol"?e:e+""}function QV(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eG(t,e){if(t==null)return{};var r=tG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var G7={symbolCircle:iC,symbolCross:EV,symbolDiamond:CV,symbolSquare:NV,symbolStar:_V,symbolTriangle:OV,symbolWye:TV},rG=Math.PI/180,nG=function(e){var r="symbol".concat(sb(e));return G7[r]||iC},aG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*rG;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oG=function(e,r){G7["symbol".concat(sb(e))]=r},sC=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,l=s===void 0?"area":s,c=eG(e,JV),u=U6(U6({},c),{},{type:n,size:i,sizeType:l}),f=function(){var y=nG(n),E=RV().type(y).size(aG(i,l,n));return E()},p=u.className,h=u.cx,g=u.cy,x=fn(u,!0);return h===+h&&g===+g&&i===+i?o.createElement("path",w5({},x,{className:jn("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(g,")"),d:f()})):null};sC.registerSymbol=oG;function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function x5(){return x5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x5.apply(this,arguments)}function H6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H6(Object(r),!0).forEach(function(n){Ah(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y7(n.key),n)}}function cG(t,e,r){return e&&lG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uG(t,e,r){return e=Zv(e),dG(t,K7()?Reflect.construct(e,r||[],Zv(t).constructor):e.apply(t,r))}function dG(t,e){if(e&&(Lm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fG(t)}function fG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function Zv(t){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zv(t)}function mG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E5(t,e)}function E5(t,e){return E5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E5(t,e)}function Ah(t,e,r){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y7(t){var e=pG(t,"string");return Lm(e)=="symbol"?e:e+""}function pG(t,e){if(Lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yc=32,lC=function(t){function e(){return sG(this,e),uG(this,e,arguments)}return mG(e,t),cG(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=yc/2,s=yc/6,l=yc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return o.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:yc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return o.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(yc,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return o.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(yc/8,"h").concat(yc,"v").concat(yc*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(n.legendIcon)){var u=iG({},n);return delete u.legendIcon,o.cloneElement(n.legendIcon,u)}return o.createElement(sC,{fill:c,cx:i,cy:i,size:yc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:yc,height:yc},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,x){var v=g.formatter||c,y=jn(Ah(Ah({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var E=vn(g.value)?null:g.value;kc(!vn(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=g.inactive?u:g.color;return o.createElement("li",x5({className:y,style:p,key:"legend-item-".concat(x)},yf(n.props,g,x)),o.createElement(p5,{width:s,height:s,viewBox:f,style:h},n.renderIcon(g)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},v?v(E,g,x):E))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);Ah(lC,"displayName","Legend");Ah(lC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var b2,W6;function hG(){if(W6)return b2;W6=1;var t=ab();function e(){this.__data__=new t,this.size=0}return b2=e,b2}var y2,V6;function gG(){if(V6)return y2;V6=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return y2=t,y2}var w2,G6;function vG(){if(G6)return w2;G6=1;function t(e){return this.__data__.get(e)}return w2=t,w2}var x2,K6;function bG(){if(K6)return x2;K6=1;function t(e){return this.__data__.has(e)}return x2=t,x2}var E2,Y6;function yG(){if(Y6)return E2;Y6=1;var t=ab(),e=ZS(),r=QS(),n=200;function a(i,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,s),this.size=l.size,this}return E2=a,E2}var S2,J6;function J7(){if(J6)return S2;J6=1;var t=ab(),e=hG(),r=gG(),n=vG(),a=bG(),i=yG();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,S2=s,S2}var C2,X6;function wG(){if(X6)return C2;X6=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return C2=e,C2}var N2,Z6;function xG(){if(Z6)return N2;Z6=1;function t(e){return this.__data__.has(e)}return N2=t,N2}var P2,Q6;function X7(){if(Q6)return P2;Q6=1;var t=QS(),e=wG(),r=xG();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,P2=n,P2}var k2,ek;function Z7(){if(ek)return k2;ek=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return k2=t,k2}var A2,tk;function Q7(){if(tk)return A2;tk=1;function t(e,r){return e.has(r)}return A2=t,A2}var _2,rk;function eR(){if(rk)return _2;rk=1;var t=X7(),e=Z7(),r=Q7(),n=1,a=2;function i(s,l,c,u,f,p){var h=c&n,g=s.length,x=l.length;if(g!=x&&!(h&&x>g))return!1;var v=p.get(s),y=p.get(l);if(v&&y)return v==l&&y==s;var E=-1,C=!0,k=c&a?new t:void 0;for(p.set(s,l),p.set(l,s);++E<g;){var _=s[E],N=l[E];if(u)var O=h?u(N,_,E,l,s,p):u(_,N,E,s,l,p);if(O!==void 0){if(O)continue;C=!1;break}if(k){if(!e(l,function(R,D){if(!r(k,D)&&(_===R||f(_,R,c,u,p)))return k.push(D)})){C=!1;break}}else if(!(_===N||f(_,N,c,u,p))){C=!1;break}}return p.delete(s),p.delete(l),C}return _2=i,_2}var O2,nk;function EG(){if(nk)return O2;nk=1;var t=nu(),e=t.Uint8Array;return O2=e,O2}var I2,ak;function SG(){if(ak)return I2;ak=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return I2=t,I2}var T2,ok;function cC(){if(ok)return T2;ok=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return T2=t,T2}var R2,ik;function CG(){if(ik)return R2;ik=1;var t=dg(),e=EG(),r=XS(),n=eR(),a=SG(),i=cC(),s=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",h="[object Number]",g="[object RegExp]",x="[object Set]",v="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",C="[object DataView]",k=t?t.prototype:void 0,_=k?k.valueOf:void 0;function N(O,R,D,B,z,I,L){switch(D){case C:if(O.byteLength!=R.byteLength||O.byteOffset!=R.byteOffset)return!1;O=O.buffer,R=R.buffer;case E:return!(O.byteLength!=R.byteLength||!I(new e(O),new e(R)));case c:case u:case h:return r(+O,+R);case f:return O.name==R.name&&O.message==R.message;case g:case v:return O==R+"";case p:var M=a;case x:var F=B&s;if(M||(M=i),O.size!=R.size&&!F)return!1;var H=L.get(O);if(H)return H==R;B|=l,L.set(O,R);var J=n(M(O),M(R),B,z,I,L);return L.delete(O),J;case y:if(_)return _.call(O)==_.call(R)}return!1}return R2=N,R2}var L2,sk;function tR(){if(sk)return L2;sk=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return L2=t,L2}var j2,lk;function NG(){if(lk)return j2;lk=1;var t=tR(),e=Bs();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return j2=r,j2}var D2,ck;function PG(){if(ck)return D2;ck=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var l=e[n];r(l,n,e)&&(s[i++]=l)}return s}return D2=t,D2}var M2,uk;function kG(){if(uk)return M2;uk=1;function t(){return[]}return M2=t,M2}var F2,dk;function AG(){if(dk)return F2;dk=1;var t=PG(),e=kG(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(l){return n.call(s,l)}))}:e;return F2=i,F2}var $2,fk;function _G(){if(fk)return $2;fk=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return $2=t,$2}var z2,mk;function OG(){if(mk)return z2;mk=1;var t=ju(),e=Du(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return z2=n,z2}var B2,pk;function uC(){if(pk)return B2;pk=1;var t=OG(),e=Du(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return B2=i,B2}var qp={exports:{}},q2,hk;function IG(){if(hk)return q2;hk=1;function t(){return!1}return q2=t,q2}qp.exports;var gk;function rR(){return gk||(gk=1,function(t,e){var r=nu(),n=IG(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(qp,qp.exports)),qp.exports}var U2,vk;function dC(){if(vk)return U2;vk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return U2=r,U2}var H2,bk;function fC(){if(bk)return H2;bk=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return H2=e,H2}var W2,yk;function TG(){if(yk)return W2;yk=1;var t=ju(),e=fC(),r=Du(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",h="[object RegExp]",g="[object Set]",x="[object String]",v="[object WeakMap]",y="[object ArrayBuffer]",E="[object DataView]",C="[object Float32Array]",k="[object Float64Array]",_="[object Int8Array]",N="[object Int16Array]",O="[object Int32Array]",R="[object Uint8Array]",D="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",I={};I[C]=I[k]=I[_]=I[N]=I[O]=I[R]=I[D]=I[B]=I[z]=!0,I[n]=I[a]=I[y]=I[i]=I[E]=I[s]=I[l]=I[c]=I[u]=I[f]=I[p]=I[h]=I[g]=I[x]=I[v]=!1;function L(M){return r(M)&&e(M.length)&&!!I[t(M)]}return W2=L,W2}var V2,wk;function nR(){if(wk)return V2;wk=1;function t(e){return function(r){return e(r)}}return V2=t,V2}var Up={exports:{}};Up.exports;var xk;function RG(){return xk||(xk=1,function(t,e){var r=S7(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(Up,Up.exports)),Up.exports}var G2,Ek;function aR(){if(Ek)return G2;Ek=1;var t=TG(),e=nR(),r=RG(),n=r&&r.isTypedArray,a=n?e(n):t;return G2=a,G2}var K2,Sk;function LG(){if(Sk)return K2;Sk=1;var t=_G(),e=uC(),r=Bs(),n=rR(),a=dC(),i=aR(),s=Object.prototype,l=s.hasOwnProperty;function c(u,f){var p=r(u),h=!p&&e(u),g=!p&&!h&&n(u),x=!p&&!h&&!g&&i(u),v=p||h||g||x,y=v?t(u.length,String):[],E=y.length;for(var C in u)(f||l.call(u,C))&&!(v&&(C=="length"||g&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,E)))&&y.push(C);return y}return K2=c,K2}var Y2,Ck;function jG(){if(Ck)return Y2;Ck=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Y2=e,Y2}var J2,Nk;function oR(){if(Nk)return J2;Nk=1;function t(e,r){return function(n){return e(r(n))}}return J2=t,J2}var X2,Pk;function DG(){if(Pk)return X2;Pk=1;var t=oR(),e=t(Object.keys,Object);return X2=e,X2}var Z2,kk;function MG(){if(kk)return Z2;kk=1;var t=jG(),e=DG(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&s.push(l);return s}return Z2=a,Z2}var Q2,Ak;function pg(){if(Ak)return Q2;Ak=1;var t=JS(),e=fC();function r(n){return n!=null&&e(n.length)&&!t(n)}return Q2=r,Q2}var ew,_k;function db(){if(_k)return ew;_k=1;var t=LG(),e=MG(),r=pg();function n(a){return r(a)?t(a):e(a)}return ew=n,ew}var tw,Ok;function FG(){if(Ok)return tw;Ok=1;var t=NG(),e=AG(),r=db();function n(a){return t(a,r,e)}return tw=n,tw}var rw,Ik;function $G(){if(Ik)return rw;Ik=1;var t=FG(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,l,c,u,f){var p=l&e,h=t(i),g=h.length,x=t(s),v=x.length;if(g!=v&&!p)return!1;for(var y=g;y--;){var E=h[y];if(!(p?E in s:n.call(s,E)))return!1}var C=f.get(i),k=f.get(s);if(C&&k)return C==s&&k==i;var _=!0;f.set(i,s),f.set(s,i);for(var N=p;++y<g;){E=h[y];var O=i[E],R=s[E];if(c)var D=p?c(R,O,E,s,i,f):c(O,R,E,i,s,f);if(!(D===void 0?O===R||u(O,R,l,c,f):D)){_=!1;break}N||(N=E=="constructor")}if(_&&!N){var B=i.constructor,z=s.constructor;B!=z&&"constructor"in i&&"constructor"in s&&!(typeof B=="function"&&B instanceof B&&typeof z=="function"&&z instanceof z)&&(_=!1)}return f.delete(i),f.delete(s),_}return rw=a,rw}var nw,Tk;function zG(){if(Tk)return nw;Tk=1;var t=Af(),e=nu(),r=t(e,"DataView");return nw=r,nw}var aw,Rk;function BG(){if(Rk)return aw;Rk=1;var t=Af(),e=nu(),r=t(e,"Promise");return aw=r,aw}var ow,Lk;function iR(){if(Lk)return ow;Lk=1;var t=Af(),e=nu(),r=t(e,"Set");return ow=r,ow}var iw,jk;function qG(){if(jk)return iw;jk=1;var t=Af(),e=nu(),r=t(e,"WeakMap");return iw=r,iw}var sw,Dk;function UG(){if(Dk)return sw;Dk=1;var t=zG(),e=ZS(),r=BG(),n=iR(),a=qG(),i=ju(),s=C7(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",g=s(t),x=s(e),v=s(r),y=s(n),E=s(a),C=i;return(t&&C(new t(new ArrayBuffer(1)))!=h||e&&C(new e)!=l||r&&C(r.resolve())!=u||n&&C(new n)!=f||a&&C(new a)!=p)&&(C=function(k){var _=i(k),N=_==c?k.constructor:void 0,O=N?s(N):"";if(O)switch(O){case g:return h;case x:return l;case v:return u;case y:return f;case E:return p}return _}),sw=C,sw}var lw,Mk;function HG(){if(Mk)return lw;Mk=1;var t=J7(),e=eR(),r=CG(),n=$G(),a=UG(),i=Bs(),s=rR(),l=aR(),c=1,u="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype,g=h.hasOwnProperty;function x(v,y,E,C,k,_){var N=i(v),O=i(y),R=N?f:a(v),D=O?f:a(y);R=R==u?p:R,D=D==u?p:D;var B=R==p,z=D==p,I=R==D;if(I&&s(v)){if(!s(y))return!1;N=!0,B=!1}if(I&&!B)return _||(_=new t),N||l(v)?e(v,y,E,C,k,_):r(v,y,R,E,C,k,_);if(!(E&c)){var L=B&&g.call(v,"__wrapped__"),M=z&&g.call(y,"__wrapped__");if(L||M){var F=L?v.value():v,H=M?y.value():y;return _||(_=new t),k(F,H,E,C,_)}}return I?(_||(_=new t),n(v,y,E,C,k,_)):!1}return lw=x,lw}var cw,Fk;function mC(){if(Fk)return cw;Fk=1;var t=HG(),e=Du();function r(n,a,i,s,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,l)}return cw=r,cw}var uw,$k;function WG(){if($k)return uw;$k=1;var t=J7(),e=mC(),r=1,n=2;function a(i,s,l,c){var u=l.length,f=u,p=!c;if(i==null)return!f;for(i=Object(i);u--;){var h=l[u];if(p&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<f;){h=l[u];var g=h[0],x=i[g],v=h[1];if(p&&h[2]){if(x===void 0&&!(g in i))return!1}else{var y=new t;if(c)var E=c(x,v,g,i,s,y);if(!(E===void 0?e(v,x,r|n,c,y):E))return!1}}return!0}return uw=a,uw}var dw,zk;function sR(){if(zk)return dw;zk=1;var t=Cd();function e(r){return r===r&&!t(r)}return dw=e,dw}var fw,Bk;function VG(){if(Bk)return fw;Bk=1;var t=sR(),e=db();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],l=n[s];a[i]=[s,l,t(l)]}return a}return fw=r,fw}var mw,qk;function lR(){if(qk)return mw;qk=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return mw=t,mw}var pw,Uk;function GG(){if(Uk)return pw;Uk=1;var t=WG(),e=VG(),r=lR();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return pw=n,pw}var hw,Hk;function KG(){if(Hk)return hw;Hk=1;function t(e,r){return e!=null&&r in Object(e)}return hw=t,hw}var gw,Wk;function YG(){if(Wk)return gw;Wk=1;var t=k7(),e=uC(),r=Bs(),n=dC(),a=fC(),i=ib();function s(l,c,u){c=t(c,l);for(var f=-1,p=c.length,h=!1;++f<p;){var g=i(c[f]);if(!(h=l!=null&&u(l,g)))break;l=l[g]}return h||++f!=p?h:(p=l==null?0:l.length,!!p&&a(p)&&n(g,p)&&(r(l)||e(l)))}return gw=s,gw}var vw,Vk;function JG(){if(Vk)return vw;Vk=1;var t=KG(),e=YG();function r(n,a){return n!=null&&e(n,a,t)}return vw=r,vw}var bw,Gk;function XG(){if(Gk)return bw;Gk=1;var t=mC(),e=A7(),r=JG(),n=YS(),a=sR(),i=lR(),s=ib(),l=1,c=2;function u(f,p){return n(f)&&a(p)?i(s(f),p):function(h){var g=e(h,f);return g===void 0&&g===p?r(h,f):t(p,g,l|c)}}return bw=u,bw}var yw,Kk;function sp(){if(Kk)return yw;Kk=1;function t(e){return e}return yw=t,yw}var ww,Yk;function ZG(){if(Yk)return ww;Yk=1;function t(e){return function(r){return r==null?void 0:r[e]}}return ww=t,ww}var xw,Jk;function QG(){if(Jk)return xw;Jk=1;var t=tC();function e(r){return function(n){return t(n,r)}}return xw=e,xw}var Ew,Xk;function eK(){if(Xk)return Ew;Xk=1;var t=ZG(),e=QG(),r=YS(),n=ib();function a(i){return r(i)?t(n(i)):e(i)}return Ew=a,Ew}var Sw,Zk;function au(){if(Zk)return Sw;Zk=1;var t=GG(),e=XG(),r=sp(),n=Bs(),a=eK();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return Sw=i,Sw}var Cw,Qk;function cR(){if(Qk)return Cw;Qk=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return Cw=t,Cw}var Nw,eA;function tK(){if(eA)return Nw;eA=1;function t(e){return e!==e}return Nw=t,Nw}var Pw,tA;function rK(){if(tA)return Pw;tA=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Pw=t,Pw}var kw,rA;function nK(){if(rA)return kw;rA=1;var t=cR(),e=tK(),r=rK();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return kw=n,kw}var Aw,nA;function aK(){if(nA)return Aw;nA=1;var t=nK();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Aw=e,Aw}var _w,aA;function oK(){if(aA)return _w;aA=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return _w=t,_w}var Ow,oA;function iK(){if(oA)return Ow;oA=1;function t(){}return Ow=t,Ow}var Iw,iA;function sK(){if(iA)return Iw;iA=1;var t=iR(),e=iK(),r=cC(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Iw=a,Iw}var Tw,sA;function lK(){if(sA)return Tw;sA=1;var t=X7(),e=aK(),r=oK(),n=Q7(),a=sK(),i=cC(),s=200;function l(c,u,f){var p=-1,h=e,g=c.length,x=!0,v=[],y=v;if(f)x=!1,h=r;else if(g>=s){var E=u?null:a(c);if(E)return i(E);x=!1,h=n,y=new t}else y=u?[]:v;e:for(;++p<g;){var C=c[p],k=u?u(C):C;if(C=f||C!==0?C:0,x&&k===k){for(var _=y.length;_--;)if(y[_]===k)continue e;u&&y.push(k),v.push(C)}else h(y,k,f)||(y!==v&&y.push(k),v.push(C))}return v}return Tw=l,Tw}var Rw,lA;function cK(){if(lA)return Rw;lA=1;var t=au(),e=lK();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Rw=r,Rw}var uK=cK();const cA=sa(uK);function uR(t,e,r){return e===!0?cA(t,r):vn(e)?cA(t,e):t}function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}var dK=["ref"];function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){fb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fR(n.key),n)}}function mK(t,e,r){return e&&dA(t.prototype,e),r&&dA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pK(t,e,r){return e=Qv(e),hK(t,dR()?Reflect.construct(e,r||[],Qv(t).constructor):e.apply(t,r))}function hK(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gK(t)}function gK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dR=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(t)}function vK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S5(t,e)}function S5(t,e){return S5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S5(t,e)}function fb(t,e,r){return e=fR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fR(t){var e=bK(t,"string");return jm(e)=="symbol"?e:e+""}function bK(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yK(t,e){if(t==null)return{};var r=wK(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xK(t){return t.value}function EK(t,e){if(o.isValidElement(t))return o.cloneElement(t,e);if(typeof t=="function")return o.createElement(t,e);e.ref;var r=yK(e,dK);return o.createElement(lC,r)}var fA=1,hf=function(t){function e(){var r;fK(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pK(this,e,[].concat(a)),fb(r,"lastBoundingBox",{width:-1,height:-1}),r}return vK(e,t),mK(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>fA||Math.abs(a.height-this.lastBoundingBox.height)>fA)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,p,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();p={left:((u||0)-g.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((f||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return vu(vu({},p),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,p=vu(vu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return o.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(g){n.wrapperNode=g}},EK(i,vu(vu({},this.props),{},{payload:uR(f,u,xK)})))}}],[{key:"getWithHeight",value:function(n,a){var i=vu(vu({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&sr(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(b.PureComponent);fb(hf,"displayName","Legend");fb(hf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Lw,mA;function SK(){if(mA)return Lw;mA=1;var t=dg(),e=uC(),r=Bs(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return Lw=a,Lw}var jw,pA;function mR(){if(pA)return jw;pA=1;var t=tR(),e=SK();function r(n,a,i,s,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var f=n[c];a>0&&i(f)?a>1?r(f,a-1,i,s,l):t(l,f):s||(l[l.length]=f)}return l}return jw=r,jw}var Dw,hA;function CK(){if(hA)return Dw;hA=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(s[u],u,s)===!1)break}return r}}return Dw=t,Dw}var Mw,gA;function NK(){if(gA)return Mw;gA=1;var t=CK(),e=t();return Mw=e,Mw}var Fw,vA;function pR(){if(vA)return Fw;vA=1;var t=NK(),e=db();function r(n,a){return n&&t(n,a,e)}return Fw=r,Fw}var $w,bA;function PK(){if(bA)return $w;bA=1;var t=pg();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,l=n?s:-1,c=Object(a);(n?l--:++l<s)&&i(c[l],l,c)!==!1;);return a}}return $w=e,$w}var zw,yA;function pC(){if(yA)return zw;yA=1;var t=pR(),e=PK(),r=e(t);return zw=r,zw}var Bw,wA;function hR(){if(wA)return Bw;wA=1;var t=pC(),e=pg();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,u){s[++i]=a(l,c,u)}),s}return Bw=r,Bw}var qw,xA;function kK(){if(xA)return qw;xA=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return qw=t,qw}var Uw,EA;function AK(){if(EA)return Uw;EA=1;var t=op();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,l=t(r),c=n!==void 0,u=n===null,f=n===n,p=t(n);if(!u&&!p&&!l&&r>n||l&&c&&f&&!u&&!p||i&&c&&f||!a&&f||!s)return 1;if(!i&&!l&&!p&&r<n||p&&a&&s&&!i&&!l||u&&a&&s||!c&&s||!f)return-1}return 0}return Uw=e,Uw}var Hw,SA;function _K(){if(SA)return Hw;SA=1;var t=AK();function e(r,n,a){for(var i=-1,s=r.criteria,l=n.criteria,c=s.length,u=a.length;++i<c;){var f=t(s[i],l[i]);if(f){if(i>=u)return f;var p=a[i];return f*(p=="desc"?-1:1)}}return r.index-n.index}return Hw=e,Hw}var Ww,CA;function OK(){if(CA)return Ww;CA=1;var t=eC(),e=tC(),r=au(),n=hR(),a=kK(),i=nR(),s=_K(),l=sp(),c=Bs();function u(f,p,h){p.length?p=t(p,function(v){return c(v)?function(y){return e(y,v.length===1?v[0]:v)}:v}):p=[l];var g=-1;p=t(p,i(r));var x=n(f,function(v,y,E){var C=t(p,function(k){return k(v)});return{criteria:C,index:++g,value:v}});return a(x,function(v,y){return s(v,y,h)})}return Ww=u,Ww}var Vw,NA;function IK(){if(NA)return Vw;NA=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Vw=t,Vw}var Gw,PA;function TK(){if(PA)return Gw;PA=1;var t=IK(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,l=-1,c=e(s.length-a,0),u=Array(c);++l<c;)u[l]=s[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=s[l];return f[a]=i(u),t(n,this,f)}}return Gw=r,Gw}var Kw,kA;function RK(){if(kA)return Kw;kA=1;function t(e){return function(){return e}}return Kw=t,Kw}var Yw,AA;function gR(){if(AA)return Yw;AA=1;var t=Af(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Yw=e,Yw}var Jw,_A;function LK(){if(_A)return Jw;_A=1;var t=RK(),e=gR(),r=sp(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Jw=n,Jw}var Xw,OA;function jK(){if(OA)return Xw;OA=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Xw=n,Xw}var Zw,IA;function DK(){if(IA)return Zw;IA=1;var t=LK(),e=jK(),r=e(t);return Zw=r,Zw}var Qw,TA;function MK(){if(TA)return Qw;TA=1;var t=sp(),e=TK(),r=DK();function n(a,i){return r(e(a,i,t),a+"")}return Qw=n,Qw}var ex,RA;function mb(){if(RA)return ex;RA=1;var t=XS(),e=pg(),r=dC(),n=Cd();function a(i,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],i):!1}return ex=a,ex}var tx,LA;function FK(){if(LA)return tx;LA=1;var t=mR(),e=OK(),r=MK(),n=mb(),a=r(function(i,s){if(i==null)return[];var l=s.length;return l>1&&n(i,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return tx=a,tx}var $K=FK();const hC=sa($K);function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function C5(){return C5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C5.apply(this,arguments)}function zK(t,e){return HK(t)||UK(t,e)||qK(t,e)||BK()}function BK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qK(t,e){if(t){if(typeof t=="string")return jA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(t,e)}}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function HK(t){if(Array.isArray(t))return t}function DA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(r),!0).forEach(function(n){WK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WK(t,e,r){return e=VK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VK(t){var e=GK(t,"string");return _h(e)=="symbol"?e:e+""}function GK(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KK(t){return Array.isArray(t)&&Ko(t[0])&&Ko(t[1])?t.join(" ~ "):t}var YK=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,p=e.formatter,h=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,v=e.label,y=e.labelFormatter,E=e.accessibilityLayer,C=E===void 0?!1:E,k=function(){if(f&&f.length){var L={padding:0,margin:0},M=(h?hC(f,h):f).map(function(F,H){if(F.type==="none")return null;var J=rx({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),ee=F.formatter||p||KK,re=F.value,te=F.name,K=re,U=te;if(ee&&K!=null&&U!=null){var j=ee(re,te,F,H,f);if(Array.isArray(j)){var Y=zK(j,2);K=Y[0],U=Y[1]}else K=j}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:J},Ko(U)?o.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ko(U)?o.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,o.createElement("span",{className:"recharts-tooltip-item-value"},K),o.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return o.createElement("ul",{className:"recharts-tooltip-item-list",style:L},M)}return null},_=rx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=rx({margin:0},u),O=!Dn(v),R=O?v:"",D=jn("recharts-default-tooltip",g),B=jn("recharts-tooltip-label",x);O&&y&&f!==void 0&&f!==null&&(R=y(v,f));var z=C?{role:"status","aria-live":"assertive"}:{};return o.createElement("div",C5({className:D,style:_},z),o.createElement("p",{className:B,style:N},o.isValidElement(R)?R:"".concat(R)),k())};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function pv(t,e,r){return e=JK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JK(t){var e=XK(t,"string");return Oh(e)=="symbol"?e:e+""}function XK(t,e){if(Oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Op="recharts-tooltip-wrapper",ZK={visibility:"hidden"};function QK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return jn(Op,pv(pv(pv(pv({},"".concat(Op,"-right"),sr(r)&&e&&sr(e.x)&&r>=e.x),"".concat(Op,"-left"),sr(r)&&e&&sr(e.x)&&r<e.x),"".concat(Op,"-bottom"),sr(n)&&e&&sr(e.y)&&n>=e.y),"".concat(Op,"-top"),sr(n)&&e&&sr(e.y)&&n<e.y))}function MA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&sr(i[n]))return i[n];var f=r[n]-l-a,p=r[n]+a;if(e[n])return s[n]?f:p;if(s[n]){var h=f,g=c[n];return h<g?Math.max(p,c[n]):Math.max(f,c[n])}var x=p+l,v=c[n]+u;return x>v?Math.max(f,c[n]):Math.max(p,c[n])}function eY(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tY(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,f,p;return s.height>0&&s.width>0&&r?(f=MA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=MA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=eY({translateX:f,translateY:p,useTranslate3d:l})):u=ZK,{cssProperties:u,cssClasses:QK({translateX:f,translateY:p,coordinate:r})}}function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function FA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $A(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(r),!0).forEach(function(n){P5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bR(n.key),n)}}function aY(t,e,r){return e&&nY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oY(t,e,r){return e=e0(e),iY(t,vR()?Reflect.construct(e,r||[],e0(t).constructor):e.apply(t,r))}function iY(t,e){if(e&&(Dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sY(t)}function sY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vR=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e0(t)}function lY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N5(t,e)}function N5(t,e){return N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N5(t,e)}function P5(t,e,r){return e=bR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bR(t){var e=cY(t,"string");return Dm(e)=="symbol"?e:e+""}function cY(t,e){if(Dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zA=1,uY=function(t){function e(){var r;rY(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oY(this,e,[].concat(a)),P5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P5(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return lY(e,t),aY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>zA||Math.abs(n.height-this.state.lastBoundingBox.height)>zA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,p=a.hasPayload,h=a.isAnimationActive,g=a.offset,x=a.position,v=a.reverseDirection,y=a.useTranslate3d,E=a.viewBox,C=a.wrapperStyle,k=tY({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:E}),_=k.cssClasses,N=k.cssProperties,O=$A($A({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},C);return o.createElement("div",{tabIndex:-1,className:_,style:O,ref:function(D){n.wrapperNode=D}},u)}}])}(b.PureComponent),dY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lp={isSsr:dY()};function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){gC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wR(n.key),n)}}function pY(t,e,r){return e&&mY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hY(t,e,r){return e=t0(e),gY(t,yR()?Reflect.construct(e,r||[],t0(t).constructor):e.apply(t,r))}function gY(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vY(t)}function vY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yR=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(t)}function bY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k5(t,e)}function k5(t,e){return k5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k5(t,e)}function gC(t,e,r){return e=wR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wR(t){var e=yY(t,"string");return Mm(e)=="symbol"?e:e+""}function yY(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wY(t){return t.dataKey}function xY(t,e){return o.isValidElement(t)?o.cloneElement(t,e):typeof t=="function"?o.createElement(t,e):o.createElement(YK,e)}var Sc=function(t){function e(){return fY(this,e),hY(this,e,arguments)}return bY(e,t),pY(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,p=a.filterNull,h=a.isAnimationActive,g=a.offset,x=a.payload,v=a.payloadUniqBy,y=a.position,E=a.reverseDirection,C=a.useTranslate3d,k=a.viewBox,_=a.wrapperStyle,N=x??[];p&&N.length&&(N=uR(x.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),v,wY));var O=N.length>0;return o.createElement(uY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:O,offset:g,position:y,reverseDirection:E,useTranslate3d:C,viewBox:k,wrapperStyle:_},xY(u,qA(qA({},this.props),{},{payload:N})))}}])}(b.PureComponent);gC(Sc,"displayName","Tooltip");gC(Sc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nx,UA;function EY(){if(UA)return nx;UA=1;var t=nu(),e=function(){return t.Date.now()};return nx=e,nx}var ax,HA;function SY(){if(HA)return ax;HA=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ax=e,ax}var ox,WA;function CY(){if(WA)return ox;WA=1;var t=SY(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ox=r,ox}var ix,VA;function xR(){if(VA)return ix;VA=1;var t=CY(),e=Cd(),r=op(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=i.test(u);return p||s.test(u)?l(u.slice(2),p?2:8):a.test(u)?n:+u}return ix=c,ix}var sx,GA;function NY(){if(GA)return sx;GA=1;var t=Cd(),e=EY(),r=xR(),n="Expected a function",a=Math.max,i=Math.min;function s(l,c,u){var f,p,h,g,x,v,y=0,E=!1,C=!1,k=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(E=!!u.leading,C="maxWait"in u,h=C?a(r(u.maxWait)||0,c):h,k="trailing"in u?!!u.trailing:k);function _(M){var F=f,H=p;return f=p=void 0,y=M,g=l.apply(H,F),g}function N(M){return y=M,x=setTimeout(D,c),E?_(M):g}function O(M){var F=M-v,H=M-y,J=c-F;return C?i(J,h-H):J}function R(M){var F=M-v,H=M-y;return v===void 0||F>=c||F<0||C&&H>=h}function D(){var M=e();if(R(M))return B(M);x=setTimeout(D,O(M))}function B(M){return x=void 0,k&&f?_(M):(f=p=void 0,g)}function z(){x!==void 0&&clearTimeout(x),y=0,f=v=p=x=void 0}function I(){return x===void 0?g:B(e())}function L(){var M=e(),F=R(M);if(f=arguments,p=this,v=M,F){if(x===void 0)return N(v);if(C)return clearTimeout(x),x=setTimeout(D,c),_(v)}return x===void 0&&(x=setTimeout(D,c)),g}return L.cancel=z,L.flush=I,L}return sx=s,sx}var lx,KA;function PY(){if(KA)return lx;KA=1;var t=NY(),e=Cd(),r="Expected a function";function n(a,i,s){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return lx=n,lx}var kY=PY();const ER=sa(kY);function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function YA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(r),!0).forEach(function(n){AY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AY(t,e,r){return e=_Y(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Y(t){var e=OY(t,"string");return Ih(e)=="symbol"?e:e+""}function OY(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IY(t,e){return jY(t)||LY(t,e)||RY(t,e)||TY()}function TY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RY(t,e){if(t){if(typeof t=="string")return JA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(t,e)}}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function jY(t){if(Array.isArray(t))return t}var XA=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,p=t.minHeight,h=t.maxHeight,g=t.children,x=t.debounce,v=x===void 0?0:x,y=t.id,E=t.className,C=t.onResize,k=t.style,_=k===void 0?{}:k,N=b.useRef(null),O=b.useRef();O.current=C,b.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var R=b.useState({containerWidth:a.width,containerHeight:a.height}),D=IY(R,2),B=D[0],z=D[1],I=b.useCallback(function(M,F){z(function(H){var J=Math.round(M),ee=Math.round(F);return H.containerWidth===J&&H.containerHeight===ee?H:{containerWidth:J,containerHeight:ee}})},[]);b.useEffect(function(){var M=function(te){var K,U=te[0].contentRect,j=U.width,Y=U.height;I(j,Y),(K=O.current)===null||K===void 0||K.call(O,j,Y)};v>0&&(M=ER(M,v,{trailing:!0,leading:!1}));var F=new ResizeObserver(M),H=N.current.getBoundingClientRect(),J=H.width,ee=H.height;return I(J,ee),F.observe(N.current),function(){F.disconnect()}},[I,v]);var L=b.useMemo(function(){var M=B.containerWidth,F=B.containerHeight;if(M<0||F<0)return null;kc(lf(s)||lf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),kc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var H=lf(s)?M:s,J=lf(c)?F:c;r&&r>0&&(H?J=H/r:J&&(H=J*r),h&&J>h&&(J=h)),kc(H>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,J,s,c,f,p,r);var ee=!Array.isArray(g)&&Pu(g.type).endsWith("Chart");return o.Children.map(g,function(re){return o.isValidElement(re)?b.cloneElement(re,hv({width:H,height:J},ee?{style:hv({height:"100%",width:"100%",maxHeight:J,maxWidth:H},re.props.style)}:{})):re})},[r,g,c,h,p,f,B,s]);return o.createElement("div",{id:y?"".concat(y):void 0,className:jn("recharts-responsive-container",E),style:hv(hv({},_),{},{width:s,height:c,minWidth:f,minHeight:p,maxHeight:h}),ref:N},L)}),pb=function(e){return null};pb.displayName="Cell";function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function ZA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function A5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(r),!0).forEach(function(n){DY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DY(t,e,r){return e=MY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MY(t){var e=FY(t,"string");return Th(e)=="symbol"?e:e+""}function FY(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var im={widthCache:{},cacheCount:0},$Y=2e3,zY={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QA="recharts_measurement_span";function BY(t){var e=A5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var rh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lp.isSsr)return{width:0,height:0};var n=BY(r),a=JSON.stringify({text:e,copyStyle:n});if(im.widthCache[a])return im.widthCache[a];try{var i=document.getElementById(QA);i||(i=document.createElement("span"),i.setAttribute("id",QA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=A5(A5({},zY),n);Object.assign(i.style,s),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return im.widthCache[a]=c,++im.cacheCount>$Y&&(im.cacheCount=0,im.widthCache={}),c}catch{return{width:0,height:0}}},qY=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function r0(t,e){return VY(t)||WY(t,e)||HY(t,e)||UY()}function UY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HY(t,e){if(t){if(typeof t=="string")return e_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(t,e)}}function e_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function VY(t){if(Array.isArray(t))return t}function GY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YY(n.key),n)}}function KY(t,e,r){return e&&t_(t.prototype,e),r&&t_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YY(t){var e=JY(t,"string");return Rh(e)=="symbol"?e:e+""}function JY(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XY=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZY=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QY=Object.keys(SR),vm="NaN";function eJ(t,e){return t*SR[e]}var gv=function(){function t(e,r){GY(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!XY.test(r)&&(this.num=NaN,this.unit=""),QY.includes(r)&&(this.num=eJ(e,r),this.unit="px")}return KY(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=ZY.exec(r))!==null&&n!==void 0?n:[],i=r0(a,3),s=i[1],l=i[2];return new t(parseFloat(s),l??"")}}])}();function CR(t){if(t.includes(vm))return vm;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=r_.exec(e))!==null&&r!==void 0?r:[],a=r0(n,4),i=a[1],s=a[2],l=a[3],c=gv.parse(i??""),u=gv.parse(l??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return vm;e=e.replace(r_,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,h=(p=n_.exec(e))!==null&&p!==void 0?p:[],g=r0(h,4),x=g[1],v=g[2],y=g[3],E=gv.parse(x??""),C=gv.parse(y??""),k=v==="+"?E.add(C):E.subtract(C);if(k.isNaN())return vm;e=e.replace(n_,k.toString())}return e}var a_=/\(([^()]*)\)/;function tJ(t){for(var e=t;e.includes("(");){var r=a_.exec(e),n=r0(r,2),a=n[1];e=e.replace(a_,CR(a))}return e}function rJ(t){var e=t.replace(/\s+/g,"");return e=tJ(e),e=CR(e),e}function nJ(t){try{return rJ(t)}catch{return vm}}function cx(t){var e=nJ(t.slice(5,-1));return e===vm?"":e}var aJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oJ=["dx","dy","angle","className","breakAll"];function _5(){return _5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_5.apply(this,arguments)}function o_(t,e){if(t==null)return{};var r=iJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i_(t,e){return uJ(t)||cJ(t,e)||lJ(t,e)||sJ()}function sJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lJ(t,e){if(t){if(typeof t=="string")return s_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s_(t,e)}}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function uJ(t){if(Array.isArray(t))return t}var NR=/[ \f\n\r\t\v\u2028\u2029]+/,PR=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Dn(r)||(n?i=r.toString().split(""):i=r.toString().split(NR));var s=i.map(function(c){return{word:c,width:rh(c,a).width}}),l=n?0:rh(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},dJ=function(e,r,n,a,i){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,f=sr(s),p=l,h=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(J,ee){var re=ee.word,te=ee.width,K=J[J.length-1];if(K&&(a==null||i||K.width+te+n<Number(a)))K.words.push(re),K.width+=te+n;else{var U={words:[re],width:te};J.push(U)}return J},[])},g=h(r),x=function(H){return H.reduce(function(J,ee){return J.width>ee.width?J:ee})};if(!f)return g;for(var v="…",y=function(H){var J=p.slice(0,H),ee=PR({breakAll:u,style:c,children:J+v}).wordsWithComputedWidth,re=h(ee),te=re.length>s||x(re).width>Number(a);return[te,re]},E=0,C=p.length-1,k=0,_;E<=C&&k<=p.length-1;){var N=Math.floor((E+C)/2),O=N-1,R=y(O),D=i_(R,2),B=D[0],z=D[1],I=y(N),L=i_(I,1),M=L[0];if(!B&&!M&&(E=N+1),B&&M&&(C=N-1),!B&&M){_=z;break}k++}return _||g},l_=function(e){var r=Dn(e)?[]:e.toString().split(NR);return[{words:r}]},fJ=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!lp.isSsr){var c,u,f=PR({breakAll:s,children:a,style:i});if(f){var p=f.wordsWithComputedWidth,h=f.spaceWidth;c=p,u=h}else return l_(a);return dJ({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return l_(a)},c_="#808080",wf=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,p=f===void 0?!1:f,h=e.textAnchor,g=h===void 0?"start":h,x=e.verticalAnchor,v=x===void 0?"end":x,y=e.fill,E=y===void 0?c_:y,C=o_(e,aJ),k=b.useMemo(function(){return fJ({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),_=C.dx,N=C.dy,O=C.angle,R=C.className,D=C.breakAll,B=o_(C,oJ);if(!Ko(n)||!Ko(i))return null;var z=n+(sr(_)?_:0),I=i+(sr(N)?N:0),L;switch(v){case"start":L=cx("calc(".concat(u,")"));break;case"middle":L=cx("calc(".concat((k.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:L=cx("calc(".concat(k.length-1," * -").concat(l,")"));break}var M=[];if(p){var F=k[0].width,H=C.width;M.push("scale(".concat((sr(H)?H/F:1)/F,")"))}return O&&M.push("rotate(".concat(O,", ").concat(z,", ").concat(I,")")),M.length&&(B.transform=M.join(" ")),o.createElement("text",_5({},fn(B,!0),{x:z,y:I,className:jn("recharts-text",R),textAnchor:g,fill:E.includes("url")?c_:E}),k.map(function(J,ee){var re=J.words.join(D?"":" ");return o.createElement("tspan",{x:z,dy:ee===0?L:l,key:"".concat(re,"-").concat(ee)},re)}))};function bd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vC(t){let e,r,n;t.length!==2?(e=bd,r=(l,c)=>bd(t(l),c),n=(l,c)=>t(l)-c):(e=t===bd||t===mJ?t:pJ,r=t,n=t);function a(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<0?u=p+1:f=p}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function s(l,c,u=0,f=l.length){const p=a(l,c,u,f-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:a,center:s,right:i}}function pJ(){return 0}function kR(t){return t===null?NaN:+t}function*hJ(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const gJ=vC(bd),hg=gJ.right;vC(kR).center;class u_ extends Map{constructor(e,r=yJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(d_(this,e))}has(e){return super.has(d_(this,e))}set(e,r){return super.set(vJ(this,e),r)}delete(e){return super.delete(bJ(this,e))}}function d_({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function vJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function bJ({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function yJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wJ(t=bd){if(t===bd)return AR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function AR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xJ=Math.sqrt(50),EJ=Math.sqrt(10),SJ=Math.sqrt(2);function n0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=xJ?10:i>=EJ?5:i>=SJ?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?n0(t,e,r*2):[l,c,u]}function O5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?n0(e,t,r):n0(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function I5(t,e,r){return e=+e,t=+t,r=+r,n0(t,e,r)[2]}function T5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?I5(e,t,r):I5(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function f_(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function m_(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _R(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?AR:wJ(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),g=Math.max(r,Math.floor(e-u*p/c+h)),x=Math.min(n,Math.floor(e+(c-u)*p/c+h));_R(t,e,g,x,a)}const i=t[e];let s=r,l=n;for(Ip(t,r,e),a(t[n],i)>0&&Ip(t,r,n);s<l;){for(Ip(t,s,l),++s,--l;a(t[s],i)<0;)++s;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Ip(t,r,l):(++l,Ip(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Ip(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function CJ(t,e,r){if(t=Float64Array.from(hJ(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return m_(t);if(e>=1)return f_(t);var n,a=(n-1)*e,i=Math.floor(a),s=f_(_R(t,i).subarray(0,i+1)),l=m_(t.subarray(i+1));return s+(l-s)*(a-i)}}function NJ(t,e,r=kR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return s+(l-s)*(a-i)}}function PJ(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Bl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Mu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R5=Symbol("implicit");function bC(){var t=new u_,e=[],r=[],n=R5;function a(i){let s=t.get(i);if(s===void 0){if(n!==R5)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new u_;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bC(e,r).unknown(n)},Bl.apply(a,arguments),a}function Lh(){var t=bC().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,l=!1,c=0,u=0,f=.5;delete t.unknown;function p(){var h=e().length,g=a<n,x=g?a:n,v=g?n:a;i=(v-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(v-x-i*(h-c))*f,s=i*(1-c),l&&(x=Math.round(x),s=Math.round(s));var y=PJ(h).map(function(E){return x+i*E});return r(g?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),p()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,p()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,p()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),p()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),p()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,p()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),p()):f},t.copy=function(){return Lh(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},Bl.apply(p(),arguments)}function OR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OR(e())},t}function nh(){return OR(Lh.apply(null,arguments).paddingInner(1))}function yC(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function IR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function gg(){}var jh=.7,a0=1/jh,Am="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kJ=/^#([0-9a-f]{3,8})$/,AJ=new RegExp(`^rgb\\(${Am},${Am},${Am}\\)$`),_J=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),OJ=new RegExp(`^rgba\\(${Am},${Am},${Am},${Dh}\\)$`),IJ=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${Dh}\\)$`),TJ=new RegExp(`^hsl\\(${Dh},${Qc},${Qc}\\)$`),RJ=new RegExp(`^hsla\\(${Dh},${Qc},${Qc},${Dh}\\)$`),p_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yC(gg,Mh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:h_,formatHex:h_,formatHex8:LJ,formatHsl:jJ,formatRgb:g_,toString:g_});function h_(){return this.rgb().formatHex()}function LJ(){return this.rgb().formatHex8()}function jJ(){return TR(this).formatHsl()}function g_(){return this.rgb().formatRgb()}function Mh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=kJ.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?v_(e):r===3?new Ds(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?vv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?vv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=AJ.exec(t))?new Ds(e[1],e[2],e[3],1):(e=_J.exec(t))?new Ds(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OJ.exec(t))?vv(e[1],e[2],e[3],e[4]):(e=IJ.exec(t))?vv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TJ.exec(t))?w_(e[1],e[2]/100,e[3]/100,1):(e=RJ.exec(t))?w_(e[1],e[2]/100,e[3]/100,e[4]):p_.hasOwnProperty(t)?v_(p_[t]):t==="transparent"?new Ds(NaN,NaN,NaN,0):null}function v_(t){return new Ds(t>>16&255,t>>8&255,t&255,1)}function vv(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ds(t,e,r,n)}function DJ(t){return t instanceof gg||(t=Mh(t)),t?(t=t.rgb(),new Ds(t.r,t.g,t.b,t.opacity)):new Ds}function L5(t,e,r,n){return arguments.length===1?DJ(t):new Ds(t,e,r,n??1)}function Ds(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}yC(Ds,L5,IR(gg,{brighter(t){return t=t==null?a0:Math.pow(a0,t),new Ds(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new Ds(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ds(gf(this.r),gf(this.g),gf(this.b),o0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b_,formatHex:b_,formatHex8:MJ,formatRgb:y_,toString:y_}));function b_(){return`#${cf(this.r)}${cf(this.g)}${cf(this.b)}`}function MJ(){return`#${cf(this.r)}${cf(this.g)}${cf(this.b)}${cf((isNaN(this.opacity)?1:this.opacity)*255)}`}function y_(){const t=o0(this.opacity);return`${t===1?"rgb(":"rgba("}${gf(this.r)}, ${gf(this.g)}, ${gf(this.b)}${t===1?")":`, ${t})`}`}function o0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cf(t){return t=gf(t),(t<16?"0":"")+t.toString(16)}function w_(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Nc(t,e,r,n)}function TR(t){if(t instanceof Nc)return new Nc(t.h,t.s,t.l,t.opacity);if(t instanceof gg||(t=Mh(t)),!t)return new Nc;if(t instanceof Nc)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(e===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Nc(s,l,c,t.opacity)}function FJ(t,e,r,n){return arguments.length===1?TR(t):new Nc(t,e,r,n??1)}function Nc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}yC(Nc,FJ,IR(gg,{brighter(t){return t=t==null?a0:Math.pow(a0,t),new Nc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jh:Math.pow(jh,t),new Nc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Ds(ux(t>=240?t-240:t+120,a,n),ux(t,a,n),ux(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Nc(x_(this.h),bv(this.s),bv(this.l),o0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=o0(this.opacity);return`${t===1?"hsl(":"hsla("}${x_(this.h)}, ${bv(this.s)*100}%, ${bv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function x_(t){return t=(t||0)%360,t<0?t+360:t}function bv(t){return Math.max(0,Math.min(1,t||0))}function ux(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wC=t=>()=>t;function $J(t,e){return function(r){return t+r*e}}function zJ(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function BJ(t){return(t=+t)==1?RR:function(e,r){return r-e?zJ(e,r,t):wC(isNaN(e)?r:e)}}function RR(t,e){var r=e-t;return r?$J(t,r):wC(isNaN(t)?e:t)}const E_=function t(e){var r=BJ(e);function n(a,i){var s=r((a=L5(a)).r,(i=L5(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=RR(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=t,n}(1);function qJ(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function UJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HJ(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=cp(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function WJ(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function i0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function VJ(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=cp(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var j5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dx=new RegExp(j5.source,"g");function GJ(t){return function(){return t}}function KJ(t){return function(e){return t(e)+""}}function YJ(t,e){var r=j5.lastIndex=dx.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=j5.exec(t))&&(a=dx.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:i0(n,a)})),r=dx.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?KJ(c[0].x):GJ(e):(e=c.length,function(u){for(var f=0,p;f<e;++f)l[(p=c[f]).i]=p.x(u);return l.join("")})}function cp(t,e){var r=typeof e,n;return e==null||r==="boolean"?wC(e):(r==="number"?i0:r==="string"?(n=Mh(e))?(e=n,E_):YJ:e instanceof Mh?E_:e instanceof Date?WJ:UJ(e)?qJ:Array.isArray(e)?HJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?VJ:i0)(t,e)}function xC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function JJ(t,e){e===void 0&&(e=t,t=cp);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function XJ(t){return function(){return t}}function s0(t){return+t}var S_=[0,1];function ms(t){return t}function D5(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:XJ(isNaN(e)?NaN:.5)}function ZJ(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function QJ(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=D5(a,n),i=r(s,i)):(n=D5(n,a),i=r(i,s)),function(l){return i(n(l))}}function eX(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=D5(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(l){var c=hg(t,l,1,n)-1;return i[c](a[c](l))}}function vg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hb(){var t=S_,e=S_,r=cp,n,a,i,s=ms,l,c,u;function f(){var h=Math.min(t.length,e.length);return s!==ms&&(s=ZJ(t[0],t[h-1])),l=h>2?eX:QJ,c=u=null,p}function p(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(n),e,r)))(n(s(h)))}return p.invert=function(h){return s(a((u||(u=l(e,t.map(n),i0)))(h)))},p.domain=function(h){return arguments.length?(t=Array.from(h,s0),f()):t.slice()},p.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},p.rangeRound=function(h){return e=Array.from(h),r=xC,f()},p.clamp=function(h){return arguments.length?(s=h?!0:ms,f()):s!==ms},p.interpolate=function(h){return arguments.length?(r=h,f()):r},p.unknown=function(h){return arguments.length?(i=h,p):i},function(h,g){return n=h,a=g,f()}}function EC(){return hb()(ms,ms)}function tX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function l0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fm(t){return t=l0(Math.abs(t)),t?t[1]:NaN}function rX(t,e){return function(r,n){for(var a=r.length,i=[],s=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function nX(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var aX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fh(t){if(!(e=aX.exec(t)))throw new Error("invalid format: "+t);var e;return new SC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fh.prototype=SC.prototype;function SC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oX(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var LR;function iX(t,e){var r=l0(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(LR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+l0(t,Math.max(0,e+i-1))[0]}function C_(t,e){var r=l0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const N_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>C_(t*100,e),r:C_,s:iX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function P_(t){return t}var k_=Array.prototype.map,A_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sX(t){var e=t.grouping===void 0||t.thousands===void 0?P_:rX(k_.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?P_:nX(k_.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(p){p=Fh(p);var h=p.fill,g=p.align,x=p.sign,v=p.symbol,y=p.zero,E=p.width,C=p.comma,k=p.precision,_=p.trim,N=p.type;N==="n"?(C=!0,N="g"):N_[N]||(k===void 0&&(k=12),_=!0,N="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var O=v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",R=v==="$"?n:/[%p]/.test(N)?s:"",D=N_[N],B=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function z(I){var L=O,M=R,F,H,J;if(N==="c")M=D(I)+M,I="";else{I=+I;var ee=I<0||1/I<0;if(I=isNaN(I)?c:D(Math.abs(I),k),_&&(I=oX(I)),ee&&+I==0&&x!=="+"&&(ee=!1),L=(ee?x==="("?x:l:x==="-"||x==="("?"":x)+L,M=(N==="s"?A_[8+LR/3]:"")+M+(ee&&x==="("?")":""),B){for(F=-1,H=I.length;++F<H;)if(J=I.charCodeAt(F),48>J||J>57){M=(J===46?a+I.slice(F+1):I.slice(F))+M,I=I.slice(0,F);break}}}C&&!y&&(I=e(I,1/0));var re=L.length+I.length+M.length,te=re<E?new Array(E-re+1).join(h):"";switch(C&&y&&(I=e(te+I,te.length?E-M.length:1/0),te=""),g){case"<":I=L+I+M+te;break;case"=":I=L+te+I+M;break;case"^":I=te.slice(0,re=te.length>>1)+L+I+M+te.slice(re);break;default:I=te+L+I+M;break}return i(I)}return z.toString=function(){return p+""},z}function f(p,h){var g=u((p=Fh(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Fm(h)/3)))*3,v=Math.pow(10,-x),y=A_[8+x/3];return function(E){return g(v*E)+y}}return{format:u,formatPrefix:f}}var yv,CC,jR;lX({thousands:",",grouping:[3],currency:["$",""]});function lX(t){return yv=sX(t),CC=yv.format,jR=yv.formatPrefix,yv}function cX(t){return Math.max(0,-Fm(Math.abs(t)))}function uX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fm(e)/3)))*3-Fm(Math.abs(t)))}function dX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fm(e)-Fm(t))+1}function DR(t,e,r,n){var a=T5(t,e,r),i;switch(n=Fh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=uX(a,s))&&(n.precision=i),jR(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dX(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=cX(a))&&(n.precision=i-(n.type==="%")*2);break}}return CC(n)}function Nd(t){var e=t.domain;return t.ticks=function(r){var n=e();return O5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return DR(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,f=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=I5(s,l,r),u===c)return n[a]=s,n[i]=l,e(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function c0(){var t=EC();return t.copy=function(){return vg(t,c0())},Bl.apply(t,arguments),Nd(t)}function MR(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,s0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return MR(t).unknown(e)},t=arguments.length?Array.from(t,s0):[0,1],Nd(r)}function FR(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function __(t){return Math.log(t)}function O_(t){return Math.exp(t)}function fX(t){return-Math.log(-t)}function mX(t){return-Math.exp(-t)}function pX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hX(t){return t===10?pX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function I_(t){return(e,r)=>-t(-e,r)}function NC(t){const e=t(__,O_),r=e.domain;let n=10,a,i;function s(){return a=gX(n),i=hX(n),r()[0]<0?(a=I_(a),i=I_(i),t(fX,mX)):t(__,O_),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let h=a(u),g=a(f),x,v;const y=l==null?10:+l;let E=[];if(!(n%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(x=1;x<n;++x)if(v=h<0?x/i(-h):x*i(h),!(v<u)){if(v>f)break;E.push(v)}}else for(;h<=g;++h)for(x=n-1;x>=1;--x)if(v=h>0?x/i(-h):x*i(h),!(v<u)){if(v>f)break;E.push(v)}E.length*2<y&&(E=O5(u,f,y))}else E=O5(h,g,Math.min(g-h,y)).map(i);return p?E.reverse():E},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Fh(c)).precision==null&&(c.trim=!0),c=CC(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return f=>{let p=f/i(Math.round(a(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},e.nice=()=>r(FR(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function $R(){const t=NC(hb()).domain([1,10]);return t.copy=()=>vg(t,$R()).base(t.base()),Bl.apply(t,arguments),t}function T_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function R_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PC(t){var e=1,r=t(T_(e),R_(e));return r.constant=function(n){return arguments.length?t(T_(e=+n),R_(e)):e},Nd(r)}function zR(){var t=PC(hb());return t.copy=function(){return vg(t,zR()).constant(t.constant())},Bl.apply(t,arguments)}function L_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bX(t){return t<0?-t*t:t*t}function kC(t){var e=t(ms,ms),r=1;function n(){return r===1?t(ms,ms):r===.5?t(vX,bX):t(L_(r),L_(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Nd(e)}function AC(){var t=kC(hb());return t.copy=function(){return vg(t,AC()).exponent(t.exponent())},Bl.apply(t,arguments),t}function yX(){return AC.apply(null,arguments).exponent(.5)}function j_(t){return Math.sign(t)*t*t}function wX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function BR(){var t=EC(),e=[0,1],r=!1,n;function a(i){var s=wX(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(j_(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,s0)).map(j_)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return BR(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Bl.apply(a,arguments),Nd(a)}function qR(){var t=[],e=[],r=[],n;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=NJ(t,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:e[hg(r,s)]}return i.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(bd),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return qR().domain(t).range(e).unknown(n)},Bl.apply(i,arguments)}function UR(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[hg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return UR().domain([t,e]).range(a).unknown(i)},Bl.apply(Nd(s),arguments)}function HR(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[hg(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return HR().domain(t).range(e).unknown(r)},Bl.apply(a,arguments)}const fx=new Date,mx=new Date;function Xo(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<s);return c},a.filter=i=>Xo(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(fx.setTime(+i),mx.setTime(+s),t(fx),t(mx),Math.floor(r(fx,mx))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const u0=Xo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);u0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xo(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):u0);u0.range;const Su=1e3,jl=Su*60,Cu=jl*60,_u=Cu*24,_C=_u*7,D_=_u*30,px=_u*365,uf=Xo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Su)},(t,e)=>(e-t)/Su,t=>t.getUTCSeconds());uf.range;const OC=Xo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Su)},(t,e)=>{t.setTime(+t+e*jl)},(t,e)=>(e-t)/jl,t=>t.getMinutes());OC.range;const IC=Xo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*jl)},(t,e)=>(e-t)/jl,t=>t.getUTCMinutes());IC.range;const TC=Xo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Su-t.getMinutes()*jl)},(t,e)=>{t.setTime(+t+e*Cu)},(t,e)=>(e-t)/Cu,t=>t.getHours());TC.range;const RC=Xo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Cu)},(t,e)=>(e-t)/Cu,t=>t.getUTCHours());RC.range;const bg=Xo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*jl)/_u,t=>t.getDate()-1);bg.range;const gb=Xo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_u,t=>t.getUTCDate()-1);gb.range;const WR=Xo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_u,t=>Math.floor(t/_u));WR.range;function _f(t){return Xo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*jl)/_C)}const vb=_f(0),d0=_f(1),xX=_f(2),EX=_f(3),$m=_f(4),SX=_f(5),CX=_f(6);vb.range;d0.range;xX.range;EX.range;$m.range;SX.range;CX.range;function Of(t){return Xo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/_C)}const bb=Of(0),f0=Of(1),NX=Of(2),PX=Of(3),zm=Of(4),kX=Of(5),AX=Of(6);bb.range;f0.range;NX.range;PX.range;zm.range;kX.range;AX.range;const LC=Xo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LC.range;const jC=Xo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());jC.range;const Ou=Xo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ou.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ou.range;const Iu=Xo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Iu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Iu.range;function VR(t,e,r,n,a,i){const s=[[uf,1,Su],[uf,5,5*Su],[uf,15,15*Su],[uf,30,30*Su],[i,1,jl],[i,5,5*jl],[i,15,15*jl],[i,30,30*jl],[a,1,Cu],[a,3,3*Cu],[a,6,6*Cu],[a,12,12*Cu],[n,1,_u],[n,2,2*_u],[r,1,_C],[e,1,D_],[e,3,3*D_],[t,1,px]];function l(u,f,p){const h=f<u;h&&([u,f]=[f,u]);const g=p&&typeof p.range=="function"?p:c(u,f,p),x=g?g.range(u,+f+1):[];return h?x.reverse():x}function c(u,f,p){const h=Math.abs(f-u)/p,g=vC(([,,y])=>y).right(s,h);if(g===s.length)return t.every(T5(u/px,f/px,p));if(g===0)return u0.every(Math.max(T5(u,f,p),1));const[x,v]=s[h/s[g-1][2]<s[g][2]/h?g-1:g];return x.every(v)}return[l,c]}const[_X,OX]=VR(Iu,jC,bb,WR,RC,IC),[IX,TX]=VR(Ou,LC,vb,bg,TC,OC);function hx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Tp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function RX(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=Rp(a),f=Lp(a),p=Rp(i),h=Lp(i),g=Rp(s),x=Lp(s),v=Rp(l),y=Lp(l),E=Rp(c),C=Lp(c),k={a:ee,A:re,b:te,B:K,c:null,d:q_,e:q_,f:rZ,g:fZ,G:pZ,H:QX,I:eZ,j:tZ,L:GR,m:nZ,M:aZ,p:U,q:j,Q:W_,s:V_,S:oZ,u:iZ,U:sZ,V:lZ,w:cZ,W:uZ,x:null,X:null,y:dZ,Y:mZ,Z:hZ,"%":H_},_={a:Y,A:G,b:X,B:ie,c:null,d:U_,e:U_,f:yZ,g:_Z,G:IZ,H:gZ,I:vZ,j:bZ,L:YR,m:wZ,M:xZ,p:ye,q:me,Q:W_,s:V_,S:EZ,u:SZ,U:CZ,V:NZ,w:PZ,W:kZ,x:null,X:null,y:AZ,Y:OZ,Z:TZ,"%":H_},N={a:z,A:I,b:L,B:M,c:F,d:z_,e:z_,f:YX,g:$_,G:F_,H:B_,I:B_,j:WX,L:KX,m:HX,M:VX,p:B,q:UX,Q:XX,s:ZX,S:GX,u:FX,U:$X,V:zX,w:MX,W:BX,x:H,X:J,y:$_,Y:F_,Z:qX,"%":JX};k.x=O(r,k),k.X=O(n,k),k.c=O(e,k),_.x=O(r,_),_.X=O(n,_),_.c=O(e,_);function O(he,je){return function(Fe){var ue=[],xe=-1,Pe=0,_e=he.length,ce,Je,Te;for(Fe instanceof Date||(Fe=new Date(+Fe));++xe<_e;)he.charCodeAt(xe)===37&&(ue.push(he.slice(Pe,xe)),(Je=M_[ce=he.charAt(++xe)])!=null?ce=he.charAt(++xe):Je=ce==="e"?" ":"0",(Te=je[ce])&&(ce=Te(Fe,Je)),ue.push(ce),Pe=xe+1);return ue.push(he.slice(Pe,xe)),ue.join("")}}function R(he,je){return function(Fe){var ue=Tp(1900,void 0,1),xe=D(ue,he,Fe+="",0),Pe,_e;if(xe!=Fe.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(je&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Pe=gx(Tp(ue.y,0,1)),_e=Pe.getUTCDay(),Pe=_e>4||_e===0?f0.ceil(Pe):f0(Pe),Pe=gb.offset(Pe,(ue.V-1)*7),ue.y=Pe.getUTCFullYear(),ue.m=Pe.getUTCMonth(),ue.d=Pe.getUTCDate()+(ue.w+6)%7):(Pe=hx(Tp(ue.y,0,1)),_e=Pe.getDay(),Pe=_e>4||_e===0?d0.ceil(Pe):d0(Pe),Pe=bg.offset(Pe,(ue.V-1)*7),ue.y=Pe.getFullYear(),ue.m=Pe.getMonth(),ue.d=Pe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),_e="Z"in ue?gx(Tp(ue.y,0,1)).getUTCDay():hx(Tp(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(_e+5)%7:ue.w+ue.U*7-(_e+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,gx(ue)):hx(ue)}}function D(he,je,Fe,ue){for(var xe=0,Pe=je.length,_e=Fe.length,ce,Je;xe<Pe;){if(ue>=_e)return-1;if(ce=je.charCodeAt(xe++),ce===37){if(ce=je.charAt(xe++),Je=N[ce in M_?je.charAt(xe++):ce],!Je||(ue=Je(he,Fe,ue))<0)return-1}else if(ce!=Fe.charCodeAt(ue++))return-1}return ue}function B(he,je,Fe){var ue=u.exec(je.slice(Fe));return ue?(he.p=f.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function z(he,je,Fe){var ue=g.exec(je.slice(Fe));return ue?(he.w=x.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function I(he,je,Fe){var ue=p.exec(je.slice(Fe));return ue?(he.w=h.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function L(he,je,Fe){var ue=E.exec(je.slice(Fe));return ue?(he.m=C.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function M(he,je,Fe){var ue=v.exec(je.slice(Fe));return ue?(he.m=y.get(ue[0].toLowerCase()),Fe+ue[0].length):-1}function F(he,je,Fe){return D(he,e,je,Fe)}function H(he,je,Fe){return D(he,r,je,Fe)}function J(he,je,Fe){return D(he,n,je,Fe)}function ee(he){return s[he.getDay()]}function re(he){return i[he.getDay()]}function te(he){return c[he.getMonth()]}function K(he){return l[he.getMonth()]}function U(he){return a[+(he.getHours()>=12)]}function j(he){return 1+~~(he.getMonth()/3)}function Y(he){return s[he.getUTCDay()]}function G(he){return i[he.getUTCDay()]}function X(he){return c[he.getUTCMonth()]}function ie(he){return l[he.getUTCMonth()]}function ye(he){return a[+(he.getUTCHours()>=12)]}function me(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var je=O(he+="",k);return je.toString=function(){return he},je},parse:function(he){var je=R(he+="",!1);return je.toString=function(){return he},je},utcFormat:function(he){var je=O(he+="",_);return je.toString=function(){return he},je},utcParse:function(he){var je=R(he+="",!0);return je.toString=function(){return he},je}}}var M_={"-":"",_:" ",0:"0"},di=/^\s*\d+/,LX=/^%/,jX=/[\\^$*+?|[\]().{}]/g;function ta(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function DX(t){return t.replace(jX,"\\$&")}function Rp(t){return new RegExp("^(?:"+t.map(DX).join("|")+")","i")}function Lp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function MX(t,e,r){var n=di.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function FX(t,e,r){var n=di.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function $X(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function zX(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function BX(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function F_(t,e,r){var n=di.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $_(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function UX(t,e,r){var n=di.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function HX(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function z_(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function WX(t,e,r){var n=di.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function B_(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function VX(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function GX(t,e,r){var n=di.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function KX(t,e,r){var n=di.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function YX(t,e,r){var n=di.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JX(t,e,r){var n=LX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function XX(t,e,r){var n=di.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ZX(t,e,r){var n=di.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function q_(t,e){return ta(t.getDate(),e,2)}function QX(t,e){return ta(t.getHours(),e,2)}function eZ(t,e){return ta(t.getHours()%12||12,e,2)}function tZ(t,e){return ta(1+bg.count(Ou(t),t),e,3)}function GR(t,e){return ta(t.getMilliseconds(),e,3)}function rZ(t,e){return GR(t,e)+"000"}function nZ(t,e){return ta(t.getMonth()+1,e,2)}function aZ(t,e){return ta(t.getMinutes(),e,2)}function oZ(t,e){return ta(t.getSeconds(),e,2)}function iZ(t){var e=t.getDay();return e===0?7:e}function sZ(t,e){return ta(vb.count(Ou(t)-1,t),e,2)}function KR(t){var e=t.getDay();return e>=4||e===0?$m(t):$m.ceil(t)}function lZ(t,e){return t=KR(t),ta($m.count(Ou(t),t)+(Ou(t).getDay()===4),e,2)}function cZ(t){return t.getDay()}function uZ(t,e){return ta(d0.count(Ou(t)-1,t),e,2)}function dZ(t,e){return ta(t.getFullYear()%100,e,2)}function fZ(t,e){return t=KR(t),ta(t.getFullYear()%100,e,2)}function mZ(t,e){return ta(t.getFullYear()%1e4,e,4)}function pZ(t,e){var r=t.getDay();return t=r>=4||r===0?$m(t):$m.ceil(t),ta(t.getFullYear()%1e4,e,4)}function hZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ta(e/60|0,"0",2)+ta(e%60,"0",2)}function U_(t,e){return ta(t.getUTCDate(),e,2)}function gZ(t,e){return ta(t.getUTCHours(),e,2)}function vZ(t,e){return ta(t.getUTCHours()%12||12,e,2)}function bZ(t,e){return ta(1+gb.count(Iu(t),t),e,3)}function YR(t,e){return ta(t.getUTCMilliseconds(),e,3)}function yZ(t,e){return YR(t,e)+"000"}function wZ(t,e){return ta(t.getUTCMonth()+1,e,2)}function xZ(t,e){return ta(t.getUTCMinutes(),e,2)}function EZ(t,e){return ta(t.getUTCSeconds(),e,2)}function SZ(t){var e=t.getUTCDay();return e===0?7:e}function CZ(t,e){return ta(bb.count(Iu(t)-1,t),e,2)}function JR(t){var e=t.getUTCDay();return e>=4||e===0?zm(t):zm.ceil(t)}function NZ(t,e){return t=JR(t),ta(zm.count(Iu(t),t)+(Iu(t).getUTCDay()===4),e,2)}function PZ(t){return t.getUTCDay()}function kZ(t,e){return ta(f0.count(Iu(t)-1,t),e,2)}function AZ(t,e){return ta(t.getUTCFullYear()%100,e,2)}function _Z(t,e){return t=JR(t),ta(t.getUTCFullYear()%100,e,2)}function OZ(t,e){return ta(t.getUTCFullYear()%1e4,e,4)}function IZ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?zm(t):zm.ceil(t),ta(t.getUTCFullYear()%1e4,e,4)}function TZ(){return"+0000"}function H_(){return"%"}function W_(t){return+t}function V_(t){return Math.floor(+t/1e3)}var sm,XR,ZR;RZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RZ(t){return sm=RX(t),XR=sm.format,sm.parse,ZR=sm.utcFormat,sm.utcParse,sm}function LZ(t){return new Date(t)}function jZ(t){return t instanceof Date?+t:+new Date(+t)}function DC(t,e,r,n,a,i,s,l,c,u){var f=EC(),p=f.invert,h=f.domain,g=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),E=u("%a %d"),C=u("%b %d"),k=u("%B"),_=u("%Y");function N(O){return(c(O)<O?g:l(O)<O?x:s(O)<O?v:i(O)<O?y:n(O)<O?a(O)<O?E:C:r(O)<O?k:_)(O)}return f.invert=function(O){return new Date(p(O))},f.domain=function(O){return arguments.length?h(Array.from(O,jZ)):h().map(LZ)},f.ticks=function(O){var R=h();return t(R[0],R[R.length-1],O??10)},f.tickFormat=function(O,R){return R==null?N:u(R)},f.nice=function(O){var R=h();return(!O||typeof O.range!="function")&&(O=e(R[0],R[R.length-1],O??10)),O?h(FR(R,O)):f},f.copy=function(){return vg(f,DC(t,e,r,n,a,i,s,l,c,u))},f}function DZ(){return Bl.apply(DC(IX,TX,Ou,LC,vb,bg,TC,OC,uf,XR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MZ(){return Bl.apply(DC(_X,OX,Iu,jC,bb,gb,RC,IC,uf,ZR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yb(){var t=0,e=1,r,n,a,i,s=ms,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:s(a===0?.5:(p=(i(p)-r)*a,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([t,e]=p,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(s=p,u):s};function f(p){return function(h){var g,x;return arguments.length?([g,x]=h,s=p(g,x),u):[s(0),s(1)]}}return u.range=f(cp),u.rangeRound=f(xC),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return i=p,r=p(t),n=p(e),a=r===n?0:1/(n-r),u}}function Pd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QR(){var t=Nd(yb()(ms));return t.copy=function(){return Pd(t,QR())},Mu.apply(t,arguments)}function e9(){var t=NC(yb()).domain([1,10]);return t.copy=function(){return Pd(t,e9()).base(t.base())},Mu.apply(t,arguments)}function t9(){var t=PC(yb());return t.copy=function(){return Pd(t,t9()).constant(t.constant())},Mu.apply(t,arguments)}function MC(){var t=kC(yb());return t.copy=function(){return Pd(t,MC()).exponent(t.exponent())},Mu.apply(t,arguments)}function FZ(){return MC.apply(null,arguments).exponent(.5)}function r9(){var t=[],e=ms;function r(n){if(n!=null&&!isNaN(n=+n))return e((hg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(bd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>CJ(t,i/n))},r.copy=function(){return r9(e).domain(t)},Mu.apply(r,arguments)}function wb(){var t=0,e=.5,r=1,n=1,a,i,s,l,c,u=ms,f,p=!1,h;function g(v){return isNaN(v=+v)?h:(v=.5+((v=+f(v))-i)*(n*v<n*i?l:c),u(p?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,r]=v,a=f(t=+t),i=f(e=+e),s=f(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,g):[t,e,r]},g.clamp=function(v){return arguments.length?(p=!!v,g):p},g.interpolator=function(v){return arguments.length?(u=v,g):u};function x(v){return function(y){var E,C,k;return arguments.length?([E,C,k]=y,u=JJ(v,[E,C,k]),g):[u(0),u(.5),u(1)]}}return g.range=x(cp),g.rangeRound=x(xC),g.unknown=function(v){return arguments.length?(h=v,g):h},function(v){return f=v,a=v(t),i=v(e),s=v(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,g}}function n9(){var t=Nd(wb()(ms));return t.copy=function(){return Pd(t,n9())},Mu.apply(t,arguments)}function a9(){var t=NC(wb()).domain([.1,1,10]);return t.copy=function(){return Pd(t,a9()).base(t.base())},Mu.apply(t,arguments)}function o9(){var t=PC(wb());return t.copy=function(){return Pd(t,o9()).constant(t.constant())},Mu.apply(t,arguments)}function FC(){var t=kC(wb());return t.copy=function(){return Pd(t,FC()).exponent(t.exponent())},Mu.apply(t,arguments)}function $Z(){return FC.apply(null,arguments).exponent(.5)}const G_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lh,scaleDiverging:n9,scaleDivergingLog:a9,scaleDivergingPow:FC,scaleDivergingSqrt:$Z,scaleDivergingSymlog:o9,scaleIdentity:MR,scaleImplicit:R5,scaleLinear:c0,scaleLog:$R,scaleOrdinal:bC,scalePoint:nh,scalePow:AC,scaleQuantile:qR,scaleQuantize:UR,scaleRadial:BR,scaleSequential:QR,scaleSequentialLog:e9,scaleSequentialPow:MC,scaleSequentialQuantile:r9,scaleSequentialSqrt:FZ,scaleSequentialSymlog:t9,scaleSqrt:yX,scaleSymlog:zR,scaleThreshold:HR,scaleTime:DZ,scaleUtc:MZ,tickFormat:DR},Symbol.toStringTag,{value:"Module"}));var vx,K_;function xb(){if(K_)return vx;K_=1;var t=op();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,f=l}return f}return vx=e,vx}var bx,Y_;function i9(){if(Y_)return bx;Y_=1;function t(e,r){return e>r}return bx=t,bx}var yx,J_;function zZ(){if(J_)return yx;J_=1;var t=xb(),e=i9(),r=sp();function n(a){return a&&a.length?t(a,r,e):void 0}return yx=n,yx}var BZ=zZ();const Eb=sa(BZ);var wx,X_;function s9(){if(X_)return wx;X_=1;function t(e,r){return e<r}return wx=t,wx}var xx,Z_;function qZ(){if(Z_)return xx;Z_=1;var t=xb(),e=s9(),r=sp();function n(a){return a&&a.length?t(a,r,e):void 0}return xx=n,xx}var UZ=qZ();const Sb=sa(UZ);var Ex,Q_;function HZ(){if(Q_)return Ex;Q_=1;var t=eC(),e=au(),r=hR(),n=Bs();function a(i,s){var l=n(i)?t:r;return l(i,e(s,3))}return Ex=a,Ex}var Sx,eO;function WZ(){if(eO)return Sx;eO=1;var t=mR(),e=HZ();function r(n,a){return t(e(n,a),1)}return Sx=r,Sx}var VZ=WZ();const GZ=sa(VZ);var Cx,tO;function KZ(){if(tO)return Cx;tO=1;var t=mC();function e(r,n){return t(r,n)}return Cx=e,Cx}var YZ=KZ();const Cb=sa(YZ);var up=1e9,JZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zC,Wa=!0,Ml="[DecimalError] ",vf=Ml+"Invalid argument: ",$C=Ml+"Exponent out of range: ",dp=Math.floor,ef=Math.pow,XZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dl,si=1e7,qa=7,l9=9007199254740991,m0=dp(l9/qa),Ir={};Ir.absoluteValue=Ir.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ir.comparedTo=Ir.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ir.decimalPlaces=Ir.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qa;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ir.dividedBy=Ir.div=function(t){return ku(this,new this.constructor(t))};Ir.dividedToIntegerBy=Ir.idiv=function(t){var e=this,r=e.constructor;return _a(ku(e,new r(t),0,1),r.precision)};Ir.equals=Ir.eq=function(t){return!this.cmp(t)};Ir.exponent=function(){return Lo(this)};Ir.greaterThan=Ir.gt=function(t){return this.cmp(t)>0};Ir.greaterThanOrEqualTo=Ir.gte=function(t){return this.cmp(t)>=0};Ir.isInteger=Ir.isint=function(){return this.e>this.d.length-2};Ir.isNegative=Ir.isneg=function(){return this.s<0};Ir.isPositive=Ir.ispos=function(){return this.s>0};Ir.isZero=function(){return this.s===0};Ir.lessThan=Ir.lt=function(t){return this.cmp(t)<0};Ir.lessThanOrEqualTo=Ir.lte=function(t){return this.cmp(t)<1};Ir.logarithm=Ir.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(dl))throw Error(Ml+"NaN");if(r.s<1)throw Error(Ml+(r.s?"NaN":"-Infinity"));return r.eq(dl)?new n(0):(Wa=!1,e=ku($h(r,i),$h(t,i),i),Wa=!0,_a(e,a))};Ir.minus=Ir.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d9(e,t):c9(e,(t.s=-t.s,t))};Ir.modulo=Ir.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Ml+"NaN");return r.s?(Wa=!1,e=ku(r,t,0,1).times(t),Wa=!0,r.minus(e)):_a(new n(r),a)};Ir.naturalExponential=Ir.exp=function(){return u9(this)};Ir.naturalLogarithm=Ir.ln=function(){return $h(this)};Ir.negated=Ir.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ir.plus=Ir.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?c9(e,t):d9(e,(t.s=-t.s,t))};Ir.precision=Ir.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vf+t);if(e=Lo(a)+1,n=a.d.length-1,r=n*qa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ir.squareRoot=Ir.sqrt=function(){var t,e,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ml+"NaN")}for(t=Lo(l),Wa=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Xc(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=dp((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ku(l,i,s+2)).times(.5),Xc(i.d).slice(0,s)===(e=Xc(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(_a(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;s+=4}return Wa=!0,_a(n,r)};Ir.times=Ir.mul=function(t){var e,r,n,a,i,s,l,c,u,f=this,p=f.constructor,h=f.d,g=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,c=h.length,u=g.length,c<u&&(i=h,h=g,g=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+g[n]*h[a-n-1]+e,i[a--]=l%si|0,e=l/si|0;i[a]=(i[a]+e)%si|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Wa?_a(t,p.precision):t};Ir.toDecimalPlaces=Ir.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(tu(t,0,up),e===void 0?e=n.rounding:tu(e,0,8),_a(r,t+Lo(r)+1,e))};Ir.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=xf(n,!0):(tu(t,0,up),e===void 0?e=a.rounding:tu(e,0,8),n=_a(new a(n),t+1,e),r=xf(n,!0,t+1)),r};Ir.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?xf(a):(tu(t,0,up),e===void 0?e=i.rounding:tu(e,0,8),n=_a(new i(a),t+Lo(a)+1,e),r=xf(n.abs(),!1,t+Lo(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ir.toInteger=Ir.toint=function(){var t=this,e=t.constructor;return _a(new e(t),Lo(t)+1,e.rounding)};Ir.toNumber=function(){return+this};Ir.toPower=Ir.pow=function(t){var e,r,n,a,i,s,l=this,c=l.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(dl);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ml+"Infinity");return l}if(l.eq(dl))return l;if(n=c.precision,t.eq(dl))return _a(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=l.s,s){if((r=f<0?-f:f)<=l9){for(a=new c(dl),e=Math.ceil(n/qa+4),Wa=!1;r%2&&(a=a.times(l),nO(a.d,e)),r=dp(r/2),r!==0;)l=l.times(l),nO(l.d,e);return Wa=!0,t.s<0?new c(dl).div(a):_a(a,n)}}else if(i<0)throw Error(Ml+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Wa=!1,a=t.times($h(l,n+u)),Wa=!0,a=u9(a),a.s=i,a};Ir.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Lo(a),n=xf(a,r<=i.toExpNeg||r>=i.toExpPos)):(tu(t,1,up),e===void 0?e=i.rounding:tu(e,0,8),a=_a(new i(a),t,e),r=Lo(a),n=xf(a,t<=r||r<=i.toExpNeg,t)),n};Ir.toSignificantDigits=Ir.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(tu(t,1,up),e===void 0?e=n.rounding:tu(e,0,8)),_a(new n(r),t,e)};Ir.toString=Ir.valueOf=Ir.val=Ir.toJSON=Ir[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lo(t),r=t.constructor;return xf(t,e<=r.toExpNeg||e>=r.toExpPos)};function c9(t,e){var r,n,a,i,s,l,c,u,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Wa?_a(e,p):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(p/qa),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/si|0,c[i]%=si;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Wa?_a(e,p):e}function tu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(vf+t)}function Xc(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=qa-n.length,r&&(i+=cd(r)),i+=n;s=t[e],n=s+"",r=qa-n.length,r&&(i+=cd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ku=function(){function t(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%si|0,s=i/si|0;return s&&n.unshift(s),n}function e(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*si+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,f,p,h,g,x,v,y,E,C,k,_,N,O,R,D,B=n.constructor,z=n.s==a.s?1:-1,I=n.d,L=a.d;if(!n.s)return new B(n);if(!a.s)throw Error(Ml+"Division by zero");for(c=n.e-a.e,R=L.length,N=I.length,g=new B(z),x=g.d=[],u=0;L[u]==(I[u]||0);)++u;if(L[u]>(I[u]||0)&&--c,i==null?C=i=B.precision:s?C=i+(Lo(n)-Lo(a))+1:C=i,C<0)return new B(0);if(C=C/qa+2|0,u=0,R==1)for(f=0,L=L[0],C++;(u<N||f)&&C--;u++)k=f*si+(I[u]||0),x[u]=k/L|0,f=k%L|0;else{for(f=si/(L[0]+1)|0,f>1&&(L=t(L,f),I=t(I,f),R=L.length,N=I.length),_=R,v=I.slice(0,R),y=v.length;y<R;)v[y++]=0;D=L.slice(),D.unshift(0),O=L[0],L[1]>=si/2&&++O;do f=0,l=e(L,v,R,y),l<0?(E=v[0],R!=y&&(E=E*si+(v[1]||0)),f=E/O|0,f>1?(f>=si&&(f=si-1),p=t(L,f),h=p.length,y=v.length,l=e(p,v,h,y),l==1&&(f--,r(p,R<h?D:L,h))):(f==0&&(l=f=1),p=L.slice()),h=p.length,h<y&&p.unshift(0),r(v,p,y),l==-1&&(y=v.length,l=e(L,v,R,y),l<1&&(f++,r(v,R<y?D:L,y))),y=v.length):l===0&&(f++,v=[0]),x[u++]=f,l&&v[0]?v[y++]=I[_]||0:(v=[I[_]],y=1);while((_++<N||v[0]!==void 0)&&C--)}return x[0]||x.shift(),g.e=c,_a(g,s?i+Lo(g)+1:i)}}();function u9(t,e){var r,n,a,i,s,l,c=0,u=0,f=t.constructor,p=f.precision;if(Lo(t)>16)throw Error($C+Lo(t));if(!t.s)return new f(dl);for(Wa=!1,l=p,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(ef(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new f(dl),f.precision=l;;){if(a=_a(a.times(t),l),r=r.times(++c),s=i.plus(ku(a,r,l)),Xc(s.d).slice(0,l)===Xc(i.d).slice(0,l)){for(;u--;)i=_a(i.times(i),l);return f.precision=p,e==null?(Wa=!0,_a(i,p)):i}i=s}}function Lo(t){for(var e=t.e*qa,r=t.d[0];r>=10;r/=10)e++;return e}function Nx(t,e,r){if(e>t.LN10.sd())throw Wa=!0,r&&(t.precision=r),Error(Ml+"LN10 precision limit exceeded");return _a(new t(t.LN10),e)}function cd(t){for(var e="";t--;)e+="0";return e}function $h(t,e){var r,n,a,i,s,l,c,u,f,p=1,h=10,g=t,x=g.d,v=g.constructor,y=v.precision;if(g.s<1)throw Error(Ml+(g.s?"NaN":"-Infinity"));if(g.eq(dl))return new v(0);if(e==null?(Wa=!1,u=y):u=e,g.eq(10))return e==null&&(Wa=!0),Nx(v,u);if(u+=h,v.precision=u,r=Xc(x),n=r.charAt(0),i=Lo(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Xc(g.d),n=r.charAt(0),p++;i=Lo(g),n>1?(g=new v("0."+r),i++):g=new v(n+"."+r.slice(1))}else return c=Nx(v,u+2,y).times(i+""),g=$h(new v(n+"."+r.slice(1)),u-h).plus(c),v.precision=y,e==null?(Wa=!0,_a(g,y)):g;for(l=s=g=ku(g.minus(dl),g.plus(dl),u),f=_a(g.times(g),u),a=3;;){if(s=_a(s.times(f),u),c=l.plus(ku(s,new v(a),u)),Xc(c.d).slice(0,u)===Xc(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Nx(v,u+2,y).times(i+""))),l=ku(l,new v(p),u),v.precision=y,e==null?(Wa=!0,_a(l,y)):l;l=c,a+=2}}function rO(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=dp(r/qa),t.d=[],n=(r+1)%qa,r<0&&(n+=qa),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=qa;n<a;)t.d.push(+e.slice(n,n+=qa));e=e.slice(n),n=qa-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Wa&&(t.e>m0||t.e<-m0))throw Error($C+r)}else t.s=0,t.e=0,t.d=[0];return t}function _a(t,e,r){var n,a,i,s,l,c,u,f,p=t.d;for(s=1,i=p[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=qa,a=e,u=p[f=0];else{if(f=Math.ceil((n+1)/qa),i=p.length,f>=i)return t;for(u=i=p[f],s=1;i>=10;i/=10)s++;n%=qa,a=n-qa+s}if(r!==void 0&&(i=ef(10,s-a-1),l=u/i%10|0,c=e<0||p[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ef(10,s-a):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(i=Lo(t),p.length=1,e=e-i-1,p[0]=ef(10,(qa-e%qa)%qa),t.e=dp(-e/qa)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,i=1,f--):(p.length=f+1,i=ef(10,qa-n),p[f]=a>0?(u/ef(10,s-a)%ef(10,a)|0)*i:0),c)for(;;)if(f==0){(p[0]+=i)==si&&(p[0]=1,++t.e);break}else{if(p[f]+=i,p[f]!=si)break;p[f--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Wa&&(t.e>m0||t.e<-m0))throw Error($C+Lo(t));return t}function d9(t,e){var r,n,a,i,s,l,c,u,f,p,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Wa?_a(e,g):e;if(c=t.d,p=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,l=p.length):(r=p,n=u,l=c.length),a=Math.max(Math.ceil(g/qa),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=p.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=p[a]){f=c[a]<p[a];break}s=0}for(f&&(r=c,c=p,p=r,e.s=-e.s),l=c.length,a=p.length-l;a>0;--a)c[l++]=0;for(a=p.length;a>s;){if(c[--a]<p[a]){for(i=a;i&&c[--i]===0;)c[i]=si-1;--c[i],c[a]+=si}c[a]-=p[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Wa?_a(e,g):e):new h(0)}function xf(t,e,r){var n,a=Lo(t),i=Xc(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+cd(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+cd(-a-1)+i,r&&(n=r-s)>0&&(i+=cd(n))):a>=s?(i+=cd(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+cd(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=cd(n))),t.s<0?"-"+i:i}function nO(t,e){if(t.length>e)return t.length=e,!0}function f9(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(vf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return rO(s,i.toString())}else if(typeof i!="string")throw Error(vf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,XZ.test(i))rO(s,i);else throw Error(vf+i)}if(a.prototype=Ir,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=f9,a.config=a.set=ZZ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function ZZ(t){if(!t||typeof t!="object")throw Error(Ml+"Object expected");var e,r,n,a=["precision",1,up,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(dp(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(vf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(vf+r+": "+n);return this}var zC=f9(JZ);dl=new zC(1);const Ea=zC;function QZ(t){return nQ(t)||rQ(t)||tQ(t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(t,e){if(t){if(typeof t=="string")return M5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M5(t,e)}}function rQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nQ(t){if(Array.isArray(t))return M5(t)}function M5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aQ=function(e){return e},m9={},p9=function(e){return e===m9},aO=function(e){return function r(){return arguments.length===0||arguments.length===1&&p9(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},oQ=function t(e,r){return e===1?r:aO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==m9}).length;return s>=e?r.apply(void 0,a):t(e-s,aO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(p){return p9(p)?c.shift():p});return r.apply(void 0,QZ(f).concat(c))}))})},Nb=function(e){return oQ(e.length,e)},F5=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},iQ=Nb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),sQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return aQ;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},$5=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},h9=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function lQ(t){var e;return t===0?e=1:e=Math.floor(new Ea(t).abs().log(10).toNumber())+1,e}function cQ(t,e,r){for(var n=new Ea(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var uQ=Nb(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),dQ=Nb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),fQ=Nb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Pb={rangeStep:cQ,getDigitCount:lQ,interpolateNumber:uQ,uninterpolateNumber:dQ,uninterpolateTruncation:fQ};function z5(t){return hQ(t)||pQ(t)||g9(t)||mQ()}function mQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hQ(t){if(Array.isArray(t))return B5(t)}function zh(t,e){return bQ(t)||vQ(t,e)||g9(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g9(t,e){if(t){if(typeof t=="string")return B5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B5(t,e)}}function B5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function bQ(t){if(Array.isArray(t))return t}function v9(t){var e=zh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function b9(t,e,r){if(t.lte(0))return new Ea(0);var n=Pb.getDigitCount(t.toNumber()),a=new Ea(10).pow(n),i=t.div(a),s=n!==1?.05:.1,l=new Ea(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return e?c:new Ea(Math.ceil(c))}function yQ(t,e,r){var n=1,a=new Ea(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Ea(10).pow(Pb.getDigitCount(t)-1),a=new Ea(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ea(Math.floor(t)))}else t===0?a=new Ea(Math.floor((e-1)/2)):r||(a=new Ea(Math.floor(t)));var s=Math.floor((e-1)/2),l=sQ(iQ(function(c){return a.add(new Ea(c-s).mul(n)).toNumber()}),F5);return l(0,e)}function y9(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ea(0),tickMin:new Ea(0),tickMax:new Ea(0)};var i=b9(new Ea(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Ea(0):(s=new Ea(t).add(e).div(2),s=s.sub(new Ea(s).mod(i)));var l=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new Ea(e).sub(s).div(i).toNumber()),u=l+c+1;return u>r?y9(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Ea(l).mul(i)),tickMax:s.add(new Ea(c).mul(i))})}function wQ(t){var e=zh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=v9([r,n]),c=zh(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(z5(F5(0,a-1).map(function(){return 1/0}))):[].concat(z5(F5(0,a-1).map(function(){return-1/0})),[f]);return r>n?$5(p):p}if(u===f)return yQ(u,a,i);var h=y9(u,f,s,i),g=h.step,x=h.tickMin,v=h.tickMax,y=Pb.rangeStep(x,v.add(new Ea(.1).mul(g)),g);return r>n?$5(y):y}function xQ(t,e){var r=zh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=v9([n,a]),l=zh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(e,2),p=b9(new Ea(u).sub(c).div(f-1),i,0),h=[].concat(z5(Pb.rangeStep(new Ea(c),new Ea(u).sub(new Ea(.99).mul(p)),p)),[u]);return n>a?$5(h):h}var EQ=h9(wQ),SQ=h9(xQ),CQ="Invariant failed";function Ef(t,e){throw new Error(CQ)}var NQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function PQ(t,e){return OQ(t)||_Q(t,e)||AQ(t,e)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AQ(t,e){if(t){if(typeof t=="string")return oO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function OQ(t){if(Array.isArray(t))return t}function IQ(t,e){if(t==null)return{};var r=TQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E9(n.key),n)}}function jQ(t,e,r){return e&&LQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DQ(t,e,r){return e=h0(e),MQ(t,w9()?Reflect.construct(e,r||[],h0(t).constructor):e.apply(t,r))}function MQ(t,e){if(e&&(Bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FQ(t)}function FQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h0(t)}function $Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q5(t,e)}function q5(t,e){return q5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q5(t,e)}function x9(t,e,r){return e=E9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E9(t){var e=zQ(t,"string");return Bm(e)=="symbol"?e:e+""}function zQ(t,e){if(Bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kb=function(t){function e(){return RQ(this,e),DQ(this,e,arguments)}return $Q(e,t),jQ(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,h=IQ(n,NQ),g=fn(h,!1);this.props.direction==="x"&&f.type!=="number"&&Ef();var x=c.map(function(v){var y=u(v,l),E=y.x,C=y.y,k=y.value,_=y.errorVal;if(!_)return null;var N=[],O,R;if(Array.isArray(_)){var D=PQ(_,2);O=D[0],R=D[1]}else O=R=_;if(i==="vertical"){var B=f.scale,z=C+a,I=z+s,L=z-s,M=B(k-O),F=B(k+R);N.push({x1:F,y1:I,x2:F,y2:L}),N.push({x1:M,y1:z,x2:F,y2:z}),N.push({x1:M,y1:I,x2:M,y2:L})}else if(i==="horizontal"){var H=p.scale,J=E+a,ee=J-s,re=J+s,te=H(k-O),K=H(k+R);N.push({x1:ee,y1:K,x2:re,y2:K}),N.push({x1:J,y1:te,x2:J,y2:K}),N.push({x1:ee,y1:te,x2:re,y2:te})}return o.createElement(va,p0({className:"recharts-errorBar",key:"bar-".concat(N.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},g),N.map(function(U){return o.createElement("line",p0({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return o.createElement(va,{className:"recharts-errorBars"},x)}}])}(o.Component);x9(kb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});x9(kb,"displayName","ErrorBar");function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){BQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BQ(t,e,r){return e=qQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qQ(t){var e=UQ(t,"string");return Bh(e)=="symbol"?e:e+""}function UQ(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S9=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=ul(r,hf);if(!s)return null;var l=hf.defaultProps,c=l!==void 0?Hd(Hd({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(f,p){var h=p.item,g=p.props,x=g.sectors||g.data||[];return f.concat(x.map(function(v){return{type:s.props.iconType||h.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(n||[]).map(function(f){var p=f.item,h=p.type.defaultProps,g=h!==void 0?Hd(Hd({},h),p.props):{},x=g.dataKey,v=g.name,y=g.legendType,E=g.hide;return{inactive:E,dataKey:x,type:c.iconType||y||"square",color:BC(p),value:v||x,payload:g}}),Hd(Hd(Hd({},c),hf.getWithHeight(s,a)),{},{payload:u,item:s})};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function sO(t){return GQ(t)||VQ(t)||WQ(t)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQ(t,e){if(t){if(typeof t=="string")return U5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U5(t,e)}}function VQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GQ(t){if(Array.isArray(t))return U5(t)}function U5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function to(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){_m(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _m(t,e,r){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KQ(t){var e=YQ(t,"string");return qh(e)=="symbol"?e:e+""}function YQ(t,e){if(qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xi(t,e,r){return Dn(t)||Dn(e)?r:Ko(e)?ml(t,e,r):vn(e)?e(t):r}function ah(t,e,r,n){var a=GZ(t,function(l){return Xi(l,e)});if(r==="number"){var i=a.filter(function(l){return sr(l)||parseFloat(l)});return i.length?[Sb(i),Eb(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Dn(l)}):a;return s.map(function(l){return Ko(l)||l instanceof Date?l:""})}var JQ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,p=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,g=void 0;if(ds(p-f)!==ds(h-p)){var x=[];if(ds(h-p)===ds(c[1]-c[0])){g=h;var v=p+c[1]-c[0];x[0]=Math.min(v,(v+f)/2),x[1]=Math.max(v,(v+f)/2)}else{g=f;var y=h+c[1]-c[0];x[0]=Math.min(p,(y+p)/2),x[1]=Math.max(p,(y+p)/2)}var E=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(e>E[0]&&e<=E[1]||e>=x[0]&&e<=x[1]){s=a[u].index;break}}else{var C=Math.min(f,h),k=Math.max(f,h);if(e>(C+p)/2&&e<=(k+p)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},BC=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?to(to({},e.type.defaultProps),e.props):e.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},XQ=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,p=Object.keys(f),h=0,g=p.length;h<g;h++){var x=f[p[h]],v=x.items,y=x.cateAxisId,E=v.filter(function(R){return Pu(R.type).indexOf("Bar")>=0});if(E&&E.length){var C=E[0].type.defaultProps,k=C!==void 0?to(to({},C),E[0].props):E[0].props,_=k.barSize,N=k[y];s[N]||(s[N]=[]);var O=Dn(_)?r:_;s[N].push({item:E[0],stackList:E.slice(1),barSize:Dn(O)?void 0:fs(O,n,0)})}}return s},ZQ=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=fs(r,a,0,!0),f,p=[];if(s[0].barSize===+s[0].barSize){var h=!1,g=a/c,x=s.reduce(function(_,N){return _+N.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&g>0&&(h=!0,g*=.9,x=c*g);var v=(a-x)/2>>0,y={offset:v-u,size:0};f=s.reduce(function(_,N){var O={item:N.item,position:{offset:y.offset+y.size+u,size:h?g:N.barSize}},R=[].concat(sO(_),[O]);return y=R[R.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(D){R.push({item:D,position:y})}),R},p)}else{var E=fs(n,a,0,!0);a-2*E-(c-1)*u<=0&&(u=0);var C=(a-2*E-(c-1)*u)/c;C>1&&(C>>=0);var k=l===+l?Math.min(C,l):C;f=s.reduce(function(_,N,O){var R=[].concat(sO(_),[{item:N.item,position:{offset:E+(C+u)*O+(C-k)/2,size:k}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(D){R.push({item:D,position:R[R.length-1].position})}),R},p)}return f},QQ=function(e,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=S9({children:i,legendWidth:c});if(u){var f=a||{},p=f.width,h=f.height,g=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&sr(e[g]))return to(to({},e),{},_m({},g,e[g]+(p||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&sr(e[x]))return to(to({},e),{},_m({},x,e[x]+(h||0)))}return e},eee=function(e,r,n){return Dn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},C9=function(e,r,n,a,i){var s=r.props.children,l=Dl(s,kb).filter(function(u){return eee(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var p=Xi(f,n);if(Dn(p))return u;var h=Array.isArray(p)?[Sb(p),Eb(p)]:[p,p],g=c.reduce(function(x,v){var y=Xi(f,v,0),E=h[0]-Math.abs(Array.isArray(y)?y[0]:y),C=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(E,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},tee=function(e,r,n,a,i){var s=r.map(function(l){return C9(e,l,n,i,a)}).filter(function(l){return!Dn(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},N9=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&C9(e,c,u,a)||ah(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},P9=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},k9=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Nu=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ds(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(p){var h=i?i.indexOf(p):p;return{coordinate:a(h)+u,value:p,offset:u}});return f.filter(function(p){return!fg(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,h){return{coordinate:a(p)+u,value:p,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(p){return{coordinate:a(p)+u,value:p,offset:u}}):a.domain().map(function(p,h){return{coordinate:a(p)+u,value:i?i[p]:p,index:h,offset:u}})},Px=new WeakMap,wv=function(e,r){if(typeof r!="function")return e;Px.has(e)||Px.set(e,new WeakMap);var n=Px.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},A9=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,l=e.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Lh(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:c0(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:nh(),realScaleType:"point"}:i==="category"?{scale:Lh(),realScaleType:"band"}:{scale:c0(),realScaleType:"linear"};if(bf(a)){var c="scale".concat(sb(a));return{scale:(G_[c]||nh)(),realScaleType:G_[c]?c:"point"}}return vn(a)?{scale:a}:{scale:nh(),realScaleType:"point"}},cO=1e-4,_9=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-cO,s=Math.max(a[0],a[1])+cO,l=e(r[0]),c=e(r[n-1]);(l<i||l>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},ree=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},nee=function(e,r){if(!r||r.length!==2||!sr(r[0])||!sr(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!sr(e[0])||e[0]<n)&&(i[0]=n),(!sr(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},aee=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=fg(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},oee=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=fg(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},iee={sign:aee,expand:GV,none:Rm,silhouette:KV,wiggle:YV,positive:oee},see=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=iee[n],s=VV().keys(a).value(function(l,c){return+Xi(l,c,0)}).order(y5).offset(i);return s(e)},lee=function(e,r,n,a,i,s){if(!e)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(p,h){var g,x=(g=h.type)!==null&&g!==void 0&&g.defaultProps?to(to({},h.type.defaultProps),h.props):h.props,v=x.stackId,y=x.hide;if(y)return p;var E=x[n],C=p[E]||{hasStack:!1,stackGroups:{}};if(Ko(v)){var k=C.stackGroups[v]||{numericAxisId:n,cateAxisId:a,items:[]};k.items.push(h),C.hasStack=!0,C.stackGroups[v]=k}else C.stackGroups[mg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return to(to({},p),{},_m({},E,C))},c),f={};return Object.keys(u).reduce(function(p,h){var g=u[h];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,y){var E=g.stackGroups[y];return to(to({},v),{},_m({},y,{numericAxisId:n,cateAxisId:a,items:E.items,stackedData:see(e,E.items,i)}))},x)}return to(to({},p),{},_m({},h,g))},f)},O9=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=EQ(u,i,l);return e.domain([Sb(f),Eb(f)]),{niceTicks:f}}if(i&&a==="number"){var p=e.domain(),h=SQ(p,i,l);return{niceTicks:h}}return null},uO=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Xi(s,r.dataKey,r.domain[l]);return Dn(c)?null:r.scale(c)-i/2+a},cee=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},uee=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?to(to({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Ko(i)){var s=r[i];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},dee=function(e){return e.reduce(function(r,n){return[Sb(n.concat([r[0]]).filter(sr)),Eb(n.concat([r[1]]).filter(sr))]},[1/0,-1/0])},I9=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],l=s.stackedData,c=l.reduce(function(u,f){var p=dee(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H5=function(e,r,n){if(vn(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(sr(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(dO.test(e[0])){var i=+dO.exec(e[0])[1];a[0]=r[0]-i}else vn(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(sr(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(fO.test(e[1])){var s=+fO.exec(e[1])[1];a[1]=r[1]+s}else vn(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},g0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=hC(r,function(p){return p.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},mO=function(e,r,n){return!e||!e.length||Cb(e,ml(n,"type.defaultProps.domain"))?r:e},T9=function(e,r){var n=e.type.defaultProps?to(to({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return to(to({},fn(e,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:BC(e),value:Xi(r,a),type:c,payload:r,chartType:u,hide:f})};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){R9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R9(t,e,r){return e=fee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fee(t){var e=mee(t,"string");return Uh(e)=="symbol"?e:e+""}function mee(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pee(t,e){return bee(t)||vee(t,e)||gee(t,e)||hee()}function hee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(t,e){if(t){if(typeof t=="string")return hO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hO(t,e)}}function hO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function bee(t){if(Array.isArray(t))return t}var v0=Math.PI/180,yee=function(e){return e*180/Math.PI},$a=function(e,r,n,a){return{x:e+Math.cos(-v0*a)*n,y:r+Math.sin(-v0*a)*n}},L9=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wee=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,f=fs(e.cx,s,s/2),p=fs(e.cy,l,l/2),h=L9(s,l,n),g=fs(e.innerRadius,h,0),x=fs(e.outerRadius,h,h*.8),v=Object.keys(r);return v.reduce(function(y,E){var C=r[E],k=C.domain,_=C.reversed,N;if(Dn(C.range))a==="angleAxis"?N=[c,u]:a==="radiusAxis"&&(N=[g,x]),_&&(N=[N[1],N[0]]);else{N=C.range;var O=N,R=pee(O,2);c=R[0],u=R[1]}var D=A9(C,i),B=D.realScaleType,z=D.scale;z.domain(k).range(N),_9(z);var I=O9(z,bu(bu({},C),{},{realScaleType:B})),L=bu(bu(bu({},C),I),{},{range:N,radius:x,realScaleType:B,scale:z,cx:f,cy:p,innerRadius:g,outerRadius:x,startAngle:c,endAngle:u});return bu(bu({},y),{},R9({},E,L))},{})},xee=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Eee=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,l=xee({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:yee(u),angleInRadian:u}},See=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Cee=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return e+l*360},gO=function(e,r){var n=e.x,a=e.y,i=Eee({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=See(r),p=f.startAngle,h=f.endAngle,g=l,x;if(p<=h){for(;g>h;)g-=360;for(;g<p;)g+=360;x=g>=p&&g<=h}else{for(;g>p;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=p}return x?bu(bu({},r),{},{radius:s,angle:Cee(g,r)}):null},j9=function(e){return!b.isValidElement(e)&&!vn(e)&&typeof e!="boolean"?e.className:""};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}var Nee=["offset"];function Pee(t){return Oee(t)||_ee(t)||Aee(t)||kee()}function kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(t,e){if(t){if(typeof t=="string")return W5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W5(t,e)}}function _ee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oee(t){if(Array.isArray(t))return W5(t)}function W5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Iee(t,e){if(t==null)return{};var r=Tee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Go(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){Ree(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ree(t,e,r){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lee(t){var e=jee(t,"string");return Hh(e)=="symbol"?e:e+""}function jee(t,e){if(Hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}var Dee=function(e){var r=e.value,n=e.formatter,a=Dn(e.children)?r:e.children;return vn(n)?n(a):a},Mee=function(e,r){var n=ds(r-e),a=Math.min(Math.abs(r-e),360);return n*a},Fee=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,l=e.className,c=i,u=c.cx,f=c.cy,p=c.innerRadius,h=c.outerRadius,g=c.startAngle,x=c.endAngle,v=c.clockWise,y=(p+h)/2,E=Mee(g,x),C=E>=0?1:-1,k,_;a==="insideStart"?(k=g+C*s,_=v):a==="insideEnd"?(k=x-C*s,_=!v):a==="end"&&(k=x+C*s,_=v),_=E<=0?_:!_;var N=$a(u,f,y,k),O=$a(u,f,y,k+(_?1:-1)*359),R="M".concat(N.x,",").concat(N.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(O.x,",").concat(O.y),D=Dn(e.id)?mg("recharts-radial-line-"):e.id;return o.createElement("text",Wh({},n,{dominantBaseline:"central",className:jn("recharts-radial-bar-label",l)}),o.createElement("defs",null,o.createElement("path",{id:D,d:R})),o.createElement("textPath",{xlinkHref:"#".concat(D)},r))},$ee=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,p=i.endAngle,h=(f+p)/2;if(a==="outside"){var g=$a(s,l,u+n,h),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,E=$a(s,l,y,h),C=E.x,k=E.y;return{x:C,y:k,textAnchor:"middle",verticalAnchor:"middle"}},zee=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,l=s.x,c=s.y,u=s.width,f=s.height,p=f>=0?1:-1,h=p*a,g=p>0?"end":"start",x=p>0?"start":"end",v=u>=0?1:-1,y=v*a,E=v>0?"end":"start",C=v>0?"start":"end";if(i==="top"){var k={x:l+u/2,y:c-p*a,textAnchor:"middle",verticalAnchor:g};return Go(Go({},k),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:x};return Go(Go({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var N={x:l-y,y:c+f/2,textAnchor:E,verticalAnchor:"middle"};return Go(Go({},N),n?{width:Math.max(N.x-n.x,0),height:f}:{})}if(i==="right"){var O={x:l+u+y,y:c+f/2,textAnchor:C,verticalAnchor:"middle"};return Go(Go({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var R=n?{width:u,height:f}:{};return i==="insideLeft"?Go({x:l+y,y:c+f/2,textAnchor:C,verticalAnchor:"middle"},R):i==="insideRight"?Go({x:l+u-y,y:c+f/2,textAnchor:E,verticalAnchor:"middle"},R):i==="insideTop"?Go({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},R):i==="insideBottom"?Go({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:g},R):i==="insideTopLeft"?Go({x:l+y,y:c+h,textAnchor:C,verticalAnchor:x},R):i==="insideTopRight"?Go({x:l+u-y,y:c+h,textAnchor:E,verticalAnchor:x},R):i==="insideBottomLeft"?Go({x:l+y,y:c+f-h,textAnchor:C,verticalAnchor:g},R):i==="insideBottomRight"?Go({x:l+u-y,y:c+f-h,textAnchor:E,verticalAnchor:g},R):ip(i)&&(sr(i.x)||lf(i.x))&&(sr(i.y)||lf(i.y))?Go({x:l+fs(i.x,u),y:c+fs(i.y,f),textAnchor:"end",verticalAnchor:"end"},R):Go({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Bee=function(e){return"cx"in e&&sr(e.cx)};function ci(t){var e=t.offset,r=e===void 0?5:e,n=Iee(t,Nee),a=Go({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,f=a.className,p=f===void 0?"":f,h=a.textBreakAll;if(!i||Dn(l)&&Dn(c)&&!b.isValidElement(u)&&!vn(u))return null;if(b.isValidElement(u))return b.cloneElement(u,a);var g;if(vn(u)){if(g=b.createElement(u,a),b.isValidElement(g))return g}else g=Dee(a);var x=Bee(i),v=fn(a,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Fee(a,g,v);var y=x?$ee(a):zee(a);return o.createElement(wf,Wh({className:jn("recharts-label",p)},v,y,{breakAll:h}),g)}ci.displayName="Label";var D9=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,p=e.x,h=e.y,g=e.top,x=e.left,v=e.width,y=e.height,E=e.clockWise,C=e.labelViewBox;if(C)return C;if(sr(v)&&sr(y)){if(sr(p)&&sr(h))return{x:p,y:h,width:v,height:y};if(sr(g)&&sr(x))return{x:g,y:x,width:v,height:y}}return sr(p)&&sr(h)?{x:p,y:h,width:0,height:0}:sr(r)&&sr(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:E}:e.viewBox?e.viewBox:{}},qee=function(e,r){return e?e===!0?o.createElement(ci,{key:"label-implicit",viewBox:r}):Ko(e)?o.createElement(ci,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===ci?b.cloneElement(e,{key:"label-implicit",viewBox:r}):o.createElement(ci,{key:"label-implicit",content:e,viewBox:r}):vn(e)?o.createElement(ci,{key:"label-implicit",content:e,viewBox:r}):ip(e)?o.createElement(ci,Wh({viewBox:r},e,{key:"label-implicit"})):null:null},Uee=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=D9(e),s=Dl(a,ci).map(function(c,u){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=qee(e.label,r||i);return[l].concat(Pee(s))};ci.parseViewBox=D9;ci.renderCallByParent=Uee;var kx,bO;function Hee(){if(bO)return kx;bO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return kx=t,kx}var Wee=Hee();const Vee=sa(Wee);function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}var Gee=["valueAccessor"],Kee=["data","dataKey","clockWise","id","textBreakAll"];function Yee(t){return Qee(t)||Zee(t)||Xee(t)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xee(t,e){if(t){if(typeof t=="string")return V5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V5(t,e)}}function Zee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qee(t){if(Array.isArray(t))return V5(t)}function V5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){ete(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ete(t,e,r){return e=tte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tte(t){var e=rte(t,"string");return Vh(e)=="symbol"?e:e+""}function rte(t,e){if(Vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xO(t,e){if(t==null)return{};var r=nte(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ate=function(e){return Array.isArray(e.value)?Vee(e.value):e.value};function yd(t){var e=t.valueAccessor,r=e===void 0?ate:e,n=xO(t,Gee),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=xO(n,Kee);return!a||!a.length?null:o.createElement(va,{className:"recharts-label-list"},a.map(function(f,p){var h=Dn(i)?r(f,p):Xi(f&&f.payload,i),g=Dn(l)?{}:{id:"".concat(l,"-").concat(p)};return o.createElement(ci,b0({},fn(f,!0),u,g,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:ci.parseViewBox(Dn(s)?f:wO(wO({},f),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}yd.displayName="LabelList";function ote(t,e){return t?t===!0?o.createElement(yd,{key:"labelList-implicit",data:e}):o.isValidElement(t)||vn(t)?o.createElement(yd,{key:"labelList-implicit",data:e,content:t}):ip(t)?o.createElement(yd,b0({data:e},t,{key:"labelList-implicit"})):null:null}function ite(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Dl(n,yd).map(function(s,l){return b.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=ote(t.label,e);return[i].concat(Yee(a))}yd.renderCallByParent=ite;function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G5.apply(this,arguments)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){ste(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ste(t,e,r){return e=lte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lte(t){var e=cte(t,"string");return Gh(e)=="symbol"?e:e+""}function cte(t,e){if(Gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ute=function(e,r){var n=ds(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},xv=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(l?1:-1)+a,p=Math.asin(c/f)/v0,h=u?i:i+s*p,g=$a(r,n,f,h),x=$a(r,n,a,h),v=u?i-s*p:i,y=$a(r,n,f*Math.cos(p*v0),v);return{center:g,circleTangency:x,lineTangency:y,theta:p}},M9=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=ute(s,l),u=s+c,f=$a(r,n,i,s),p=$a(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var g=$a(r,n,a,s),x=$a(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},dte=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,p=ds(f-u),h=xv({cx:r,cy:n,radius:i,angle:u,sign:p,cornerRadius:s,cornerIsExternal:c}),g=h.circleTangency,x=h.lineTangency,v=h.theta,y=xv({cx:r,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:c}),E=y.circleTangency,C=y.lineTangency,k=y.theta,_=c?Math.abs(u-f):Math.abs(u-f)-v-k;if(_<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):M9({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var O=xv({cx:r,cy:n,radius:a,angle:u,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=O.circleTangency,D=O.lineTangency,B=O.theta,z=xv({cx:r,cy:n,radius:a,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=z.circleTangency,L=z.lineTangency,M=z.theta,F=c?Math.abs(u-f):Math.abs(u-f)-B-M;if(F<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},fte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F9=function(e){var r=SO(SO({},fte),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,h=r.className;if(s<i||f===p)return null;var g=jn("recharts-sector",h),x=s-i,v=fs(l,x,0,!0),y;return v>0&&Math.abs(f-p)<360?y=dte({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):y=M9({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),o.createElement("path",G5({},fn(r,!0),{className:g,d:y,role:"img"}))};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function K5(){return K5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K5.apply(this,arguments)}function CO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(r),!0).forEach(function(n){mte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mte(t,e,r){return e=pte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pte(t){var e=hte(t,"string");return Kh(e)=="symbol"?e:e+""}function hte(t,e){if(Kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PO={curveBasisClosed:jV,curveBasisOpen:DV,curveBasis:LV,curveBumpX:wV,curveBumpY:xV,curveLinearClosed:MV,curveLinear:cb,curveMonotoneX:FV,curveMonotoneY:$V,curveNatural:zV,curveStep:BV,curveStepAfter:UV,curveStepBefore:qV},Ev=function(e){return e.x===+e.x&&e.y===+e.y},jp=function(e){return e.x},Dp=function(e){return e.y},gte=function(e,r){if(vn(e))return e;var n="curve".concat(sb(e));return(n==="curveMonotone"||n==="curveBump")&&r?PO["".concat(n).concat(r==="vertical"?"Y":"X")]:PO[n]||cb},vte=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=gte(n,l),p=u?i.filter(function(v){return Ev(v)}):i,h;if(Array.isArray(s)){var g=u?s.filter(function(v){return Ev(v)}):s,x=p.map(function(v,y){return NO(NO({},v),{},{base:g[y]})});return l==="vertical"?h=mv().y(Dp).x1(jp).x0(function(v){return v.base.x}):h=mv().x(jp).y1(Dp).y0(function(v){return v.base.y}),h.defined(Ev).curve(f),h(x)}return l==="vertical"&&sr(s)?h=mv().y(Dp).x1(jp).x0(s):sr(s)?h=mv().x(jp).y1(Dp).y0(s):h=D7().x(jp).y(Dp),h.defined(Ev).curve(f),h(p)},Y5=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?vte(e):a;return o.createElement("path",K5({},fn(e,!1),Vv(e),{className:jn("recharts-curve",r),d:s,ref:i}))},bte=Object.getOwnPropertyNames,yte=Object.getOwnPropertySymbols,wte=Object.prototype.hasOwnProperty;function kO(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Sv(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function AO(t){return bte(t).concat(yte(t))}var xte=Object.hasOwn||function(t,e){return wte.call(t,e)};function If(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ete="__v",Ste="__o",Cte="_owner",_O=Object.getOwnPropertyDescriptor,OO=Object.keys;function Nte(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Pte(t,e){return If(t.getTime(),e.getTime())}function kte(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ate(t,e){return t===e}function IO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),f=!1,p=0;(l=u.next())&&!l.done;){if(a[p]){p++;continue}var h=s.value,g=l.value;if(r.equals(h[0],g[0],c,p,t,e,r)&&r.equals(h[1],g[1],h[0],g[0],t,e,r)){f=a[p]=!0;break}p++}if(!f)return!1;c++}return!0}var _te=If;function Ote(t,e,r){var n=OO(t),a=n.length;if(OO(e).length!==a)return!1;for(;a-- >0;)if(!$9(t,e,r,n[a]))return!1;return!0}function Mp(t,e,r){var n=AO(t),a=n.length;if(AO(e).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!$9(t,e,r,i)||(s=_O(t,i),l=_O(e,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Ite(t,e){return If(t.valueOf(),e.valueOf())}function Tte(t,e){return t.source===e.source&&t.flags===e.flags}function TO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,l;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function Rte(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Lte(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $9(t,e,r,n){return(n===Cte||n===Ste||n===Ete)&&(t.$$typeof||e.$$typeof)?!0:xte(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var jte="[object Arguments]",Dte="[object Boolean]",Mte="[object Date]",Fte="[object Error]",$te="[object Map]",zte="[object Number]",Bte="[object Object]",qte="[object RegExp]",Ute="[object Set]",Hte="[object String]",Wte="[object URL]",Vte=Array.isArray,RO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,LO=Object.assign,Gte=Object.prototype.toString.call.bind(Object.prototype.toString);function Kte(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,p=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var E=typeof x;if(E!==typeof v)return!1;if(E!=="object")return E==="number"?s(x,v,y):E==="function"?a(x,v,y):!1;var C=x.constructor;if(C!==v.constructor)return!1;if(C===Object)return l(x,v,y);if(Vte(x))return e(x,v,y);if(RO!=null&&RO(x))return p(x,v,y);if(C===Date)return r(x,v,y);if(C===RegExp)return u(x,v,y);if(C===Map)return i(x,v,y);if(C===Set)return f(x,v,y);var k=Gte(x);return k===Mte?r(x,v,y):k===qte?u(x,v,y):k===$te?i(x,v,y):k===Ute?f(x,v,y):k===Bte?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):k===Wte?h(x,v,y):k===Fte?n(x,v,y):k===jte?l(x,v,y):k===Dte||k===zte||k===Hte?c(x,v,y):!1}}function Yte(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Mp:Nte,areDatesEqual:Pte,areErrorsEqual:kte,areFunctionsEqual:Ate,areMapsEqual:n?kO(IO,Mp):IO,areNumbersEqual:_te,areObjectsEqual:n?Mp:Ote,arePrimitiveWrappersEqual:Ite,areRegExpsEqual:Tte,areSetsEqual:n?kO(TO,Mp):TO,areTypedArraysEqual:n?Mp:Rte,areUrlsEqual:Lte};if(r&&(a=LO({},a,r(a))),e){var i=Sv(a.areArraysEqual),s=Sv(a.areMapsEqual),l=Sv(a.areObjectsEqual),c=Sv(a.areSetsEqual);a=LO({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function Jte(t){return function(e,r,n,a,i,s,l){return t(e,r,l)}}function Xte(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var f=n(),p=f.cache,h=p===void 0?e?new WeakMap:void 0:p,g=f.meta;return r(c,u,{cache:h,equals:a,meta:g,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var Zte=kd();kd({strict:!0});kd({circular:!0});kd({circular:!0,strict:!0});kd({createInternalComparator:function(){return If}});kd({strict:!0,createInternalComparator:function(){return If}});kd({circular:!0,createInternalComparator:function(){return If}});kd({circular:!0,createInternalComparator:function(){return If},strict:!0});function kd(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,l=Yte(t),c=Kte(l),u=n?n(c):Jte(c);return Xte({circular:r,comparator:c,createState:a,equals:u,strict:s})}function Qte(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Qte(a)};requestAnimationFrame(n)}function J5(t){"@babel/helpers - typeof";return J5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J5(t)}function ere(t){return are(t)||nre(t)||rre(t)||tre()}function tre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function are(t){if(Array.isArray(t))return t}function ore(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=ere(s),c=l[0],u=l.slice(1);if(typeof c=="number"){jO(a.bind(null,u),c);return}a(c),jO(a.bind(null,u));return}J5(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){z9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9(t,e,r){return e=ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ire(t){var e=sre(t,"string");return Yh(e)==="symbol"?e:String(e)}function sre(t,e){if(Yh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lre=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},cre=function(e){return e},ure=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},oh=function(e,r){return Object.keys(r).reduce(function(n,a){return FO(FO({},n),{},z9({},a,e(a,r[a])))},{})},$O=function(e,r,n){return e.map(function(a){return"".concat(ure(a)," ").concat(r,"ms ").concat(n)}).join(",")};function dre(t,e){return pre(t)||mre(t,e)||B9(t,e)||fre()}function fre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function pre(t){if(Array.isArray(t))return t}function hre(t){return bre(t)||vre(t)||B9(t)||gre()}function gre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9(t,e){if(t){if(typeof t=="string")return X5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(t,e)}}function vre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bre(t){if(Array.isArray(t))return X5(t)}function X5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y0=1e-4,q9=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},U9=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},zO=function(e,r){return function(n){var a=q9(e,r);return U9(a,n)}},yre=function(e,r){return function(n){var a=q9(e,r),i=[].concat(hre(a.map(function(s,l){return s*l}).slice(1)),[0]);return U9(i,n)}},BO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=dre(u,4);a=f[0],i=f[1],s=f[2],l=f[3]}}}var p=zO(a,s),h=zO(i,l),g=yre(a,s),x=function(E){return E>1?1:E<0?0:E},v=function(E){for(var C=E>1?1:E,k=C,_=0;_<8;++_){var N=p(k)-C,O=g(k);if(Math.abs(N-C)<y0||O<y0)return h(k);k=x(k-N/O)}return h(k)};return v.isStepper=!1,v},wre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,l=s===void 0?17:s,c=function(f,p,h){var g=-(f-p)*n,x=h*i,v=h+(g-x)*l/1e3,y=h*l/1e3+f;return Math.abs(y-p)<y0&&Math.abs(v)<y0?[p,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},xre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BO(a);case"spring":return wre();default:if(a.split("(")[0]==="cubic-bezier")return BO(a)}return typeof a=="function"?a:null};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function qO(t){return Cre(t)||Sre(t)||H9(t)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cre(t){if(Array.isArray(t))return Q5(t)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){Z5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z5(t,e,r){return e=Nre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nre(t){var e=Pre(t,"string");return Jh(e)==="symbol"?e:String(e)}function Pre(t,e){if(Jh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kre(t,e){return Ore(t)||_re(t,e)||H9(t,e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(t,e){if(t){if(typeof t=="string")return Q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(t,e)}}function Q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _re(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Ore(t){if(Array.isArray(t))return t}var w0=function(e,r,n){return e+(r-e)*n},eS=function(e){var r=e.from,n=e.to;return r!==n},Ire=function t(e,r,n){var a=oh(function(i,s){if(eS(s)){var l=e(s.from,s.to,s.velocity),c=kre(l,2),u=c[0],f=c[1];return Pi(Pi({},s),{},{from:u,velocity:f})}return s},r);return n<1?oh(function(i,s){return eS(s)?Pi(Pi({},s),{},{velocity:w0(s.velocity,a[i].velocity,n),from:w0(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const Tre=function(t,e,r,n,a){var i=lre(t,e),s=i.reduce(function(y,E){return Pi(Pi({},y),{},Z5({},E,[t[E],e[E]]))},{}),l=i.reduce(function(y,E){return Pi(Pi({},y),{},Z5({},E,{from:t[E],velocity:0,to:e[E]}))},{}),c=-1,u,f,p=function(){return null},h=function(){return oh(function(E,C){return C.from},l)},g=function(){return!Object.values(l).filter(eS).length},x=function(E){u||(u=E);var C=E-u,k=C/r.dt;l=Ire(r,l,k),a(Pi(Pi(Pi({},t),e),h())),u=E,g()||(c=requestAnimationFrame(p))},v=function(E){f||(f=E);var C=(E-f)/n,k=oh(function(N,O){return w0.apply(void 0,qO(O).concat([r(C)]))},s);if(a(Pi(Pi(Pi({},t),e),k)),C<1)c=requestAnimationFrame(p);else{var _=oh(function(N,O){return w0.apply(void 0,qO(O).concat([r(1)]))},s);a(Pi(Pi(Pi({},t),e),_))}};return p=r.isStepper?x:v,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}var Rre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lre(t,e){if(t==null)return{};var r=jre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jre(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Ax(t){return $re(t)||Fre(t)||Mre(t)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mre(t,e){if(t){if(typeof t=="string")return tS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tS(t,e)}}function Fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $re(t){if(Array.isArray(t))return tS(t)}function tS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(r),!0).forEach(function(n){Hp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hp(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W9(n.key),n)}}function qre(t,e,r){return e&&Bre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W9(t){var e=Ure(t,"string");return qm(e)==="symbol"?e:String(e)}function Ure(t,e){if(qm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rS(t,e)}function rS(t,e){return rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rS(t,e)}function Wre(t){var e=Vre();return function(){var n=x0(t),a;if(e){var i=x0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return nS(this,a)}}function nS(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aS(t)}function aS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(t)}var Tu=function(t){Hre(r,t);var e=Wre(r);function r(n,a){var i;zre(this,r),i=e.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,f=s.to,p=s.steps,h=s.children,g=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(aS(i)),i.changeStyle=i.changeStyle.bind(aS(i)),!l||g<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),nS(i);if(p&&p.length)i.state={style:p[0].style};else if(u){if(typeof h=="function")return i.state={style:u},nS(i);i.state={style:c?Hp({},c,u):u}}else i.state={style:{}};return i}return qre(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,p=i.from,h=this.state.style;if(l){if(!s){var g={style:c?Hp({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(g);return}if(!(Zte(a.to,f)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?p:a.to;if(this.state&&h){var y={style:c?Hp({},c,v):v};(c&&h[c]!==v||!c&&h!==v)&&this.setState(y)}this.runAnimation(wc(wc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,p=a.onAnimationEnd,h=a.onAnimationStart,g=Tre(s,l,xre(u),c,this.changeStyle),x=function(){i.stopJSAnimation=g()};this.manager.start([h,f,x,c,p])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],f=u.style,p=u.duration,h=p===void 0?0:p,g=function(v,y,E){if(E===0)return v;var C=y.duration,k=y.easing,_=k===void 0?"ease":k,N=y.style,O=y.properties,R=y.onAnimationEnd,D=E>0?s[E-1]:y,B=O||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(Ax(v),[i.runJSAnimation.bind(i,{from:D.style,to:N,duration:C,easing:_}),C]);var z=$O(B,C,_),I=wc(wc(wc({},D.style),N),{},{transition:z});return[].concat(Ax(v),[I,C,R]).filter(cre)};return this.manager.start([c].concat(Ax(s.reduce(g,[f,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ore());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,p=a.onAnimationEnd,h=a.steps,g=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var v=l?Hp({},l,c):c,y=$O(Object.keys(v),s,u);x.start([f,i,wc(wc({},v),{},{transition:y}),s,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Lre(a,Rre),u=b.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||s<=0)return i;var p=function(g){var x=g.props,v=x.style,y=v===void 0?{}:v,E=x.className,C=b.cloneElement(g,wc(wc({},c),{},{style:wc(wc({},y),f),className:E}));return C};return u===1?p(b.Children.only(i)):o.createElement("div",null,b.Children.map(i,function(h){return p(h)}))}}]),r}(b.PureComponent);Tu.displayName="Animate";Tu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Tu.propTypes={from:ua.oneOfType([ua.object,ua.string]),to:ua.oneOfType([ua.object,ua.string]),attributeName:ua.string,duration:ua.number,begin:ua.number,easing:ua.oneOfType([ua.string,ua.func]),steps:ua.arrayOf(ua.shape({duration:ua.number.isRequired,style:ua.object.isRequired,easing:ua.oneOfType([ua.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ua.func]),properties:ua.arrayOf("string"),onAnimationEnd:ua.func})),children:ua.oneOfType([ua.node,ua.func]),isActive:ua.bool,canBegin:ua.bool,onAnimationEnd:ua.func,shouldReAnimate:ua.bool,onAnimationStart:ua.func,onAnimationReStart:ua.func};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E0.apply(this,arguments)}function Gre(t,e){return Xre(t)||Jre(t,e)||Yre(t,e)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yre(t,e){if(t){if(typeof t=="string")return WO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(t,e)}}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Xre(t){if(Array.isArray(t))return t}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){Zre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zre(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=ene(t,"string");return Xh(e)=="symbol"?e:e+""}function ene(t,e){if(Xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KO=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],h=0,g=4;h<g;h++)p[h]=i[h]>s?s:i[h];f="M".concat(e,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+c*p[0],",").concat(r)),f+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*p[1])),f+="L ".concat(e+n,",").concat(r+a-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-c*p[2],",").concat(r+a)),f+="L ".concat(e+c*p[3],",").concat(r+a),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*p[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var x=Math.min(s,i);f="M ".concat(e,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*x,`
            L `).concat(e+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+n-c*x,",").concat(r+a,`
            L `).concat(e+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*x," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},tne=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),p=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=f&&a>=p&&a<=h}return!1},rne={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qC=function(e){var r=GO(GO({},rne),e),n=b.useRef(),a=b.useState(-1),i=Gre(a,2),s=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,h=r.radius,g=r.className,x=r.animationEasing,v=r.animationDuration,y=r.animationBegin,E=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var k=jn("recharts-rectangle",g);return C?o.createElement(Tu,{canBegin:s>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:v,animationEasing:x,isActive:C},function(_){var N=_.width,O=_.height,R=_.x,D=_.y;return o.createElement(Tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:E,easing:x},o.createElement("path",E0({},fn(r,!0),{className:k,d:KO(R,D,N,O,h),ref:n})))}):o.createElement("path",E0({},fn(r,!0),{className:k,d:KO(c,u,f,p,h)}))},nne=["points","className","baseLinePoints","connectNulls"];function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bm.apply(this,arguments)}function ane(t,e){if(t==null)return{};var r=one(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function one(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YO(t){return cne(t)||lne(t)||sne(t)||ine()}function ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sne(t,e){if(t){if(typeof t=="string")return oS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oS(t,e)}}function lne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cne(t){if(Array.isArray(t))return oS(t)}function oS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JO=function(e){return e&&e.x===+e.x&&e.y===+e.y},une=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){JO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),JO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},ih=function(e,r){var n=une(e);r&&(n=[n.reduce(function(i,s){return[].concat(YO(i),YO(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},dne=function(e,r,n){var a=ih(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(ih(r.reverse(),n).slice(1))},fne=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=ane(e,nne);if(!r||!r.length)return null;var l=jn("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=dne(r,a,i);return o.createElement("g",{className:l},o.createElement("path",bm({},fn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?o.createElement("path",bm({},fn(s,!0),{fill:"none",d:ih(r,i)})):null,c?o.createElement("path",bm({},fn(s,!0),{fill:"none",d:ih(a,i)})):null)}var f=ih(r,i);return o.createElement("path",bm({},fn(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:l,d:f}))};function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iS.apply(this,arguments)}var UC=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=jn("recharts-dot",i);return r===+r&&n===+n&&a===+a?o.createElement("circle",iS({},fn(e,!1),Vv(e),{className:s,cx:r,cy:n,r:a})):null};function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}var mne=["x","y","top","left","width","height","className"];function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sS.apply(this,arguments)}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){hne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hne(t,e,r){return e=gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gne(t){var e=vne(t,"string");return Zh(e)=="symbol"?e:e+""}function vne(t,e){if(Zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bne(t,e){if(t==null)return{};var r=yne(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wne=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},xne=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,f=e.width,p=f===void 0?0:f,h=e.height,g=h===void 0?0:h,x=e.className,v=bne(e,mne),y=pne({x:n,y:i,top:l,left:u,width:p,height:g},v);return!sr(n)||!sr(i)||!sr(p)||!sr(g)||!sr(l)||!sr(u)?null:o.createElement("path",sS({},fn(y,!0),{className:jn("recharts-cross",x),d:wne(n,i,p,g,l,u)}))},_x,ZO;function Ene(){if(ZO)return _x;ZO=1;var t=xb(),e=i9(),r=au();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return _x=n,_x}var Sne=Ene();const Cne=sa(Sne);var Ox,QO;function Nne(){if(QO)return Ox;QO=1;var t=xb(),e=au(),r=s9();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Ox=n,Ox}var Pne=Nne();const kne=sa(Pne);var Ane=["cx","cy","angle","ticks","axisLine"],_ne=["ticks","tick","angle","tickFormatter","stroke"];function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sh.apply(this,arguments)}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){Ab(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t8(t,e){if(t==null)return{};var r=One(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function One(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G9(n.key),n)}}function Tne(t,e,r){return e&&r8(t.prototype,e),r&&r8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rne(t,e,r){return e=S0(e),Lne(t,V9()?Reflect.construct(e,r||[],S0(t).constructor):e.apply(t,r))}function Lne(t,e){if(e&&(Um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jne(t)}function jne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!t})()}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S0(t)}function Dne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lS(t,e)}function lS(t,e){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lS(t,e)}function Ab(t,e,r){return e=G9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G9(t){var e=Mne(t,"string");return Um(e)=="symbol"?e:e+""}function Mne(t,e){if(Um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _b=function(t){function e(){return Ine(this,e),Rne(this,e,arguments)}return Dne(e,t),Tne(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return $a(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=Cne(l,function(f){return f.coordinate||0}),u=kne(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=t8(n,Ane),f=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),p=$a(a,i,f[0],s),h=$a(a,i,f[1],s),g=Wd(Wd(Wd({},fn(u,!1)),{},{fill:"none"},fn(c,!1)),{},{x1:p.x,y1:p.y,x2:h.x,y2:h.y});return o.createElement("line",sh({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=t8(a,_ne),p=this.getTickTextAnchor(),h=fn(f,!1),g=fn(s,!1),x=i.map(function(v,y){var E=n.getTickValueCoord(v),C=Wd(Wd(Wd(Wd({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(E.x,", ").concat(E.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:y},E),{},{payload:v});return o.createElement(va,sh({className:jn("recharts-polar-radius-axis-tick",j9(s)),key:"tick-".concat(v.coordinate)},yf(n.props,v,y)),e.renderTickItem(s,C,c?c(v.value,y):v.value))});return o.createElement(va,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:o.createElement(va,{className:jn("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),ci.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return o.isValidElement(n)?s=o.cloneElement(n,a):vn(n)?s=n(a):s=o.createElement(wf,sh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(b.PureComponent);Ab(_b,"displayName","PolarRadiusAxis");Ab(_b,"axisType","radiusAxis");Ab(_b,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},af.apply(this,arguments)}function n8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(r),!0).forEach(function(n){Ob(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y9(n.key),n)}}function $ne(t,e,r){return e&&a8(t.prototype,e),r&&a8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zne(t,e,r){return e=C0(e),Bne(t,K9()?Reflect.construct(e,r||[],C0(t).constructor):e.apply(t,r))}function Bne(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qne(t)}function qne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K9=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(t)}function Une(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cS(t,e)}function cS(t,e){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cS(t,e)}function Ob(t,e,r){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y9(t){var e=Hne(t,"string");return Hm(e)=="symbol"?e:e+""}function Hne(t,e){if(Hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne=Math.PI/180,Vne=1e-5,Ib=function(t){function e(){return Fne(this,e),zne(this,e,arguments)}return Une(e,t),$ne(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,p=$a(i,s,l,n.coordinate),h=$a(i,s,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:p.x,y1:p.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*Wne),s;return i>Vne?s=a==="outer"?"start":"end":i<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Vd(Vd({},fn(this.props,!1)),{},{fill:"none"},fn(l,!1));if(c==="circle")return o.createElement(UC,af({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var f=this.props.ticks,p=f.map(function(h){return $a(a,i,s,h.coordinate)});return o.createElement(fne,af({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=fn(this.props,!1),p=fn(s,!1),h=Vd(Vd({},f),{},{fill:"none"},fn(l,!1)),g=i.map(function(x,v){var y=n.getTickLineCoord(x),E=n.getTickTextAnchor(x),C=Vd(Vd(Vd({textAnchor:E},f),{},{stroke:"none",fill:u},p),{},{index:v,payload:x,x:y.x2,y:y.y2});return o.createElement(va,af({className:jn("recharts-polar-angle-axis-tick",j9(s)),key:"tick-".concat(x.coordinate)},yf(n.props,x,v)),l&&o.createElement("line",af({className:"recharts-polar-angle-axis-tick-line"},h,y)),s&&e.renderTickItem(s,C,c?c(x.value,v):x.value))});return o.createElement(va,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:o.createElement(va,{className:jn("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return o.isValidElement(n)?s=o.cloneElement(n,a):vn(n)?s=n(a):s=o.createElement(wf,af({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(b.PureComponent);Ob(Ib,"displayName","PolarAngleAxis");Ob(Ib,"axisType","angleAxis");Ob(Ib,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ix,o8;function Gne(){if(o8)return Ix;o8=1;var t=oR(),e=t(Object.getPrototypeOf,Object);return Ix=e,Ix}var Tx,i8;function Kne(){if(i8)return Tx;i8=1;var t=ju(),e=Gne(),r=Du(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,l=i.hasOwnProperty,c=s.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var p=e(f);if(p===null)return!0;var h=l.call(p,"constructor")&&p.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==c}return Tx=u,Tx}var Yne=Kne();const Jne=sa(Yne);var Rx,s8;function Xne(){if(s8)return Rx;s8=1;var t=ju(),e=Du(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Rx=n,Rx}var Zne=Xne();const Qne=sa(Zne);function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N0.apply(this,arguments)}function eae(t,e){return aae(t)||nae(t,e)||rae(t,e)||tae()}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(t){if(typeof t=="string")return l8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l8(t,e)}}function l8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function aae(t){if(Array.isArray(t))return t}function c8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function u8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(r),!0).forEach(function(n){oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oae(t,e,r){return e=iae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iae(t){var e=sae(t,"string");return Qh(e)=="symbol"?e:e+""}function sae(t,e){if(Qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d8=function(e,r,n,a,i){var s=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+i),l+="L ".concat(e+n-s/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},lae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cae=function(e){var r=u8(u8({},lae),e),n=b.useRef(),a=b.useState(-1),i=eae(a,2),s=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,h=r.height,g=r.className,x=r.animationEasing,v=r.animationDuration,y=r.animationBegin,E=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||h!==+h||f===0&&p===0||h===0)return null;var C=jn("recharts-trapezoid",g);return E?o.createElement(Tu,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:h,x:c,y:u},duration:v,animationEasing:x,isActive:E},function(k){var _=k.upperWidth,N=k.lowerWidth,O=k.height,R=k.x,D=k.y;return o.createElement(Tu,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},o.createElement("path",N0({},fn(r,!0),{className:C,d:d8(R,D,_,N,O),ref:n})))}):o.createElement("g",null,o.createElement("path",N0({},fn(r,!0),{className:C,d:d8(c,u,f,p,h)})))},uae=["option","shapeType","propTransformer","activeClassName","isActive"];function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function dae(t,e){if(t==null)return{};var r=fae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function P0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(r),!0).forEach(function(n){mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mae(t,e,r){return e=pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pae(t){var e=hae(t,"string");return eg(e)=="symbol"?e:e+""}function hae(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gae(t,e){return P0(P0({},e),t)}function vae(t,e){return t==="symbols"}function m8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return o.createElement(qC,r);case"trapezoid":return o.createElement(cae,r);case"sector":return o.createElement(F9,r);case"symbols":if(vae(e))return o.createElement(sC,r);break;default:return null}}function bae(t){return b.isValidElement(t)?t.props:t}function J9(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?gae:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,l=t.isActive,c=dae(t,uae),u;if(b.isValidElement(e))u=b.cloneElement(e,P0(P0({},c),bae(e)));else if(vn(e))u=e(c);else if(Jne(e)&&!Qne(e)){var f=a(e,c);u=o.createElement(m8,{shapeType:r,elementProps:f})}else{var p=c;u=o.createElement(m8,{shapeType:r,elementProps:p})}return l?o.createElement(va,{className:s},u):u}function Tb(t,e){return e!=null&&"trapezoids"in t.props}function Rb(t,e){return e!=null&&"sectors"in t.props}function tg(t,e){return e!=null&&"points"in t.props}function yae(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function wae(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function xae(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Eae(t,e){var r;return Tb(t,e)?r=yae:Rb(t,e)?r=wae:tg(t,e)&&(r=xae),r}function Sae(t,e){var r;return Tb(t,e)?r="trapezoids":Rb(t,e)?r="sectors":tg(t,e)&&(r="points"),r}function Cae(t,e){if(Tb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return tg(t,e)?e.payload:{}}function Nae(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Sae(r,e),i=Cae(r,e),s=n.filter(function(c,u){var f=Cb(i,c),p=r.props[a].filter(function(x){var v=Eae(r,e);return v(x,e)}),h=r.props[a].indexOf(p[p.length-1]),g=u===h;return f&&g}),l=n.indexOf(s[s.length-1]);return l}var Lv;function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ym.apply(this,arguments)}function p8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(r),!0).forEach(function(n){Ll(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z9(n.key),n)}}function kae(t,e,r){return e&&h8(t.prototype,e),r&&h8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aae(t,e,r){return e=k0(e),_ae(t,X9()?Reflect.construct(e,r||[],k0(t).constructor):e.apply(t,r))}function _ae(t,e){if(e&&(Wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oae(t)}function Oae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X9=function(){return!!t})()}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k0(t)}function Iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uS(t,e)}function uS(t,e){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(t,e)}function Ll(t,e,r){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z9(t){var e=Tae(t,"string");return Wm(e)=="symbol"?e:e+""}function Tae(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fu=function(t){function e(r){var n;return Pae(this,e),n=Aae(this,e,[r]),Ll(n,"pieRef",null),Ll(n,"sectorRefs",[]),Ll(n,"id",mg("recharts-pie-")),Ll(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),vn(a)&&a()}),Ll(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),vn(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Iae(e,t),kae(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=fn(this.props,!1),p=fn(s,!1),h=fn(l,!1),g=s&&s.offsetRadius||20,x=n.map(function(v,y){var E=(v.startAngle+v.endAngle)/2,C=$a(v.cx,v.cy,v.outerRadius+g,E),k=Da(Da(Da(Da({},f),v),{},{stroke:"none"},p),{},{index:y,textAnchor:e.getTextAnchor(C.x,v.cx)},C),_=Da(Da(Da(Da({},f),v),{},{fill:"none",stroke:v.fill},h),{},{index:y,points:[$a(v.cx,v.cy,v.outerRadius,E),C]}),N=c;return Dn(c)&&Dn(u)?N="value":Dn(c)&&(N=u),o.createElement(va,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,_,"line"),e.renderLabelItem(s,k,Xi(v,N)))});return o.createElement(va,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var p=a.isActiveIndex(f),h=c&&a.hasActiveIndex()?c:null,g=p?s:h,x=Da(Da({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return o.createElement(va,ym({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},yf(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),o.createElement(J9,ym({option:g,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,p=this.state,h=p.prevSectors,g=p.prevIsAnimationActive;return o.createElement(Tu,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],E=i&&i[0],C=E.startAngle;return i.forEach(function(k,_){var N=h&&h[_],O=_>0?ml(k,"paddingAngle",0):0;if(N){var R=ld(N.endAngle-N.startAngle,k.endAngle-k.startAngle),D=Da(Da({},k),{},{startAngle:C+O,endAngle:C+R(v)+O});y.push(D),C=D.endAngle}else{var B=k.endAngle,z=k.startAngle,I=ld(0,B-z),L=I(v),M=Da(Da({},k),{},{startAngle:C+O,endAngle:C+L+O});y.push(M),C=M.endAngle}}),o.createElement(va,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Cb(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,p=a.innerRadius,h=a.outerRadius,g=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!s||!s.length||!sr(u)||!sr(f)||!sr(p)||!sr(h))return null;var v=jn("recharts-pie",l);return o.createElement(va,{tabIndex:this.props.rootTabIndex,className:v,ref:function(E){n.pieRef=E}},this.renderSectors(),c&&this.renderLabels(s),ci.renderCallByParent(this.props,null,!1),(!g||x)&&yd.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(o.isValidElement(n))return o.cloneElement(n,a);if(vn(n))return n(a);var s=jn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return o.createElement(Y5,ym({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(o.isValidElement(n))return o.cloneElement(n,a);var s=i;if(vn(n)&&(s=n(a),o.isValidElement(s)))return s;var l=jn("recharts-pie-label-text",typeof n!="boolean"&&!vn(n)?n.className:"");return o.createElement(wf,ym({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(b.PureComponent);Lv=Fu;Ll(Fu,"displayName","Pie");Ll(Fu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ll(Fu,"parseDeltaAngle",function(t,e){var r=ds(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ll(Fu,"getRealPieData",function(t){var e=t.data,r=t.children,n=fn(t,!1),a=Dl(r,pb);return e&&e.length?e.map(function(i,s){return Da(Da(Da({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Da(Da({},n),i.props)}):[]});Ll(Fu,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=L9(a,i),l=n+fs(t.cx,a,a/2),c=r+fs(t.cy,i,i/2),u=fs(t.innerRadius,s,0),f=fs(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});Ll(Fu,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Da(Da({},e.type.defaultProps),e.props):e.props,a=Lv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,p=n.valueKey,h=n.tooltipType,g=Math.abs(n.minAngle),x=Lv.parseCoordinateOfPie(n,r),v=Lv.parseDeltaAngle(s,l),y=Math.abs(v),E=u;Dn(u)&&Dn(p)?(kc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):Dn(u)&&(kc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=p);var C=a.filter(function(D){return Xi(D,E,0)!==0}).length,k=(y>=360?C:C-1)*c,_=y-C*g-k,N=a.reduce(function(D,B){var z=Xi(B,E,0);return D+(sr(z)?z:0)},0),O;if(N>0){var R;O=a.map(function(D,B){var z=Xi(D,E,0),I=Xi(D,f,B),L=(sr(z)?z:0)/N,M;B?M=R.endAngle+ds(v)*c*(z!==0?1:0):M=s;var F=M+ds(v)*((z!==0?g:0)+L*_),H=(M+F)/2,J=(x.innerRadius+x.outerRadius)/2,ee=[{name:I,value:z,payload:D,dataKey:E,type:h}],re=$a(x.cx,x.cy,J,H);return R=Da(Da(Da({percent:L,cornerRadius:i,name:I,tooltipPayload:ee,midAngle:H,middleRadius:J,tooltipPosition:re},D),x),{},{value:Xi(D,E),startAngle:M,endAngle:F,payload:D,paddingAngle:ds(v)*c}),R})}return Da(Da({},x),{},{sectors:O,data:a})});var Lx,g8;function Rae(){if(g8)return Lx;g8=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++l]=n,n+=i;return u}return Lx=r,Lx}var jx,v8;function Q9(){if(v8)return jx;v8=1;var t=xR(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return jx=n,jx}var Dx,b8;function Lae(){if(b8)return Dx;b8=1;var t=Rae(),e=mb(),r=Q9();function n(a){return function(i,s,l){return l&&typeof l!="number"&&e(i,s,l)&&(s=l=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),l=l===void 0?i<s?1:-1:r(l),t(i,s,l,a)}}return Dx=n,Dx}var Mx,y8;function jae(){if(y8)return Mx;y8=1;var t=Lae(),e=t();return Mx=e,Mx}var Dae=jae();const A0=sa(Dae);function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function x8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eL(t,e,r){return e=Mae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mae(t){var e=Fae(t,"string");return rg(e)=="symbol"?e:e+""}function Fae(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ae=["Webkit","Moz","O","ms"],zae=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=$ae.reduce(function(i,s){return x8(x8({},i),{},eL({},s+n,r))},{});return a[e]=r,a};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_0.apply(this,arguments)}function E8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(r),!0).forEach(function(n){cl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rL(n.key),n)}}function qae(t,e,r){return e&&S8(t.prototype,e),r&&S8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,r){return e=O0(e),Hae(t,tL()?Reflect.construct(e,r||[],O0(t).constructor):e.apply(t,r))}function Hae(t,e){if(e&&(Vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wae(t)}function Wae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tL=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(t)}function Vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dS(t,e)}function dS(t,e){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(t,e)}function cl(t,e,r){return e=rL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rL(t){var e=Gae(t,"string");return Vm(e)=="symbol"?e:e+""}function Gae(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kae=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=nh().domain(A0(0,c)).range([i,i+s-l]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},C8=function(e){return e.changedTouches&&!!e.changedTouches.length},Gm=function(t){function e(r){var n;return Bae(this,e),n=Uae(this,e,[r]),cl(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),cl(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),cl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),cl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),cl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),cl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),cl(n,"handleSlideDragStart",function(a){var i=C8(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Vae(e,t),qae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,p=Math.min(a,i),h=Math.max(a,i),g=e.getIndexInRange(s,p),x=e.getIndexInRange(s,h);return{startIndex:g-g%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=Xi(i[n],l,n);return vn(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,h=c.startIndex,g=c.endIndex,x=c.onChange,v=n.pageX-i;v>0?v=Math.min(v,u+f-p-l,u+f-p-s):v<0&&(v=Math.max(v,u-s,u-l));var y=this.getIndex({startX:s+v,endX:l+v});(y.startIndex!==h||y.endIndex!==g)&&x&&x(y),this.setState({startX:s+v,endX:l+v,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=C8(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],f=this.props,p=f.x,h=f.width,g=f.travellerWidth,x=f.onChange,v=f.gap,y=f.data,E={startX:this.state.startX,endX:this.state.endX},C=n.pageX-i;C>0?C=Math.min(C,p+h-g-u):C<0&&(C=Math.max(C,p-u)),E[s]=u+C;var k=this.getIndex(E),_=k.startIndex,N=k.endIndex,O=function(){var D=y.length-1;return s==="startX"&&(l>c?_%v===0:N%v===0)||l<c&&N===D||s==="endX"&&(l>c?N%v===0:_%v===0)||l>c&&N===D};this.setState(cl(cl({},s,u+C),"brushMoveStartX",n.pageX),function(){x&&O()&&x(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,f=this.state[a],p=l.indexOf(f);if(p!==-1){var h=p+n;if(!(h===-1||h>=l.length)){var g=l[h];a==="startX"&&g>=u||a==="endX"&&g<=c||this.setState(cl({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return o.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,p=b.Children.only(u);return p?o.cloneElement(p,{x:a,y:i,width:s,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,h=c.traveller,g=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,E=Math.max(n,this.props.x),C=Fx(Fx({},fn(this.props,!1)),{},{x:E,y:u,width:f,height:p}),k=g||"Min value: ".concat((i=x[v])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=x[y])===null||s===void 0?void 0:s.name);return o.createElement(va,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,C))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,p=Math.max(Math.abs(a-n)-u,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,h=f.endX,g=5,x={pointerEvents:"none",fill:u};return o.createElement(va,{className:"recharts-brush-texts"},o.createElement(wf,_0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,h)-g,y:s+l/2},x),this.getTextOfTick(a)),o.createElement(wf,_0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,h)+c+g,y:s+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,h=this.state,g=h.startX,x=h.endX,v=h.isTextActive,y=h.isSlideMoving,E=h.isTravellerMoving,C=h.isTravellerFocused;if(!a||!a.length||!sr(l)||!sr(c)||!sr(u)||!sr(f)||u<=0||f<=0)return null;var k=jn("recharts-brush",i),_=o.Children.count(s)===1,N=zae("userSelect","none");return o.createElement(va,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||E||C||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),o.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return o.isValidElement(n)?i=o.cloneElement(n,a):vn(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Fx({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?Kae({data:i,width:s,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(b.PureComponent);cl(Gm,"displayName","Brush");cl(Gm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $x,N8;function Yae(){if(N8)return $x;N8=1;var t=pC();function e(r,n){var a;return t(r,function(i,s,l){return a=n(i,s,l),!a}),!!a}return $x=e,$x}var zx,P8;function Jae(){if(P8)return zx;P8=1;var t=Z7(),e=au(),r=Yae(),n=Bs(),a=mb();function i(s,l,c){var u=n(s)?t:r;return c&&a(s,l,c)&&(l=void 0),u(s,e(l,3))}return zx=i,zx}var Xae=Jae();const Zae=sa(Xae);var eu=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Bx,k8;function Qae(){if(k8)return Bx;k8=1;var t=gR();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Bx=e,Bx}var qx,A8;function eoe(){if(A8)return qx;A8=1;var t=Qae(),e=pR(),r=au();function n(a,i){var s={};return i=r(i,3),e(a,function(l,c,u){t(s,c,i(l,c,u))}),s}return qx=n,qx}var toe=eoe();const roe=sa(toe);var Ux,_8;function noe(){if(_8)return Ux;_8=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Ux=t,Ux}var Hx,O8;function aoe(){if(O8)return Hx;O8=1;var t=pC();function e(r,n){var a=!0;return t(r,function(i,s,l){return a=!!n(i,s,l),a}),a}return Hx=e,Hx}var Wx,I8;function ooe(){if(I8)return Wx;I8=1;var t=noe(),e=aoe(),r=au(),n=Bs(),a=mb();function i(s,l,c){var u=n(s)?t:e;return c&&a(s,l,c)&&(l=void 0),u(s,r(l,3))}return Wx=i,Wx}var ioe=ooe();const nL=sa(ioe);var soe=["x","y"];function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fS.apply(this,arguments)}function T8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(r),!0).forEach(function(n){loe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function loe(t,e,r){return e=coe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function coe(t){var e=uoe(t,"string");return ng(e)=="symbol"?e:e+""}function uoe(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function doe(t,e){if(t==null)return{};var r=foe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function foe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function moe(t,e){var r=t.x,n=t.y,a=doe(t,soe),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),f=parseInt(u,10),p="".concat(e.width||a.width),h=parseInt(p,10);return Fp(Fp(Fp(Fp(Fp({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function R8(t){return o.createElement(J9,fS({shapeType:"rectangle",propTransformer:moe,activeClassName:"recharts-active-bar"},t))}var poe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||Ef(),r)}},hoe=["value","background"],aL;function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function goe(t,e){if(t==null)return{};var r=voe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function voe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){hd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iL(n.key),n)}}function yoe(t,e,r){return e&&j8(t.prototype,e),r&&j8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function woe(t,e,r){return e=T0(e),xoe(t,oL()?Reflect.construct(e,r||[],T0(t).constructor):e.apply(t,r))}function xoe(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(t)}function Eoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oL=function(){return!!t})()}function T0(t){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T0(t)}function Soe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mS(t,e)}function mS(t,e){return mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mS(t,e)}function hd(t,e,r){return e=iL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iL(t){var e=Coe(t,"string");return Km(e)=="symbol"?e:e+""}function Coe(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sd=function(t){function e(){var r;boe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=woe(this,e,[].concat(a)),hd(r,"state",{isAnimationFinished:!1}),hd(r,"id",mg("recharts-bar-")),hd(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),hd(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Soe(e,t),yoe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=fn(this.props,!1);return n&&n.map(function(p,h){var g=h===c,x=g?u:s,v=Oo(Oo(Oo({},f),p),{},{isActive:g,option:x,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return o.createElement(va,I0({className:"recharts-bar-rectangle"},yf(a.props,p,h),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(h)}),o.createElement(R8,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,p=a.animationId,h=this.state.prevData;return o.createElement(Tu,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=i.map(function(y,E){var C=h&&h[E];if(C){var k=ld(C.x,y.x),_=ld(C.y,y.y),N=ld(C.width,y.width),O=ld(C.height,y.height);return Oo(Oo({},y),{},{x:k(x),y:_(x),width:N(x),height:O(x)})}if(s==="horizontal"){var R=ld(0,y.height),D=R(x);return Oo(Oo({},y),{},{y:y.y+y.height-D,height:D})}var B=ld(0,y.width),z=B(x);return Oo(Oo({},y),{},{width:z})});return o.createElement(va,null,n.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Cb(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=fn(this.props.background,!1);return i.map(function(u,f){u.value;var p=u.background,h=goe(u,hoe);if(!p)return null;var g=Oo(Oo(Oo(Oo(Oo({},h),{},{fill:"#eee"},p),c),yf(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return o.createElement(R8,I0({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,p=Dl(f,kb);if(!p)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,g=function(y,E){var C=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:C,errorVal:Xi(y,E)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return o.createElement(va,x,p.map(function(v){return o.cloneElement(v,{key:"error-bar-".concat(a,"-").concat(v.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,h=n.height,g=n.isAnimationActive,x=n.background,v=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,E=jn("recharts-bar",s),C=l&&l.allowDataOverflow,k=c&&c.allowDataOverflow,_=C||k,N=Dn(v)?this.id:v;return o.createElement(va,{className:E},C||k?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(N)},o.createElement("rect",{x:C?u:u-p/2,y:k?f:f-h/2,width:C?p:p*2,height:k?h:h*2}))):null,o.createElement(va,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!g||y)&&yd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(b.PureComponent);aL=Sd;hd(Sd,"displayName","Bar");hd(Sd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hd(Sd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,p=t.displayedData,h=t.offset,g=ree(n,r);if(!g)return null;var x=e.layout,v=r.type.defaultProps,y=v!==void 0?Oo(Oo({},v),r.props):r.props,E=y.dataKey,C=y.children,k=y.minPointSize,_=x==="horizontal"?s:i,N=u?_.scale.domain():null,O=cee({numericAxis:_}),R=Dl(C,pb),D=p.map(function(B,z){var I,L,M,F,H,J;u?I=nee(u[f+z],N):(I=Xi(B,E),Array.isArray(I)||(I=[O,I]));var ee=poe(k,aL.defaultProps.minPointSize)(I[1],z);if(x==="horizontal"){var re,te=[s.scale(I[0]),s.scale(I[1])],K=te[0],U=te[1];L=uO({axis:i,ticks:l,bandSize:a,offset:g.offset,entry:B,index:z}),M=(re=U??K)!==null&&re!==void 0?re:void 0,F=g.size;var j=K-U;if(H=Number.isNaN(j)?0:j,J={x:L,y:s.y,width:F,height:s.height},Math.abs(ee)>0&&Math.abs(H)<Math.abs(ee)){var Y=ds(H||ee)*(Math.abs(ee)-Math.abs(H));M-=Y,H+=Y}}else{var G=[i.scale(I[0]),i.scale(I[1])],X=G[0],ie=G[1];if(L=X,M=uO({axis:s,ticks:c,bandSize:a,offset:g.offset,entry:B,index:z}),F=ie-X,H=g.size,J={x:i.x,y:M,width:i.width,height:H},Math.abs(ee)>0&&Math.abs(F)<Math.abs(ee)){var ye=ds(F||ee)*(Math.abs(ee)-Math.abs(F));F+=ye}}return Oo(Oo(Oo({},B),{},{x:L,y:M,width:F,height:H,value:u?I:I[1],payload:B,background:J},R&&R[z]&&R[z].props),{},{tooltipPayload:[T9(r,B)],tooltipPosition:{x:L+F/2,y:M+H/2}})});return Oo({data:D,layout:x},h)});function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function Noe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sL(n.key),n)}}function Poe(t,e,r){return e&&D8(t.prototype,e),r&&D8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function M8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(r),!0).forEach(function(n){Lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lb(t,e,r){return e=sL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sL(t){var e=koe(t,"string");return ag(e)=="symbol"?e:e+""}function koe(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aoe=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.layout,u=e.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ul(u,Sd);return f.reduce(function(g,x){var v=r[x],y=v.orientation,E=v.domain,C=v.padding,k=C===void 0?{}:C,_=v.mirror,N=v.reversed,O="".concat(y).concat(_?"Mirror":""),R,D,B,z,I;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var L=E[1]-E[0],M=1/0,F=v.categoricalDomain.sort(WW);if(F.forEach(function(G,X){X>0&&(M=Math.min((G||0)-(F[X-1]||0),M))}),Number.isFinite(M)){var H=M/L,J=v.layout==="vertical"?n.height:n.width;if(v.padding==="gap"&&(R=H*J/2),v.padding==="no-gap"){var ee=fs(e.barCategoryGap,H*J),re=H*J/2;R=re-ee-(re-ee)/J*ee}}}a==="xAxis"?D=[n.left+(k.left||0)+(R||0),n.left+n.width-(k.right||0)-(R||0)]:a==="yAxis"?D=c==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(R||0),n.top+n.height-(k.bottom||0)-(R||0)]:D=v.range,N&&(D=[D[1],D[0]]);var te=A9(v,i,h),K=te.scale,U=te.realScaleType;K.domain(E).range(D),_9(K);var j=O9(K,Cc(Cc({},v),{},{realScaleType:U}));a==="xAxis"?(I=y==="top"&&!_||y==="bottom"&&_,B=n.left,z=p[O]-I*v.height):a==="yAxis"&&(I=y==="left"&&!_||y==="right"&&_,B=p[O]-I*v.width,z=n.top);var Y=Cc(Cc(Cc({},v),j),{},{realScaleType:U,x:B,y:z,scale:K,width:a==="xAxis"?n.width:v.width,height:a==="yAxis"?n.height:v.height});return Y.bandSize=g0(Y,j),!v.hide&&a==="xAxis"?p[O]+=(I?-1:1)*Y.height:v.hide||(p[O]+=(I?-1:1)*Y.width),Cc(Cc({},g),{},Lb({},x,Y))},{})},lL=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},_oe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return lL({x:r,y:n},{x:a,y:i})},cL=function(){function t(e){Noe(this,t),this.scale=e}return Poe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Lb(cL,"EPS",1e-4);var HC=function(e){var r=Object.keys(e).reduce(function(n,a){return Cc(Cc({},n),{},Lb({},a,cL.create(e[a])))},{});return Cc(Cc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return roe(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return nL(a,function(i,s){return r[s].isInRange(i)})}})};function Ooe(t){return(t%180+180)%180}var Ioe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Ooe(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Vx,F8;function Toe(){if(F8)return Vx;F8=1;var t=au(),e=pg(),r=db();function n(a){return function(i,s,l){var c=Object(i);if(!e(i)){var u=t(s,3);i=r(i),s=function(p){return u(c[p],p,c)}}var f=a(i,s,l);return f>-1?c[u?i[f]:f]:void 0}}return Vx=n,Vx}var Gx,$8;function Roe(){if($8)return Gx;$8=1;var t=Q9();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Gx=e,Gx}var Kx,z8;function Loe(){if(z8)return Kx;z8=1;var t=cR(),e=au(),r=Roe(),n=Math.max;function a(i,s,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(s,3),u)}return Kx=a,Kx}var Yx,B8;function joe(){if(B8)return Yx;B8=1;var t=Toe(),e=Loe(),r=t(e);return Yx=r,Yx}var Doe=joe();const Moe=sa(Doe);var Foe=N7();const $oe=sa(Foe);var zoe=$oe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),WC=b.createContext(void 0),VC=b.createContext(void 0),uL=b.createContext(void 0),dL=b.createContext({}),fL=b.createContext(void 0),mL=b.createContext(0),pL=b.createContext(0),q8=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,f=zoe(i);return o.createElement(WC.Provider,{value:n},o.createElement(VC.Provider,{value:a},o.createElement(dL.Provider,{value:i},o.createElement(uL.Provider,{value:f},o.createElement(fL.Provider,{value:s},o.createElement(mL.Provider,{value:u},o.createElement(pL.Provider,{value:c},l)))))))},Boe=function(){return b.useContext(fL)},hL=function(e){var r=b.useContext(WC);r==null&&Ef();var n=r[e];return n==null&&Ef(),n},qoe=function(){var e=b.useContext(WC);return dd(e)},Uoe=function(){var e=b.useContext(VC),r=Moe(e,function(n){return nL(n.domain,Number.isFinite)});return r||dd(e)},gL=function(e){var r=b.useContext(VC);r==null&&Ef();var n=r[e];return n==null&&Ef(),n},Hoe=function(){var e=b.useContext(uL);return e},Woe=function(){return b.useContext(dL)},GC=function(){return b.useContext(pL)},KC=function(){return b.useContext(mL)};function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Goe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bL(n.key),n)}}function Koe(t,e,r){return e&&Goe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yoe(t,e,r){return e=R0(e),Joe(t,vL()?Reflect.construct(e,r||[],R0(t).constructor):e.apply(t,r))}function Joe(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xoe(t)}function Xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R0(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pS(t,e)}function pS(t,e){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pS(t,e)}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function H8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){YC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YC(t,e,r){return e=bL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bL(t){var e=Qoe(t,"string");return Ym(e)=="symbol"?e:e+""}function Qoe(t,e){if(Ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eie(t,e){return aie(t)||nie(t,e)||rie(t,e)||tie()}function tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(t,e){if(t){if(typeof t=="string")return W8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W8(t,e)}}function W8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function aie(t){if(Array.isArray(t))return t}function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hS.apply(this,arguments)}var oie=function(e,r){var n;return o.isValidElement(e)?n=o.cloneElement(e,r):vn(e)?n=e(r):n=o.createElement("line",hS({},r,{className:"recharts-reference-line-line"})),n},iie=function(e,r,n,a,i,s,l,c,u){var f=i.x,p=i.y,h=i.width,g=i.height;if(n){var x=u.y,v=e.y.apply(x,{position:s});if(eu(u,"discard")&&!e.y.isInRange(v))return null;var y=[{x:f+h,y:v},{x:f,y:v}];return c==="left"?y.reverse():y}if(r){var E=u.x,C=e.x.apply(E,{position:s});if(eu(u,"discard")&&!e.x.isInRange(C))return null;var k=[{x:C,y:p+g},{x:C,y:p}];return l==="top"?k.reverse():k}if(a){var _=u.segment,N=_.map(function(O){return e.apply(O,{position:s})});return eu(u,"discard")&&Zae(N,function(O){return!e.isInRange(O)})?null:N}return null};function sie(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=Boe(),f=hL(a),p=gL(i),h=Hoe();if(!u||!h)return null;kc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=HC({x:f.scale,y:p.scale}),x=Ko(e),v=Ko(r),y=n&&n.length===2,E=iie(g,x,v,y,h,t.position,f.orientation,p.orientation,t);if(!E)return null;var C=eie(E,2),k=C[0],_=k.x,N=k.y,O=C[1],R=O.x,D=O.y,B=eu(t,"hidden")?"url(#".concat(u,")"):void 0,z=H8(H8({clipPath:B},fn(t,!0)),{},{x1:_,y1:N,x2:R,y2:D});return o.createElement(va,{className:jn("recharts-reference-line",l)},oie(s,z),ci.renderCallByParent(t,_oe({x1:_,y1:N,x2:R,y2:D})))}var JC=function(t){function e(){return Voe(this,e),Yoe(this,e,arguments)}return Zoe(e,t),Koe(e,[{key:"render",value:function(){return o.createElement(sie,this.props)}}])}(o.Component);YC(JC,"displayName","ReferenceLine");YC(JC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(this,arguments)}function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function V8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wL(n.key),n)}}function uie(t,e,r){return e&&cie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function die(t,e,r){return e=L0(e),fie(t,yL()?Reflect.construct(e,r||[],L0(t).constructor):e.apply(t,r))}function fie(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(t)}function mie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(t)}function pie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vS(t,e)}function vS(t,e){return vS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vS(t,e)}function jb(t,e,r){return e=wL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wL(t){var e=hie(t,"string");return Jm(e)=="symbol"?e:e+""}function hie(t,e){if(Jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gie=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=HC({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return eu(e,"discard")&&!s.isInRange(l)?null:l},Db=function(t){function e(){return lie(this,e),die(this,e,arguments)}return pie(e,t),uie(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ko(a),f=Ko(i);if(kc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=gie(this.props);if(!p)return null;var h=p.x,g=p.y,x=this.props,v=x.shape,y=x.className,E=eu(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=G8(G8({clipPath:E},fn(this.props,!0)),{},{cx:h,cy:g});return o.createElement(va,{className:jn("recharts-reference-dot",y)},e.renderDot(v,C),ci.renderCallByParent(this.props,{x:h-s,y:g-s,width:2*s,height:2*s}))}}])}(o.Component);jb(Db,"displayName","ReferenceDot");jb(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jb(Db,"renderDot",function(t,e){var r;return o.isValidElement(t)?r=o.cloneElement(t,e):vn(t)?r=t(e):r=o.createElement(UC,gS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bS.apply(this,arguments)}function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function K8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(r),!0).forEach(function(n){Mb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EL(n.key),n)}}function yie(t,e,r){return e&&bie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wie(t,e,r){return e=j0(e),xie(t,xL()?Reflect.construct(e,r||[],j0(t).constructor):e.apply(t,r))}function xie(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eie(t)}function Eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j0(t)}function Sie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yS(t,e)}function Mb(t,e,r){return e=EL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EL(t){var e=Cie(t,"string");return Xm(e)=="symbol"?e:e+""}function Cie(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nie=function(e,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,p=i.yAxis;if(!f||!p)return null;var h=HC({x:f.scale,y:p.scale}),g={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return eu(i,"discard")&&(!h.isInRange(g)||!h.isInRange(x))?null:lL(g,x)},Fb=function(t){function e(){return vie(this,e),wie(this,e,arguments)}return Sie(e,t),yie(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;kc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Ko(a),h=Ko(i),g=Ko(s),x=Ko(l),v=this.props.shape;if(!p&&!h&&!g&&!x&&!v)return null;var y=Nie(p,h,g,x,this.props);if(!y&&!v)return null;var E=eu(this.props,"hidden")?"url(#".concat(f,")"):void 0;return o.createElement(va,{className:jn("recharts-reference-area",c)},e.renderRect(v,Y8(Y8({clipPath:E},fn(this.props,!0)),y)),ci.renderCallByParent(this.props,y))}}])}(o.Component);Mb(Fb,"displayName","ReferenceArea");Mb(Fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mb(Fb,"renderRect",function(t,e){var r;return o.isValidElement(t)?r=o.cloneElement(t,e):vn(t)?r=t(e):r=o.createElement(qC,bS({},e,{className:"recharts-reference-area-rect"})),r});function SL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Pie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Ioe(n,r)}function kie(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function D0(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Aie(t,e){return SL(t,e+1)}function _ie(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,l=e.end,c=0,u=1,f=s,p=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:SL(n,u)};var v=c,y,E=function(){return y===void 0&&(y=r(x,v)),y},C=x.coordinate,k=c===0||D0(t,C,E,f,l);k||(c=0,f=s,u+=1),k&&(f=C+t*(E()/2+a),c+=u)},h;u<=i.length;)if(h=p(),h)return h.v;return[]}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function J8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ki(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(r),!0).forEach(function(n){Oie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oie(t,e,r){return e=Iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iie(t){var e=Tie(t,"string");return og(e)=="symbol"?e:e+""}function Tie(t,e){if(og(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rie(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=e.start,c=e.end,u=function(h){var g=i[h],x,v=function(){return x===void 0&&(x=r(g,h)),x};if(h===s-1){var y=t*(g.coordinate+t*v()/2-c);i[h]=g=Ki(Ki({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else i[h]=g=Ki(Ki({},g),{},{tickCoord:g.coordinate});var E=D0(t,g.tickCoord,v,l,c);E&&(c=g.tickCoord-t*(v()/2+a),i[h]=Ki(Ki({},g),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function Lie(t,e,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=e.start,u=e.end;if(i){var f=n[l-1],p=r(f,l-1),h=t*(f.coordinate+t*p/2-u);s[l-1]=f=Ki(Ki({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var g=D0(t,f.tickCoord,function(){return p},c,u);g&&(u=f.tickCoord-t*(p/2+a),s[l-1]=Ki(Ki({},f),{},{isShow:!0}))}for(var x=i?l-1:l,v=function(C){var k=s[C],_,N=function(){return _===void 0&&(_=r(k,C)),_};if(C===0){var O=t*(k.coordinate-t*N()/2-c);s[C]=k=Ki(Ki({},k),{},{tickCoord:O<0?k.coordinate-O*t:k.coordinate})}else s[C]=k=Ki(Ki({},k),{},{tickCoord:k.coordinate});var R=D0(t,k.tickCoord,N,c,u);R&&(c=k.tickCoord+t*(N()/2+a),s[C]=Ki(Ki({},k),{},{isShow:!0}))},y=0;y<x;y++)v(y);return s}function XC(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,p=t.angle;if(!a||!a.length||!n)return[];if(sr(c)||lp.isSsr)return Aie(a,typeof c=="number"&&sr(c)?c:0);var h=[],g=l==="top"||l==="bottom"?"width":"height",x=f&&g==="width"?rh(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},v=function(k,_){var N=vn(u)?u(k.value,_):k.value;return g==="width"?Pie(rh(N,{fontSize:e,letterSpacing:r}),x,p):rh(N,{fontSize:e,letterSpacing:r})[g]},y=a.length>=2?ds(a[1].coordinate-a[0].coordinate):1,E=kie(i,y,g);return c==="equidistantPreserveStart"?_ie(y,E,v,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=Lie(y,E,v,a,s,c==="preserveStartEnd"):h=Rie(y,E,v,a,s),h.filter(function(C){return C.isShow}))}var jie=["viewBox"],Die=["viewBox"],Mie=["ticks"];function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wm.apply(this,arguments)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){ZC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jx(t,e){if(t==null)return{};var r=Fie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NL(n.key),n)}}function zie(t,e,r){return e&&Z8(t.prototype,e),r&&Z8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bie(t,e,r){return e=M0(e),qie(t,CL()?Reflect.construct(e,r||[],M0(t).constructor):e.apply(t,r))}function qie(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uie(t)}function Uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M0(t)}function Hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wS(t,e)}function wS(t,e){return wS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wS(t,e)}function ZC(t,e,r){return e=NL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NL(t){var e=Wie(t,"string");return Zm(e)=="symbol"?e:e+""}function Wie(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fp=function(t){function e(r){var n;return $ie(this,e),n=Bie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Hie(e,t),zie(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Jx(n,jie),l=this.props,c=l.viewBox,u=Jx(l,Die);return!km(i,c)||!km(s,u)||!km(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,p=a.mirror,h=a.tickMargin,g,x,v,y,E,C,k=p?-1:1,_=n.tickSize||f,N=sr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=x=n.coordinate,y=s+ +!p*c,v=y-k*_,C=v-k*h,E=N;break;case"left":v=y=n.coordinate,x=i+ +!p*l,g=x-k*_,E=g-k*h,C=N;break;case"right":v=y=n.coordinate,x=i+ +p*l,g=x+k*_,E=g+k*h,C=N;break;default:g=x=n.coordinate,y=s+ +p*c,v=y+k*_,C=v+k*h,E=N;break}return{line:{x1:g,y1:v,x2:x,y2:y},tick:{x:E,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=us(us(us({},fn(this.props,!1)),fn(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);p=us(us({},p),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var g=+(c==="left"&&!u||c==="right"&&u);p=us(us({},p),{},{x1:a+g*s,y1:i,x2:a+g*s,y2:i+l})}return o.createElement("line",wm({},p,{className:jn("recharts-cartesian-axis-line",ml(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,p=l.tickFormatter,h=l.unit,g=XC(us(us({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=fn(this.props,!1),E=fn(f,!1),C=us(us({},y),{},{fill:"none"},fn(c,!1)),k=g.map(function(_,N){var O=s.getTickLineCoord(_),R=O.line,D=O.tick,B=us(us(us(us({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},E),D),{},{index:N,payload:_,visibleTicksCount:g.length,tickFormatter:p});return o.createElement(va,wm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},yf(s.props,_,N)),c&&o.createElement("line",wm({},C,R,{className:jn("recharts-cartesian-axis-tick-line",ml(c,"className"))})),f&&e.renderTickItem(f,B,"".concat(vn(p)?p(_.value,N):_.value).concat(h||"")))});return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var p=this.props,h=p.ticks,g=Jx(p,Mie),x=h;return vn(c)&&(x=h&&h.length>0?c(this.props):c(g)),s<=0||l<=0||!x||!x.length?null:o.createElement(va,{className:jn("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),ci.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return o.isValidElement(n)?s=o.cloneElement(n,a):vn(n)?s=n(a):s=o.createElement(wf,wm({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(b.Component);ZC(fp,"displayName","CartesianAxis");ZC(fp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Vie=["x1","y1","x2","y2","key"],Gie=["offset"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){Kie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kie(t,e,r){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yie(t){var e=Jie(t,"string");return Sf(e)=="symbol"?e:e+""}function Jie(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},df.apply(this,arguments)}function eI(t,e){if(t==null)return{};var r=Xie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zie=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,c=e.ry;return o.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function PL(t,e){var r;if(o.isValidElement(t))r=o.cloneElement(t,e);else if(vn(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,l=e.key,c=eI(e,Vie),u=fn(c,!1);u.offset;var f=eI(u,Gie);r=o.createElement("line",df({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function Qie(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Yi(Yi({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return PL(a,u)});return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ese(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Yi(Yi({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return PL(a,u)});return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function tse(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==f[0]&&f.unshift(0);var p=f.map(function(h,g){var x=!f[g+1],v=x?a+s-h:f[g+1]-h;if(v<=0)return null;var y=g%e.length;return o.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:v,width:i,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function rse(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==f[0]&&f.unshift(0);var p=f.map(function(h,g){var x=!f[g+1],v=x?i+l-h:f[g+1]-h;if(v<=0)return null;var y=g%n.length;return o.createElement("rect",{key:"react-".concat(g),x:h,y:s,width:v,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var nse=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return k9(XC(Yi(Yi(Yi({},fp.defaultProps),n),{},{ticks:Nu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},ase=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return k9(XC(Yi(Yi(Yi({},fp.defaultProps),n),{},{ticks:Nu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},lm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kL(t){var e,r,n,a,i,s,l=GC(),c=KC(),u=Woe(),f=Yi(Yi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:lm.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:lm.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:lm.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:lm.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:lm.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:lm.verticalFill,x:sr(t.x)?t.x:u.left,y:sr(t.y)?t.y:u.top,width:sr(t.width)?t.width:u.width,height:sr(t.height)?t.height:u.height}),p=f.x,h=f.y,g=f.width,x=f.height,v=f.syncWithTicks,y=f.horizontalValues,E=f.verticalValues,C=qoe(),k=Uoe();if(!sr(g)||g<=0||!sr(x)||x<=0||!sr(p)||p!==+p||!sr(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||nse,N=f.horizontalCoordinatesGenerator||ase,O=f.horizontalPoints,R=f.verticalPoints;if((!O||!O.length)&&vn(N)){var D=y&&y.length,B=N({yAxis:k?Yi(Yi({},k),{},{ticks:D?y:k.ticks}):void 0,width:l,height:c,offset:u},D?!0:v);kc(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Sf(B),"]")),Array.isArray(B)&&(O=B)}if((!R||!R.length)&&vn(_)){var z=E&&E.length,I=_({xAxis:C?Yi(Yi({},C),{},{ticks:z?E:C.ticks}):void 0,width:l,height:c,offset:u},z?!0:v);kc(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Sf(I),"]")),Array.isArray(I)&&(R=I)}return o.createElement("g",{className:"recharts-cartesian-grid"},o.createElement(Zie,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),o.createElement(Qie,df({},f,{offset:u,horizontalPoints:O,xAxis:C,yAxis:k})),o.createElement(ese,df({},f,{offset:u,verticalPoints:R,xAxis:C,yAxis:k})),o.createElement(tse,df({},f,{horizontalPoints:O})),o.createElement(rse,df({},f,{verticalPoints:R})))}kL.displayName="CartesianGrid";function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ise(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OL(n.key),n)}}function sse(t,e,r){return e&&ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lse(t,e,r){return e=F0(e),cse(t,AL()?Reflect.construct(e,r||[],F0(t).constructor):e.apply(t,r))}function cse(t,e){if(e&&(Qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AL=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(t)}function dse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xS(t,e)}function xS(t,e){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xS(t,e)}function _L(t,e,r){return e=OL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OL(t){var e=fse(t,"string");return Qm(e)=="symbol"?e:e+""}function fse(t,e){if(Qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ES(){return ES=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ES.apply(this,arguments)}function mse(t){var e=t.xAxisId,r=GC(),n=KC(),a=hL(e);return a==null?null:o.createElement(fp,ES({},a,{className:jn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Nu(s,!0)}}))}var $b=function(t){function e(){return ose(this,e),lse(this,e,arguments)}return dse(e,t),sse(e,[{key:"render",value:function(){return o.createElement(mse,this.props)}}])}(o.Component);_L($b,"displayName","XAxis");_L($b,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function pse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RL(n.key),n)}}function gse(t,e,r){return e&&hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vse(t,e,r){return e=$0(e),bse(t,IL()?Reflect.construct(e,r||[],$0(t).constructor):e.apply(t,r))}function bse(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yse(t)}function yse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IL=function(){return!!t})()}function $0(t){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$0(t)}function wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SS(t,e)}function TL(t,e,r){return e=RL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RL(t){var e=xse(t,"string");return ep(e)=="symbol"?e:e+""}function xse(t,e){if(ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CS.apply(this,arguments)}var Ese=function(e){var r=e.yAxisId,n=GC(),a=KC(),i=gL(r);return i==null?null:o.createElement(fp,CS({},i,{className:jn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Nu(l,!0)}}))},zb=function(t){function e(){return pse(this,e),vse(this,e,arguments)}return wse(e,t),gse(e,[{key:"render",value:function(){return o.createElement(Ese,this.props)}}])}(o.Component);TL(zb,"displayName","YAxis");TL(zb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function tI(t){return Pse(t)||Nse(t)||Cse(t)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(t,e){if(t){if(typeof t=="string")return NS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(t,e)}}function Nse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pse(t){if(Array.isArray(t))return NS(t)}function NS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var PS=function(e,r,n,a,i){var s=Dl(e,JC),l=Dl(e,Db),c=[].concat(tI(s),tI(l)),u=Dl(e,Fb),f="".concat(a,"Id"),p=a[0],h=r;if(c.length&&(h=c.reduce(function(v,y){if(y.props[f]===n&&eu(y.props,"extendDomain")&&sr(y.props[p])){var E=y.props[p];return[Math.min(v[0],E),Math.max(v[1],E)]}return v},h)),u.length){var g="".concat(p,"1"),x="".concat(p,"2");h=u.reduce(function(v,y){if(y.props[f]===n&&eu(y.props,"extendDomain")&&sr(y.props[g])&&sr(y.props[x])){var E=y.props[g],C=y.props[x];return[Math.min(v[0],E,C),Math.max(v[1],E,C)]}return v},h)}return i&&i.length&&(h=i.reduce(function(v,y){return sr(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},h)),h},Xx={exports:{}},rI;function kse(){return rI||(rI=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,p,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,p||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],g]:c._events[x].push(g):(c._events[x]=g,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)e.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,g=p.length,x=new Array(g);h<g;h++)x[h]=p[h].fn;return x},l.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,f,p,h,g,x){var v=r?r+u:u;if(!this._events[v])return!1;var y=this._events[v],E=arguments.length,C,k;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,p),!0;case 4:return y.fn.call(y.context,f,p,h),!0;case 5:return y.fn.call(y.context,f,p,h,g),!0;case 6:return y.fn.call(y.context,f,p,h,g,x),!0}for(k=1,C=new Array(E-1);k<E;k++)C[k-1]=arguments[k];y.fn.apply(y.context,C)}else{var _=y.length,N;for(k=0;k<_;k++)switch(y[k].once&&this.removeListener(u,y[k].fn,void 0,!0),E){case 1:y[k].fn.call(y[k].context);break;case 2:y[k].fn.call(y[k].context,f);break;case 3:y[k].fn.call(y[k].context,f,p);break;case 4:y[k].fn.call(y[k].context,f,p,h);break;default:if(!C)for(N=1,C=new Array(E-1);N<E;N++)C[N-1]=arguments[N];y[k].fn.apply(y[k].context,C)}}return!0},l.prototype.on=function(u,f,p){return i(this,u,f,p,!1)},l.prototype.once=function(u,f,p){return i(this,u,f,p,!0)},l.prototype.removeListener=function(u,f,p,h){var g=r?r+u:u;if(!this._events[g])return this;if(!f)return s(this,g),this;var x=this._events[g];if(x.fn)x.fn===f&&(!h||x.once)&&(!p||x.context===p)&&s(this,g);else{for(var v=0,y=[],E=x.length;v<E;v++)(x[v].fn!==f||h&&!x[v].once||p&&x[v].context!==p)&&y.push(x[v]);y.length?this._events[g]=y.length===1?y[0]:y:s(this,g)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Xx)),Xx.exports}var Ase=kse();const _se=sa(Ase);var Zx=new _se,Qx="recharts.syncMouseEvents";function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ise(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LL(n.key),n)}}function Tse(t,e,r){return e&&Ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eE(t,e,r){return e=LL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LL(t){var e=Rse(t,"string");return ig(e)=="symbol"?e:e+""}function Rse(t,e){if(ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lse=function(){function t(){Ose(this,t),eE(this,"activeIndex",0),eE(this,"coordinateList",[]),eE(this,"layout","horizontal")}return Tse(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,h=r.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=i+c+u,h=s+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:h})}}}])}();function jse(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&sr(n)&&sr(a))return!0}return!1}function Dse(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function jL(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=$a(e,r,n,a),l=$a(e,r,n,i);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Mse(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,p=e.angle,h=$a(l,c,u,p),g=$a(l,c,f,p);n=h.x,a=h.y,i=g.x,s=g.y}else return jL(e);return[{x:n,y:a},{x:i,y:s}]}function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function nI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(r),!0).forEach(function(n){Fse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fse(t,e,r){return e=$se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $se(t){var e=zse(t,"string");return sg(e)=="symbol"?e:e+""}function zse(t,e){if(sg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bse(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,p=t.layout,h=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var x,v=Y5;if(h==="ScatterChart")x=s,v=xne;else if(h==="BarChart")x=Dse(p,s,c,f),v=qC;else if(p==="radial"){var y=jL(s),E=y.cx,C=y.cy,k=y.radius,_=y.startAngle,N=y.endAngle;x={cx:E,cy:C,startAngle:_,endAngle:N,innerRadius:k,outerRadius:k},v=F9}else x={points:Mse(p,s,c)},v=Y5;var O=Cv(Cv(Cv(Cv({stroke:"#ccc",pointerEvents:"none"},c),x),fn(g,!1)),{},{payload:l,payloadIndex:u,className:jn("recharts-tooltip-cursor",g.className)});return b.isValidElement(g)?b.cloneElement(g,O):b.createElement(v,O)}var qse=["item"],Use=["children","className","width","height","style","compact","title","desc"];function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xm.apply(this,arguments)}function aI(t,e){return Vse(t)||Wse(t,e)||ML(t,e)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Vse(t){if(Array.isArray(t))return t}function oI(t,e){if(t==null)return{};var r=Gse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FL(n.key),n)}}function Jse(t,e,r){return e&&Yse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xse(t,e,r){return e=z0(e),Zse(t,DL()?Reflect.construct(e,r||[],z0(t).constructor):e.apply(t,r))}function Zse(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(t)}function Qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}function ele(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kS(t,e)}function kS(t,e){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kS(t,e)}function rp(t){return nle(t)||rle(t)||ML(t)||tle()}function tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ML(t,e){if(t){if(typeof t=="string")return AS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AS(t,e)}}function rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nle(t){if(Array.isArray(t))return AS(t)}function AS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(r),!0).forEach(function(n){on(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function on(t,e,r){return e=FL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FL(t){var e=ale(t,"string");return tp(e)=="symbol"?e:e+""}function ale(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ole={xAxis:["bottom","top"],yAxis:["left","right"]},ile={width:"100%",height:"100%"},$L={x:0,y:0};function Nv(t){return t}var sle=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},lle=function(e,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,l=a.radius;return Nt(Nt(Nt({},a),$a(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return Nt(Nt(Nt({},a),$a(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return $L},Bb=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(rp(l),rp(u)):l},[]);return s.length>0?s:e&&e.length&&sr(a)&&sr(i)?e.slice(a,i+1):[]};function zL(t){return t==="number"?[0,"auto"]:void 0}var _S=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,l=Bb(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var g=p===void 0?l:p;h=u5(g,s.dataKey,a)}else h=p&&p[n]||l[n];return h?[].concat(rp(c),[T9(u,h)]):c},[])},sI=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=sle(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=JQ(s,l,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,h=_S(e,r,f,p),g=lle(n,l,f,i);return{activeTooltipIndex:f,activeLabel:p,activePayload:h,activeCoordinate:g}}return null},cle=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,h=e.stackOffset,g=P9(f,i);return n.reduce(function(x,v){var y,E=v.type.defaultProps!==void 0?Nt(Nt({},v.type.defaultProps),v.props):v.props,C=E.type,k=E.dataKey,_=E.allowDataOverflow,N=E.allowDuplicatedCategory,O=E.scale,R=E.ticks,D=E.includeHidden,B=E[s];if(x[B])return x;var z=Bb(e.data,{graphicalItems:a.filter(function(j){var Y,G=s in j.props?j.props[s]:(Y=j.type.defaultProps)===null||Y===void 0?void 0:Y[s];return G===B}),dataStartIndex:c,dataEndIndex:u}),I=z.length,L,M,F;jse(E.domain,_,C)&&(L=H5(E.domain,null,_),g&&(C==="number"||O!=="auto")&&(F=ah(z,k,"category")));var H=zL(C);if(!L||L.length===0){var J,ee=(J=E.domain)!==null&&J!==void 0?J:H;if(k){if(L=ah(z,k,C),C==="category"&&g){var re=HW(L);N&&re?(M=L,L=A0(0,I)):N||(L=mO(ee,L,v).reduce(function(j,Y){return j.indexOf(Y)>=0?j:[].concat(rp(j),[Y])},[]))}else if(C==="category")N?L=L.filter(function(j){return j!==""&&!Dn(j)}):L=mO(ee,L,v).reduce(function(j,Y){return j.indexOf(Y)>=0||Y===""||Dn(Y)?j:[].concat(rp(j),[Y])},[]);else if(C==="number"){var te=tee(z,a.filter(function(j){var Y,G,X=s in j.props?j.props[s]:(Y=j.type.defaultProps)===null||Y===void 0?void 0:Y[s],ie="hide"in j.props?j.props.hide:(G=j.type.defaultProps)===null||G===void 0?void 0:G.hide;return X===B&&(D||!ie)}),k,i,f);te&&(L=te)}g&&(C==="number"||O!=="auto")&&(F=ah(z,k,"category"))}else g?L=A0(0,I):l&&l[B]&&l[B].hasStack&&C==="number"?L=h==="expand"?[0,1]:I9(l[B].stackGroups,c,u):L=N9(z,a.filter(function(j){var Y=s in j.props?j.props[s]:j.type.defaultProps[s],G="hide"in j.props?j.props.hide:j.type.defaultProps.hide;return Y===B&&(D||!G)}),C,f,!0);if(C==="number")L=PS(p,L,B,i,R),ee&&(L=H5(ee,L,_));else if(C==="category"&&ee){var K=ee,U=L.every(function(j){return K.indexOf(j)>=0});U&&(L=K)}}return Nt(Nt({},x),{},on({},B,Nt(Nt({},E),{},{axisType:i,domain:L,categoricalDomain:F,duplicateDomain:M,originalDomain:(y=E.domain)!==null&&y!==void 0?y:H,isCategorical:g,layout:f})))},{})},ule=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,p=e.children,h=Bb(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),g=h.length,x=P9(f,i),v=-1;return n.reduce(function(y,E){var C=E.type.defaultProps!==void 0?Nt(Nt({},E.type.defaultProps),E.props):E.props,k=C[s],_=zL("number");if(!y[k]){v++;var N;return x?N=A0(0,g):l&&l[k]&&l[k].hasStack?(N=I9(l[k].stackGroups,c,u),N=PS(p,N,k,i)):(N=H5(_,N9(h,n.filter(function(O){var R,D,B=s in O.props?O.props[s]:(R=O.type.defaultProps)===null||R===void 0?void 0:R[s],z="hide"in O.props?O.props.hide:(D=O.type.defaultProps)===null||D===void 0?void 0:D.hide;return B===k&&!z}),"number",f),a.defaultProps.allowDataOverflow),N=PS(p,N,k,i)),Nt(Nt({},y),{},on({},k,Nt(Nt({axisType:i},a.defaultProps),{},{hide:!0,orientation:ml(ole,"".concat(i,".").concat(v%2),null),domain:N,originalDomain:_,isCategorical:x,layout:f})))}return y},{})},dle=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,p="".concat(a,"Id"),h=Dl(f,i),g={};return h&&h.length?g=cle(e,{axes:h,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(g=ule(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),g},fle=function(e){var r=dd(e),n=Nu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:hC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:g0(r,n)}},lI=function(e){var r=e.children,n=e.defaultShowTooltip,a=ul(r,Gm),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},mle=function(e){return!e||!e.length?!1:e.some(function(r){var n=Pu(r&&r.type);return n&&n.indexOf("Bar")>=0})},cI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ple=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,p=n.children,h=n.margin||{},g=ul(p,Gm),x=ul(p,hf),v=Object.keys(c).reduce(function(N,O){var R=c[O],D=R.orientation;return!R.mirror&&!R.hide?Nt(Nt({},N),{},on({},D,N[D]+R.width)):N},{left:h.left||0,right:h.right||0}),y=Object.keys(s).reduce(function(N,O){var R=s[O],D=R.orientation;return!R.mirror&&!R.hide?Nt(Nt({},N),{},on({},D,ml(N,"".concat(D))+R.height)):N},{top:h.top||0,bottom:h.bottom||0}),E=Nt(Nt({},y),v),C=E.bottom;g&&(E.bottom+=g.props.height||Gm.defaultProps.height),x&&r&&(E=QQ(E,a,n,r));var k=u-E.left-E.right,_=f-E.top-E.bottom;return Nt(Nt({brushBottom:C},E),{},{width:Math.max(k,0),height:Math.max(_,0)})},hle=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},BL=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,p=e.defaultProps,h=function(E,C){var k=C.graphicalItems,_=C.stackGroups,N=C.offset,O=C.updateId,R=C.dataStartIndex,D=C.dataEndIndex,B=E.barSize,z=E.layout,I=E.barGap,L=E.barCategoryGap,M=E.maxBarSize,F=cI(z),H=F.numericAxisName,J=F.cateAxisName,ee=mle(k),re=[];return k.forEach(function(te,K){var U=Bb(E.data,{graphicalItems:[te],dataStartIndex:R,dataEndIndex:D}),j=te.type.defaultProps!==void 0?Nt(Nt({},te.type.defaultProps),te.props):te.props,Y=j.dataKey,G=j.maxBarSize,X=j["".concat(H,"Id")],ie=j["".concat(J,"Id")],ye={},me=c.reduce(function(Be,et){var Dt=C["".concat(et.axisType,"Map")],Ut=j["".concat(et.axisType,"Id")];Dt&&Dt[Ut]||et.axisType==="zAxis"||Ef();var Vt=Dt[Ut];return Nt(Nt({},Be),{},on(on({},et.axisType,Vt),"".concat(et.axisType,"Ticks"),Nu(Vt)))},ye),he=me[J],je=me["".concat(J,"Ticks")],Fe=_&&_[X]&&_[X].hasStack&&uee(te,_[X].stackGroups),ue=Pu(te.type).indexOf("Bar")>=0,xe=g0(he,je),Pe=[],_e=ee&&XQ({barSize:B,stackGroups:_,totalSize:hle(me,J)});if(ue){var ce,Je,Te=Dn(G)?M:G,Le=(ce=(Je=g0(he,je,!0))!==null&&Je!==void 0?Je:Te)!==null&&ce!==void 0?ce:0;Pe=ZQ({barGap:I,barCategoryGap:L,bandSize:Le!==xe?Le:xe,sizeList:_e[ie],maxBarSize:Te}),Le!==xe&&(Pe=Pe.map(function(Be){return Nt(Nt({},Be),{},{position:Nt(Nt({},Be.position),{},{offset:Be.position.offset-Le/2})})}))}var Ze=te&&te.type&&te.type.getComposedData;Ze&&re.push({props:Nt(Nt({},Ze(Nt(Nt({},me),{},{displayedData:U,props:E,dataKey:Y,item:te,bandSize:xe,barPosition:Pe,offset:N,stackedData:Fe,layout:z,dataStartIndex:R,dataEndIndex:D}))),{},on(on(on({key:te.key||"item-".concat(K)},H,me[H]),J,me[J]),"animationId",O)),childIndex:rV(te,E.children),item:te})}),re},g=function(E,C){var k=E.props,_=E.dataStartIndex,N=E.dataEndIndex,O=E.updateId;if(!k6({props:k}))return null;var R=k.children,D=k.layout,B=k.stackOffset,z=k.data,I=k.reverseStackOrder,L=cI(D),M=L.numericAxisName,F=L.cateAxisName,H=Dl(R,n),J=lee(z,H,"".concat(M,"Id"),"".concat(F,"Id"),B,I),ee=c.reduce(function(j,Y){var G="".concat(Y.axisType,"Map");return Nt(Nt({},j),{},on({},G,dle(k,Nt(Nt({},Y),{},{graphicalItems:H,stackGroups:Y.axisType===M&&J,dataStartIndex:_,dataEndIndex:N}))))},{}),re=ple(Nt(Nt({},ee),{},{props:k,graphicalItems:H}),C==null?void 0:C.legendBBox);Object.keys(ee).forEach(function(j){ee[j]=f(k,ee[j],re,j.replace("Map",""),r)});var te=ee["".concat(F,"Map")],K=fle(te),U=h(k,Nt(Nt({},ee),{},{dataStartIndex:_,dataEndIndex:N,updateId:O,graphicalItems:H,stackGroups:J,offset:re}));return Nt(Nt({formattedGraphicalItems:U,graphicalItems:H,offset:re,stackGroups:J},K),ee)},x=function(y){function E(C){var k,_,N;return Kse(this,E),N=Xse(this,E,[C]),on(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),on(N,"accessibilityManager",new Lse),on(N,"handleLegendBBoxUpdate",function(O){if(O){var R=N.state,D=R.dataStartIndex,B=R.dataEndIndex,z=R.updateId;N.setState(Nt({legendBBox:O},g({props:N.props,dataStartIndex:D,dataEndIndex:B,updateId:z},Nt(Nt({},N.state),{},{legendBBox:O}))))}}),on(N,"handleReceiveSyncEvent",function(O,R,D){if(N.props.syncId===O){if(D===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(R)}}),on(N,"handleBrushChange",function(O){var R=O.startIndex,D=O.endIndex;if(R!==N.state.dataStartIndex||D!==N.state.dataEndIndex){var B=N.state.updateId;N.setState(function(){return Nt({dataStartIndex:R,dataEndIndex:D},g({props:N.props,dataStartIndex:R,dataEndIndex:D,updateId:B},N.state))}),N.triggerSyncEvent({dataStartIndex:R,dataEndIndex:D})}}),on(N,"handleMouseEnter",function(O){var R=N.getMouseInfo(O);if(R){var D=Nt(Nt({},R),{},{isTooltipActive:!0});N.setState(D),N.triggerSyncEvent(D);var B=N.props.onMouseEnter;vn(B)&&B(D,O)}}),on(N,"triggeredAfterMouseMove",function(O){var R=N.getMouseInfo(O),D=R?Nt(Nt({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(D),N.triggerSyncEvent(D);var B=N.props.onMouseMove;vn(B)&&B(D,O)}),on(N,"handleItemMouseEnter",function(O){N.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),on(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),on(N,"handleMouseMove",function(O){O.persist(),N.throttleTriggeredAfterMouseMove(O)}),on(N,"handleMouseLeave",function(O){N.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var D=N.props.onMouseLeave;vn(D)&&D(R,O)}),on(N,"handleOuterEvent",function(O){var R=tV(O),D=ml(N.props,"".concat(R));if(R&&vn(D)){var B,z;/.*touch.*/i.test(R)?z=N.getMouseInfo(O.changedTouches[0]):z=N.getMouseInfo(O),D((B=z)!==null&&B!==void 0?B:{},O)}}),on(N,"handleClick",function(O){var R=N.getMouseInfo(O);if(R){var D=Nt(Nt({},R),{},{isTooltipActive:!0});N.setState(D),N.triggerSyncEvent(D);var B=N.props.onClick;vn(B)&&B(D,O)}}),on(N,"handleMouseDown",function(O){var R=N.props.onMouseDown;if(vn(R)){var D=N.getMouseInfo(O);R(D,O)}}),on(N,"handleMouseUp",function(O){var R=N.props.onMouseUp;if(vn(R)){var D=N.getMouseInfo(O);R(D,O)}}),on(N,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),on(N,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&N.handleMouseDown(O.changedTouches[0])}),on(N,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&N.handleMouseUp(O.changedTouches[0])}),on(N,"handleDoubleClick",function(O){var R=N.props.onDoubleClick;if(vn(R)){var D=N.getMouseInfo(O);R(D,O)}}),on(N,"handleContextMenu",function(O){var R=N.props.onContextMenu;if(vn(R)){var D=N.getMouseInfo(O);R(D,O)}}),on(N,"triggerSyncEvent",function(O){N.props.syncId!==void 0&&Zx.emit(Qx,N.props.syncId,O,N.eventEmitterSymbol)}),on(N,"applySyncEvent",function(O){var R=N.props,D=R.layout,B=R.syncMethod,z=N.state.updateId,I=O.dataStartIndex,L=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)N.setState(Nt({dataStartIndex:I,dataEndIndex:L},g({props:N.props,dataStartIndex:I,dataEndIndex:L,updateId:z},N.state)));else if(O.activeTooltipIndex!==void 0){var M=O.chartX,F=O.chartY,H=O.activeTooltipIndex,J=N.state,ee=J.offset,re=J.tooltipTicks;if(!ee)return;if(typeof B=="function")H=B(re,O);else if(B==="value"){H=-1;for(var te=0;te<re.length;te++)if(re[te].value===O.activeLabel){H=te;break}}var K=Nt(Nt({},ee),{},{x:ee.left,y:ee.top}),U=Math.min(M,K.x+K.width),j=Math.min(F,K.y+K.height),Y=re[H]&&re[H].value,G=_S(N.state,N.props.data,H),X=re[H]?{x:D==="horizontal"?re[H].coordinate:U,y:D==="horizontal"?j:re[H].coordinate}:$L;N.setState(Nt(Nt({},O),{},{activeLabel:Y,activeCoordinate:X,activePayload:G,activeTooltipIndex:H}))}else N.setState(O)}),on(N,"renderCursor",function(O){var R,D=N.state,B=D.isTooltipActive,z=D.activeCoordinate,I=D.activePayload,L=D.offset,M=D.activeTooltipIndex,F=D.tooltipAxisBandSize,H=N.getTooltipEventType(),J=(R=O.props.active)!==null&&R!==void 0?R:B,ee=N.props.layout,re=O.key||"_recharts-cursor";return o.createElement(Bse,{key:re,activeCoordinate:z,activePayload:I,activeTooltipIndex:M,chartName:r,element:O,isActive:J,layout:ee,offset:L,tooltipAxisBandSize:F,tooltipEventType:H})}),on(N,"renderPolarAxis",function(O,R,D){var B=ml(O,"type.axisType"),z=ml(N.state,"".concat(B,"Map")),I=O.type.defaultProps,L=I!==void 0?Nt(Nt({},I),O.props):O.props,M=z&&z[L["".concat(B,"Id")]];return b.cloneElement(O,Nt(Nt({},M),{},{className:jn(B,M.className),key:O.key||"".concat(R,"-").concat(D),ticks:Nu(M,!0)}))}),on(N,"renderPolarGrid",function(O){var R=O.props,D=R.radialLines,B=R.polarAngles,z=R.polarRadius,I=N.state,L=I.radiusAxisMap,M=I.angleAxisMap,F=dd(L),H=dd(M),J=H.cx,ee=H.cy,re=H.innerRadius,te=H.outerRadius;return b.cloneElement(O,{polarAngles:Array.isArray(B)?B:Nu(H,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(z)?z:Nu(F,!0).map(function(K){return K.coordinate}),cx:J,cy:ee,innerRadius:re,outerRadius:te,key:O.key||"polar-grid",radialLines:D})}),on(N,"renderLegend",function(){var O=N.state.formattedGraphicalItems,R=N.props,D=R.children,B=R.width,z=R.height,I=N.props.margin||{},L=B-(I.left||0)-(I.right||0),M=S9({children:D,formattedGraphicalItems:O,legendWidth:L,legendContent:u});if(!M)return null;var F=M.item,H=oI(M,qse);return b.cloneElement(F,Nt(Nt({},H),{},{chartWidth:B,chartHeight:z,margin:I,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),on(N,"renderTooltip",function(){var O,R=N.props,D=R.children,B=R.accessibilityLayer,z=ul(D,Sc);if(!z)return null;var I=N.state,L=I.isTooltipActive,M=I.activeCoordinate,F=I.activePayload,H=I.activeLabel,J=I.offset,ee=(O=z.props.active)!==null&&O!==void 0?O:L;return b.cloneElement(z,{viewBox:Nt(Nt({},J),{},{x:J.left,y:J.top}),active:ee,label:H,payload:ee?F:[],coordinate:M,accessibilityLayer:B})}),on(N,"renderBrush",function(O){var R=N.props,D=R.margin,B=R.data,z=N.state,I=z.offset,L=z.dataStartIndex,M=z.dataEndIndex,F=z.updateId;return b.cloneElement(O,{key:O.key||"_recharts-brush",onChange:wv(N.handleBrushChange,O.props.onChange),data:B,x:sr(O.props.x)?O.props.x:I.left,y:sr(O.props.y)?O.props.y:I.top+I.height+I.brushBottom-(D.bottom||0),width:sr(O.props.width)?O.props.width:I.width,startIndex:L,endIndex:M,updateId:"brush-".concat(F)})}),on(N,"renderReferenceElement",function(O,R,D){if(!O)return null;var B=N,z=B.clipPathId,I=N.state,L=I.xAxisMap,M=I.yAxisMap,F=I.offset,H=O.type.defaultProps||{},J=O.props,ee=J.xAxisId,re=ee===void 0?H.xAxisId:ee,te=J.yAxisId,K=te===void 0?H.yAxisId:te;return b.cloneElement(O,{key:O.key||"".concat(R,"-").concat(D),xAxis:L[re],yAxis:M[K],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:z})}),on(N,"renderActivePoints",function(O){var R=O.item,D=O.activePoint,B=O.basePoint,z=O.childIndex,I=O.isRange,L=[],M=R.props.key,F=R.item.type.defaultProps!==void 0?Nt(Nt({},R.item.type.defaultProps),R.item.props):R.item.props,H=F.activeDot,J=F.dataKey,ee=Nt(Nt({index:z,dataKey:J,cx:D.x,cy:D.y,r:4,fill:BC(R.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},fn(H,!1)),Vv(H));return L.push(E.renderActiveDot(H,ee,"".concat(M,"-activePoint-").concat(z))),B?L.push(E.renderActiveDot(H,Nt(Nt({},ee),{},{cx:B.x,cy:B.y}),"".concat(M,"-basePoint-").concat(z))):I&&L.push(null),L}),on(N,"renderGraphicChild",function(O,R,D){var B=N.filterFormatItem(O,R,D);if(!B)return null;var z=N.getTooltipEventType(),I=N.state,L=I.isTooltipActive,M=I.tooltipAxis,F=I.activeTooltipIndex,H=I.activeLabel,J=N.props.children,ee=ul(J,Sc),re=B.props,te=re.points,K=re.isRange,U=re.baseLine,j=B.item.type.defaultProps!==void 0?Nt(Nt({},B.item.type.defaultProps),B.item.props):B.item.props,Y=j.activeDot,G=j.hide,X=j.activeBar,ie=j.activeShape,ye=!!(!G&&L&&ee&&(Y||X||ie)),me={};z!=="axis"&&ee&&ee.props.trigger==="click"?me={onClick:wv(N.handleItemMouseEnter,O.props.onClick)}:z!=="axis"&&(me={onMouseLeave:wv(N.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:wv(N.handleItemMouseEnter,O.props.onMouseEnter)});var he=b.cloneElement(O,Nt(Nt({},B.props),me));function je(et){return typeof M.dataKey=="function"?M.dataKey(et.payload):null}if(ye)if(F>=0){var Fe,ue;if(M.dataKey&&!M.allowDuplicatedCategory){var xe=typeof M.dataKey=="function"?je:"payload.".concat(M.dataKey.toString());Fe=u5(te,xe,H),ue=K&&U&&u5(U,xe,H)}else Fe=te==null?void 0:te[F],ue=K&&U&&U[F];if(ie||X){var Pe=O.props.activeIndex!==void 0?O.props.activeIndex:F;return[b.cloneElement(O,Nt(Nt(Nt({},B.props),me),{},{activeIndex:Pe})),null,null]}if(!Dn(Fe))return[he].concat(rp(N.renderActivePoints({item:B,activePoint:Fe,basePoint:ue,childIndex:F,isRange:K})))}else{var _e,ce=(_e=N.getItemByXY(N.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:he},Je=ce.graphicalItem,Te=Je.item,Le=Te===void 0?O:Te,Ze=Je.childIndex,Be=Nt(Nt(Nt({},B.props),me),{},{activeIndex:Ze});return[b.cloneElement(Le,Be),null,null]}return K?[he,null,null]:[he,null]}),on(N,"renderCustomized",function(O,R,D){return b.cloneElement(O,Nt(Nt({key:"recharts-customized-".concat(D)},N.props),N.state))}),on(N,"renderMap",{CartesianGrid:{handler:Nv,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Nv},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Nv},YAxis:{handler:Nv},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((k=C.id)!==null&&k!==void 0?k:mg("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=ER(N.triggeredAfterMouseMove,(_=C.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return ele(E,y),Jse(E,[{key:"componentDidMount",value:function(){var k,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,_=k.children,N=k.data,O=k.height,R=k.layout,D=ul(_,Sc);if(D){var B=D.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,I=_S(this.state,N,B,z),L=this.state.tooltipTicks[B].coordinate,M=(this.state.offset.top+O)/2,F=R==="horizontal",H=F?{x:L,y:M}:{y:L,x:M},J=this.state.formattedGraphicalItems.find(function(re){var te=re.item;return te.type.name==="Scatter"});J&&(H=Nt(Nt({},H),J.props.points[B].tooltipPosition),I=J.props.points[B].tooltipPayload);var ee={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:z,activePayload:I,activeCoordinate:H};this.setState(ee),this.renderCursor(D),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var N,O;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(k){f5([ul(k.children,Sc)],[ul(this.props.children,Sc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=ul(this.props.children,Sc);if(k&&typeof k.props.shared=="boolean"){var _=k.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),O=qY(N),R={chartX:Math.round(k.pageX-O.left),chartY:Math.round(k.pageY-O.top)},D=N.width/_.offsetWidth||1,B=this.inRange(R.chartX,R.chartY,D);if(!B)return null;var z=this.state,I=z.xAxisMap,L=z.yAxisMap,M=this.getTooltipEventType(),F=sI(this.state,this.props.data,this.props.layout,B);if(M!=="axis"&&I&&L){var H=dd(I).scale,J=dd(L).scale,ee=H&&H.invert?H.invert(R.chartX):null,re=J&&J.invert?J.invert(R.chartY):null;return Nt(Nt({},R),{},{xValue:ee,yValue:re},F)}return F?Nt(Nt({},R),F):null}},{key:"inRange",value:function(k,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,R=k/N,D=_/N;if(O==="horizontal"||O==="vertical"){var B=this.state.offset,z=R>=B.left&&R<=B.left+B.width&&D>=B.top&&D<=B.top+B.height;return z?{x:R,y:D}:null}var I=this.state,L=I.angleAxisMap,M=I.radiusAxisMap;if(L&&M){var F=dd(L);return gO({x:R,y:D},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,_=this.getTooltipEventType(),N=ul(k,Sc),O={};N&&_==="axis"&&(N.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=Vv(this.props,this.handleOuterEvent);return Nt(Nt({},R),O)}},{key:"addListener",value:function(){Zx.on(Qx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Zx.removeListener(Qx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,_,N){for(var O=this.state.formattedGraphicalItems,R=0,D=O.length;R<D;R++){var B=O[R];if(B.item===k||B.props.key===k.key||_===Pu(B.item.type)&&N===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,_=this.state.offset,N=_.left,O=_.top,R=_.height,D=_.width;return o.createElement("defs",null,o.createElement("clipPath",{id:k},o.createElement("rect",{x:N,y:O,height:R,width:D})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(_,N){var O=aI(N,2),R=O[0],D=O[1];return Nt(Nt({},_),{},on({},R,D.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(_,N){var O=aI(N,2),R=O[0],D=O[1];return Nt(Nt({},_),{},on({},R,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[k])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(k){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[k])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(k){var _=this.state,N=_.formattedGraphicalItems,O=_.activeItem;if(N&&N.length)for(var R=0,D=N.length;R<D;R++){var B=N[R],z=B.props,I=B.item,L=I.type.defaultProps!==void 0?Nt(Nt({},I.type.defaultProps),I.props):I.props,M=Pu(I.type);if(M==="Bar"){var F=(z.data||[]).find(function(re){return tne(k,re)});if(F)return{graphicalItem:B,payload:F}}else if(M==="RadialBar"){var H=(z.data||[]).find(function(re){return gO(k,re)});if(H)return{graphicalItem:B,payload:H}}else if(Tb(B,O)||Rb(B,O)||tg(B,O)){var J=Nae({graphicalItem:B,activeTooltipItem:O,itemData:L.data}),ee=L.activeIndex===void 0?J:L.activeIndex;return{graphicalItem:Nt(Nt({},B),{},{childIndex:ee}),payload:tg(B,O)?L.data[J]:B.props.data[J]}}}return null}},{key:"render",value:function(){var k=this;if(!k6(this))return null;var _=this.props,N=_.children,O=_.className,R=_.width,D=_.height,B=_.style,z=_.compact,I=_.title,L=_.desc,M=oI(_,Use),F=fn(M,!1);if(z)return o.createElement(q8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement(p5,xm({},F,{width:R,height:D,title:I,desc:L}),this.renderClipPath(),_6(N,this.renderMap)));if(this.props.accessibilityLayer){var H,J;F.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,F.role=(J=this.props.role)!==null&&J!==void 0?J:"application",F.onKeyDown=function(re){k.accessibilityManager.keyboardEvent(re)},F.onFocus=function(){k.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return o.createElement(q8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement("div",xm({className:jn("recharts-wrapper",O),style:Nt({position:"relative",cursor:"default",width:R,height:D},B)},ee,{ref:function(te){k.container=te}}),o.createElement(p5,xm({},F,{width:R,height:D,title:I,desc:L,style:ile}),this.renderClipPath(),_6(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);on(x,"displayName",r),on(x,"defaultProps",Nt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),on(x,"getDerivedStateFromProps",function(y,E){var C=y.dataKey,k=y.data,_=y.children,N=y.width,O=y.height,R=y.layout,D=y.stackOffset,B=y.margin,z=E.dataStartIndex,I=E.dataEndIndex;if(E.updateId===void 0){var L=lI(y);return Nt(Nt(Nt({},L),{},{updateId:0},g(Nt(Nt({props:y},L),{},{updateId:0}),E)),{},{prevDataKey:C,prevData:k,prevWidth:N,prevHeight:O,prevLayout:R,prevStackOffset:D,prevMargin:B,prevChildren:_})}if(C!==E.prevDataKey||k!==E.prevData||N!==E.prevWidth||O!==E.prevHeight||R!==E.prevLayout||D!==E.prevStackOffset||!km(B,E.prevMargin)){var M=lI(y),F={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},H=Nt(Nt({},sI(E,k,R)),{},{updateId:E.updateId+1}),J=Nt(Nt(Nt({},M),F),H);return Nt(Nt(Nt({},J),g(Nt({props:y},J),E)),{},{prevDataKey:C,prevData:k,prevWidth:N,prevHeight:O,prevLayout:R,prevStackOffset:D,prevMargin:B,prevChildren:_})}if(!f5(_,E.prevChildren)){var ee,re,te,K,U=ul(_,Gm),j=U&&(ee=(re=U.props)===null||re===void 0?void 0:re.startIndex)!==null&&ee!==void 0?ee:z,Y=U&&(te=(K=U.props)===null||K===void 0?void 0:K.endIndex)!==null&&te!==void 0?te:I,G=j!==z||Y!==I,X=!Dn(k),ie=X&&!G?E.updateId:E.updateId+1;return Nt(Nt({updateId:ie},g(Nt(Nt({props:y},E),{},{updateId:ie,dataStartIndex:j,dataEndIndex:Y}),E)),{},{prevChildren:_,dataStartIndex:j,dataEndIndex:Y})}return null}),on(x,"renderActiveDot",function(y,E,C){var k;return b.isValidElement(y)?k=b.cloneElement(y,E):vn(y)?k=y(E):k=o.createElement(UC,E),o.createElement(va,{className:"recharts-active-dot",key:C},k)});var v=b.forwardRef(function(E,C){return o.createElement(x,xm({},E,{ref:C}))});return v.displayName=x.displayName,v},gle=BL({chartName:"BarChart",GraphicalChild:Sd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$b},{axisType:"yAxis",AxisComp:zb}],formatAxisMap:Aoe}),vle=BL({chartName:"PieChart",GraphicalChild:Fu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ib},{axisType:"radiusAxis",AxisComp:_b}],formatAxisMap:wee,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ble=()=>{const[t,e]=b.useState("diario"),[r,n]=b.useState(!0),[a,i]=b.useState(!0),[s,l]=b.useState("todas"),[c,u]=b.useState([]),[f,p]=b.useState([]),[h,g]=b.useState("diario"),[x,v]=b.useState(!1),[y,E]=b.useState(!1),[C,k]=b.useState(!0),[_,N]=b.useState(null),[O,R]=b.useState({diarios:[],semanales:[],mensuales:[]}),[D,B]=b.useState({diarios:[],semanales:[],mensuales:[]}),[z,I]=b.useState({diarias:[],semanales:[],mensuales:[]}),L=ue=>{const xe=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],Pe=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],_e=new Array(7).fill(0),ce=new Array(4).fill(0),Je=new Array(12).fill(0);ue.forEach(Be=>{const et=new Date(Be.fechacompra||Be.fechaCompra),Dt=et.getDay(),Ut=et.getMonth(),Vt=Math.floor(et.getDate()/7),Jt=parseFloat(Be.total||0);_e[Dt]+=Jt,Vt<4&&(ce[Vt]+=Jt),Je[Ut]+=Jt});const Te=xe.map((Be,et)=>({periodo:Be,compras:_e[et]})),Le=ce.map((Be,et)=>({periodo:`Semana ${et+1}`,compras:Be})),Ze=Pe.map((Be,et)=>({periodo:Be,compras:Je[et]}));return{datosDiarios:Te,datosSemanales:Le,datosMensuales:Ze}},M=ue=>{const xe=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],Pe=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],_e=new Array(7).fill(0),ce=new Array(4).fill(0),Je=new Array(12).fill(0);ue.forEach(Be=>{const et=new Date(Be.fechaventa||Be.fechaVenta),Dt=et.getDay(),Ut=et.getMonth(),Vt=Math.floor(et.getDate()/7),Jt=parseFloat(Be.total||0);_e[Dt]+=Jt,Vt<4&&(ce[Vt]+=Jt),Je[Ut]+=Jt});const Te=xe.map((Be,et)=>({periodo:Be,ventas:_e[et]})),Le=ce.map((Be,et)=>({periodo:`Semana ${et+1}`,ventas:Be})),Ze=Pe.map((Be,et)=>({periodo:Be,ventas:Je[et]}));return{datosDiarios:Te,datosSemanales:Le,datosMensuales:Ze}},F=(ue,xe,Pe)=>{const _e={};return ue.forEach(ce=>{const Je=new Date(ce.fechaventa||ce.fechaVenta);Je>=xe&&Je<=Pe&&(ce.detalleventa||ce.detalleVenta||[]).forEach(Le=>{var Dt;const Be=((Dt=(Le.productogeneral||Le.producto||{}).categoria)==null?void 0:Dt.nombre)||"Otros",et=parseInt(Le.cantidad||0);_e[Be]||(_e[Be]={cantidad:0,total:0}),_e[Be].cantidad+=et,_e[Be].total+=parseFloat(Le.subtotal||0)})}),Object.entries(_e).map(([ce,Je])=>({categoria:ce,ventas:Je.total,cantidad:Je.cantidad,color:generarColorAleatorio()})).sort((ce,Je)=>Je.ventas-ce.ventas)},H=async()=>{try{const ue=await Io.obtenerSedes();p(ue),console.log("Sedes cargadas:",ue)}catch(ue){console.error("Error al cargar sedes:",ue)}},J=async()=>{var ue,xe;try{k(!0),N(null);let Pe=[],_e=[];try{Pe=await Io.obtenerVentas(),console.log("Ventas obtenidas correctamente")}catch(Be){console.error("Error al obtener ventas:",Be),N("No se pudieron cargar las ventas")}try{_e=await sf.obtenerCompras(),console.log("Compras obtenidas correctamente")}catch(Be){console.error("Error al obtener compras:",Be)}if(Pe.length>0){const Be=M(Pe);R({diarios:Be.datosDiarios,semanales:Be.datosSemanales,mensuales:Be.datosMensuales})}if(_e.length>0){const Be=L(_e);B({diarios:Be.datosDiarios,semanales:Be.datosSemanales,mensuales:Be.datosMensuales})}else B({diarios:[],semanales:[],mensuales:[]});const ce=new Date,Je=new Date(ce);Je.setHours(0,0,0,0);const Te=new Date(ce);Te.setDate(ce.getDate()-ce.getDay()),Te.setHours(0,0,0,0);const Le=new Date(ce.getFullYear(),ce.getMonth(),1);I({diarias:F(Pe,Je,ce),semanales:F(Pe,Te,ce),mensuales:F(Pe,Le,ce)});const Ze=Pe.sort((Be,et)=>new Date(et.fechaventa||et.fechaVenta)-new Date(Be.fechaventa||Be.fechaVenta)).slice(0,5).map(Be=>{var Ut;const et=(Be.detalleventa||Be.detalleVenta||[])[0]||{},Dt=et.productogeneral||et.producto||{};return{idVenta:Be.idventa||Be.idVenta,producto:Dt.nombre||"Producto no especificado",cantidad:parseInt(et.cantidad||0),precio:parseFloat(et.subtotal||0),imagen:Dt.imagen||"",sede:((Ut=Be.sede)==null?void 0:Ut.nombre)||Be.nombreSede||"Sede principal",timestamp:new Date(Be.fechaventa||Be.fechaVenta)}});u(Ze)}catch(Pe){console.error("Error al cargar datos:",Pe),Pe.name==="AbortError"?N("La carga de datos fue cancelada"):((ue=Pe.response)==null?void 0:ue.status)===404?N("No se encontraron datos para mostrar"):((xe=Pe.response)==null?void 0:xe.status)===401?N("No tienes permisos para ver estos datos"):navigator.onLine?N("Error al cargar los datos del dashboard: "+(Pe.message||"Error desconocido")):N("No hay conexión a internet. Por favor, verifica tu conexión")}finally{k(!1)}},ee=async()=>{try{console.log("Iniciando carga de ventas en tiempo real...");const xe=(await Io.obtenerVentas()).sort((ce,Je)=>new Date(Je.fechaVenta)-new Date(ce.fechaVenta)).slice(0,5),_e=(await Promise.all(xe.map(async ce=>{var Je,Te;try{const Ze=(Je=(await Io.obtenerVentaPorId(ce.idVenta)).detalleVenta)==null?void 0:Je[0];if(!Ze)return console.warn(`La venta ${ce.idVenta} no tiene detalle`),null;const Be=await Ms.obtenerProductoPorId(Ze.idproductogeneral);return{idVenta:ce.idVenta,producto:Be.nombre||Be.nombreproducto||"Producto N/A",cantidad:parseInt(Ze.cantidad||"0"),precio:parseFloat(Ze.subtotal||"0"),imagen:Be.urlimagen||((Te=Be.imagenes)==null?void 0:Te.urlimg)||"",sede:ce.nombreSede||"Sede principal",timestamp:new Date(ce.fechaVenta)}}catch(Le){return console.error(`Error al procesar venta ${ce.idVenta}:`,Le),null}}))).filter(ce=>ce!==null);console.log("Ventas válidas procesadas:",_e),u(_e)}catch(ue){console.error("Error al cargar ventas en tiempo real:",ue)}};b.useEffect(()=>{H(),J(),ee();const ue=setInterval(ee,3e4),xe=setInterval(J,3e5);return()=>{clearInterval(ue),clearInterval(xe)}},[]);const re=b.useMemo(()=>{const ue=O[t==="diario"?"diarios":t==="semanal"?"semanales":"mensuales"],xe=D[t==="diario"?"diarios":t==="semanal"?"semanales":"mensuales"];return ue.map((Pe,_e)=>{var ce;return{periodo:Pe.periodo,ventas:Pe.ventas,compras:((ce=xe[_e])==null?void 0:ce.compras)||0}})},[t,O,D]),te=b.useMemo(()=>{const ue=re.reduce((ce,Je)=>ce+(Je.ventas||0),0),xe=re.reduce((ce,Je)=>ce+(Je.compras||0),0),Pe=ue>0?100:0,_e=ue>0&&xe>0?xe/ue*100:0;return{ventas:ue,compras:xe,porcentajeVentas:`${Math.min(100,Pe)}%`,porcentajeCompras:`${Math.min(100,_e)}%`}},[t,O,D]),K=b.useMemo(()=>z[h==="diario"?"diarias":h==="semanal"?"semanales":"mensuales"],[h,z]),U=b.useMemo(()=>c.filter(ue=>s==="todas"||ue.sede===s),[c,s]),j=({mensaje:ue="Cargando datos..."})=>o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"10px"}},o.createElement("div",{className:"loading-spinner"}),o.createElement("div",null,ue)),Y=({mensaje:ue="No hay datos disponibles"})=>o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",color:"#666",flexDirection:"column",gap:"10px"}},o.createElement("span",{style:{fontSize:"24px"}},"📊"),o.createElement("div",null,ue)),G=({message:ue})=>o.createElement("div",{style:{padding:"20px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"4px",margin:"20px 0"}},ue),X={dashboard:{fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5",minHeight:"100vh",padding:"20px",color:"#333"},container:{maxWidth:"1400px",margin:"0 auto"},header:{fontSize:"24px",fontWeight:"bold",marginBottom:"30px",color:"#333"},mainContent:{display:"flex",gap:"20px",marginBottom:"30px",flexWrap:"wrap",alignItems:"flex-start"},leftSection:{flex:"2",minWidth:"400px",maxWidth:"calc(100% - 370px)"},rightSection:{flex:"1",minWidth:"350px",maxWidth:"350px"},statsRow:{display:"flex",gap:"20px",marginBottom:"30px",flexWrap:"wrap"},statCard:{background:"white",borderRadius:"10px",padding:"20px",flex:"1",minWidth:"200px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",position:"relative"},statTitle:{fontSize:"14px",color:"#666",marginBottom:"10px",fontWeight:"400"},statValue:{fontSize:"24px",fontWeight:"bold",color:"#333",marginBottom:"10px"},statProgress:{position:"absolute",bottom:"0",left:"0",right:"0",height:"4px",borderRadius:"0 0 10px 10px",overflow:"hidden"},progressBarVentas:{height:"100%",background:"linear-gradient(90deg, #FF1493 0%, #FF69B4 100%)",width:"78%"},progressBarCompras:{height:"100%",background:"linear-gradient(90deg,rgb(238, 76, 233) 0%,rgb(244, 90, 218) 100%)",width:"65%"},realtimeCard:{background:"white",borderRadius:"10px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",height:"fit-content",marginBottom:"20px"},tortaCard:{background:"white",borderRadius:"10px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",height:"fit-content"},tortaCardExpanded:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"10px",padding:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",zIndex:1e3,width:"600px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:999},realtimeHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},tortaHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",flexWrap:"wrap",gap:"10px"},realtimeTitle:{fontSize:"16px",fontWeight:"600",color:"#333",display:"flex",alignItems:"center",gap:"8px"},tortaTitle:{fontSize:"16px",fontWeight:"600",color:"#333"},liveIndicator:{width:"8px",height:"8px",backgroundColor:"#4CAF50",borderRadius:"50%",animation:"pulse 2s infinite"},sedeSelector:{padding:"6px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",backgroundColor:"white",cursor:"pointer"},tortaControls:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},ventasList:{maxHeight:"300px",overflowY:"auto",paddingRight:"5px"},ventaItem:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",borderBottom:"1px solid #f0f0f0",transition:"background-color 0.3s ease"},ventaImagen:{width:"40px",height:"40px",borderRadius:"6px",objectFit:"cover"},ventaInfo:{flex:"1",minWidth:"0"},ventaNombre:{fontSize:"13px",fontWeight:"500",color:"#333",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},ventaDetalles:{fontSize:"11px",color:"#666",display:"flex",gap:"8px"},ventaPrecio:{fontSize:"12px",fontWeight:"bold",color:"#FF1493",textAlign:"right"},sedeTag:{fontSize:"10px",padding:"2px 6px",borderRadius:"10px",fontWeight:"500"},chartCard:{background:"white",borderRadius:"10px",padding:"20px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},chartHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},chartTitle:{fontSize:"16px",fontWeight:"600",color:"#333"},controlsContainer:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"},selectorContainer:{display:"flex",gap:"5px"},selectorButton:{padding:"8px 16px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"12px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s"},selectorButtonActive:{padding:"8px 16px",border:"1px solid #FF1493",backgroundColor:"#FF1493",color:"white",fontSize:"12px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s"},toggleContainer:{display:"flex",gap:"10px",alignItems:"center"},toggleButton:{padding:"6px 12px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"11px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},toggleButtonActive:{padding:"6px 12px",border:"1px solid #FF1493",backgroundColor:"#FF1493",color:"white",fontSize:"11px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},toggleButtonCompras:{padding:"6px 12px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"11px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},toggleButtonComprasActive:{padding:"6px 12px",border:"1px solid #A9A9A9",backgroundColor:"#A9A9A9",color:"white",fontSize:"11px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"5px"},colorIndicator:{width:"8px",height:"8px",borderRadius:"50%"},expandButton:{padding:"6px 10px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"11px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s"},closeButton:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"}},ie=ue=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(ue),ye=({active:ue,payload:xe,label:Pe})=>ue&&xe&&xe.length?o.createElement("div",{style:{backgroundColor:"white",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}},o.createElement("p",{style:{margin:0,fontWeight:"bold"}},Pe),xe.map((_e,ce)=>o.createElement("p",{key:ce,style:{margin:"5px 0 0 0",color:_e.color,fontSize:"12px"}},_e.name,": ",ie(_e.value)))):null,me=({active:ue,payload:xe})=>{if(ue&&xe&&xe.length){const Pe=xe[0],_e=K.reduce((Je,Te)=>Je+Te.ventas,0),ce=(Pe.value/_e*100).toFixed(1);return o.createElement("div",{style:{backgroundColor:"white",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}},o.createElement("p",{style:{margin:0,fontWeight:"bold",color:Pe.payload.color}},Pe.payload.categoria),o.createElement("p",{style:{margin:"5px 0 0 0",fontSize:"12px"}},"Ventas: ",ie(Pe.value)),x&&o.createElement("p",{style:{margin:"5px 0 0 0",fontSize:"12px"}},"Porcentaje: ",ce,"%"))}return null},he=({cx:ue,cy:xe,midAngle:Pe,innerRadius:_e,outerRadius:ce,percent:Je})=>{if(!x)return null;const Te=Math.PI/180,Le=_e+(ce-_e)*.5,Ze=ue+Le*Math.cos(-Pe*Te),Be=xe+Le*Math.sin(-Pe*Te);return o.createElement("text",{x:Ze,y:Be,fill:"white",textAnchor:Ze>ue?"start":"end",dominantBaseline:"central",fontSize:"11",fontWeight:"bold"},`${(Je*100).toFixed(0)}%`)},je=()=>o.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"15px",marginTop:"20px"}},K.map((ue,xe)=>o.createElement("div",{key:xe,style:{display:"flex",alignItems:"center",fontSize:"12px",maxWidth:"150px"}},o.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:ue.color,marginRight:"5px",borderRadius:"2px"}}),o.createElement("span",{style:{color:"#333",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},ue.categoria)))),Fe=o.memo(({expanded:ue=!1})=>o.createElement("div",{style:ue?X.tortaCardExpanded:X.tortaCard},ue&&o.createElement("button",{style:X.closeButton,onClick:()=>E(!1)},"×"),o.createElement("div",{style:X.tortaHeader},o.createElement("div",{style:X.tortaTitle},"Ventas por Categoría (",h,")"),o.createElement("div",{style:X.tortaControls},o.createElement("div",{style:X.selectorContainer},o.createElement("button",{style:h==="diario"?X.selectorButtonActive:X.selectorButton,onClick:()=>g("diario")},"Diario"),o.createElement("button",{style:h==="semanal"?X.selectorButtonActive:X.selectorButton,onClick:()=>g("semanal")},"Semanal"),o.createElement("button",{style:h==="mensual"?X.selectorButtonActive:X.selectorButton,onClick:()=>g("mensual")},"Mensual")),o.createElement("button",{style:x?X.toggleButtonActive:X.toggleButton,onClick:()=>v(!x)},"%"),!ue&&o.createElement("button",{style:X.expandButton,onClick:()=>E(!0)},"📊"))),o.createElement(XA,{width:"100%",height:ue?400:200},o.createElement(vle,null,o.createElement(Fu,{data:K,cx:"50%",cy:"50%",labelLine:!1,label:he,outerRadius:ue?150:80,fill:"#8884d8",dataKey:"ventas"},K.map((xe,Pe)=>o.createElement(pb,{key:`cell-${Pe}`,fill:xe.color}))),o.createElement(Sc,{content:o.createElement(me,null)}),ue&&o.createElement(hf,{content:o.createElement(je,null)})))));return o.createElement("div",{style:X.dashboard},o.createElement("style",null,`
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes slideIn { 
          from { 
            opacity: 0; 
            transform: translateY(-20px); 
            background-color: rgba(255, 20, 147, 0.1);
          } 
          to { 
            opacity: 1; 
            transform: translateY(0);
            background-color: transparent;
          } 
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 4px solid #f3f3f3;
          border-top: 4px solid #FF1493;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        .venta-nueva {
          animation: slideIn 0.5s ease-out;
        }
      `),o.createElement("div",{style:X.container},o.createElement("h1",{style:X.header},"Dashboard"),C?o.createElement(j,null):_?o.createElement(G,{message:_}):o.createElement("div",null,y&&o.createElement("div",{style:X.overlay,onClick:()=>E(!1)}),o.createElement("div",{style:X.mainContent},o.createElement("div",{style:X.leftSection},o.createElement("div",{style:X.statsRow},o.createElement("div",{style:X.statCard},o.createElement("div",{style:X.statTitle},"Ventas totales"),o.createElement("div",{style:X.statValue},ie(te.ventas)),o.createElement("div",{style:X.statProgress},o.createElement("div",{style:{...X.progressBarVentas,width:te.porcentajeVentas}}))),o.createElement("div",{style:X.statCard},o.createElement("div",{style:X.statTitle},"Compras totales"),o.createElement("div",{style:X.statValue},ie(te.compras)),o.createElement("div",{style:X.statProgress},o.createElement("div",{style:{...X.progressBarCompras,width:te.porcentajeCompras}})))),o.createElement("div",{style:X.chartCard},o.createElement("div",{style:X.chartHeader},o.createElement("h3",{style:X.chartTitle},t==="diario"?"Ventas y Compras Diarias":t==="semanal"?"Ventas y Compras Semanales":"Ventas y Compras Mensuales"),o.createElement("div",{style:X.controlsContainer},o.createElement("div",{style:X.selectorContainer},o.createElement("button",{style:t==="diario"?X.selectorButtonActive:X.selectorButton,onClick:()=>e("diario")},"Diario"),o.createElement("button",{style:t==="semanal"?X.selectorButtonActive:X.selectorButton,onClick:()=>e("semanal")},"Semanal"),o.createElement("button",{style:t==="mensual"?X.selectorButtonActive:X.selectorButton,onClick:()=>e("mensual")},"Mensual")),o.createElement("div",{style:X.toggleContainer},o.createElement("button",{style:r?X.toggleButtonActive:X.toggleButton,onClick:()=>n(!r)},o.createElement("div",{style:{...X.colorIndicator,backgroundColor:"#FF1493"}}),"Ventas"),o.createElement("button",{style:a?X.toggleButtonComprasActive:X.toggleButtonCompras,onClick:()=>i(!a)},o.createElement("div",{style:{...X.colorIndicator,backgroundColor:"#A9A9A9"}}),"Compras ")))),o.createElement(XA,{width:"100%",height:250},re.length===0?o.createElement(Y,{mensaje:"No hay datos de ventas o compras para mostrar"}):o.createElement(gle,{data:re,barCategoryGap:"20%"},o.createElement(kL,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.createElement($b,{dataKey:"periodo",axisLine:!1,tickLine:!1,fontSize:12}),o.createElement(zb,{axisLine:!1,tickLine:!1,fontSize:11,tickFormatter:ue=>`${ue/1e3}k`}),o.createElement(Sc,{content:o.createElement(ye,null)}),r&&o.createElement(Sd,{dataKey:"ventas",fill:"#FF1493",radius:[2,2,0,0],name:"Ventas"}),a&&o.createElement(Sd,{dataKey:"compras",fill:"#A9A9A9",radius:[2,2,0,0],name:"Compras"}))))),o.createElement("div",{style:X.rightSection},o.createElement("div",{style:{marginBottom:"30px"}},o.createElement(Fe,null)),o.createElement("div",{style:X.realtimeCard},o.createElement("div",{style:X.realtimeHeader},o.createElement("div",{style:X.realtimeTitle},o.createElement("div",{style:X.liveIndicator}),"Ventas en Tiempo Real"),o.createElement("select",{style:X.sedeSelector,value:s,onChange:ue=>l(ue.target.value)},o.createElement("option",{value:"todas"},"Todas las sedes"),f.map(ue=>o.createElement("option",{key:ue.idsede,value:ue.nombre},ue.nombre)))),o.createElement("div",{style:X.ventasList},U.length===0?o.createElement("div",{style:{textAlign:"center",color:"#666",padding:"20px"}},"Esperando ventas..."):U.map(ue=>o.createElement("div",{key:ue.id,style:X.ventaItem},o.createElement("img",{src:ue.imagen,alt:ue.producto,style:X.ventaImagen}),o.createElement("div",{style:X.ventaInfo},o.createElement("div",{style:X.ventaNombre},ue.producto),o.createElement("div",{style:X.ventaDetalles},o.createElement("span",null,"x",ue.cantidad),o.createElement("span",{style:{...X.sedeTag,backgroundColor:"#FF1493",color:"white"}},ue.sede))),o.createElement("div",{style:X.ventaPrecio},ie(ue.precio*ue.cantidad)))))))))))};function yle(){const[t,e]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState(!1),[s,l]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[c,u]=b.useState(!1),[f,p]=b.useState(null),[h,g]=b.useState(null),[x,v]=b.useState(""),[y,E]=b.useState(""),[C,k]=b.useState(null),[_,N]=b.useState(null),O=b.useRef(null);if(b.useEffect(()=>{R()},[]),a)return o.createElement(zl,null);const R=async()=>{try{i(!0);const Y=(await Ec.obtenerCategorias()).map(G=>({id:G.idcategoriaproducto,nombre:G.nombrecategoria,descripcion:G.descripcion,activo:G.estado,imagen:G.imagenes?G.imagenes.urlimg:null}));e(Y)}catch(j){B("Error al cargar las categorías: "+j.message,"error")}finally{i(!1)}},D=async j=>{try{const Y=t.map(G=>G.id===j.id?{...G,activo:!G.activo}:G);e(Y),await Ec.toggleEstadoCategoria(j.id),B(`Categoría ${j.activo?"desactivada":"activada"} exitosamente`)}catch(Y){const G=t.map(X=>X.id===j.id?{...X,activo:j.activo}:X);e(G),B("Error al cambiar el estado: "+Y.message,"error")}},B=(j,Y="success")=>{l({visible:!0,mensaje:j,tipo:Y})},z=()=>{l({visible:!1,mensaje:"",tipo:"success"})},I=j=>{const Y=j.target.files[0];if(Y)try{Ec.validarArchivoImagen(Y),k(Y);const G=new FileReader;G.onload=X=>{N(X.target.result)},G.readAsDataURL(Y)}catch(G){B(G.message,"error"),j.target.value=""}},L=()=>{k(null),N(null),O.current&&(O.current.value="")},M=(j,Y)=>{p(j),g(Y),j==="editar"&&(v(Y.nombre),E(Y.descripcion),N(Y.imagen),k(null)),j==="agregar"&&(v(""),E(""),N(null),k(null)),j==="visualizar"&&N(Y.imagen),u(!0)},F=()=>{M("agregar",null)},H=()=>{u(!1),g(null),p(null),v(""),E(""),L()},J=()=>x.trim()?x.length>20?(B("El nombre no puede tener más de 20 caracteres","error"),!1):y.trim()?y.length>50?(B("La descripción no puede tener más de 50 caracteres","error"),!1):!0:(B("La descripción es obligatoria","error"),!1):(B("El nombre es obligatorio","error"),!1),ee=async()=>{if(J())try{const j={nombre:x,descripcion:y,estado:h.activo},Y=await Ec.actualizarCategoria(h.id,j,C),G=t.map(X=>X.id===h.id?{...X,nombre:x,descripcion:y,imagen:Y.imagenes?Y.imagenes.urlimg:X.imagen}:X);e(G),H(),B("Categoría editada exitosamente")}catch(j){B("Error al editar la categoría: "+j.message,"error")}},re=async()=>{try{if(await Ec.categoriaTieneProductos(h.id)){B("No se puede eliminar una categoría que tiene productos asociados","error");return}await Ec.eliminarCategoria(h.id);const Y=t.filter(G=>G.id!==h.id);e(Y),H(),B("Categoría eliminada exitosamente")}catch(j){B("Error al eliminar la categoría: "+j.message,"error")}},te=async()=>{if(J())try{const j={nombre:x,descripcion:y,estado:!0},Y=await Ec.crearCategoria(j,C),G={id:Y.idcategoriaproducto,nombre:Y.nombrecategoria,descripcion:Y.descripcion,activo:Y.estado,imagen:Y.imagenes?Y.imagenes.urlimg:null};e([G,...t]),H(),B("Categoría agregada exitosamente")}catch(j){B("Error al agregar la categoría: "+j.message,"error")}},K=j=>j.imagen?o.createElement("img",{src:j.imagen,alt:j.nombre,style:{width:"50px",height:"50px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"},onClick:()=>M("visualizar",j)}):o.createElement("div",{style:{width:"50px",height:"50px",backgroundColor:"#f0f0f0",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#666"}},"Sin imagen"),U=t.filter(j=>j.nombre.toLowerCase().includes(r.toLowerCase())||j.descripcion.toLowerCase().includes(r.toLowerCase()));return o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:z}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:F,type:"button",disabled:a},"+ Agregar"),o.createElement($l,{placeholder:"Buscar categoría...",value:r,onChange:n})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Categorías de Productos"),o.createElement(ps,{value:U,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},loading:a,emptyMessage:"No se encontraron categorías"},o.createElement(Zt,{header:"N°",body:(j,{rowIndex:Y})=>Y+1,style:{width:"3rem"},headerStyle:{textAlign:"right",paddingLeft:"25px"},bodyStyle:{textAlign:"center",paddingLeft:"3px"}}),o.createElement(Zt,{header:"Imagen",body:K,headerStyle:{textAlign:"center",paddingLeft:"10px"},bodyStyle:{textAlign:"center",paddingLeft:"10px"},style:{width:"100px"}}),o.createElement(Zt,{field:"nombre",header:"Nombre",headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"},style:{width:"200px",maxHeight:"300px"}}),o.createElement(Zt,{field:"descripcion",header:"Descripción",bodyClassName:"descripcion-col",headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"},style:{width:"200px"}}),o.createElement(Zt,{header:"Estado",body:j=>o.createElement(Ro,{checked:j.activo,onChange:()=>D(j),disabled:a}),headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"},style:{width:"150px"}}),o.createElement(Zt,{header:"Acción",body:j=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>M("visualizar",j),disabled:a},"👁"),o.createElement("button",{className:`admin-button ${j.activo?"yellow":"yellow-disabled"}`,title:"Editar",onClick:()=>j.activo&&M("editar",j),disabled:!j.activo||a},"✏️"),o.createElement("button",{className:`admin-button ${j.activo?"red":"red-disabled"}`,title:"Eliminar",onClick:()=>j.activo&&M("eliminar",j),disabled:!j.activo||a},"🗑️")),headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"},style:{width:"180px"}})),(f==="agregar"||f==="editar")&&o.createElement(Wn,{visible:c,onClose:H},o.createElement("h2",{className:"modal-title"},f==="agregar"?"Agregar Nueva Categoría":"Editar Categoría"),o.createElement("div",{className:"modal-body",style:{maxWidth:"600px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"200px 1fr",gap:"1rem",alignItems:"start"}},o.createElement("div",null,o.createElement("label",null,"Nombre:",o.createElement("input",{type:"text",value:x,onChange:j=>v(j.target.value),className:"modal-input",maxLength:20,style:{width:"100%"}}),o.createElement("small",null,x.length,"/20"))),o.createElement("div",null,o.createElement("label",null,"Descripción:",o.createElement("textarea",{value:y,onChange:j=>E(j.target.value),className:"modal-input",rows:3,maxLength:50,style:{height:"80px",resize:"none",width:"100%"}}),o.createElement("small",null,y.length,"/50")))),o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("label",null,"Imagen (opcional):",o.createElement("input",{ref:O,type:"file",accept:"image/*",onChange:I,className:"modal-input",style:{marginTop:"0.5rem"}}),o.createElement("small",{style:{color:"#666",fontSize:"0.75rem"}},"JPEG, PNG, WebP. Máx: 5MB")),_&&o.createElement("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("img",{src:_,alt:"Preview",style:{width:"80px",height:"80px",borderRadius:"8px",objectFit:"cover",border:"1px solid #ddd"}}),o.createElement("button",{type:"button",onClick:L,style:{background:"#dc3545",color:"white",border:"none",padding:"5px 15px",borderRadius:"4px",cursor:"pointer",fontSize:"0.85rem"}},"Quitar"))),f==="editar"&&o.createElement("label",{style:{marginTop:"1rem",display:"block"}},"Estado:",o.createElement("div",{style:{marginTop:"0.5rem"}},o.createElement(Ro,{checked:(h==null?void 0:h.activo)||!1,onChange:j=>{g({...h,activo:j.value})}}),o.createElement("span",{style:{marginLeft:"0.5rem"}},h!=null&&h.activo?"Activo":"Inactivo")))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:H},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:f==="agregar"?te:ee},"Guardar"))),f==="visualizar"&&h&&o.createElement(Wn,{visible:c,onClose:H},o.createElement("h2",{className:"modal-title"},"Detalles de la Categoría"),o.createElement("div",{className:"modal-body",style:{maxWidth:"600px"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"200px 1fr",gap:"1rem",alignItems:"start"}},o.createElement("div",null,o.createElement("label",null,"Nombre:",o.createElement("input",{type:"text",value:h.nombre,readOnly:!0,className:"modal-input",style:{width:"100%"}}))),o.createElement("div",null,o.createElement("label",null,"Descripción:",o.createElement("textarea",{value:h.descripcion,readOnly:!0,className:"modal-input",rows:3,style:{height:"80px",resize:"none",width:"100%"}})))),o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("label",null,"Imagen:"),_?o.createElement("img",{src:_,alt:h.nombre,style:{width:"150px",height:"150px",borderRadius:"8px",objectFit:"cover",border:"1px solid #ddd",marginTop:"0.5rem"}}):o.createElement("div",{style:{width:"150px",height:"150px",backgroundColor:"#f0f0f0",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",marginTop:"0.5rem"}},"Sin imagen")),o.createElement("label",{style:{marginTop:"1rem",display:"block"}},"Estado:",o.createElement("div",{style:{marginTop:"0.5rem"}},o.createElement(Ro,{checked:(h==null?void 0:h.activo)||!1,disabled:!0}),o.createElement("span",{style:{marginLeft:"0.5rem"}},h!=null&&h.activo?"Activo":"Inactivo")))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:H},"Cerrar"))),f==="eliminar"&&h&&o.createElement(Wn,{visible:c,onClose:H},o.createElement("h2",{className:"modal-title"},"Eliminar Categoría"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Estás seguro de que deseas eliminar la categoría ",o.createElement("strong",null,h.nombre),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:H},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:re},"Eliminar"))))}const wle=b.forwardRef(({onAdd:t,onEdit:e,onView:r,onDelete:n},a)=>{const[i,s]=b.useState([]),[l,c]=b.useState(""),[u,f]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[p,h]=b.useState(!0),g=N=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(N),x=async()=>{try{h(!0);const N=await Ms.obtenerProductos();s(Array.isArray(N)?N:[])}catch(N){console.error("Error cargando productos:",N),s([]),y("Error al cargar productos","error")}finally{h(!1)}};b.useEffect(()=>{x()},[]);const v=async N=>{try{const O=!N.estado;await Ms.actualizarProducto(N.id,{...N,estado:O});const R=i.map(D=>D.id===N.id?{...D,estado:O}:D);s(R),y(`Producto ${O?"activado":"inactivado"} exitosamente`)}catch(O){console.error("Error cambiando estado:",O),y("Error al cambiar estado del producto","error")}},y=(N,O="success")=>{f({visible:!0,mensaje:N,tipo:O})},E=()=>{f({visible:!1,mensaje:"",tipo:"success"})},C=N=>{c(N)},k=i.filter(N=>{var O;return(O=N.nombre)==null?void 0:O.toLowerCase().includes(l.toLowerCase())}),_=({producto:N})=>{var R,D;const O=N.urlimagen||((R=N.imagenes)==null?void 0:R.urlimg)||((D=N.imagen)==null?void 0:D.urlimg)||N.imagen;return O?o.createElement("img",{src:O,alt:N.nombre||"Producto",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"6px",border:"1px solid #ddd"},onError:B=>{B.target.style.display="none"}}):o.createElement("div",{style:{width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",border:"1px dashed #ddd",borderRadius:"6px",fontSize:"10px",color:"#666",textAlign:"center"}},"Sin imagen")};return b.useImperativeHandle(a,()=>({refreshProductos:x})),p?o.createElement("div",{className:"admin-wrapper"},o.createElement("div",null,o.createElement(zl,null))):o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:u.visible,mensaje:u.mensaje,tipo:u.tipo,onClose:E}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:t},"+ Agregar"),o.createElement($l,{placeholder:"Buscar productos...",value:l,onChange:C})),o.createElement("h2",{className:"admin-section-title"},"Gestión de productos"),o.createElement(ps,{value:k,paginator:!0,rows:5,className:"admin-table",emptyMessage:"No se encontraron productos",tableStyle:{minWidth:"50rem"}},o.createElement(Zt,{header:"N°",body:(N,{rowIndex:O})=>O+1,style:{width:"3rem"},headerStyle:{textAlign:"right",paddingLeft:"25px"},bodyStyle:{textAlign:"center",paddingLeft:"3px"}}),o.createElement(Zt,{header:"Imagen",body:N=>o.createElement(_,{producto:N}),style:{width:"100px"},headerStyle:{textAlign:"center",paddingLeft:"10px"},bodyStyle:{textAlign:"center",paddingLeft:"10px"}}),o.createElement(Zt,{field:"nombre",header:"Nombre",style:{width:"200px"},headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"}}),o.createElement(Zt,{field:"precio",header:"Precio",body:N=>g(N.precio),style:{width:"150px"},headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"}}),o.createElement(Zt,{field:"categoria",header:"Categoría",style:{width:"150px"},headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"}}),o.createElement(Zt,{header:"Estado",body:N=>o.createElement(Ro,{checked:N.estado,onChange:()=>v(N)}),style:{width:"80px"},headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"}}),o.createElement(Zt,{header:"Acción",body:N=>o.createElement("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"}},o.createElement("button",{className:"admin-button gray",onClick:()=>r(N),title:"Ver detalles"},"👁"),o.createElement("button",{className:"admin-button yellow",onClick:()=>e(N),title:"Editar"},"✏️"),o.createElement("button",{className:"admin-button red",onClick:()=>n(N),title:"Eliminar"},"🗑️")),style:{width:"180px"},headerStyle:{textAlign:"right",paddingLeft:"80px"},bodyStyle:{textAlign:"center",paddingLeft:"20px"}})))}),Gd="https://deliciasoft-backend.onrender.com/api/receta/recetas",xle="https://deliciasoft-backend.onrender.com/api/receta/detalle-recetas",Ele="https://deliciasoft-backend.onrender.com/api/insumos",Sle="https://deliciasoft-backend.onrender.com/api/unidadmedida";class Cle{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n={};try{const i=await e.json();console.error("Error details from backend:",i),r=i.message||i.error||r,n=i}catch{try{const s=await e.text();console.error("Error text from backend:",s),r=s||r,n.rawError=s}catch{console.error("Could not parse error response")}}n.statusCode=e.status,n.statusText=e.statusText;const a=new Error(r);throw a.details=n,a}return e.json()}async obtenerRecetas(){try{console.log("Obteniendo recetas desde:",Gd);const e=await fetch(Gd,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log("Recetas obtenidas:",r.length),r}catch(e){throw console.error("Error en obtenerRecetas:",e),e}}async obtenerRecetaPorId(e){try{console.log(`Buscando receta ID: ${e}`);const r=await fetch(`${Gd}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Receta no encontrada");const n=await this.handleResponse(r);return console.log("Receta encontrada:",n.nombrereceta),n}catch(r){throw console.error("Error al obtener receta por ID:",r),r}}async crearReceta(e){var r;try{console.log("Creando nueva receta:",e.nombrereceta),this.validarDatosReceta(e);const n={nombrereceta:e.nombrereceta.trim(),especificaciones:((r=e.especificaciones)==null?void 0:r.trim())||"Sin especificaciones",insumos:e.insumos||[]};console.log("Enviando datos:",n);const a=await fetch(Gd,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return console.log("Receta creada exitosamente:",i),i}catch(n){throw console.error("Error al crear receta:",n),n}}async actualizarReceta(e,r){var n,a;try{console.log(`Actualizando receta ID: ${e}`),this.validarDatosReceta(r);const i={nombrereceta:(n=r.nombrereceta)==null?void 0:n.trim(),especificaciones:(a=r.especificaciones)==null?void 0:a.trim(),insumos:r.insumos||[]},s=await fetch(`${Gd}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(i)}),l=await this.handleResponse(s);return console.log("Receta actualizada:",l),l}catch(i){throw console.error("Error al actualizar receta:",i),i}}async eliminarReceta(e){try{console.log(`Eliminando receta ID: ${e}`);const r=await fetch(`${Gd}/${e}`,{method:"DELETE",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log("Receta eliminada:",n),n}catch(r){throw console.error("Error al eliminar receta:",r),r}}async obtenerInsumos(){try{console.log("Obteniendo insumos disponibles...");const e=await fetch(Ele,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log(`Insumos obtenidos: ${r.length}`),r.filter(n=>n.estado===!0)}catch(e){throw console.error("Error al obtener insumos:",e),e}}async obtenerUnidadesMedida(){try{console.log("Obteniendo unidades de medida...");const e=await fetch(Sle,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log(`Unidades obtenidas: ${r.length}`),r}catch(e){throw console.error("Error al obtener unidades:",e),e}}async obtenerDetallesReceta(e){try{console.log(`Obteniendo detalles de receta: ${e}`);const r=await fetch(`${xle}/receta/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)return[];const n=await this.handleResponse(r);return console.log(`Detalles obtenidos: ${n.length}`),n}catch(r){return console.error("Error obteniendo detalles:",r),[]}}async buscarRecetas(e={}){try{console.log("Buscando recetas con parámetros:",e);const r=new URLSearchParams;e.q&&r.append("q",e.q),e.categoria&&r.append("categoria",e.categoria),e.conInsumos&&r.append("conInsumos",e.conInsumos);const n=`https://deliciasoft-backend.onrender.com/api/receta/recetas/search?${r.toString()}`,a=await fetch(n,{method:"GET",headers:this.baseHeaders}),i=await this.handleResponse(a);return console.log(`Búsqueda completada: ${i.total} resultados`),i}catch(r){throw console.error("Error en búsqueda:",r),r}}async obtenerEstadisticas(){try{console.log("Obteniendo estadísticas de recetas...");const e=await fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas/estadisticas",{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log("Estadísticas obtenidas:",r),r}catch(e){throw console.error("Error al obtener estadísticas:",e),e}}validarDatosReceta(e){const r=[];if((!e.nombrereceta||!e.nombrereceta.trim())&&r.push("El nombre de la receta es requerido"),e.nombrereceta&&e.nombrereceta.trim().length>50&&r.push("El nombre de la receta no puede exceder 50 caracteres"),e.especificaciones&&e.especificaciones.length>80&&r.push("Las especificaciones no pueden exceder 80 caracteres"),e.insumos&&Array.isArray(e.insumos)&&e.insumos.forEach((n,a)=>{!n.id&&!n.idinsumo&&r.push(`Insumo en posición ${a+1} no tiene ID válido`);const i=parseFloat(n.cantidad);(isNaN(i)||i<=0)&&r.push(`Insumo "${n.nombre||"Desconocido"}" debe tener cantidad válida > 0`)}),r.length>0)throw console.error("Errores de validación:",r),new Error("Datos inválidos: "+r.join(", "));console.log("Validación exitosa")}calcularCostoReceta(e){if(!e.insumos||!Array.isArray(e.insumos))return 0;const r=e.insumos.reduce((n,a)=>{const i=parseFloat(a.precio)||0,s=parseFloat(a.cantidad)||1;return n+i*s},0);return Math.round(r)}formatearCosto(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e||0)}async testConnection(){try{console.log("Testando conexión...");const e=await fetch(Gd,{method:"GET",headers:this.baseHeaders});return{success:e.ok,status:e.status,message:e.ok?"Conexión exitosa":`Error HTTP ${e.status}`}}catch(e){return console.error("Error en test:",e),{success:!1,error:e.message,message:"No se pudo conectar con el servidor"}}}}const lg=new Cle,Nle=({insumo:t,selected:e,onToggle:r,cantidad:n,onCantidadChange:a})=>o.createElement("div",{className:`producto-modal-card ${e?"producto-modal-card-selected":""}`,onClick:r},o.createElement("div",{className:"insumo-placeholder"},o.createElement("span",{className:"insumo-icon"},"📦")),o.createElement("h4",null,t.nombreinsumo),o.createElement("p",null,"$",(t.precio||0).toLocaleString("es-CO")," / Unidad"),o.createElement("small",null,"Stock: ",t.cantidad||0),o.createElement("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"4px"}},t.categoria||"Sin categoría"),e&&o.createElement("div",{className:"cantidad-input-container",onClick:i=>i.stopPropagation()},o.createElement("input",{type:"number",min:"0.01",step:"0.01",value:n||1,onChange:i=>a(t.idinsumo,i.target.value),className:"cantidad-input"}),o.createElement("span",{className:"cantidad-label"},"Cant.")));function Ple({onClose:t,onAgregar:e,insumosSeleccionados:r=[]}){const[n,a]=b.useState([]),[i,s]=b.useState(!0),[l,c]=b.useState(""),[u,f]=b.useState([]),[p,h]=b.useState("Todos"),[g,x]=b.useState(!1),[v,y]=b.useState(["Todos"]),[E,C]=b.useState("");b.useEffect(()=>{(async()=>{s(!0);try{const D=await lg.obtenerInsumos();console.log("Insumos obtenidos:",D);const B=D.filter(I=>I.estado!==!1&&!r.some(L=>L.id===I.idinsumo||L.idinsumo===I.idinsumo));a(B);const z=[...new Set(B.map(I=>I.categoria).filter(I=>I&&I!=="Sin categoría"))];y(["Todos",...z])}catch(D){console.error("Error al cargar insumos:",D),C("Error al cargar insumos. Usando datos de ejemplo."),a([{idinsumo:1,nombreinsumo:"Harina de trigo",precio:3500,categoria:"Harinas",cantidad:50},{idinsumo:2,nombreinsumo:"Azúcar blanca",precio:2800,categoria:"Endulzantes",cantidad:30},{idinsumo:3,nombreinsumo:"Huevos frescos",precio:500,categoria:"Lácteos",cantidad:100},{idinsumo:4,nombreinsumo:"Mantequilla",precio:8500,categoria:"Lácteos",cantidad:15},{idinsumo:5,nombreinsumo:"Chocolate en polvo",precio:12e3,categoria:"Chocolates",cantidad:8},{idinsumo:6,nombreinsumo:"Leche entera",precio:4200,categoria:"Lácteos",cantidad:25}]),y(["Todos","Harinas","Endulzantes","Lácteos","Chocolates"])}finally{s(!1)}})()},[r]);const k=n.filter(R=>R.nombreinsumo.toLowerCase().includes(l.toLowerCase())&&(p==="Todos"||R.categoria===p)),_=R=>{f(D=>D.find(z=>z.id===R.idinsumo)?D.filter(z=>z.id!==R.idinsumo):[...D,{id:R.idinsumo,idinsumo:R.idinsumo,nombre:R.nombreinsumo,nombreinsumo:R.nombreinsumo,precio:R.precio||0,categoria:R.categoria||"Sin categoría",cantidad:1,idunidadmedida:1,unidadmedida:"Unidad"}])},N=(R,D)=>{const B=parseFloat(D)||1;f(z=>z.map(I=>I.id===R?{...I,cantidad:B}:I))},O=()=>{if(u.length===0){alert("Por favor selecciona al menos un insumo");return}if(u.filter(D=>!D.cantidad||isNaN(parseFloat(D.cantidad))||parseFloat(D.cantidad)<=0).length>0){alert("Todos los insumos deben tener una cantidad válida mayor a 0");return}console.log("Agregando insumos:",u),e(u),t()};return o.createElement("div",{className:"producto-modal-overlay"},o.createElement("div",{className:"producto-modal-container"},o.createElement("style",null,`
          .producto-modal-overlay {
            background-color: rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1003;
          }

          .producto-modal-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
          }

          .producto-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .producto-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384;
          }

          .producto-modal-search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            position: relative;
          }

          .producto-modal-search-container input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1;
            font-size: 16px;
          }

          .producto-modal-filter-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #ff69b4;
            color: white;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
          }

          .producto-modal-filter-btn:hover {
            background-color: #d63384;
          }

          .producto-modal-categories-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: #ffe4ec;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 150px;
          }

          .producto-modal-category-btn {
            padding: 8px 15px;
            border: 1px solid #ff69b4;
            border-radius: 8px;
            background-color: #ffe4ec;
            color: #d63384;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s, color 0.2s;
            text-align: left;
          }

          .producto-modal-category-btn.selected {
            background-color: #ff69b4;
            color: white;
          }

          .producto-modal-category-btn:hover:not(.selected) {
            background-color: #ffb6c1;
          }

          .producto-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
            min-height: 200px;
          }

          .producto-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
            position: relative;
          }

          .producto-modal-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4;
          }

          .producto-modal-card-selected {
            border-color: #d63384;
            background: #ffe4ec;
          }

          .insumo-placeholder {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #ff69b4, #ffb6c1);
            border-radius: 12px;
            margin: 0 auto 8px auto;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .insumo-icon {
            font-size: 40px;
          }

          .producto-modal-card h4 {
            font-size: 16px;
            color: #d63384;
            margin: 0 0 4px 0;
          }

          .producto-modal-card p {
            margin: 4px 0;
            color: #333;
            font-weight: 600;
          }

          .producto-modal-card small {
            color: #666;
            font-size: 12px;
          }

          .cantidad-input-container {
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
          }

          .cantidad-input {
            width: 60px;
            padding: 4px 6px;
            border: 1px solid #ff69b4;
            border-radius: 6px;
            text-align: center;
            font-size: 12px;
          }

          .cantidad-label {
            font-size: 10px;
            color: #d63384;
            font-weight: 600;
          }

          .producto-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
          }

          .producto-modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .producto-modal-btn-cancel {
            background-color: #f8d7da;
            color: #721c24;
          }

          .producto-modal-btn-add {
            background-color: #ff69b4;
            color: white;
          }

          .producto-modal-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
          }

          .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            flex-direction: column;
            gap: 10px;
          }

          .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ff69b4;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
          }

          .error-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            flex-direction: column;
            gap: 10px;
            color: #d63384;
          }

          .error-container button {
            background-color: #ff69b4;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
          }

          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `),o.createElement("div",{className:"producto-modal-header"},o.createElement("h2",null,"Seleccionar Insumos"),o.createElement("button",{onClick:t,className:"producto-modal-close-btn"},"×")),o.createElement("div",{className:"producto-modal-search-container"},o.createElement("input",{type:"text",placeholder:"Buscar insumo...",value:l,onChange:R=>c(R.target.value),disabled:i}),o.createElement("button",{className:"producto-modal-filter-btn",onClick:()=>x(!g),disabled:i},"Categorías",g?" ▲":" ▼"),g&&o.createElement("div",{className:"producto-modal-categories-dropdown"},v.map(R=>o.createElement("button",{key:R,className:`producto-modal-category-btn ${p===R?"selected":""}`,onClick:()=>{h(R),x(!1)}},R)))),o.createElement("div",{className:"producto-modal-grid"},i?o.createElement("div",{className:"loading-container"},o.createElement("div",{className:"loading-spinner"}),o.createElement("p",null,"Cargando insumos...")):E&&n.length===0?o.createElement("div",{className:"error-container"},o.createElement("p",null,E),o.createElement("button",{onClick:()=>window.location.reload()},"Reintentar")):k.length===0?o.createElement("div",{className:"error-container"},o.createElement("p",null,"No se encontraron insumos"),l&&o.createElement("button",{onClick:()=>c("")},"Limpiar búsqueda")):k.map(R=>{const D=u.find(B=>B.id===R.idinsumo);return o.createElement(Nle,{key:R.idinsumo,insumo:R,selected:!!D,onToggle:()=>_(R),cantidad:D==null?void 0:D.cantidad,onCantidadChange:N})})),o.createElement("div",{className:"producto-modal-footer"},o.createElement("button",{className:"producto-modal-btn producto-modal-btn-cancel",onClick:t},"Cancelar"),o.createElement("button",{className:"producto-modal-btn producto-modal-btn-add",onClick:O,disabled:u.length===0||i},"Agregar (",u.length,")"))))}function kle({onClose:t,onGuardar:e}){const[r,n]=b.useState({nombrereceta:"",especificaciones:""}),[a,i]=b.useState([]),[s,l]=b.useState(!1),[c,u]=b.useState(!1),[f,p]=b.useState({}),h=_=>{const{name:N,value:O}=_.target;n(R=>({...R,[N]:O})),f[N]&&p(R=>({...R,[N]:""}))},g=_=>{console.log("Agregando insumos:",_);const O=_.filter(R=>!a.some(D=>D.id===R.id)).map(R=>({...R,idinsumo:R.id,cantidad:R.cantidad||1,idunidadmedida:R.idunidadmedida||1,nombreinsumo:R.nombre||R.nombreinsumo,unidadmedida:R.unidadmedida||"Unidad"}));i(R=>[...R,...O]),console.log("Insumos después de agregar:",[...a,...O])},x=_=>{console.log("Removiendo insumo ID:",_),i(N=>N.filter(O=>O.id!==_))},v=(_,N)=>{const O=parseFloat(N)||1;i(R=>R.map(D=>D.id===_?{...D,cantidad:O}:D)),console.log("Cantidad actualizada para insumo",_,":",O)},y=(_,N)=>{i(O=>O.map(R=>R.id===_?{...R,idunidadmedida:parseInt(N)||1}:R)),console.log("Unidad actualizada para insumo",_,":",N)},E=()=>{const _={};return r.nombrereceta.trim()||(_.nombrereceta="El nombre de la receta es requerido"),r.nombrereceta.trim().length>50&&(_.nombrereceta="El nombre no puede exceder 50 caracteres"),r.especificaciones&&r.especificaciones.length>80&&(_.especificaciones="Las especificaciones no pueden exceder 80 caracteres"),a.length===0&&(_.insumos="Debe agregar al menos un insumo a la receta"),a.filter(O=>!O.cantidad||isNaN(parseFloat(O.cantidad))||parseFloat(O.cantidad)<=0).length>0&&(_.cantidades="Todos los insumos deben tener una cantidad válida mayor a 0"),p(_),Object.keys(_).length===0},C=async _=>{if(_.preventDefault(),!!E()){u(!0);try{console.log("=== CREANDO RECETA ==="),console.log("Datos del formulario:",r),console.log("Insumos de la receta:",a);const N={nombrereceta:r.nombrereceta.trim(),especificaciones:r.especificaciones.trim()||"Sin especificaciones",insumos:a.map(R=>({id:R.id||R.idinsumo,idinsumo:R.id||R.idinsumo,nombre:R.nombre||R.nombreinsumo,nombreinsumo:R.nombre||R.nombreinsumo,cantidad:parseFloat(R.cantidad),idunidadmedida:R.idunidadmedida||1,unidadmedida:R.unidadmedida||"Unidad",precio:R.precio||0,categoria:R.categoria||"Sin categoría"}))};console.log("Datos preparados para el servicio:",N);const O=await lg.crearReceta(N);console.log("=== RECETA CREADA EXITOSAMENTE ==="),console.log(O),alert(`Receta "${O.nombrereceta}" creada exitosamente con ${O.cantidadInsumos||a.length} insumos`),e(O)}catch(N){console.error("Error al crear receta:",N),alert("Error al crear la receta: "+(N.message||N))}finally{u(!1)}}},k=[{id:1,nombre:"Unidad"},{id:2,nombre:"Gramos"},{id:3,nombre:"Kilogramos"},{id:4,nombre:"Litros"},{id:5,nombre:"Mililitros"},{id:6,nombre:"Cucharadas"},{id:7,nombre:"Tazas"},{id:8,nombre:"Cucharaditas"}];return o.createElement("div",{className:"modal-overlay-fixed",style:{zIndex:1002}},o.createElement("div",{className:"modal-content-fixed"},o.createElement("div",{style:{padding:"2rem"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",borderBottom:"2px solid #f1f1f1",paddingBottom:"1rem"}},o.createElement("h2",{style:{color:"#2c3e50",margin:0,fontSize:"1.8rem",fontWeight:"600"}},"Crear Nueva Receta"),o.createElement("button",{onClick:t,disabled:c,style:{background:"#ff6b6b",border:"none",fontSize:"1.2rem",cursor:c?"not-allowed":"pointer",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",fontWeight:"600",opacity:c?.6:1}},"Cerrar")),o.createElement("form",{onSubmit:C},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1.5rem",marginBottom:"1.5rem"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"600",color:"#34495e",marginBottom:"0.5rem"}},"Nombre de la Receta ",o.createElement("span",{style:{color:"#e74c3c"}},"*")),o.createElement("input",{type:"text",name:"nombrereceta",value:r.nombrereceta,onChange:h,required:!0,maxLength:"50",style:{width:"100%",padding:"0.75rem",border:f.nombrereceta?"2px solid #e74c3c":"2px solid #e9ecef",borderRadius:"8px",fontSize:"1rem"},placeholder:"Ej: Café Especial, Brownie Chocolate..."}),f.nombrereceta&&o.createElement("span",{style:{color:"#e74c3c",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"}},f.nombrereceta),o.createElement("small",{style:{color:"#666",fontSize:"0.8rem"}},r.nombrereceta.length,"/50 caracteres")),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"600",color:"#34495e",marginBottom:"0.5rem"}},"Especificaciones"),o.createElement("textarea",{name:"especificaciones",value:r.especificaciones,onChange:h,rows:"3",maxLength:"400",style:{width:"100%",padding:"0.75rem",border:f.especificaciones?"2px solid #e74c3c":"2px solid #e9ecef",borderRadius:"8px",fontSize:"1rem",resize:"vertical",fontFamily:"inherit"},placeholder:"Describe las características y preparación de la receta..."}),f.especificaciones&&o.createElement("span",{style:{color:"#e74c3c",fontSize:"0.85rem",marginTop:"0.25rem",display:"block"}},f.especificaciones),o.createElement("small",{style:{color:"#666",fontSize:"0.8rem"}},r.especificaciones.length,"/80 caracteres"))),o.createElement("div",{className:"section-divider",style:{margin:"1.5rem 0",borderTop:"1px solid #e9ecef"}}),o.createElement("div",{style:{marginBottom:"2rem"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"}},o.createElement("h3",{style:{color:"#2c3e50",margin:0}},"Insumos de la Receta (",a.length,")"),o.createElement("button",{type:"button",onClick:()=>l(!0),disabled:c,style:{padding:"0.5rem 1rem",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"6px",fontSize:"0.9rem",fontWeight:"600",cursor:c?"not-allowed":"pointer",opacity:c?.6:1}},"+ Agregar Insumos")),f.insumos&&o.createElement("div",{style:{color:"#e74c3c",fontSize:"0.85rem",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#fdf2f2",border:"1px solid #e74c3c",borderRadius:"4px"}},f.insumos),f.cantidades&&o.createElement("div",{style:{color:"#e74c3c",fontSize:"0.85rem",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#fdf2f2",border:"1px solid #e74c3c",borderRadius:"4px"}},f.cantidades),a.length>0?o.createElement("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",overflow:"hidden",maxHeight:"400px",overflowY:"auto"}},o.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},o.createElement("thead",null,o.createElement("tr",{style:{backgroundColor:"#f8f9fa",position:"sticky",top:0}},o.createElement("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"1px solid #e9ecef",fontWeight:"600",color:"#2c3e50",fontSize:"0.9rem"}},"Insumo"),o.createElement("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"1px solid #e9ecef",fontWeight:"600",color:"#2c3e50",fontSize:"0.9rem",width:"120px"}},"Cantidad"),o.createElement("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"1px solid #e9ecef",fontWeight:"600",color:"#2c3e50",fontSize:"0.9rem",width:"140px"}},"Unidad"),o.createElement("th",{style:{padding:"0.75rem",textAlign:"left",borderBottom:"1px solid #e9ecef",fontWeight:"600",color:"#2c3e50",fontSize:"0.9rem",width:"100px"}},"Acciones"))),o.createElement("tbody",null,a.map((_,N)=>{var O;return o.createElement("tr",{key:_.id||N,style:{backgroundColor:N%2===0?"white":"#f9f9f9"}},o.createElement("td",{style:{padding:"0.75rem",borderBottom:"1px solid #f0f0f0",fontSize:"0.9rem"}},o.createElement("div",null,o.createElement("strong",null,_.nombre||_.nombreinsumo),o.createElement("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.2rem"}},_.categoria," • $",((O=_.precio)==null?void 0:O.toLocaleString("es-CO"))||0))),o.createElement("td",{style:{padding:"0.75rem",borderBottom:"1px solid #f0f0f0"}},o.createElement("input",{type:"number",min:"0.01",step:"0.01",value:_.cantidad||1,onChange:R=>v(_.id,R.target.value),disabled:c,style:{width:"80px",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.9rem",textAlign:"center"}})),o.createElement("td",{style:{padding:"0.75rem",borderBottom:"1px solid #f0f0f0"}},o.createElement("select",{value:_.idunidadmedida||1,onChange:R=>y(_.id,R.target.value),disabled:c,style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.85rem"}},k.map(R=>o.createElement("option",{key:R.id,value:R.id},R.nombre)))),o.createElement("td",{style:{padding:"0.75rem",borderBottom:"1px solid #f0f0f0"}},o.createElement("button",{type:"button",onClick:()=>x(_.id),disabled:c,style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"0.3rem 0.6rem",borderRadius:"4px",cursor:c?"not-allowed":"pointer",fontSize:"0.8rem",opacity:c?.6:1}},"Eliminar")))})))):o.createElement("div",{style:{border:"2px dashed #ddd",borderRadius:"8px",padding:"3rem 2rem",textAlign:"center",backgroundColor:"#f8f9fa",marginBottom:"1rem"}},o.createElement("p",{style:{color:"#666",margin:"0 0 1rem 0",fontSize:"1rem"}},"No hay insumos agregados a esta receta"),o.createElement("button",{type:"button",onClick:()=>l(!0),disabled:c,style:{padding:"0.75rem 1.5rem",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:c?"not-allowed":"pointer",opacity:c?.6:1}},"+ Agregar Primer Insumo")),a.length>0&&o.createElement("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"6px",border:"1px solid #e9ecef"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("span",{style:{fontWeight:"600",color:"#2c3e50"}},"Costo Estimado Total:"),o.createElement("span",{style:{fontSize:"1.2rem",fontWeight:"700",color:"#28a745"}},"$",lg.calcularCostoReceta({insumos:a}).toLocaleString("es-CO"))),o.createElement("small",{style:{color:"#666",fontSize:"0.8rem"}},"*Basado en precios y cantidades de insumos"))),o.createElement("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",borderTop:"1px solid #e9ecef",paddingTop:"1.5rem"}},o.createElement("button",{type:"button",onClick:t,disabled:c,style:{padding:"0.75rem 1.5rem",border:"2px solid #6c757d",backgroundColor:"transparent",color:"#6c757d",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:c?"not-allowed":"pointer",opacity:c?.6:1}},"Cancelar"),o.createElement("button",{type:"submit",disabled:c||a.length===0,style:{padding:"0.75rem 1.5rem",border:"none",backgroundColor:c||a.length===0?"#6c757d":"#28a745",color:"white",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:c||a.length===0?"not-allowed":"pointer"}},c?"Guardando...":`Guardar Receta (${a.length} insumos)`))),s&&o.createElement(Ple,{onClose:()=>l(!1),onAgregar:g,insumosSeleccionados:a})),o.createElement("style",{jsx:!0},`
          .modal-overlay-fixed {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1002;
          }

          .modal-content-fixed {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
          }

          .section-divider {
            border-top: 1px solid #e9ecef;
            margin: 1.5rem 0;
          }
        `)))}const Ale=({receta:t,onSelect:e})=>o.createElement("div",{className:"producto-modal-card",onClick:()=>e(t)},o.createElement("div",{className:"receta-placeholder"},o.createElement("span",{className:"receta-icon"},"📋")),o.createElement("h4",null,t.nombrereceta),o.createElement("p",{style:{fontSize:"12px",color:"#666",margin:"4px 0",lineHeight:"1.3"}},t.especificaciones||"Sin especificaciones"),o.createElement("small",null,"ID: ",t.idreceta),t.cantidadInsumos&&o.createElement("div",{style:{fontSize:"10px",color:"#28a745",marginTop:"4px"}},"📦 ",t.cantidadInsumos," insumo",t.cantidadInsumos!==1?"s":""),t.costoEstimado&&o.createElement("div",{style:{fontSize:"10px",color:"#ff69b4",marginTop:"2px"}},"💰 $",t.costoEstimado.toLocaleString("es-CO")));function qL({onClose:t,onSeleccionar:e}){const[r,n]=b.useState([]),[a,i]=b.useState(!0),[s,l]=b.useState(""),[c,u]=b.useState(!1),[f,p]=b.useState(null);b.useEffect(()=>{(async()=>{i(!0),p(null);try{console.log("🔄 Cargando recetas desde el servicio...");const y=await lg.obtenerRecetas();console.log("✅ Recetas cargadas:",y),n(y)}catch(y){console.error("❌ Error al cargar recetas:",y),p(y.message),n([{idreceta:1,nombrereceta:"Cupcakes de Vainilla",especificaciones:"Cupcakes suaves con frosting de vainilla",cantidadInsumos:6,costoEstimado:12500},{idreceta:2,nombrereceta:"Brownies de Chocolate",especificaciones:"Brownies húmedos con chocolate intenso",cantidadInsumos:5,costoEstimado:15e3},{idreceta:3,nombrereceta:"Galletas con Chispas",especificaciones:"Galletas crujientes con chispas de chocolate",cantidadInsumos:7,costoEstimado:8500},{idreceta:4,nombrereceta:"Pastel de Limón",especificaciones:"Pastel esponjoso con glaseado de limón",cantidadInsumos:8,costoEstimado:18e3},{idreceta:5,nombrereceta:"Muffins de Arándanos",especificaciones:"Muffins tiernos con arándanos frescos",cantidadInsumos:6,costoEstimado:14e3},{idreceta:6,nombrereceta:"Donas Glaseadas",especificaciones:"Donas esponjosas con glaseado dulce",cantidadInsumos:5,costoEstimado:10500}])}finally{i(!1)}})()},[]);const h=r.filter(v=>{var y;return!s||v.nombrereceta.toLowerCase().includes(s.toLowerCase())||((y=v.especificaciones)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))}),g=v=>{console.log("🍰 Nueva receta creada:",v),n(y=>[v,...y]),u(!1),e(v)},x=async v=>{try{console.log("🎯 Seleccionando receta:",v);let y=v;if(!v.insumos||v.insumos.length===0){console.log("📋 Obteniendo detalles de la receta...");try{y=await lg.obtenerRecetaPorId(v.idreceta)}catch(E){console.warn("⚠️ No se pudieron obtener detalles adicionales:",E)}}console.log("✅ Receta seleccionada completa:",y),e(y),t()}catch(y){console.error("❌ Error al seleccionar receta:",y),alert("Error al seleccionar la receta: "+y.message)}};return o.createElement("div",{className:"producto-modal-overlay"},o.createElement("div",{className:"producto-modal-container"},o.createElement("style",null,`
          .producto-modal-overlay {
            background-color: rgba(0, 0, 0, 0.4);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001;
          }

          .producto-modal-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: fadeIn 0.3s ease-in-out;
          }

          .producto-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
          }

          .producto-modal-close-btn {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #d63384;
          }

          .producto-modal-search-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
          }

          .producto-modal-search-container input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1;
            font-size: 16px;
          }

          .crear-receta-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 10px;
            background-color: #28a745;
            color: white;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            white-space: nowrap;
          }

          .crear-receta-btn:hover {
            background-color: #218838;
          }

          .crear-receta-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
          }

          .producto-modal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
            min-height: 200px;
          }

          .producto-modal-card {
            background: #fff;
            border-radius: 16px;
            padding: 10px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s, border-color 0.2s;
            cursor: pointer;
            border: 3px solid transparent;
          }

          .producto-modal-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4;
          }

          .receta-placeholder {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #ff69b4, #ffc1cc);
            border-radius: 12px;
            margin: 0 auto 8px auto;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .receta-icon {
            font-size: 40px;
          }

          .producto-modal-card h4 {
            font-size: 16px;
            color: #d63384;
            margin: 0 0 4px 0;
          }

          .producto-modal-card small {
            color: #666;
            font-size: 12px;
          }

          .producto-modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
          }

          .footer-info {
            font-size: 14px;
            color: #666;
          }

          .producto-modal-btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .producto-modal-btn-cancel {
            background-color: #f8d7da;
            color: #721c24;
          }

          .loading-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            flex-direction: column;
            gap: 10px;
          }

          .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #ff69b4;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
          }

          .error-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            flex-direction: column;
            gap: 10px;
            color: #d63384;
          }

          .error-container button {
            background-color: #ff69b4;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
          }

          .error-message {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            color: #dc2626;
          }

          .error-message strong {
            display: block;
            margin-bottom: 5px;
          }

          @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
          }

          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `),o.createElement("div",{className:"producto-modal-header"},o.createElement("h2",null,"Seleccionar Receta"),o.createElement("button",{onClick:t,className:"producto-modal-close-btn"},"×")),f&&o.createElement("div",{className:"error-message"},o.createElement("strong",null,"Error:")," ",f,o.createElement("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem"}},"Se están mostrando datos de prueba.")),o.createElement("div",{className:"producto-modal-search-container"},o.createElement("input",{type:"text",placeholder:"Buscar receta por nombre o especificaciones...",value:s,onChange:v=>l(v.target.value),disabled:a}),o.createElement("button",{className:"crear-receta-btn",onClick:()=>u(!0),disabled:a},"+ Crear Nueva Receta")),o.createElement("div",{className:"producto-modal-grid"},a?o.createElement("div",{className:"loading-container"},o.createElement("div",{className:"loading-spinner"}),o.createElement("p",null,"Cargando recetas...")):h.length===0?o.createElement("div",{className:"error-container"},o.createElement("p",null,s?`No se encontraron recetas que coincidan con "${s}"`:"No hay recetas disponibles"),s&&o.createElement("button",{onClick:()=>l("")},"Limpiar búsqueda")):h.map(v=>o.createElement(Ale,{key:v.idreceta,receta:v,onSelect:x}))),o.createElement("div",{className:"producto-modal-footer"},o.createElement("div",{className:"footer-info"},a?"Cargando...":`${h.length} receta${h.length!==1?"s":""} ${s?"encontrada"+(h.length!==1?"s":""):"disponible"+(h.length!==1?"s":"")}`),o.createElement("button",{className:"producto-modal-btn producto-modal-btn-cancel",onClick:t},"Cancelar")),c&&o.createElement(kle,{onClose:()=>u(!1),onGuardar:g})))}function _le({visible:t,onClose:e,onGuardar:r,tipo:n="agregar",categoria:a=null}){const[i,s]=b.useState(""),[l,c]=b.useState(""),[u,f]=b.useState(!0),[p,h]=b.useState(null),[g,x]=b.useState(null),[v,y]=b.useState(""),[E,C]=b.useState(!1),k=b.useRef(null);b.useEffect(()=>{n==="editar"&&a?(s(a.nombre),c(a.descripcion),f(a.activo),x(a.imagen),h(null)):n==="agregar"&&(s(""),c(""),f(!0),h(null),x(null)),y("")},[t,n,a]);const _=R=>{const D=R.target.files[0];if(!D)return;h(D);const B=new FileReader;B.onload=z=>x(z.target.result),B.readAsDataURL(D)},N=()=>{h(null),x(null),k.current&&(k.current.value="")},O=async()=>{if(!i.trim())return y("❌ El nombre es obligatorio");if(!l.trim())return y("❌ La descripción es obligatoria");C(!0);try{let R;n==="agregar"?(R=await Ec.crearCategoria({nombre:i,descripcion:l,estado:u},p),y("✅ Categoría creada exitosamente!")):n==="editar"&&a&&(R=await Ec.actualizarCategoria(a.idcategoriaproducto,{nombre:i,descripcion:l,estado:u},p),y("✅ Categoría actualizada exitosamente!")),r(R),setTimeout(()=>{y(""),e()},1200)}catch(R){y("❌ Error al guardar categoría: "+R.message),console.error(R)}finally{C(!1)}};return o.createElement(Wn,{visible:t,onClose:e},o.createElement("h2",{className:"modal-title"},n==="agregar"?"Agregar Categoría":"Editar Categoría"),o.createElement("div",{className:"modal-body"},v&&o.createElement("div",{style:{marginBottom:"10px",color:v.includes("❌")?"red":"green",fontWeight:"bold"}},v),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Nombre:"),o.createElement("input",{type:"text",value:i,onChange:R=>s(R.target.value),className:"modal-input",maxLength:20,style:{width:"100%"}})),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Descripción:"),o.createElement("textarea",{value:l,onChange:R=>c(R.target.value),className:"modal-input",rows:3,maxLength:50,style:{width:"100%",resize:"none"}})),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Imagen (opcional):"),o.createElement("input",{ref:k,type:"file",accept:"image/*",onChange:_,style:{marginTop:"0.5rem"}}),g&&o.createElement("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("img",{src:g,alt:"Preview",style:{width:"80px",height:"80px",borderRadius:"8px",objectFit:"cover",border:"1px solid #ddd"}}),o.createElement("button",{type:"button",onClick:N},"Quitar"))),n==="editar"&&o.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"10px"}},o.createElement(Ro,{checked:u,onChange:R=>f(R.value)}),o.createElement("span",null,u?"Activo":"Inactivo"))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e,disabled:E},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:O,disabled:E},E?"Guardando...":"Guardar")))}function Ole({onSave:t,onCancel:e}){const[r,n]=b.useState({nombreproducto:"",precioproducto:"",cantidadproducto:1,idcategoriaproducto:"",idreceta:null,recetaSeleccionada:null,imagenArchivo:null,imagenPreview:null}),[a,i]=b.useState([]),[s,l]=b.useState(!0),[c,u]=b.useState(!1),[f,p]=b.useState(!1),[h,g]=b.useState(!1),[x,v]=b.useState({}),[y,E]=b.useState(!1),[C,k]=b.useState({visible:!1,mensaje:"",tipo:"success"}),_=(J,ee="success")=>k({visible:!0,mensaje:J,tipo:ee}),N=()=>k({visible:!1,mensaje:"",tipo:"success"});b.useEffect(()=>{(async()=>{try{const ee=await fetch("https://deliciasoft-backend.onrender.com/api/categorias-productos");if(!ee.ok)throw new Error("No se pudo obtener las categorías");const re=await ee.json();i(re)}catch(ee){_("Error al cargar categorías: "+ee.message,"error"),i([])}finally{l(!1)}})()},[]);const O=J=>{const{name:ee,value:re,type:te,checked:K}=J.target;n(U=>({...U,[ee]:te==="checkbox"?K:re})),x[ee]&&v(U=>({...U,[ee]:""}))},R=J=>{const ee=J.target.files[0];if(!ee)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ee.type)){_("Tipo de archivo no permitido","error"),J.target.value="";return}if(ee.size>5*1024*1024){_("El archivo es demasiado grande (máx 5MB)","error"),J.target.value="";return}const te=new FileReader;te.onload=K=>{n(U=>({...U,imagenArchivo:ee,imagenPreview:K.target.result}))},te.readAsDataURL(ee)},D=()=>{n(ee=>({...ee,imagenArchivo:null,imagenPreview:null}));const J=document.getElementById("imagen-upload");J&&(J.value="")},B=J=>{n(ee=>({...ee,idreceta:J.idreceta,recetaSeleccionada:J})),p(!1)},z=()=>{n(J=>({...J,idreceta:null,recetaSeleccionada:null}))},I=()=>g(!0),L=()=>g(!1),M=async J=>{try{const ee=await Ec.crearCategoria(J);i(re=>[...re,ee]),n(re=>({...re,idcategoriaproducto:ee.idcategoriaproducto})),_("Categoría creada correctamente","success"),L()}catch(ee){throw ee}},F=()=>{const J={};r.nombreproducto.trim()||(J.nombreproducto="El nombre del producto es requerido"),r.idcategoriaproducto||(J.idcategoriaproducto="Debe seleccionar una categoría");const ee=parseFloat(r.precioproducto);return(!r.precioproducto||isNaN(ee)||ee<0)&&(J.precioproducto="El precio debe ser un número válido mayor o igual a 0"),v(J),Object.keys(J).length===0},H=async J=>{if(J.preventDefault(),!F())return;u(!0);let ee=null;try{if(r.imagenArchivo){E(!0);try{ee=(await Ms.subirImagen(r.imagenArchivo)).idimagen}catch{_("Error al subir la imagen","error");return}finally{E(!1)}}const re={nombreproducto:r.nombreproducto.trim(),precioproducto:parseFloat(r.precioproducto),cantidadproducto:1,estado:!0,idcategoriaproducto:parseInt(r.idcategoriaproducto),idimagen:ee,idreceta:r.idreceta},te=await Ms.crearProducto(re);_("Producto creado exitosamente","success"),t&&t(te)}catch(re){_("Error al crear producto: "+re.message,"error")}finally{u(!1)}};return o.createElement("div",{className:"compra-form-container"},o.createElement(ui,{visible:C.visible,mensaje:C.mensaje,tipo:C.tipo,onClose:N}),o.createElement("form",{onSubmit:H},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📦")," Información del Producto"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre del Producto ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",name:"nombreproducto",value:r.nombreproducto,onChange:O,className:`form-input ${x.nombreproducto?"error":""}`,placeholder:"Ej: Pan de yuca",required:!0}),x.nombreproducto&&o.createElement("span",{className:"error-message"},x.nombreproducto)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Precio ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"number",name:"precioproducto",value:r.precioproducto,onChange:O,className:`form-input ${x.precioproducto?"error":""}`,min:"0",step:"0.01",placeholder:"Ej: 5000",required:!0}),x.precioproducto&&o.createElement("span",{className:"error-message"},x.precioproducto)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cantidad Inicial"),o.createElement("input",{type:"number",name:"cantidadproducto",value:r.cantidadproducto,className:"form-input",readOnly:!0,disabled:!0}),o.createElement("small",{className:"info-message"},"Siempre se crea con 1 unidad")),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Categoría ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},s?o.createElement("select",{disabled:!0,className:"form-input",style:{flex:1}},o.createElement("option",null,"Cargando categorías...")):o.createElement("select",{name:"idcategoriaproducto",value:r.idcategoriaproducto,onChange:O,className:`form-input ${x.idcategoriaproducto?"error":""}`,required:!0,style:{flex:1}},o.createElement("option",{value:""},"Seleccione una categoría"),a.map(J=>o.createElement("option",{key:J.idcategoriaproducto,value:J.idcategoriaproducto},J.nombrecategoria||J.nombre))),o.createElement("button",{type:"button",className:"btn-small",onClick:I},"+")),x.idcategoriaproducto&&o.createElement("span",{className:"error-message"},x.idcategoriaproducto)))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"🖼️")," Imagen del Producto"),o.createElement("div",null,r.imagenPreview?o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},o.createElement("img",{src:r.imagenPreview,alt:"Preview",style:{width:"120px",borderRadius:"10px"}}),o.createElement("button",{type:"button",className:"delete-btn",onClick:D},"Eliminar")):o.createElement("p",{style:{color:"#6b7280"}},"No se ha subido imagen"),o.createElement("input",{id:"imagen-upload",type:"file",accept:"image/*",onChange:R,style:{display:"none"}}),o.createElement("label",{htmlFor:"imagen-upload",className:"btn-small",style:{marginTop:"10px"}},r.imagenPreview?"Cambiar Imagen":"Subir Imagen"))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📋")," Receta del Producto"),r.recetaSeleccionada?o.createElement("div",{className:"nested-item-list"},o.createElement("strong",null,r.recetaSeleccionada.nombrereceta),o.createElement("p",null,r.recetaSeleccionada.especificaciones),o.createElement("button",{type:"button",className:"delete-btn",onClick:z},"Eliminar Receta")):o.createElement("p",{style:{color:"#6b7280"}},"No hay receta asignada"),o.createElement("button",{type:"button",className:"btn-small",onClick:()=>p(!0)},r.recetaSeleccionada?"Cambiar Receta":"+ Agregar Receta")),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:e,disabled:c},"Cancelar"),o.createElement("button",{type:"submit",className:"btn btn-save",disabled:c||y},c?"Guardando...":y?"Subiendo...":"💾 Guardar"))),f&&o.createElement(qL,{onClose:()=>p(!1),onSeleccionar:B}),h&&o.createElement(_le,{visible:h,onClose:L,tipo:"agregar",onGuardar:M}))}function Ile({producto:t,onSave:e,onCancel:r}){var I;const[n,a]=b.useState({nombreproducto:(t==null?void 0:t.nombreproducto)||"",precioproducto:(t==null?void 0:t.precioproducto)||"",cantidadproducto:(t==null?void 0:t.cantidadproducto)||1,idcategoriaproducto:(t==null?void 0:t.idcategoriaproducto)||"",estado:(t==null?void 0:t.estado)??!0,idreceta:(t==null?void 0:t.idreceta)||null,recetaSeleccionada:null,imagenArchivo:null,imagenPreview:(t==null?void 0:t.urlimagen)||((I=t==null?void 0:t.imagenes)==null?void 0:I.urlimg)||null,idimagen:(t==null?void 0:t.idimagen)||null}),[i,s]=b.useState([]),[l,c]=b.useState(!0),[u,f]=b.useState(!1),[p,h]=b.useState(!1),[g,x]=b.useState({}),[v,y]=b.useState(!1),[E,C]=b.useState({visible:!1,mensaje:"",tipo:"success"}),k=(L,M="success")=>C({visible:!0,mensaje:L,tipo:M}),_=()=>C({visible:!1,mensaje:"",tipo:"success"});b.useEffect(()=>{(async()=>{try{const M=await fetch("https://deliciasoft-backend.onrender.com/api/categorias-productos");if(!M.ok)throw new Error("No se pudo obtener las categorías");const F=await M.json();s(F)}catch(M){k("Error al cargar categorías: "+M.message,"error"),s([])}finally{c(!1)}})()},[]),b.useEffect(()=>{t!=null&&t.idreceta&&fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas").then(L=>L.json()).then(L=>{const M=L.find(F=>F.idreceta===t.idreceta);M&&a(F=>({...F,recetaSeleccionada:M}))}).catch(()=>k("Error al cargar la receta","error"))},[t]);const N=L=>{const{name:M,value:F,type:H,checked:J}=L.target;a(ee=>({...ee,[M]:H==="checkbox"?J:F})),g[M]&&x(ee=>({...ee,[M]:""}))},O=L=>{const M=L.target.files[0];if(M){const F=new FileReader;F.onload=H=>a(J=>({...J,imagenArchivo:M,imagenPreview:H.target.result})),F.readAsDataURL(M)}},R=()=>{a(M=>({...M,imagenArchivo:null,imagenPreview:null}));const L=document.getElementById("imagen-upload");L&&(L.value="")},D=()=>{a(L=>({...L,idreceta:null,recetaSeleccionada:null}))},B=()=>{const L={};return n.nombreproducto.trim()||(L.nombreproducto="El nombre es requerido"),n.idcategoriaproducto||(L.idcategoriaproducto="Seleccione categoría"),(!n.precioproducto||isNaN(n.precioproducto))&&(L.precioproducto="Precio inválido"),(!n.cantidadproducto||isNaN(n.cantidadproducto))&&(L.cantidadproducto="Cantidad inválida"),x(L),Object.keys(L).length===0},z=async L=>{if(L.preventDefault(),!B())return;f(!0);let M=n.idimagen;try{n.imagenArchivo&&(M=(await Ms.subirImagen(n.imagenArchivo)).idimagen);const F={idproductogeneral:t.id,nombreproducto:n.nombreproducto.trim(),precioproducto:parseFloat(n.precioproducto),cantidadproducto:parseInt(n.cantidadproducto),estado:n.estado,idcategoriaproducto:parseInt(n.idcategoriaproducto),idimagen:M,idreceta:n.idreceta};await Ms.actualizarProducto(t.id,F),k("Producto actualizado exitosamente","success"),e&&e()}catch(F){k("Error al actualizar: "+F.message,"error")}finally{f(!1)}};return t?o.createElement("div",{className:"compra-form-container"},o.createElement(ui,{...E,onClose:_}),o.createElement("form",{onSubmit:z},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"✏️")," Editar Producto"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",name:"nombreproducto",value:n.nombreproducto,onChange:N,className:`form-input ${g.nombreproducto?"error":""}`}),g.nombreproducto&&o.createElement("span",{className:"error-message"},g.nombreproducto)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Precio",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"number",name:"precioproducto",value:n.precioproducto,onChange:N,className:`form-input ${g.precioproducto?"error":""}`,min:"0",step:"0.01"}),g.precioproducto&&o.createElement("span",{className:"error-message"},g.precioproducto)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cantidad"),o.createElement("input",{type:"number",name:"cantidadproducto",value:n.cantidadproducto,onChange:N,className:"form-input",min:"0"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Categoría",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{name:"idcategoriaproducto",value:n.idcategoriaproducto,onChange:N,className:"form-input"},o.createElement("option",{value:""},"Seleccione"),i.map(L=>o.createElement("option",{key:L.idcategoriaproducto,value:L.idcategoriaproducto},L.nombrecategoria)))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("select",{name:"estado",value:n.estado?"activo":"inactivo",onChange:L=>a(M=>({...M,estado:L.target.value==="activo"})),className:"form-input"},o.createElement("option",{value:"activo"},"Activo ✅"),o.createElement("option",{value:"inactivo"},"Inactivo ⛔"))))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"🖼️")," Imagen"),n.imagenPreview&&o.createElement("img",{src:n.imagenPreview,alt:"preview",style:{width:"120px",borderRadius:"10px"}}),o.createElement("input",{id:"imagen-upload",type:"file",accept:"image/*",onChange:O,style:{display:"none"}}),o.createElement("label",{htmlFor:"imagen-upload",className:"btn-small",style:{marginTop:"10px"}},n.imagenPreview?"Cambiar":"Subir"),n.imagenPreview&&o.createElement("button",{type:"button",className:"delete-btn",onClick:R},"Eliminar")),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📋")," Receta"),n.recetaSeleccionada?o.createElement("div",{className:"nested-item-list"},o.createElement("strong",null,n.recetaSeleccionada.nombrereceta),o.createElement("p",null,n.recetaSeleccionada.especificaciones),o.createElement("button",{type:"button",className:"delete-btn",onClick:D},"Eliminar Receta")):o.createElement("p",null,"No hay receta asignada"),o.createElement("button",{type:"button",className:"btn-small",onClick:()=>h(!0)},n.recetaSeleccionada?"Cambiar Receta":"+ Agregar Receta")),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:r,disabled:u},"Cancelar"),o.createElement("button",{type:"submit",className:"btn btn-save",disabled:u||v},u?"Actualizando...":"Guardar Cambios"))),p&&o.createElement(qL,{onClose:()=>h(!1),onSeleccionar:L=>a(M=>({...M,idreceta:L.idreceta,recetaSeleccionada:L}))})):o.createElement("div",{className:"compra-form-container"},"No se pudo cargar el producto")}function Tle({producto:t,onClose:e}){const[r,n]=b.useState(null),[a,i]=b.useState(null),[s,l]=b.useState({visible:!1,mensaje:"",tipo:"success"});b.useEffect(()=>{var u;t&&(n(t.urlimagen||((u=t.imagenes)==null?void 0:u.urlimg)||null),t.idreceta&&fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas").then(f=>f.json()).then(f=>i(f.find(p=>p.idreceta===t.idreceta))).catch(()=>l({visible:!0,mensaje:"Error al cargar receta",tipo:"error"})))},[t]);const c=u=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(u);return t?o.createElement("div",{className:"compra-form-container"},o.createElement(ui,{...s,onClose:()=>l({visible:!1})}),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"👁️")," Ver Producto"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre"),o.createElement("input",{className:"form-input",value:t.nombreproducto,disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Precio"),o.createElement("input",{className:"form-input",value:c(t.precioproducto),disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cantidad"),o.createElement("input",{className:"form-input",value:`${t.cantidadproducto} unidades`,disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Categoría"),o.createElement("input",{className:"form-input",value:t.categoria||"Sin categoría",disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("input",{className:"form-input",value:t.estado?"Activo ✅":"Inactivo ⛔",disabled:!0})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"🖼️")," Imagen"),r?o.createElement("img",{src:r,alt:"Producto",style:{width:"150px",borderRadius:"10px"}}):o.createElement("p",null,"No hay imagen")),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📋")," Receta"),a?o.createElement("div",{className:"nested-item-list"},o.createElement("strong",null,a.nombrereceta),o.createElement("p",null,a.especificaciones),o.createElement("ul",null,a.insumos.map(u=>o.createElement("li",{key:u.iddetallereceta},u.nombreinsumo," - ",u.cantidad," ",u.unidadmedida)))):o.createElement("p",null,"No hay receta asignada")),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:e},"Cerrar"))):o.createElement("div",{className:"compra-form-container"},"No se pudo cargar el producto")}function Rle({show:t,producto:e,onConfirm:r,onCancel:n}){const[a,i]=b.useState(!1),[s,l]=b.useState({visible:!1,mensaje:"",tipo:"success"}),c=(p,h="success")=>{l({visible:!0,mensaje:p,tipo:h})},u=()=>{l({visible:!1,mensaje:"",tipo:"success"})},f=async()=>{i(!0);try{await Ms.eliminarProducto(e.id),c("Producto eliminado exitosamente"),setTimeout(()=>{r()},1500)}catch(p){console.error("Error eliminando producto:",p);let h="Error al eliminar producto";p.message.includes("foreign key")?p.message.includes("detalleventas")||p.message.includes("ventas")?h="No se puede eliminar: el producto está siendo utilizado en Ventas.":p.message.includes("produccion")?h="No se puede eliminar: el producto está siendo utilizado en Producción.":p.message.includes("recetas")||p.message.includes("receta")?h="No se puede eliminar: el producto está siendo utilizado en Recetas.":h="No se puede eliminar: el producto está siendo utilizado en otras partes del sistema.":p.message.includes("not found")?h="El producto no existe o ya fue eliminado":h=p.message||h,c(h,"error")}finally{i(!1)}};return!t||!e?null:o.createElement(o.Fragment,null,o.createElement(ui,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:u}),o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:n},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"400px",maxWidth:"90vw",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",overflow:"hidden"},onClick:p=>p.stopPropagation()},o.createElement("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e9ecef",display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#333"}},"Confirmar Eliminación"),o.createElement("button",{onClick:n,style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#999",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"}},"×")),o.createElement("div",{style:{padding:"24px"}},o.createElement("p",{style:{margin:"0 0 8px 0",fontSize:"16px",color:"#333",lineHeight:"1.5"}},"¿Está seguro de que desea eliminar el producto ",o.createElement("strong",null,e.nombre||e.nombreproducto),"?"),o.createElement("p",{style:{margin:0,fontSize:"14px",color:"#666",lineHeight:"1.4"}},"Esta acción no se puede deshacer.")),o.createElement("div",{style:{padding:"16px 24px",borderTop:"1px solid #e9ecef",display:"flex",justifyContent:"flex-end",gap:"12px",backgroundColor:"#fafafa"}},o.createElement("button",{onClick:n,disabled:a,style:{padding:"8px 16px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:a?"not-allowed":"pointer",transition:"all 0.2s ease",minWidth:"80px"},onMouseEnter:p=>{a||(p.target.style.backgroundColor="#f8f9fa",p.target.style.borderColor="#adb5bd")},onMouseLeave:p=>{a||(p.target.style.backgroundColor="white",p.target.style.borderColor="#ddd")}},"Cancelar"),o.createElement("button",{onClick:f,disabled:a,style:{padding:"8px 16px",border:"none",backgroundColor:a?"#6c757d":"#dc3545",color:"white",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:a?"not-allowed":"pointer",transition:"background-color 0.2s ease",minWidth:"80px"},onMouseEnter:p=>{a||(p.target.style.backgroundColor="#c82333")},onMouseLeave:p=>{a||(p.target.style.backgroundColor="#dc3545")}},a?"Eliminando...":"Eliminar")))))}function Lle(){console.log("Componente ProductosMain renderizado");const[t,e]=b.useState("list"),[r,n]=b.useState(null),[a,i]=b.useState(!1),[s,l]=b.useState({visible:!1,mensaje:"",tipo:"success"}),c=b.useRef(),u=(O,R="success")=>{l({visible:!0,mensaje:O,tipo:R})},f=()=>{l({visible:!1,mensaje:"",tipo:"success"})},p=()=>{var O;e("list"),n(null),(O=c.current)!=null&&O.refreshProductos&&c.current.refreshProductos()},h=()=>{e("add"),n(null)},g=O=>{n(O),e("edit"),i(!1)},x=O=>{n(O),e("view"),i(!1)},v=O=>{n(O),i(!0)},y=()=>{e("list"),n(null)},E=()=>{i(!1),n(null)},C=()=>{var O;i(!1),n(null),u("Producto eliminado exitosamente"),(O=c.current)!=null&&O.refreshProductos&&c.current.refreshProductos()},k=()=>{u("Producto creado exitosamente"),p()},_=()=>{u("Producto actualizado exitosamente"),p()},N=()=>{switch(console.log("Renderizando vista:",t),t){case"list":return o.createElement(wle,{ref:c,onAdd:h,onEdit:g,onView:x,onDelete:v});case"add":return o.createElement(Ole,{onSave:k,onCancel:y});case"edit":return o.createElement(Ile,{producto:r,onSave:_,onCancel:y});case"view":return o.createElement(Tle,{producto:r,onClose:y});default:return o.createElement("div",{className:"admin-wrapper"},o.createElement("div",{style:{textAlign:"center",padding:"2rem"}},"Vista no encontrada: ",t))}};return o.createElement("div",{className:"productos-main"},o.createElement(ui,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:f}),N(),a&&o.createElement(Rle,{show:a,producto:r,onConfirm:C,onCancel:E}))}function jle({productosDisponibles:t=[],productosSeleccionados:e=[],setProductosSeleccionados:r,onClose:n,tipoProduccion:a="pedido",sedes:i=[]}){const[s,l]=b.useState(""),c=u=>{if(e.some(p=>p.id===u.id))r(p=>p.filter(h=>h.id!==u.id));else{const p={...u,cantidad:1,receta:u.receta||null,sede:a==="pedido"?"":null};if(a==="fabrica"){const h={};i.forEach(g=>{h[g.nombre]=0}),p.cantidadesPorSede=h,p.cantidad=0}r(h=>[...h,p])}};return o.createElement("div",{className:"modal-agregar-container"},o.createElement("h2",{className:"modal-agregar-title"},"Seleccionar productos"),o.createElement("div",{className:"modal-agregar-buscador"},o.createElement("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:u=>l(u.target.value)})),o.createElement("div",{className:"modal-agregar-grid"},t.filter(u=>u.nombre.toLowerCase().includes(s.toLowerCase())).map(u=>{const f=e.some(p=>p.id===u.id);return o.createElement("div",{key:u.id,className:`modal-agregar-card ${f?"seleccionado":""}`,onClick:()=>c(u)},o.createElement("img",{src:u.imagen,alt:u.nombre,onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/160?text=Postre"}}),o.createElement("span",null,u.nombre))})),o.createElement("div",{className:"modal-agregar-footer"},o.createElement("button",{className:"cancel-btn",onClick:n},"Cancelar"),o.createElement("button",{className:"save-btn",onClick:n},"Guardar (",e.length,")")))}function UL({receta:t,onClose:e}){var n;if(!t)return null;b.useEffect(()=>{console.log("🔍 ModalDetalleReceta → receta:",t)},[t]);const r=()=>!t.insumos||t.insumos.length===0?o.createElement("p",null,"No hay insumos"):o.createElement("ul",{style:{listStyle:"none",padding:0}},t.insumos.map((a,i)=>{var u;const s=a.nombreinsumo??a.nombre??((u=a.insumo)==null?void 0:u.nombreinsumo)??a.insumoNombre??"Sin nombre",l=a.cantidad??"",c=a.unidadmedida??"";return o.createElement("li",{key:a.iddetallereceta??i,style:{padding:"8px",marginBottom:"4px",backgroundColor:"#f5f5f5",borderRadius:"4px"}},"• ",s," ",l!==""?`- ${l} ${c}`:"")}));return o.createElement("div",{className:"receta-detalle-container"},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"}},t.imagen&&o.createElement("img",{src:t.imagen,alt:t.nombrereceta||t.nombre,width:"80",height:"80",style:{objectFit:"cover",borderRadius:"8px"}}),o.createElement("div",null,o.createElement("h2",{style:{margin:"0 0 8px 0"}},t.nombrereceta??t.nombre??"Receta"),o.createElement("p",{style:{margin:0,color:"#666"}},((n=t.insumos)==null?void 0:n.length)??0," insumos"))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},o.createElement("div",null,o.createElement("h3",null,"📋 Insumos necesarios:"),r()),o.createElement("div",null,o.createElement("h3",null,"📝 Especificaciones:"),o.createElement("textarea",{className:"form-input",style:{width:"100%",minHeight:"150px",resize:"none"},value:t.especificaciones??"",disabled:!0}))),o.createElement("div",{className:"modal-footer",style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"flex-end"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar")))}function HL({producto:t,onClose:e}){var n,a;if(!t)return null;const r=(n=t.insumos)!=null&&n.length?t.insumos:((a=t.receta)==null?void 0:a.insumos)||[];return o.createElement("div",{className:"insumos-modal-container"},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"}},o.createElement("img",{src:t.imagen,alt:t.nombre,width:"80",height:"80",style:{objectFit:"cover",borderRadius:"8px"}}),o.createElement("div",null,o.createElement("h2",{style:{margin:"0 0 8px 0"}},"Insumos para: ",t.nombre),o.createElement("p",{style:{margin:0,color:"#666"}},"Cantidad seleccionada: ",o.createElement("strong",null,t.cantidad||1)),o.createElement("p",{style:{margin:0,color:"#666"}},r.length," insumos necesarios"))),o.createElement("table",{className:"insumos-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"}},o.createElement("thead",null,o.createElement("tr",{style:{backgroundColor:"#f8f9fa"}},o.createElement("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6",fontWeight:"bold"}},"Cantidad"),o.createElement("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6",fontWeight:"bold"}},"Unidad"),o.createElement("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6",fontWeight:"bold"}},"Insumo"))),o.createElement("tbody",null,r.map((i,s)=>{var f;const l=(t.cantidad||1)*(i.cantidad||0),c=i.unidadmedida||i.unidad||"N/A",u=i.nombreinsumo||i.nombre||((f=i.insumo)==null?void 0:f.nombreinsumo)||"Sin nombre";return o.createElement("tr",{key:s,style:{borderBottom:"1px solid #dee2e6"}},o.createElement("td",{style:{padding:"12px",fontWeight:"bold",color:"#495057"}},l),o.createElement("td",{style:{padding:"12px",color:"#6c757d"}},c),o.createElement("td",{style:{padding:"12px",color:"#212529"}},u))}))),o.createElement("div",{className:"modal-footer",style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"flex-end"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar")))}const Kd="https://deliciasoft-backend-i6g9.onrender.com/api/produccion";class Dle{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n=null;try{const i=await e.json();r=i.message||i.error||r,n=i,console.error("🚨 Detalles del error de la API:",i)}catch(i){console.error("❌ No se pudo parsear la respuesta de error:",i)}const a=new Error(r);throw a.status=e.status,a.details=n,a}return e.json()}async obtenerProducciones({tipo:e}={}){try{const r=e?`${Kd}?tipo=${encodeURIComponent(e)}`:Kd,n=await fetch(r,{method:"GET",headers:this.baseHeaders});return this.handleResponse(n)}catch(r){throw console.error("❌ Error al obtener producciones:",r),r}}async obtenerProduccionPorId(e){try{const r=await fetch(`${Kd}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Producción no encontrada");return this.handleResponse(r)}catch(r){throw console.error(`❌ Error al obtener producción ${e}:`,r),r}}async crearProduccion(e){try{console.log("📤 Payload que se envía al backend:",e);const r=await fetch(Kd,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(e)});return console.log("📥 Respuesta cruda del backend:",r),this.handleResponse(r)}catch(r){throw console.error("❌ Error al crear producción:",r),r}}async actualizarProduccion(e,r){try{const n=await fetch(`${Kd}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(r)});return this.handleResponse(n)}catch(n){throw console.error(`❌ Error al actualizar producción ${e}:`,n),n}}async actualizarEstado(e,r){try{const n=await fetch(`${Kd}/${e}/estado`,{method:"PATCH",headers:this.baseHeaders,body:JSON.stringify(r)});return this.handleResponse(n)}catch(n){throw console.error(`❌ Error al actualizar estado de producción ${e}:`,n),n}}async eliminarProduccion(e){try{const r=await fetch(`${Kd}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),{success:!0,message:"Producción eliminada exitosamente"}}catch(r){throw console.error(`❌ Error al eliminar producción ${e}:`,r),r}}}const jv=new Dle;function Mle({pestanaActiva:t,procesos:e,setProcesos:r,showNotification:n,onCancelar:a}){const[i,s]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState(null),[p,h]=b.useState(!1),[g,x]=b.useState(null),[v,y]=b.useState([]),[E,C]=b.useState([]),[k,_]=b.useState(!0),[N,O]=b.useState([]),[R,D]=b.useState(!0),[B,z]=b.useState({tipoProduccion:t,nombreProduccion:"",fechaCreacion:new Date().toISOString().split("T")[0],fechaEntrega:""});b.useEffect(()=>{L(),I()},[]);const I=async()=>{try{D(!0);const j=(await ud.obtenerSedes()).filter(Y=>Y.estado||Y.activo);O(j)}catch(U){console.error("Error cargando sedes:",U),n("Error al cargar las sedes","error"),O([])}finally{D(!1)}},L=async()=>{try{_(!0);const j=(await Ms.obtenerProductosConRecetas()).filter(Y=>Y.estado===!0).map(Y=>{var X;const G=Y.receta?{...Y.receta,nombre:Y.receta.nombrereceta,especificaciones:Y.receta.especificaciones,insumos:((X=Y.receta.insumos)==null?void 0:X.map(ie=>{var ye;return{id:ie.iddetallereceta,cantidad:ie.cantidad,unidadmedida:ie.unidadmedida,nombre:((ye=ie.insumo)==null?void 0:ye.nombreinsumo)||"Sin nombre"}}))||[]}:null;return{id:Y.idproductogeneral,nombre:Y.nombreproducto,imagen:Y.urlimagen||"https://via.placeholder.com/150",categoria:Y.categoria,precio:Y.precioproducto,receta:G,insumos:(G==null?void 0:G.insumos)||[],cantidad:1,cantidadesPorSede:{}}});C(j)}catch(U){n("Error al cargar productos: "+U.message,"error"),C([])}finally{_(!1)}},M=(U,j)=>{y(Y=>Y.map(G=>G.id===U?{...G,sede:j}:G))},F=(U,j)=>{const Y=parseInt(j)||1;Y<1||y(G=>G.map(X=>X.id===U?{...X,cantidad:Y}:X))},H=(U,j,Y)=>{const G=parseInt(Y)||0;y(X=>X.map(ie=>{if(ie.id===U){const ye={...ie.cantidadesPorSede,[j]:G},me=Object.values(ye).reduce((he,je)=>he+(parseInt(je)||0),0);return{...ie,cantidadesPorSede:ye,cantidad:me}}return ie}))},J=U=>{y(j=>j.filter(Y=>Y.id!==U)),n("Producto eliminado de la lista")},ee=U=>{try{const j=E.find(X=>X.id===U.id)||U;if(!j){n("No se encontró información del producto","error");return}const Y=U.cantidad||1,G=(j.insumos||[]).map(X=>{var ie;return{...X,cantidad:(parseFloat(X.cantidad)||0)*Y,unidadmedida:X.unidadmedida||"N/A",nombreinsumo:X.nombreinsumo||X.nombre||((ie=X.insumo)==null?void 0:ie.nombreinsumo)||"Sin nombre"}});x({...U,imagen:j.imagen,insumos:G}),h(!0)}catch(j){console.error("Error al cargar insumos del producto:",j),n("Error al cargar insumos del producto","error")}},re=async U=>{var j;try{if(!((j=U.receta)!=null&&j.id)){n("Este producto no tiene receta asociada","error");return}const X=(await(await fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas")).json()).find(ie=>ie.idreceta===U.receta.id);if(!X){n("No se encontró la receta en la base de datos","error");return}X.imagen=U.imagen,f(X),c(!0)}catch(Y){console.error("Error cargando receta:",Y),n("Error al cargar detalle de receta","error")}},te=()=>{c(!1),f(null)},K=async()=>{var j;if(!B.nombreProduccion||B.nombreProduccion.trim()===""){n("El nombre de la producción es obligatorio","error");return}if(B.tipoProduccion==="pedido"){if(!B.fechaEntrega){n("La fecha de entrega es obligatoria para pedidos","error");return}const Y=new Date;Y.setHours(0,0,0,0);const G=new Date(B.fechaEntrega);G.setHours(0,0,0,0);const X=Math.ceil((G-Y)/(1e3*60*60*24));if(X<15){n("La fecha de entrega debe ser al menos 15 días desde hoy","error");return}if(X>30){n("La fecha de entrega no puede ser mayor a 30 días desde hoy","error");return}}if(v.length===0){n("Debe agregar al menos un producto","error");return}if(B.tipoProduccion==="fabrica"){if(v.filter(G=>Object.values(G.cantidadesPorSede||{}).reduce((ie,ye)=>ie+(parseInt(ye)||0),0)===0).length>0){n("Todos los productos deben tener al menos una cantidad en alguna sede","error");return}}else if(v.filter(G=>!G.sede).length>0){n("Todos los productos deben tener una sede asignada","error");return}const U={TipoProduccion:B.tipoProduccion,nombreproduccion:B.nombreProduccion.trim(),fechapedido:B.fechaCreacion||new Date().toISOString().split("T")[0],fechaentrega:B.tipoProduccion==="pedido"?B.fechaEntrega:null,productos:v.map(Y=>B.tipoProduccion==="fabrica"?{id:Y.id,cantidad:Y.cantidad,cantidadesPorSede:Y.cantidadesPorSede||{},sede:null}:{id:Y.id,cantidad:parseInt(Y.cantidad)||1,sede:Y.sede,cantidadesPorSede:null})};try{const Y=await jv.crearProduccion(U);if(!Y||!Y.idproduccion&&!Y.id)throw new Error("La API devolvió respuesta inválida");const G={id:Y.idproduccion||Y.id,tipoProduccion:Y.TipoProduccion,nombreProduccion:Y.nombreproduccion,fechaCreacion:Y.fechapedido,fechaEntrega:Y.fechaentrega,estadoProduccion:Y.estadoproduccion,estadoPedido:Y.estadopedido,numeroPedido:Y.numeropedido||"",productos:v};r(ie=>[G,...ie]);let X=`Producción "${Y.nombreproduccion}" creada exitosamente`;B.tipoProduccion==="fabrica"&&(X+=". Insumos descontados e inventario actualizado."),n(X,"success"),a()}catch(Y){if(console.error("Error al crear producción:",Y),Y.message&&Y.message.includes("Insumos insuficientes"))n("No hay suficientes insumos para esta producción. Revisa el inventario.","error",8e3);else if(((j=Y.details)==null?void 0:j.tipo)==="INSUMOS_INSUFICIENTES"){const G=Y.details.insuficientes.map(X=>`${X.nombreinsumo}: Falta ${X.faltante.toFixed(2)} ${X.unidad}`).join(", ");n(`Insumos insuficientes: ${G}`,"error",1e4)}else n(Y.message||"Error al guardar la producción","error")}};return o.createElement(o.Fragment,null,o.createElement("div",{className:"compra-form-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},"🏭"),o.createElement("span",null,"Productos disponibles: ",(E==null?void 0:E.length)||0))),(k||R)&&o.createElement("div",{className:"error-banner"},o.createElement("span",{className:"error-icon"},"⏳"),"Cargando datos..."),o.createElement("form",{onSubmit:U=>{U.preventDefault(),K()}},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📋"),"Información de la Producción"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Tipo de Producción",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{name:"tipoProduccion",className:"form-input",value:B.tipoProduccion,onChange:U=>z(j=>({...j,tipoProduccion:U.target.value})),required:!0},o.createElement("option",{value:"pedido"},"Pedido"),o.createElement("option",{value:"fabrica"},"Fábrica"))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre de la Producción ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",name:"nombreProduccion",value:B.nombreProduccion,onChange:U=>z(j=>({...j,nombreProduccion:U.target.value})),className:"form-input",placeholder:"Ej: Producción pasteles navideños",maxLength:100,required:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de creación"),o.createElement("input",{type:"date",className:"form-input",value:B.fechaCreacion,disabled:!0})),B.tipoProduccion==="pedido"&&o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Entrega",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"date",name:"fechaEntrega",className:"form-input",value:B.fechaEntrega,onChange:U=>z(j=>({...j,fechaEntrega:U.target.value})),required:!0,min:new Date(Date.now()+15*864e5).toISOString().split("T")[0],max:new Date(Date.now()+30*864e5).toISOString().split("T")[0]}),o.createElement("small",{style:{color:"#6b7280",fontSize:"12px"}},"Entre 15 y 30 días desde hoy")))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📦"),"Productos agregados: (",v.length,")"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Imagen"),o.createElement("th",null,"Nombre"),B.tipoProduccion==="fabrica"?o.createElement(o.Fragment,null,N.map(U=>o.createElement("th",{key:U.id||U.idsede},U.nombre,o.createElement("span",{style:{color:"red"}},"*"))),o.createElement("th",null,"Total")):o.createElement(o.Fragment,null,o.createElement("th",null,"Sede",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("th",null,"Cantidad")),o.createElement("th",null,"Receta"),o.createElement("th",null,"Insumos"),o.createElement("th",null,"Acción"))),o.createElement("tbody",null,v.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:B.tipoProduccion==="fabrica"?6+N.length:7,style:{textAlign:"center",padding:"20px",color:"#6b7280"}},"No hay productos en esta producción")):v.map(U=>o.createElement("tr",{key:U.id,className:"product-row"},o.createElement("td",{style:{textAlign:"center"}},o.createElement("img",{src:U.imagen||"https://via.placeholder.com/50",alt:U.nombre,width:"50",height:"50",style:{objectFit:"cover",borderRadius:"8px"}})),o.createElement("td",{className:"product-name"},o.createElement("div",null,U.nombre),U.receta&&o.createElement("small",{style:{fontSize:"12px",color:"#6b7280"}},U.receta.nombre)),B.tipoProduccion==="fabrica"?o.createElement(o.Fragment,null,N.map(j=>{var Y;return o.createElement("td",{key:j.id||j.idsede,className:"quantity-cell"},o.createElement("input",{type:"number",min:"0",value:((Y=U.cantidadesPorSede)==null?void 0:Y[j.nombre])||0,onChange:G=>H(U.id,j.nombre,G.target.value),className:"quantity-input"}))}),o.createElement("td",{className:"quantity-cell"},o.createElement("span",{className:"quantity-display"},Object.values(U.cantidadesPorSede||{}).reduce((j,Y)=>j+(parseInt(Y)||0),0)))):o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("select",{value:U.sede||"",onChange:j=>M(U.id,j.target.value),className:"form-input",required:!0},o.createElement("option",{value:""},"Seleccione"),N.map(j=>o.createElement("option",{key:j.id||j.idsede,value:j.nombre},j.nombre)))),o.createElement("td",{className:"quantity-cell"},o.createElement("input",{type:"number",min:"1",value:U.cantidad,onChange:j=>F(U.id,j.target.value),className:"quantity-input"}))),o.createElement("td",{className:"action-cell"},U.receta?o.createElement("button",{type:"button",className:"btn-small",onClick:()=>re(U),style:{background:"linear-gradient(135deg, #4CAF50 0%, #45a049 100%)"}},"Ver receta"):o.createElement("span",{style:{color:"#6b7280",fontSize:"12px"}},"Sin receta")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"btn-small",onClick:()=>ee(U),style:{background:"linear-gradient(135deg, #2196F3 0%, #1976D2 100%)"}},"Ver insumos")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"delete-btn",onClick:()=>J(U.id),title:"Eliminar producto"},"🗑️")))))))),o.createElement("button",{type:"button",className:"add-products-btn",onClick:()=>s(!0),disabled:k||R},o.createElement("span",{className:"btn-icon"},"+"),"Agregar Productos"),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:a},"Cancelar"),o.createElement("button",{className:"btn btn-save",type:"submit",disabled:k||R},o.createElement("span",{className:"btn-icon"},"💾"),"Guardar"))),i&&o.createElement(Wn,{visible:i,onClose:()=>s(!1)},o.createElement(jle,{productosDisponibles:E,productosSeleccionados:v,setProductosSeleccionados:y,onClose:()=>s(!1),tipoProduccion:B.tipoProduccion,sedes:N})),l&&u&&o.createElement(Wn,{visible:l,onClose:te},o.createElement(UL,{receta:u,onClose:te})),p&&g&&o.createElement(Wn,{visible:p,onClose:()=>h(!1)},o.createElement(HL,{producto:g,onClose:()=>h(!1)}))))}const qb={produccion:[{id:1,label:"Pendiente 🟡"},{id:2,label:"Empaquetando 🟠"},{id:3,label:"En producción 🔵"},{id:4,label:"Decorado 🟤"},{id:5,label:"Empaquetado 🟦"},{id:6,label:"Entregado 🟢"},{id:99,label:"N/A 🔴"}],pedido:[{id:1,label:"Abonado 🟣"},{id:2,label:"Empaquetando 🟠"},{id:3,label:"En producción 🔵"},{id:4,label:"Decorado 🟤"},{id:5,label:"Empaquetado 🟦"},{id:6,label:"Entregado a ventas 🔵"},{id:7,label:"Entregado al cliente 🟢"},{id:99,label:"N/A 🔴"}]},QC=Object.fromEntries(qb.produccion.map(t=>[t.id,t.label])),e3=Object.fromEntries(qb.pedido.map(t=>[t.id,t.label]));Object.fromEntries(qb.produccion.map(t=>[t.label,t.id]));Object.fromEntries(qb.pedido.map(t=>[t.label,t.id]));function Fle({proceso:t,pestanaActiva:e,onClose:r}){var h;const[n,a]=b.useState(!1),[i,s]=b.useState(null),[l,c]=b.useState(!1),[u,f]=b.useState(null);if(!t)return null;const p=t.tipoProduccion==="fabrica";return o.createElement("div",{className:"compra-form-container",style:{maxWidth:"1100px",margin:"0 auto"}},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📋")," Información de la Producción"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre"),o.createElement("input",{type:"text",className:"form-input",value:t.nombreProduccion,disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha Creación"),o.createElement("input",{type:"text",className:"form-input",value:t.fechaCreacion,disabled:!0})),t.tipoProduccion==="pedido"&&o.createElement(o.Fragment,null,o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha Entrega"),o.createElement("input",{type:"text",className:"form-input",value:t.fechaEntrega||"N/A",disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"N° Pedido"),o.createElement("input",{type:"text",className:"form-input",value:t.numeroPedido||"N/A",disabled:!0}))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("input",{type:"text",className:"form-input",value:e==="fabrica"?QC[t.estadoProduccion]||"N/A":e3[t.estadoPedido]||"N/A",disabled:!0})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"📦")," Productos (",((h=t.productos)==null?void 0:h.length)||0,")"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Imagen"),o.createElement("th",null,"Nombre"),p?o.createElement(o.Fragment,null,o.createElement("th",null,"Distribución por Sede"),o.createElement("th",null,"Total")):o.createElement(o.Fragment,null,o.createElement("th",null,"Sede"),o.createElement("th",null,"Cantidad")),o.createElement("th",null,"Receta"),o.createElement("th",null,"Insumos"))),o.createElement("tbody",null,!t.productos||t.productos.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:6,style:{textAlign:"center",padding:"20px",color:"#6b7280"}},"No hay productos asociados a esta producción")):t.productos.map((g,x)=>{const v=p&&g.cantidadesPorSede?Object.values(g.cantidadesPorSede).reduce((y,E)=>y+E,0):g.cantidad||0;return o.createElement("tr",{key:g.id||x},o.createElement("td",{style:{textAlign:"center"}},o.createElement("img",{src:g.imagen||"https://via.placeholder.com/50",alt:g.nombre||"Producto",width:"50",height:"50",style:{objectFit:"cover",borderRadius:"8px"}})),o.createElement("td",null,g.nombre||"Sin nombre"),p?o.createElement(o.Fragment,null,o.createElement("td",null,g.cantidadesPorSede?Object.entries(g.cantidadesPorSede).map(([y,E])=>o.createElement("div",{key:y},o.createElement("strong",null,y,":")," ",E," unidades")):o.createElement("span",{style:{color:"#6b7280"}},"No especificado")),o.createElement("td",null,v)):o.createElement(o.Fragment,null,o.createElement("td",null,g.sede||"No asignada"),o.createElement("td",null,g.cantidad||0)),o.createElement("td",null,g.receta?o.createElement("button",{className:"btn-small",onClick:()=>{s(g.receta),a(!0)}},"Ver receta"):"Sin receta"),o.createElement("td",null,g.insumos&&g.insumos.length>0?o.createElement("button",{className:"btn-small",onClick:()=>{const y=g.insumos.map(E=>({...E,cantidad:(parseFloat(E.cantidad)||0)*v}));f({...g,insumos:y}),c(!0)}},"Ver insumos (",g.insumos.length,")"):"Sin insumos"))}))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:r},"Cerrar")),n&&i&&o.createElement(Wn,{visible:n,onClose:()=>a(!1)},o.createElement(UL,{receta:i,onClose:()=>a(!1)})),l&&u&&o.createElement(Wn,{visible:l,onClose:()=>c(!1)},o.createElement(HL,{producto:u,onClose:()=>c(!1)})))}function $le({proceso:t,onEliminar:e,onCancelar:r}){return t?o.createElement("div",null,o.createElement("h2",null,"Eliminar producción"),o.createElement("h3",null,"¿Seguro que desea eliminar ",o.createElement("strong",null,t.nombreProduccion),"?"),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:r},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:()=>e(t)},"Eliminar"))):null}const zle={1:[1,2],2:[2,3],3:[3,4],4:[4,5],5:[5,6],6:[6],99:[]},Ble={1:[1,2],2:[1,2,3],3:[3,4],4:[4,5],5:[5,6,7],6:[6],7:[7],99:[]},qle=t=>[...zle[t]||[],99].map(r=>({id:r,label:QC[r]})),Ule=t=>[...Ble[t]||[],99].map(r=>({id:r,label:e3[r]}));function Hle(){const[t,e]=b.useState(""),[r,n]=b.useState(!1),[a,i]=b.useState(null),[s,l]=b.useState(null),[c,u]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[f,p]=b.useState(!1),[h,g]=b.useState([]),[x,v]=b.useState("pedido"),[y,E]=b.useState(!1);b.useEffect(()=>{(async()=>{E(!0);try{const I=await jv.obtenerProducciones(),L=Array.isArray(I)?I.map(M=>{const F=(M.TipoProduccion||M.tipoProduccion||"").toLowerCase(),H=ee=>ee?typeof ee=="string"&&ee.includes("T")?ee.split("T")[0]:ee:new Date().toISOString().split("T")[0],J=(M.detalleproduccion||[]).map(ee=>({id:ee.id,nombre:ee.nombre,cantidad:parseFloat(ee.cantidad||0),imagen:ee.imagen,sede:ee.sede||null,cantidadesPorSede:ee.cantidadesPorSede||{},receta:ee.receta||null,insumos:ee.insumos||[]}));return{id:M.idproduccion??M.id,tipoProduccion:F||"fabrica",nombreProduccion:M.nombreproduccion||`Producción #${M.idproduccion}`,fechaCreacion:H(M.fechapedido),fechaEntrega:H(M.fechaentrega),estadoProduccion:M.estadoproduccion||1,estadoPedido:M.estadopedido||1,numeroPedido:M.numeropedido||"",productos:J}}):[];g(L)}catch(I){console.error("Error obteniendo procesos:",I),g([])}finally{E(!1)}})()},[]);const C=h.filter(z=>{var L,M;if(z.tipoProduccion!==x)return!1;const I=t.toLowerCase();return z.nombreProduccion&&z.nombreProduccion.toLowerCase().includes(I)||z.fechaCreacion&&z.fechaCreacion.toLowerCase().includes(I)||z.fechaEntrega&&z.fechaEntrega.toLowerCase().includes(I)||z.numeroPedido&&z.numeroPedido.toLowerCase().includes(I)||z.estadoPedido&&((L=e3[z.estadoPedido])==null?void 0:L.toLowerCase().includes(I))||z.estadoProduccion&&((M=QC[z.estadoProduccion])==null?void 0:M.toLowerCase().includes(I))}),k=(z,I="success")=>{u({visible:!0,mensaje:z,tipo:I}),setTimeout(()=>u(L=>({...L,visible:!1})),4e3)},_=()=>u({visible:!1,mensaje:"",tipo:"success"}),N=(z,I)=>{i(z),l(I),n(!0)},O=()=>{n(!1),l(null),i(null)},R=async(z,I,L)=>{try{const M={[I==="estadoProduccion"?"estadoproduccion":"estadopedido"]:L};await jv.actualizarEstado(z,M),g(F=>F.map(H=>H.id===z?{...H,[I]:L}:H)),k("Estado actualizado correctamente")}catch(M){console.error("Error actualizando estado:",M),k("Error al actualizar el estado","error")}},D=async z=>{try{z.id&&await jv.eliminarProduccion(z.id),g(I=>I.filter(L=>L.id!==z.id)),O(),k("Proceso eliminado exitosamente")}catch(I){console.error("Error eliminando proceso:",I),k("Error al eliminar el proceso","error")}},B=(z,I)=>{const L=z[I],M=I==="estadoProduccion",H=(M?[6,99]:[6,7,99]).includes(L),J=M?qle(L):Ule(L);return o.createElement("select",{value:L,onChange:ee=>R(z.id,I,parseInt(ee.target.value)),disabled:H,style:{width:"180px",padding:"4px",fontSize:"14px",border:"none",appearance:"none",background:"transparent",color:H?"#888":"#000",cursor:H?"not-allowed":"pointer"}},J.map(ee=>o.createElement("option",{key:ee.id,value:ee.id},ee.label)))};return o.createElement("div",{className:"admin-wrapper"},o.createElement(ui,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:_}),f?o.createElement(Mle,{pestanaActiva:x,procesos:h,setProcesos:g,showNotification:k,onCancelar:()=>p(!1)}):r&&a==="visualizar"?o.createElement(Fle,{proceso:s,pestanaActiva:x,onClose:O}):o.createElement(o.Fragment,null,o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>p(!0),type:"button"},"+ Agregar"),o.createElement($l,{placeholder:"Buscar producción...",value:t,onChange:e})),o.createElement("div",{className:"ventas-header-container"},o.createElement("h2",{className:"admin-section-title"},"Gestión de producción"),o.createElement("div",{className:"filter-buttons-container",style:{justifyContent:"flex-end"}},o.createElement("button",{className:`filter-tab ${x==="pedido"?"filter-tab-active":""}`,onClick:()=>v("pedido")},"Pedidos"),o.createElement("button",{className:`filter-tab ${x==="fabrica"?"filter-tab-active":""}`,onClick:()=>v("fabrica")},"Fábrica"))),y?o.createElement("div",{className:"admin-loading-container"},o.createElement(zl,null)):C.length===0?o.createElement("div",{className:"admin-content-empty"},'No hay producciones de tipo "',x,'" registradas'):o.createElement(o.Fragment,null,x==="pedido"?o.createElement(ps,{value:C,className:"admin-table",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25]},o.createElement(Zt,{header:"N°",body:(z,{rowIndex:I})=>I+1}),o.createElement(Zt,{field:"nombreProduccion",header:"Producción"}),o.createElement(Zt,{field:"fechaCreacion",header:"Fecha Creación"}),o.createElement(Zt,{field:"fechaEntrega",header:"Fecha Entrega"}),o.createElement(Zt,{header:"Estado Pedido",body:z=>B(z,"estadoPedido")}),o.createElement(Zt,{field:"numeroPedido",header:"N° Pedido"}),o.createElement(Zt,{header:"Acción",body:z=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>N("visualizar",z)},"👁"),o.createElement("button",{className:"admin-button red",title:"Eliminar",onClick:()=>N("eliminar",z)},"🗑️"))})):o.createElement(ps,{value:C,className:"admin-table",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25]},o.createElement(Zt,{header:"N°",body:(z,{rowIndex:I})=>I+1}),o.createElement(Zt,{field:"nombreProduccion",header:"Producción"}),o.createElement(Zt,{field:"fechaCreacion",header:"Fecha Creación"}),o.createElement(Zt,{header:"Estado Producción",body:z=>B(z,"estadoProduccion")}),o.createElement(Zt,{header:"Acción",body:z=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>N("visualizar",z)},"👁"),o.createElement("button",{className:"admin-button red",title:"Eliminar",onClick:()=>N("eliminar",z)},"🗑️"))}))),r&&a==="eliminar"&&o.createElement(Wn,{visible:!0,onClose:O},o.createElement($le,{proceso:s,onEliminar:D,onCancelar:O}))))}const Wle=({visible:t,mensaje:e,tipo:r,onClose:n})=>{if(!t)return null;const a=r==="success"?"#d4edda":"#f8d7da",i=r==="success"?"#155724":"#721c24",s=r==="success"?"#c3e6cb":"#f5c6cb";return o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"10px 20px",borderRadius:"5px",backgroundColor:a,color:i,border:`1px solid ${s}`,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("span",null,e),o.createElement("button",{onClick:n,style:{background:"none",border:"none",fontSize:"1.2em",cursor:"pointer",color:i}},"×"))},Vle=({placeholder:t,value:e,onChange:r})=>o.createElement("input",{type:"text",placeholder:t,value:e,onChange:n=>r(n.target.value),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #e0e0e0",width:"100%",fontSize:"14px",backgroundColor:"#f8f9fa",marginBottom:"20px",outline:"none",transition:"border-color 0.2s ease"},onFocus:n=>{n.target.style.borderColor="#007bff",n.target.style.backgroundColor="#ffffff"},onBlur:n=>{n.target.style.borderColor="#e0e0e0",n.target.style.backgroundColor="#f8f9fa"}}),Gle=({visible:t,onClose:e,children:r})=>t?o.createElement("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,padding:"20px",boxSizing:"border-box"},onClick:n=>{n.target===n.currentTarget&&e()}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",width:"100%",maxHeight:"85vh",overflowY:"auto",position:"relative",transform:"translate(0, 0)",margin:"0"},onClick:n=>{n.stopPropagation()}},r)):null,uI=[{id:1,nombre:"Harina de Trigo",categoria:"Harinas",IdUnidadMedida:1,precio:15.75,imagen:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=200&h=200&fit=crop&crop=center"},{id:2,nombre:"Azúcar Blanca",categoria:"Endulzantes",IdUnidadMedida:1,precio:12.5,imagen:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSuGrIouJPuNNVZvvsEjT5hjhfeA-6IasCyVw&sr"},{id:3,nombre:"Levadura Seca",categoria:"Fermentos",IdUnidadMedida:2,precio:8.25,imagen:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=200&h=200&fit=crop&crop=center"},{id:4,nombre:"Huevos A",categoria:"Lácteos",IdUnidadMedida:5,precio:18.9,imagen:"https://images.unsplash.com/photo-1518569656558-1f25e69d93d7?w=200&h=200&fit=crop&crop=center"},{id:5,nombre:"Mantequilla sin sal",categoria:"Lácteos",IdUnidadMedida:2,precio:22.4,imagen:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc9d?w=200&h=200&fit=crop&crop=center"},{id:6,nombre:"Leche Entera",categoria:"Lácteos",IdUnidadMedida:3,precio:25.5,imagen:"https://images.unsplash.com/photo-1550583724-b2692b85b150?w=200&h=200&fit=crop&crop=center"},{id:7,nombre:"Chocolate Semiamargo",categoria:"Saborizantes",IdUnidadMedida:2,precio:35.75,imagen:"https://images.unsplash.com/photo-1511381939415-e44015466834?w=200&h=200&fit=crop&crop=center"},{id:8,nombre:"Esencia de Vainilla",categoria:"Saborizantes",IdUnidadMedida:4,precio:12.8,imagen:"https://sip.pochteca.net/media/blog/f/r/fragancia-de-vainilla-aroma-de-mexico-para-el-mundo.jpg"},{id:9,nombre:"Sal Refinada",categoria:"Condimentos",IdUnidadMedida:2,precio:4.5,imagen:"https://pinero.storage.googleapis.com/wp-content/uploads/2024/02/01165014/4-17.jpg"},{id:10,nombre:"Aceite Vegetal",categoria:"Grasas",IdUnidadMedida:3,precio:18.25,imagen:"https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=200&h=200&fit=crop&crop=center"}],Kle=[{label:"Seleccionar unidad...",value:"",disabled:!0},{label:"Kilogramos",value:1,text:"Kg"},{label:"Gramos",value:2,text:"gr"},{label:"Litros",value:3,text:"L"},{label:"Mililitros",value:4,text:"ml"},{label:"Unidades",value:5,text:"unidad"},{label:"Libras",value:6,text:"lb"},{label:"Onzas",value:7,text:"oz"},{label:"Tazas",value:8,text:"taza"},{label:"Cucharadas",value:9,text:"cda"},{label:"Cucharaditas",value:10,text:"cdta"}],tE=t=>{const e=Kle.find(r=>r.value===t);return e?e.text:""};function Yle({initialData:t,onSave:e,onCancel:r,isEditing:n}){const[a,i]=b.useState(t||{NombreReceta:"",Especificaciones:""}),[s,l]=b.useState(t!=null&&t.insumos?JSON.parse(JSON.stringify(t.insumos)):[]),[c,u]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[f,p]=b.useState(!1),[h,g]=b.useState(""),[x,v]=b.useState(new Set);b.useEffect(()=>{i(t||{NombreReceta:"",Especificaciones:""}),l(t!=null&&t.insumos?JSON.parse(JSON.stringify(t.insumos)):[])},[t]),b.useEffect(()=>{const z=new Set(s.map(I=>I.id));v(z)},[s]);const y=(z,I="success")=>{u({visible:!0,mensaje:z,tipo:I})},E=()=>u({visible:!1,mensaje:"",tipo:"success"}),C=(z,I)=>{i(L=>({...L,[z]:I}))},k=()=>{const{NombreReceta:z}=a;return z.trim()?s.length===0?(y("Debe agregar al menos un insumo a la receta","error"),!1):!0:(y("El nombre de la receta es obligatorio.","error"),!1)},_=()=>{if(!k())return;const z={NombreReceta:a.NombreReceta,Especificaciones:a.Especificaciones,insumos:s.map(I=>({IdInsumo:I.id,IdUnidadMedida:I.IdUnidadMedida,Cantidad:parseFloat(I.cantidad),nombre:I.nombre,unidad:tE(I.IdUnidadMedida)}))};e(z)},N=uI.filter(z=>z.nombre.toLowerCase().includes(h.toLowerCase())||z.categoria.toLowerCase().includes(h.toLowerCase())),O=z=>{const I=new Set(x);I.has(z)?I.delete(z):I.add(z),v(I)},R=()=>{const z=uI.filter(L=>x.has(L.id)&&!s.some(M=>M.id===L.id));if(z.length===0){y("No hay nuevos insumos seleccionados para agregar.","error");return}const I=z.map(L=>({...L,cantidad:1}));l(L=>[...L,...I]),p(!1),v(new Set),y(`${z.length} insumo(s) agregado(s) exitosamente.`)},D=(z,I)=>{l(L=>L.map(M=>M.id===z?{...M,cantidad:Math.max(1,parseFloat(I)||0)}:M))},B=z=>{l(I=>I.filter(L=>L.id!==z)),y("Insumo eliminado de la lista de receta.")};return o.createElement("div",{className:"compra-form-container"},o.createElement(Wle,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:E}),o.createElement("h1",null,n?"Editar Receta":"Agregar Receta"),o.createElement("div",{className:"compra-fields-grid"},o.createElement("div",{className:"field-group",style:{gridColumn:"span 2"}},o.createElement("label",null,"Nombre de la Receta:*"),o.createElement("input",{type:"text",value:a.NombreReceta,onChange:z=>C("NombreReceta",z.target.value),className:"modal-input",maxLength:50})),o.createElement("div",{className:"field-group",style:{gridColumn:"span 2"}},o.createElement("label",null,"Especificaciones:"),o.createElement("textarea",{value:a.Especificaciones,onChange:z=>C("Especificaciones",z.target.value),className:"modal-input observaciones-field",maxLength:80,placeholder:"Descripción de la receta..."}))),o.createElement("div",{className:"section-divider"}),o.createElement("div",{className:"detalle-section"},o.createElement("h2",null,"Insumos para la Receta*"),o.createElement("table",{className:"compra-detalle-table"},o.createElement("thead",{className:"p-datatable-thead"},o.createElement("tr",null,o.createElement("th",null,"Nombre Insumo"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Unidad de Medida"),o.createElement("th",null,"Acción"))),o.createElement("tbody",{className:"p-datatable"},s.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:"4",style:{textAlign:"center",padding:"1rem"}},'No hay insumos agregados, utiliza "agregar insumos " para añadirlos')):s.map(z=>o.createElement("tr",{key:z.id},o.createElement("td",null,z.nombre),o.createElement("td",null,o.createElement("input",{type:"number",min:"1",value:z.cantidad,onChange:I=>D(z.id,I.target.value),style:{width:"80px"}})),o.createElement("td",null,tE(z.IdUnidadMedida)),o.createElement("td",null,o.createElement("button",{className:"btn-eliminar",onClick:()=>B(z.id)},"Eliminar")))))),o.createElement("button",{className:"btn-agregar-insumos",onClick:()=>p(!0)},"+ Agregar Insumos")),o.createElement("div",{className:"compra-header-actions",style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"0.5rem"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:r},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:_},"Guardar")),f&&o.createElement(Gle,{visible:f,onClose:()=>p(!1)},o.createElement("div",{style:{padding:"24px 24px 0 24px",borderBottom:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("h2",{style:{margin:0,fontSize:"24px",fontWeight:"600",color:"#2c3e50"}},"Seleccionar Insumos"),o.createElement("button",{onClick:()=>p(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"}},"×")),o.createElement("div",{style:{padding:"24px"}},o.createElement(Vle,{placeholder:"Buscar insumo...",value:h,onChange:g}),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",maxHeight:"400px",overflowY:"auto",padding:"10px",justifyItems:"center"}},N.length===0?o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#6c757d",padding:"40px"}},"No se encontraron insumos."):N.map(z=>o.createElement("div",{key:z.id,style:{border:"1px solid #e9ecef",borderRadius:"12px",padding:"16px",backgroundColor:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.2s ease",cursor:"pointer",position:"relative",width:"280px"},onClick:()=>O(z.id),onMouseEnter:I=>{I.currentTarget.style.transform="translateY(-2px)",I.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.12)"},onMouseLeave:I=>{I.currentTarget.style.transform="translateY(0)",I.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"}},o.createElement("input",{type:"checkbox",checked:x.has(z.id),onChange:()=>O(z.id),style:{position:"absolute",top:"12px",right:"12px",width:"18px",height:"18px",cursor:"pointer"}}),o.createElement("div",{style:{textAlign:"center",marginBottom:"12px"}},o.createElement("img",{src:z.imagen,alt:z.nombre,style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e9ecef"},onError:I=>{I.target.src="https://via.placeholder.com/120x120/f8f9fa/6c757d?text=Sin+Imagen"}})),o.createElement("div",{style:{textAlign:"center"}},o.createElement("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"600",color:"#2c3e50",lineHeight:"1.3"}},z.nombre),o.createElement("div",{style:{fontSize:"12px",color:"#6c757d",marginBottom:"8px"}},"Unidad: ",tE(z.IdUnidadMedida)),o.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#000"}},"Precio: $",z.precio.toFixed(2))))))),o.createElement("div",{style:{padding:"16px 24px 24px 24px",borderTop:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"}},o.createElement("button",{onClick:()=>p(!1),style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #6c757d",backgroundColor:"white",color:"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500"}},"Cancelar"),o.createElement("button",{onClick:R,disabled:x.size===0,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:x.size>0?"#ff69b4":"#ccc",color:"white",cursor:x.size>0?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",opacity:x.size>0?1:.6}},"Agregar (",x.size,")"))))}function Jle(){const[t,e]=b.useState([]),[r,n]=b.useState(""),[a,i]=b.useState({visible:!1,mensaje:"",tipo:"success"}),[s,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(null),[h,g]=b.useState("list");b.useEffect(()=>{e([{Idreceta:1,NombreReceta:"Pan Integral Casero",Especificaciones:"Receta básica de pan con harina integral",estado:!0,tieneRelaciones:!0,insumos:[{id:1,nombre:"Harina de Trigo",Cantidad:1e3,unidad:"Gramos",IdUnidadMedida:2},{id:3,nombre:"Levadura Seca",Cantidad:10,unidad:"Gramos",IdUnidadMedida:2}]},{Idreceta:2,NombreReceta:"Torta de Chocolate Fudge",Especificaciones:"Torta rica en chocolate con glaseado cremoso",estado:!0,tieneRelaciones:!1,insumos:[{id:2,nombre:"Azúcar Blanca",Cantidad:200,unidad:"Gramos",IdUnidadMedida:2},{id:4,nombre:"Huevos A",Cantidad:3,unidad:"Unidades",IdUnidadMedida:5}]},{Idreceta:3,NombreReceta:"Galletas de Avena y Pasas",Especificaciones:"Galletas saludables con avena y pasas",estado:!1,tieneRelaciones:!1,insumos:[]}])},[]);const x=F=>{const H=t.map(J=>J.Idreceta===F.Idreceta?{...J,estado:!J.estado}:J);e(H),v(`Receta ${F.estado?"inactivada":"activada"} exitosamente`)},v=(F,H="success")=>{i({visible:!0,mensaje:F,tipo:H})},y=()=>{i({visible:!1,mensaje:"",tipo:"success"})},E=({visible:F,mensaje:H,tipo:J,onClose:ee})=>{if(!F)return null;const re=J==="success"?"#d4edda":"#f8d7da",te=J==="success"?"#155724":"#721c24",K=J==="success"?"#c3e6cb":"#f5c6cb";return o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"10px 20px",borderRadius:"5px",backgroundColor:re,color:te,border:`1px solid ${K}`,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("span",null,H),o.createElement("button",{onClick:ee,style:{background:"none",border:"none",fontSize:"1.2em",cursor:"pointer",color:te}},"×"))},C=({placeholder:F,value:H,onChange:J})=>o.createElement("input",{type:"text",placeholder:F,value:H,onChange:ee=>J(ee.target.value),className:"search-input",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",width:"300px",fontSize:"14px"}}),k=({visible:F,onClose:H,children:J})=>F?o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999}},o.createElement("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",minWidth:"400px"}},J)):null,_=(F,H=null)=>{u(F),p(H),l(!0)},N=()=>{l(!1),p(null),u(null)},O=()=>{if(f.tieneRelaciones){N(),v("No se puede eliminar la receta porque tiene relaciones asociadas","error");return}u("confirmarEliminar")},R=()=>{const F=t.filter(H=>H.Idreceta!==f.Idreceta);e(F),N(),v("Receta eliminada exitosamente")},D=()=>{g("add"),p(null)},B=F=>{if(!F.estado){v("No se puede editar una receta inactiva. Active la receta primero.","error");return}g("edit"),p(F)},z=F=>{if(!F.estado){v("No se puede eliminar una receta inactiva. Active la receta primero.","error");return}_("eliminar",F)},I=F=>{if(h==="edit"){const H=t.map(J=>J.Idreceta===f.Idreceta?{...F,Idreceta:f.Idreceta,estado:f.estado,tieneRelaciones:f.tieneRelaciones}:J);e(H),v("Receta actualizada exitosamente")}else{const H=Math.max(...t.map(J=>J.Idreceta),0)+1;e(J=>[...J,{...F,Idreceta:H,estado:!0,tieneRelaciones:!1}]),v("Receta agregada exitosamente")}g("list"),p(null)},L=()=>{g("list"),p(null)},M=t.filter(F=>F.Idreceta.toString().includes(r)||F.NombreReceta.toLowerCase().includes(r.toLowerCase())||F.Especificaciones.toLowerCase().includes(r.toLowerCase()));return o.createElement("div",{className:"admin-wrapper"},o.createElement(E,{visible:a.visible,mensaje:a.mensaje,tipo:a.tipo,onClose:y}),h==="list"&&o.createElement(o.Fragment,null,o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:D,type:"button",style:{padding:"10px 18px",fontSize:"15px",fontWeight:"500"}},"+ Agregar"),o.createElement(C,{placeholder:"Buscar receta...",value:r,onChange:n})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Recetas"),o.createElement(ps,{value:M,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(Zt,{field:"Idreceta",header:"N°"}),o.createElement(Zt,{field:"NombreReceta",header:"Nombre  Receta"})," ",o.createElement(Zt,{field:"Especificaciones",header:"Especificaciones"}),o.createElement(Zt,{header:"Insumos",body:F=>{var H;return o.createElement("span",{style:{padding:"4px 8px",backgroundColor:"#f0f4f8",borderRadius:"4px",border:"1px solid #68d391",fontSize:"12px",color:"#2d5a43"}},((H=F.insumos)==null?void 0:H.length)||0)}}),o.createElement(Zt,{header:"Estado",body:F=>o.createElement(Ro,{checked:F.estado,onChange:()=>x(F)})}),o.createElement(Zt,{header:"Acciones",body:F=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>_("visualizar",F)},"🔍"),o.createElement("button",{className:`admin-button ${F.estado?"yellow":"yellow disabled"}`,title:F.estado?"Editar":"No se puede editar - Receta inactiva",onClick:()=>B(F),disabled:!F.estado,style:{opacity:F.estado?1:.5,cursor:F.estado?"pointer":"not-allowed"}},"✏️"),o.createElement("button",{className:`admin-button ${F.estado?"red":"red disabled"}`,title:F.estado?"Eliminar":"No se puede eliminar - Receta inactiva",onClick:()=>z(F),disabled:!F.estado,style:{opacity:F.estado?1:.5,cursor:F.estado?"pointer":"not-allowed"}},"🗑️"))})),c==="visualizar"&&f&&o.createElement(k,{visible:s,onClose:N},o.createElement("h2",{className:"modal-title"},"Detalles de la Receta"),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"}},o.createElement("div",null,o.createElement("p",null,o.createElement("strong",null,"N°:")," ",f.Idreceta),o.createElement("p",null,o.createElement("strong",null,"Nombre Receta:")," ",f.NombreReceta)),o.createElement("div",null,o.createElement("p",null,o.createElement("strong",null,"Estado:")," ",o.createElement("span",{style:{color:f.estado?"#28a745":"#dc3545",fontWeight:"bold"}},f.estado?"Activa":"Inactiva")))),o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("p",null,o.createElement("strong",null,"Especificaciones:")),o.createElement("p",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#f5f5f5",borderRadius:"4px"}},f.Especificaciones||"N/A")),o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("p",null,o.createElement("strong",null,"Insumos de la Receta:")),f.insumos&&f.insumos.length>0?o.createElement("div",{style:{marginTop:"0.5rem"}},f.insumos.map((F,H)=>o.createElement("div",{key:H,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef",marginBottom:"0.5rem"}},o.createElement("span",null,o.createElement("strong",null,F.nombre)),o.createElement("span",{style:{padding:"2px 8px",backgroundColor:"#e3f2fd",borderRadius:"12px",fontSize:"12px",color:"#1976d2"}},F.Cantidad," ",F.unidad)))):o.createElement("p",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#fff3cd",borderRadius:"4px",border:"1px solid #ffeaa7",color:"#856404",textAlign:"center"}},"No hay insumos asignados a esta receta"))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:N},"Cerrar"))),c==="eliminar"&&f&&o.createElement(k,{visible:s,onClose:N},o.createElement("h2",{className:"modal-title"},"Eliminar Receta"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Está seguro que desea eliminar la receta con N°"," ",o.createElement("strong",null,f.Idreceta),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:N},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:O},"Eliminar"))),c==="confirmarEliminar"&&f&&o.createElement(k,{visible:s,onClose:N},o.createElement("h2",{className:"modal-title"},"Confirmar Eliminación"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"¿Está completamente seguro que desea eliminar la receta con N°"," ",o.createElement("strong",null,f.Idreceta),"?"),o.createElement("p",{style:{color:"#e53935",fontSize:"14px"}},"Esta acción no se puede deshacer y se eliminará toda la información de la receta.")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:N},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:R},"Confirmar Eliminación")))),(h==="add"||h==="edit")&&o.createElement(Yle,{initialData:f,onSave:I,onCancel:L,isEditing:h==="edit"}))}function Xle({sedes:t,loading:e,onToggleActivo:r,onVerSede:n,onEditarSede:a,onEliminarSede:i}){const s=(u,f)=>f.rowIndex+1,l=u=>o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>n(u),disabled:e},"👁"),o.createElement("button",{className:"admin-button yellow",title:"Editar",onClick:()=>a(u),disabled:e||!u.activo,style:{opacity:u.activo?1:.5,cursor:u.activo?"pointer":"not-allowed"}},"✏️"),o.createElement("button",{className:"admin-button red",title:"Eliminar",onClick:()=>i(u),disabled:e||!u.activo,style:{opacity:u.activo?1:.5,cursor:u.activo?"pointer":"not-allowed"}},"🗑️")),c=u=>o.createElement(Ro,{checked:u.activo,onChange:()=>r(u),disabled:e});return o.createElement(ps,{value:t,className:"admin-table",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},emptyMessage:"No se encontraron sedes",loading:e,loadingIcon:"pi pi-spinner pi-spin",scrollable:!0,scrollHeight:"500px"},o.createElement(Zt,{header:"N°",body:s,style:{width:"80px",textAlign:"center"},headerStyle:{width:"80px",textAlign:"center"}}),o.createElement(Zt,{field:"nombre",header:"Nombre",style:{width:"180px"},headerStyle:{width:"180px"}}),o.createElement(Zt,{field:"Direccion",header:"Dirección",style:{width:"280px",maxWidth:"280px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},headerStyle:{width:"280px"}}),o.createElement(Zt,{field:"Telefono",header:"Teléfono",style:{width:"140px"},headerStyle:{width:"140px"}}),o.createElement(Zt,{header:"Estado",body:c,style:{width:"100px",textAlign:"center"},headerStyle:{width:"100px",textAlign:"center"}}),o.createElement(Zt,{header:"Acciones",body:l,style:{width:"160px",textAlign:"center"},headerStyle:{width:"160px",textAlign:"center"}}))}function dI({formData:t,fileInputRef:e,onInputChange:r,onImageChange:n,onEliminarImagen:a,readOnly:i=!1}){return o.createElement("div",{className:"modal-grid"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Nombre: ",!i&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:t.nombre,onChange:s=>r("nombre",s.target.value),className:"modal-input",placeholder:"Ingrese el nombre de la sede",maxLength:"50",required:!0,disabled:i,readOnly:i}),!i&&o.createElement("small",{style:{color:"#666",fontSize:"12px"}},"Mínimo 2 caracteres, máximo 50")),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Dirección: ",!i&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("textarea",{value:t.Direccion,onChange:s=>r("Direccion",s.target.value),className:"modal-input",placeholder:"Ingrese la dirección completa de la sede",required:!0,disabled:i,readOnly:i,style:{minHeight:"60px",resize:"vertical",fontFamily:"inherit"}}),!i&&o.createElement("small",{style:{color:"#666",fontSize:"12px"}},"Mínimo 10 caracteres")),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Teléfono: ",!i&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"tel",value:t.Telefono,onChange:s=>{const l=s.target.value.replace(/\D/g,"");l.length<=10&&r("Telefono",l)},className:"modal-input",placeholder:"3001234567",maxLength:"10",required:!0,disabled:i,readOnly:i}),!i&&o.createElement("small",{style:{color:"#666",fontSize:"12px"}},"Formato: 10 dígitos comenzando con 3")),!i&&o.createElement("div",{className:"modal-field",style:{gridColumn:"span 2"}},o.createElement("label",{className:"modal-label"},"Imagen:"),o.createElement("div",{style:{marginTop:"8px"}},o.createElement("input",{ref:e,type:"file",accept:"image/*",onChange:n,className:"modal-input",style:{marginBottom:"10px"}}),o.createElement("small",{style:{color:"#666",fontSize:"12px",display:"block",marginBottom:"10px"}},"Formatos permitidos: JPEG, PNG, GIF, WebP. Tamaño máximo: 5MB"),t.imagenPreview&&o.createElement("div",{className:"sede-image-upload-container"},o.createElement("img",{src:t.imagenPreview,alt:"Preview",className:"sede-image-upload-preview",style:{opacity:1}}),o.createElement("button",{type:"button",onClick:a,className:"sede-image-delete-btn",title:"Eliminar imagen"},"×")))))}function Zle({visible:t,tipo:e,sede:r,formData:n,loading:a,fileInputRef:i,onClose:s,onInputChange:l,onImageChange:c,onEliminarImagen:u,onGuardar:f,onConfirmarEliminar:p}){if(!t)return null;switch(e){case"agregar":return o.createElement(Wn,{visible:t,onClose:s},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Agregar Sede")),o.createElement("div",{className:"modal-body"},o.createElement(dI,{formData:n,fileInputRef:i,onInputChange:l,onImageChange:c,onEliminarImagen:u,readOnly:!1})),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:s,disabled:a},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn text-sm px-3 py-1",onClick:f,disabled:a},a?"Guardando...":"Guardar")));case"editar":return o.createElement(Wn,{visible:t,onClose:s},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Editar Sede")),o.createElement("div",{className:"modal-body"},o.createElement(dI,{formData:n,fileInputRef:i,onInputChange:l,onImageChange:c,onEliminarImagen:u,readOnly:!1})),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:s,disabled:a},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn text-sm px-3 py-1",onClick:f,disabled:a},a?"Guardando...":"Actualizar")));case"ver":return o.createElement(Wn,{visible:t,onClose:s},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Detalle de Sede")),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-grid"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Nombre:"),o.createElement("input",{type:"text",value:(r==null?void 0:r.nombre)||"",className:"modal-input",disabled:!0,readOnly:!0})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Dirección:"),o.createElement("textarea",{value:(r==null?void 0:r.Direccion)||"",className:"modal-input",disabled:!0,readOnly:!0,style:{minHeight:"60px",resize:"vertical",fontFamily:"inherit"}})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Teléfono:"),o.createElement("input",{type:"text",value:(r==null?void 0:r.Telefono)||"",className:"modal-input",disabled:!0,readOnly:!0})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Estado:"),o.createElement("input",{type:"text",value:r!=null&&r.activo?"Activo":"Inactivo",className:"modal-input",disabled:!0,readOnly:!0,style:{color:r!=null&&r.activo?"#10b981":"#ef4444",fontWeight:"500"}})),(r==null?void 0:r.imagenUrl)&&o.createElement("div",{className:"modal-field",style:{gridColumn:"span 2"}},o.createElement("label",{className:"modal-label"},"Imagen:"),o.createElement("div",{className:"sede-image-container"},o.createElement("img",{src:r.imagenUrl,alt:`Imagen de ${r.nombre}`,className:"sede-image-preview",onError:h=>{h.target.style.display="none";const g=h.target.parentElement;g.innerHTML='<p class="sede-image-error">No se pudo cargar la imagen</p>'}}))),!(r!=null&&r.imagenUrl)&&o.createElement("div",{className:"modal-field",style:{gridColumn:"span 2"}},o.createElement("label",{className:"modal-label"},"Imagen:"),o.createElement("div",{className:"sede-no-image"},"No hay imagen disponible")))),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:s},"Cerrar")));case"eliminar":return o.createElement(Wn,{visible:t,onClose:s,width:"460px"},o.createElement("div",{style:{padding:"20px 24px"}},o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",margin:0,color:"#111827",paddingBottom:"12px",borderBottom:"2px solid #ec4899"}},"Eliminar Insumo")),o.createElement("div",{style:{padding:"24px"}},o.createElement("p",{style:{fontSize:"14px",color:"#111827",lineHeight:"1.6",margin:0}},"¿Seguro que quieres eliminar el insumo"," ",o.createElement("strong",{style:{fontWeight:"600"}},r==null?void 0:r.nombre),"?")),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",padding:"0 24px 24px 24px"}},o.createElement("button",{onClick:s,disabled:a,style:{padding:"8px 20px",fontSize:"14px",backgroundColor:"#d1d5db",color:"#374151",border:"none",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"background-color 0.2s",opacity:a?.6:1},onMouseOver:h=>{a||(h.target.style.backgroundColor="#9ca3af")},onMouseOut:h=>{a||(h.target.style.backgroundColor="#d1d5db")}},"Cancelar"),o.createElement("button",{onClick:p,disabled:a,style:{backgroundColor:"#ec4899",color:"white",border:"none",padding:"8px 20px",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"background-color 0.2s",opacity:a?.6:1},onMouseOver:h=>{a||(h.target.style.backgroundColor="#db2777")},onMouseOut:h=>{a||(h.target.style.backgroundColor="#f0f017ff")}},a?"Eliminando...":"Eliminar")));default:return null}}function Qle(t){const[e,r]=b.useState([]),[n,a]=b.useState(!1),[i,s]=b.useState(!1),[l,c]=b.useState(null),[u,f]=b.useState(null),[p,h]=b.useState({id:"",nombre:"",Direccion:"",Telefono:"",activo:!0,imagen:null,imagenPreview:null,imagenUrl:null}),g=b.useRef(null),x=async()=>{try{a(!0);const D=await ud.obtenerSedes();r(D)}catch(D){console.error("Error al cargar sedes:",D),t("Error al cargar las sedes","error"),r([{id:501,nombre:"San Pablo",Direccion:"Cra. 37 #97-27, Medellín, Antioquia, Colombia",Telefono:"325888960",activo:!0,imagenUrl:null},{id:502,nombre:"San Benito",Direccion:"Cra. 57 #51-83, Medellín, Antioquia, Colombia",Telefono:"3107412156",activo:!0,imagenUrl:null}])}finally{a(!1)}},v=async D=>{try{a(!0);const B=!D.activo;await ud.cambiarEstadoSede(D.id,B);const z=e.map(I=>I.id===D.id?{...I,activo:B}:I);r(z),t(`Sede ${D.activo?"desactivada":"activada"} exitosamente`)}catch(B){console.error("Error al cambiar estado:",B),t("Error al cambiar el estado de la sede","error")}finally{a(!1)}},y=(D,B=null)=>{c(D),f(B),D==="agregar"?h({id:"",nombre:"",Direccion:"",Telefono:"",activo:!0,imagen:null,imagenPreview:null,imagenUrl:null}):D==="editar"&&B&&h({...B,imagen:null,imagenPreview:B.imagenUrl||null,imagenUrl:B.imagenUrl||null}),s(!0)},E=()=>{s(!1),f(null),c(null),h({id:"",nombre:"",Direccion:"",Telefono:"",activo:!0,imagen:null,imagenPreview:null,imagenUrl:null}),g.current&&(g.current.value="")},C=(D,B)=>{h(z=>({...z,[D]:B}))},k=D=>{const B=D.target.files[0];if(B){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(B.type)){t("Solo se permiten archivos de imagen (JPEG, PNG, GIF, WebP)","error"),D.target.value="";return}const I=5*1024*1024;if(B.size>I){t("El archivo es demasiado grande. Máximo 5MB permitido","error"),D.target.value="";return}const L=new FileReader;L.onload=M=>{h(F=>({...F,imagen:B,imagenPreview:M.target.result}))},L.readAsDataURL(B)}},_=()=>{h(D=>({...D,imagen:null,imagenPreview:null,imagenUrl:l==="editar"?null:D.imagenUrl})),g.current&&(g.current.value="")},N=()=>{const{nombre:D,Direccion:B,Telefono:z}=p;if(!D.trim())return t("El nombre es obligatorio","error"),!1;if(D.trim().length<2)return t("El nombre debe tener al menos 2 caracteres","error"),!1;if(D.trim().length>50)return t("El nombre no puede exceder 50 caracteres","error"),!1;if(!B.trim())return t("La dirección es obligatoria","error"),!1;if(B.trim().length<10)return t("La dirección debe tener al menos 10 caracteres","error"),!1;if(!z.trim())return t("El teléfono es obligatorio","error"),!1;const I=z.replace(/\s/g,"");return/^3[0-9]{9}$/.test(I)?e.find(H=>H.nombre.toLowerCase().trim()===D.toLowerCase().trim()&&H.id!==((u==null?void 0:u.id)||0))?(t("Ya existe una sede con este nombre","error"),!1):e.find(H=>H.Telefono===I&&H.id!==((u==null?void 0:u.id)||0))?(t("Ya existe una sede con este número de teléfono","error"),!1):!0:(t("Ingrese un número de teléfono colombiano válido (10 dígitos comenzando con 3)","error"),!1)};return{sedes:e,loading:n,modalVisible:i,modalTipo:l,sedeSeleccionada:u,formData:p,fileInputRef:g,cargarSedes:x,toggleActivo:v,abrirModal:y,cerrarModal:E,handleInputChange:C,handleImageChange:k,eliminarImagen:_,guardarSede:async()=>{if(N())try{a(!0);const D=new FormData;D.append("nombre",p.nombre.trim()),D.append("direccion",p.Direccion.trim()),D.append("telefono",p.Telefono.replace(/\s/g,"")),D.append("estado",p.activo?"true":"false"),p.imagen&&D.append("imagen",p.imagen);let B;if(l==="agregar")B=await ud.crearSede(D),r([...e,B]),t("Sede agregada exitosamente");else if(l==="editar"){B=await ud.actualizarSede(u.id,D);const z=e.map(I=>I.id===u.id?B:I);r(z),t("Sede actualizada exitosamente")}E()}catch(D){console.error("Error al guardar sede:",D),t(D.message||"Error al guardar la sede","error")}finally{a(!1)}},confirmarEliminar:async()=>{try{a(!0),await ud.eliminarSede(u.id);const D=e.filter(B=>B.id!==u.id);r(D),E(),t("Sede eliminada exitosamente")}catch(D){console.error("Error al eliminar sede:",D);const B=D.message||"Error al eliminar la sede";t(B,"error")}finally{a(!1)}}}}function ece(){const[t,e]=b.useState(""),[r,n]=b.useState({visible:!1,mensaje:"",tipo:"success"}),{sedes:a,loading:i,modalVisible:s,modalTipo:l,sedeSeleccionada:c,formData:u,fileInputRef:f,cargarSedes:p,toggleActivo:h,abrirModal:g,cerrarModal:x,handleInputChange:v,handleImageChange:y,eliminarImagen:E,guardarSede:C,confirmarEliminar:k}=Qle(_);b.useEffect(()=>{p()},[]);function _(R,D="success"){n({visible:!0,mensaje:R,tipo:D})}function N(){n({visible:!1,mensaje:"",tipo:"success"})}const O=a.filter(R=>R.nombre.toLowerCase().includes(t.toLowerCase())||R.Direccion.toLowerCase().includes(t.toLowerCase())||R.Telefono.toLowerCase().includes(t.toLowerCase()));return o.createElement("div",{className:"admin-wrapper"},i&&o.createElement(zl,{mensaje:"Procesando...",fullScreen:!0}),o.createElement(ui,{visible:r.visible,mensaje:r.mensaje,tipo:r.tipo,onClose:N}),o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:()=>g("agregar"),type:"button",disabled:i,style:{padding:"10px 18px",fontSize:"15px",fontWeight:"500"}},"+ Agregar"),o.createElement($l,{placeholder:"Buscar sede...",value:t,onChange:e})),o.createElement("h2",{className:"admin-section-title"},"Gestión de Sedes"),o.createElement(Xle,{sedes:O,loading:i,onToggleActivo:h,onVerSede:R=>g("ver",R),onEditarSede:R=>g("editar",R),onEliminarSede:R=>g("eliminar",R)}),o.createElement(Zle,{visible:s,tipo:l,sede:c,formData:u,loading:i,fileInputRef:f,onClose:x,onInputChange:v,onImageChange:y,onEliminarImagen:E,onGuardar:C,onConfirmarEliminar:k}))}const OS=({className:t="logout-btn",showText:e=!1})=>{const r=Yo(),[n,a]=b.useState(!1),i=()=>{a(!0)},s=()=>{const u=localStorage.getItem("userName")||"Usuario";localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userData"),a(!1),setTimeout(()=>{c(`¡Hasta luego ${u}!`,"Has cerrado sesión exitosamente")},100),r("/iniciar-sesion"),setTimeout(()=>{window.location.reload()},500)},l=()=>{a(!1)},c=(u,f,p)=>{const h=document.createElement("div");h.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #ff69b4, #ff1493);
      color: white;
      padding: 20px 25px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
      z-index: 10001;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 600;
      font-size: 14px;
      max-width: 350px;
      animation: slideInToast 0.4s ease forwards;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    `,h.innerHTML=`
      <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 24px;">✨</span>
        <div>
          <div style="font-weight: 700; margin-bottom: 4px;">${u}</div>
          <div style="font-weight: 500; opacity: 0.9; font-size: 13px;">${f}</div>
        </div>
      </div>
    `;const g=document.createElement("style");g.textContent=`
      @keyframes slideInToast {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOutToast {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(g),document.body.appendChild(h),setTimeout(()=>{h.style.animation="slideOutToast 0.4s ease forwards",setTimeout(()=>{document.body.contains(h)&&document.body.removeChild(h),document.head.contains(g)&&document.head.removeChild(g)},400)},4e3)};return o.createElement(o.Fragment,null,o.createElement("button",{className:t,onClick:i,title:"Cerrar sesión"},o.createElement("i",{className:"bi bi-box-arrow-right"}),e&&o.createElement("span",null,"Cerrar Sesión")),n&&o.createElement("div",{className:"logout-modal-overlay"},o.createElement("div",{className:"logout-modal"},o.createElement("div",{className:"logout-modal-content"},o.createElement("div",{className:"logout-modal-icon"},"🌟"),o.createElement("h3",null,"¿Estás seguro que deseas cerrar sesión?"),o.createElement("p",null,"Tendrás que iniciar sesión nuevamente para acceder a tu perfil y realizar pedidos. Todos tus datos estarán seguros y te estaremos esperando."),o.createElement("div",{className:"logout-modal-buttons"},o.createElement("button",{onClick:l,className:"logout-cancel-btn"},o.createElement("i",{className:"bi bi-x-circle"}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:s,className:"logout-confirm-btn"},o.createElement("i",{className:"bi bi-box-arrow-right"}),o.createElement("span",null,"Cerrar Sesión")))))),o.createElement("style",null,`
        /* Estilos base para el botón de logout */
        .logout-btn {
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          border: none;
          color: white;
          cursor: pointer;
          padding: 8px;
          border-radius: 50%;
          transition: all 0.3s ease;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 18px;
          box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
          position: relative;
          overflow: hidden;
        }

        /* Botón fijo en esquina superior derecha */
        .logout-button-fixed {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1001;
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          border: none;
          color: white;
          cursor: pointer;
          padding: 12px 20px;
          border-radius: 25px;
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          font-weight: 600;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          transition: all 0.15s ease; /* Transición más rápida */
          box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
          backdrop-filter: blur(10px);
          width: auto;
          height: 44px; /* Altura fija */
          min-width: 150px; /* Ancho mínimo fijo para reservar espacio */
        }

        .logout-button-fixed:hover,
        .logout-btn:hover {
          background: linear-gradient(135deg, #ff1493, #dc143c);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
        }

        .logout-button-fixed:active,
        .logout-btn:active {
          transform: translateY(0);
        }

        .logout-button-fixed i {
          font-size: 16px;
        }

        .logout-btn i {
          font-size: 18px;
        }

        /* Modal de confirmación mejorado */
        .logout-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(255, 105, 180, 0.1));
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 10000;
          backdrop-filter: blur(8px);
          animation: fadeInBackdrop 0.4s ease forwards;
        }

        .logout-modal {
          background: linear-gradient(135deg, #ffffff 0%, #fef7ff 100%);
          border-radius: 24px;
          padding: 2.5rem;
          max-width: 450px;
          width: 90%;
          text-align: center;
          box-shadow: 
            0 20px 60px rgba(255, 105, 180, 0.3),
            0 0 0 1px rgba(255, 105, 180, 0.1);
          border: 2px solid #ff69b4;
          animation: slideUpModal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
          position: relative;
          overflow: hidden;
        }

        .logout-modal::before {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: radial-gradient(circle, rgba(255, 105, 180, 0.05) 0%, transparent 70%);
          animation: rotateGradient 20s linear infinite;
          pointer-events: none;
        }

        .logout-modal-content {
          position: relative;
          z-index: 2;
        }

        .logout-modal-icon {
          font-size: 4rem;
          margin-bottom: 1.5rem;
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: bounceIcon 2s ease-in-out infinite;
          display: inline-block;
        }

        .logout-modal h3 {
          color: #1f2937;
          margin-bottom: 1rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          font-weight: 700;
          font-size: 1.5rem;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .logout-modal p {
          color: #374151;
          margin-bottom: 2rem;
          line-height: 1.6;
          font-size: 1rem;
          opacity: 0.9;
        }

        .logout-modal-buttons {
          display: flex;
          gap: 1rem;
          justify-content: center;
          flex-wrap: wrap;
        }

        .logout-cancel-btn {
          background: linear-gradient(135deg, #6b7280, #374151);
          color: white;
          border: none;
          border-radius: 25px;
          padding: 1rem 1.8rem;
          cursor: pointer;
          font-size: 0.95rem;
          font-weight: 600;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
        }

        .logout-cancel-btn:hover {
          background: linear-gradient(135deg, #374151, #1f2937);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(107, 114, 128, 0.4);
        }

        .logout-confirm-btn {
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          color: white;
          border: none;
          border-radius: 25px;
          padding: 1rem 1.8rem;
          cursor: pointer;
          font-size: 0.95rem;
          font-weight: 600;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }

        .logout-confirm-btn:hover {
          background: linear-gradient(135deg, #ff1493, #dc143c);
          transform: translateY(-2px) scale(1.02);
          box-shadow: 0 6px 25px rgba(255, 105, 180, 0.5);
        }

        .logout-confirm-btn:active,
        .logout-cancel-btn:active {
          transform: translateY(0) scale(0.98);
          transition: transform 0.1s ease;
        }

        /* Animaciones */
        @keyframes fadeInBackdrop {
          from { 
            opacity: 0; 
          }
          to { 
            opacity: 1; 
          }
        }

        @keyframes slideUpModal {
          from { 
            opacity: 0;
            transform: translateY(50px) scale(0.9);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        @keyframes bounceIcon {
          0%, 100% { 
            transform: translateY(0); 
          }
          50% { 
            transform: translateY(-8px); 
          }
        }

        @keyframes rotateGradient {
          0% { 
            transform: rotate(0deg); 
          }
          100% { 
            transform: rotate(360deg); 
          }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .logout-button-fixed {
            top: 10px;
            right: 10px;
            padding: 10px 16px;
            font-size: 13px;
          }

          .logout-modal {
            margin: 20px;
            padding: 2rem;
            max-width: none;
          }
          
          .logout-modal-buttons {
            flex-direction: column;
          }
          
          .logout-cancel-btn,
          .logout-confirm-btn {
            width: 100%;
            justify-content: center;
          }
          
          .logout-modal-icon {
            font-size: 3rem;
          }
          
          .logout-modal h3 {
            font-size: 1.3rem;
          }
        }
      `))},tce=({isAuthenticated:t=!1})=>{const[e,r]=b.useState(!1),[n,a]=b.useState(!1),[i,s]=b.useState(!1),l=Pf(),c=localStorage.getItem("userEmail")||"usuario@email.com",u=localStorage.getItem("userName")||"Usuario";b.useEffect(()=>{const x=()=>{window.scrollY>10?a(!0):a(!1)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const f=()=>{r(!e)},p=()=>{s(!i)},h=x=>l.pathname===x,g=()=>{const x=u.split(" ");return x.length>1?`${x[0].charAt(0)}${x[1].charAt(0)}`.toUpperCase():`${x[0].charAt(0)}${x[0].charAt(1)||""}`.toUpperCase()};return o.createElement("nav",{className:`cliente-nav-container ${n?"scrolled":""}`},o.createElement("div",{className:"cliente-nav-content"},o.createElement(fo,{to:"/",className:"cliente-nav-logo"},o.createElement("img",{src:"/imagenes/logo-delicias-darsy.png",alt:"Delicias Darsy"})),o.createElement("div",{className:"cliente-nav-links"},o.createElement(fo,{to:"/",className:`cliente-nav-link ${h("/")?"active":""}`},"INICIO"),o.createElement(fo,{to:"/cartas",className:`cliente-nav-link ${h("/cartas")?"active":""}`},"CARTAS"),o.createElement(fo,{to:"/pedidos",className:`cliente-nav-link ${h("/pedidos")?"active":""}`},"PEDIDOS"),o.createElement(fo,{to:"/sedes",className:`cliente-nav-link ${h("/sedes")?"active":""}`},"SEDES"),o.createElement(fo,{to:"/conocenos",className:`cliente-nav-link ${h("/conocenos")?"active":""}`},"CONÓCENOS"),o.createElement(fo,{to:"/contactenos",className:`cliente-nav-link ${h("/contactenos")?"active":""}`},"CONTÁCTENOS"),t?o.createElement("div",{className:"user-menu-container",style:{position:"relative"}},o.createElement("button",{className:"user-avatar-btn",onClick:p,style:{background:"linear-gradient(135deg, #FFCC00, #ff1493)",border:"none",borderRadius:"50%",width:"40px",height:"40px",color:"white",fontSize:"14px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},onMouseOver:x=>x.target.style.transform="scale(1.05)",onMouseOut:x=>x.target.style.transform="scale(1)",title:`Perfil de ${u}`},g()),i&&o.createElement("div",{className:"user-dropdown-menu",style:{position:"absolute",top:"50px",right:"0",background:"white",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0,0,0,0.2)",padding:"1rem",minWidth:"220px",zIndex:1e3,border:"2px solid #FFCC00"}},o.createElement("div",{style:{padding:"0.5rem 0",borderBottom:"1px solid #e9ecef",marginBottom:"0.5rem"}},o.createElement("p",{style:{margin:0,fontWeight:"bold",color:"#333",fontSize:"14px"}},u),o.createElement("p",{style:{margin:0,color:"#666",fontSize:"12px"}},c)),o.createElement(fo,{to:"/perfil",className:"user-menu-item",onClick:()=>s(!1),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",color:"#333",textDecoration:"none",borderRadius:"8px",fontSize:"14px",transition:"all 0.2s ease",marginBottom:"0.5rem"},onMouseOver:x=>{x.target.style.background="#f8f9fa",x.target.style.color="#ff1493"},onMouseOut:x=>{x.target.style.background="transparent",x.target.style.color="#333"}},"👤 Mi Perfil"),o.createElement("div",{style:{borderTop:"1px solid #e9ecef",paddingTop:"0.5rem"}},o.createElement(OS,{className:"logout-dropdown-btn"})))):o.createElement(fo,{to:"/iniciar-sesion",className:"cliente-nav-button"},"INICIAR SESIÓN")),o.createElement("button",{onClick:f,className:"cliente-nav-mobile-button"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})))),o.createElement("div",{className:`cliente-nav-mobile-menu ${e?"visible":""}`},o.createElement(fo,{to:"/",className:`cliente-nav-link ${h("/")?"active":""}`},"INICIO"),o.createElement(fo,{to:"/cartas",className:`cliente-nav-link ${h("/cartas")?"active":""}`},"CARTAS"),o.createElement(fo,{to:"/pedidos",className:`cliente-nav-link ${h("/pedidos")?"active":""}`},"PEDIDOS"),o.createElement(fo,{to:"/sedes",className:`cliente-nav-link ${h("/sedes")?"active":""}`},"SEDES"),o.createElement(fo,{to:"/conocenos",className:`cliente-nav-link ${h("/conocenos")?"active":""}`},"CONÓCENOS"),o.createElement(fo,{to:"/contactenos",className:`cliente-nav-link ${h("/contactenos")?"active":""}`},"CONTÁCTENOS"),t?o.createElement(o.Fragment,null,o.createElement(fo,{to:"/perfil",className:"cliente-nav-link",style:{borderTop:"1px solid #e9ecef",paddingTop:"1rem",marginTop:"0.5rem"}},"👤 MI PERFIL"),o.createElement(OS,{className:"cliente-nav-button"})):o.createElement(fo,{to:"/iniciar-sesion",className:"cliente-nav-button"},"INICIAR SESIÓN")))};var WL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fI=o.createContext&&o.createContext(WL),rce=["attr","size","title"];function nce(t,e){if(t==null)return{};var r=ace(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ace(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){oce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oce(t,e,r){return e=ice(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ice(t){var e=sce(t,"string");return typeof e=="symbol"?e:e+""}function sce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VL(t){return t&&t.map((e,r)=>o.createElement(e.tag,q0({key:r},e.attr),VL(e.child)))}function t3(t){return e=>o.createElement(lce,B0({attr:q0({},t.attr)},e),VL(t.child))}function lce(t){var e=r=>{var{attr:n,size:a,title:i}=t,s=nce(t,rce),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),o.createElement("svg",B0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:q0(q0({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),t.children)};return fI!==void 0?o.createElement(fI.Consumer,null,r=>e(r)):e(WL)}function cce(t){return t3({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function uce(t){return t3({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function dce(t){return t3({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function fce(){const[t,e]=b.useState(null);return o.createElement("footer",{className:"relative bg-gradient-to-r from-pink-100 via-pink-200 to-yellow-100 overflow-hidden"},o.createElement("div",{className:"absolute top-0 left-0 right-0"},o.createElement("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-12 fill-white"},o.createElement("path",{d:"M0,60 C200,20 400,100 600,60 C800,20 1000,100 1200,60 L1200,0 L0,0 Z"}))),o.createElement("div",{className:"absolute inset-0 opacity-10"},o.createElement("div",{className:"absolute top-20 left-10 w-20 h-20 bg-pink-300 rounded-full animate-pulse"}),o.createElement("div",{className:"absolute bottom-20 right-10 w-16 h-16 bg-yellow-300 rounded-full animate-bounce"}),o.createElement("div",{className:"absolute top-1/2 left-1/3 w-12 h-12 bg-pink-400 rounded-full animate-pulse delay-300"}),o.createElement("div",{className:"absolute bottom-1/3 right-1/4 w-18 h-18 bg-yellow-400 rounded-full animate-bounce delay-500"})),o.createElement("div",{className:"absolute inset-0 opacity-5"},o.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 60 60"},o.createElement("defs",null,o.createElement("pattern",{id:"footer-dots",x:"0",y:"0",width:"30",height:"30",patternUnits:"userSpaceOnUse"},o.createElement("circle",{cx:"15",cy:"15",r:"2",fill:"currentColor"}))),o.createElement("rect",{width:"100%",height:"100%",fill:"url(#footer-dots)",className:"text-gray-600"}))),o.createElement("div",{className:"relative z-10 pt-8 pb-4"},o.createElement("div",{className:"container mx-auto px-4"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-4"},o.createElement("div",{className:"text-center lg:text-left"},t&&o.createElement("img",{src:t,alt:"Delicias Darsy",className:"h-40 w-auto mx-auto lg:mx-0 rounded-xl",style:{backgroundColor:"transparent"}}),o.createElement("div",{className:"flex justify-center lg:justify-start space-x-2 mt-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-bounce delay-100"}),o.createElement("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce delay-200"}))),o.createElement("div",{className:"text-center lg:text-left"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center justify-center lg:justify-start"},o.createElement("span",{className:"mr-2"},"🧁"),"Delicias Darsy"),o.createElement("p",{className:"text-gray-700 text-base leading-relaxed"},"Descubre sabores únicos que"," ",o.createElement("span",{className:"text-pink-600 font-semibold"},"endulzan")," cada momento.")),o.createElement("div",{className:"text-center lg:text-left"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center justify-center lg:justify-start"},o.createElement("span",{className:"mr-2"},"🏪"),"Nuestra Empresa"),o.createElement("div",{className:"space-y-1"},o.createElement("a",{href:"../../../Sedes",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300 justify-center lg:justify-start"},o.createElement("span",null,"📍"),"Nuestras Sedes"),o.createElement("a",{href:"../../../Conocenos",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300 justify-center lg:justify-start"},o.createElement("span",null,"💝"),"Conócenos"))),o.createElement("div",{className:"text-center lg:text-left"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center justify-center lg:justify-start"},o.createElement("span",{className:"mr-2"},"📞"),"Contacto"),o.createElement("div",{className:"space-y-1"},o.createElement("a",{href:"https://wa.me/573213098504",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300 justify-center lg:justify-start"},o.createElement(dce,{className:"text-green-500 text-xl"}),"+57 321 309 85 04"),o.createElement("a",{href:"https://www.tiktok.com/@delicias_darsy?_t=ZS-8waDD3RfXJk&_r=1",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300 justify-center lg:justify-start"},o.createElement(uce,{className:"text-black text-xl"}),"Delicias_Darsy"),o.createElement("a",{href:"https://www.instagram.com/delicias_darsy?igsh=MTYwOWJoOTQ2djMwcg==",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300 justify-center lg:justify-start"},o.createElement(cce,{className:"text-pink-500 text-xl"}),"@delicias_darsy")))),o.createElement("div",{className:"flex items-center justify-center mb-3"},o.createElement("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-pink-300 to-transparent"}),o.createElement("div",{className:"mx-4 flex space-x-1"},o.createElement("span",{className:"text-lg animate-bounce"},"🍩"),o.createElement("span",{className:"text-lg animate-bounce delay-100"},"🧁"),o.createElement("span",{className:"text-lg animate-bounce delay-200"},"🍰")),o.createElement("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})),o.createElement("div",{className:"text-center"},o.createElement("div",{className:"bg-white bg-opacity-90 rounded-full px-6 py-2 inline-block shadow-lg"},o.createElement("p",{className:"text-gray-700 text-sm font-medium"},"© 2024 Delicias Darsy -"," ",o.createElement("span",{className:"text-pink-600 font-bold"},"Hecho con mucho amor")," ✨"))))),o.createElement("div",{className:"absolute bottom-4 left-4 opacity-60"},o.createElement("div",{className:"w-8 h-8 bg-pink-300 rounded-full animate-ping"})),o.createElement("div",{className:"absolute bottom-8 right-8 opacity-60"},o.createElement("div",{className:"w-6 h-6 bg-yellow-300 rounded-full animate-pulse"})))}const mce=({userRole:t="admin"})=>{const e=Pf(),[r,n]=b.useState({}),[a,i]=b.useState([]),[s,l]=b.useState([]),[c,u]=b.useState(!0),[f,p]=b.useState(!1);b.useEffect(()=>{p(!1)},[e.pathname]);const h=()=>{p(!1)},g=()=>{p(!f)},x=[{key:"dashboard",title:"Dashboard",icon:"bi bi-speedometer2",path:"/admin/pages/Dashboard",permission:"Dashboard"},{key:"configuracion",title:"Configuración",icon:"bi bi-gear-wide-connected",hasSubmenu:!0,submenu:[{title:"Roles",path:"/admin/pages/Roles",icon:"bi bi-person-badge-fill",permission:"Roles"}]},{key:"usuarios",title:"Usuarios",icon:"bi bi-people-fill",path:"/admin/pages/Usuarios",permission:"Usuarios"},{key:"ventas",title:"Ventas",icon:"bi bi-credit-card-2-front-fill",hasSubmenu:!0,submenu:[{title:"Clientes",path:"/admin/pages/Clientes",icon:"bi bi-person-hearts",permission:"Cliente"},{title:"Sedes",path:"/admin/pages/Sede",icon:"bi bi-geo-alt-fill",permission:"Sedes"},{title:"Ventas",path:"/admin/pages/Ventas",icon:"bi bi-graph-up-arrow",permission:"Ventas"}]},{key:"compras",title:"Compras",icon:"bi bi-cart-check-fill",hasSubmenu:!0,submenu:[{title:"Insumos",path:"/admin/pages/insumos",icon:"bi bi-box-seam-fill",permission:"Insumos"},{title:"Cat. Insumos",path:"/admin/pages/CategoriaInsumo",icon:"bi bi-tags-fill",permission:"Cat.Insumos"},{title:"Proveedores",path:"/admin/pages/proveedores",icon:"bi bi-truck-flatbed",permission:"Proveedores"},{title:"Compras",path:"/admin/pages/compras",icon:"bi bi-receipt-cutoff",permission:"Compras"}]},{key:"productos",title:"Productos",icon:"bi bi-cake2-fill",hasSubmenu:!0,submenu:[{title:"Cat. Productos",path:"/admin/pages/CategoriaProductos",icon:"bi bi-grid-3x3-gap-fill",permission:"Cat.Productos"},{title:"Productos",path:"/admin/pages/Productos",icon:"bi bi-star-fill",permission:"Productos"},{title:"Recetas",path:"/admin/pages/Recetas",icon:"bi bi-book-half",permission:"Productos"}]},{key:"produccion",title:"Producción",icon:"bi bi-buildings-fill",path:"/admin/pages/produccion",permission:"Produccion"}],v=[{key:"inicio",title:"Inicio",icon:"bi bi-house-heart-fill",path:"/"},{key:"cartas",title:"Cartas",icon:"bi bi-menu-button-wide-fill",path:"/cartas"},{key:"sedes",title:"Sedes",icon:"bi bi-pin-map-fill",path:"/sedes"},{key:"perfil",title:"Mi Perfil",icon:"bi bi-person-circle",path:"/perfil"}];b.useEffect(()=>{(async()=>{try{if(u(!0),t==="cliente"){i(["all"]),u(!1);return}const _=localStorage.getItem("userData");if(_){const N=JSON.parse(_);console.log("Datos del usuario:",N);const O=N.idrol||N.rol_id;O?await y(O):(console.warn("No se encontró ID de rol en los datos del usuario"),i(["Dashboard"]))}else console.warn("No se encontraron datos de usuario"),i(["Dashboard"])}catch(_){console.error("Error al obtener permisos del usuario:",_),i(["Dashboard"])}finally{u(!1)}})()},[t]);const y=async k=>{try{const _="https://deliciasoft-backend.onrender.com/api";console.log(`Obteniendo permisos para el rol: ${k}`);const N=await fetch(`${_}/rol/${k}/permisos`);if(N.ok){const R=await N.json();console.log("Permisos obtenidos directamente:",R);const D=R.map(B=>B.modulo).filter(B=>B);if(console.log("Nombres de permisos extraídos:",D),D.length>0){i(D);return}}const O=await fetch(`${_}/rol/${k}`);if(O.ok){const R=await O.json();if(console.log("Datos del rol:",R),R.permisos&&Array.isArray(R.permisos)){const D=await fetch(`${_}/permisos`);if(D.ok){const B=await D.json(),z=R.permisos.map(I=>{const L=B.find(M=>M.idpermiso===I);return L?L.modulo:null}).filter(I=>I!==null);console.log("Nombres de permisos (método alternativo):",z),i(z);return}}}console.warn("No se pudieron obtener permisos del rol, asignando permisos mínimos"),i(["Dashboard"])}catch(_){console.error("Error al obtener permisos:",_),i(["Dashboard"])}};b.useEffect(()=>{if(t==="cliente"){l(v);return}if(c)return;const k=N=>N.map(O=>{if(O.permission){const R=a.includes(O.permission);if(console.log(`Verificando permiso para ${O.title}: ${O.permission} - Usuario tiene: [${a.join(", ")}] - Resultado: ${R}`),!R)return null}if(O.hasSubmenu&&O.submenu){const R=O.submenu.filter(D=>{if(D.permission){const B=a.includes(D.permission);return console.log(`Verificando permiso para subitem ${D.title}: ${D.permission} - Resultado: ${B}`),B}return!0});return R.length===0?(console.log(`Menú ${O.title} oculto porque no tiene subitems con permisos`),null):{...O,submenu:R}}return O}).filter(O=>O!==null);console.log("Permisos del usuario:",a);const _=k(x);console.log("Menú filtrado:",_),l(_)},[a,t,c]);const E=k=>{n(_=>({..._,[k]:!_[k]}))},C=k=>e.pathname===k;return o.createElement(o.Fragment,null,o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",rel:"stylesheet"}),o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css",rel:"stylesheet"}),o.createElement("style",null,`
          /* Asegurar espacio para el botón de cerrar sesión */
          body, 
          #root,
          .app,
          .main-content,
          .content-area,
          .page-wrapper,
          [class*="container"],
          [class*="wrapper"],
          [class*="content"] {
            padding-top: 15px !important;
          }
          
          @media (max-width: 1024px) {
            .content-with-sidebar {
              margin-left: 0 !important;
              padding-top: 80px !important;
            }
          }
        `),o.createElement("button",{className:"sidebar-toggle",onClick:g,"aria-label":"Toggle menu"},o.createElement("i",{className:`bi ${f?"bi-x-lg":"bi-list"}`})),o.createElement("div",{className:`sidebar-overlay ${f?"active":""}`,onClick:h}),o.createElement(OS,{className:"logout-button-fixed",showText:!0}),o.createElement("div",{className:`sidebar ${f?"active":""}`},o.createElement("div",{className:"sidebar-header"},o.createElement("div",{className:"logo-container"},o.createElement("img",{src:"/imagenes/logo-delicias-darsy.png",alt:"Logo Delicias Darsy",className:"sidebar-logo"}),o.createElement("div",{className:"logo-text"},o.createElement("h6",null,"Delicias Darsy"),o.createElement("small",null,"Sistema de Gestión")))),o.createElement("nav",{className:"sidebar-nav"},c&&t==="admin"&&o.createElement("div",{className:"nav-item"},o.createElement("div",{className:"nav-link nav-message loading-animation"},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:"nav-icon bi bi-hourglass-split"}),o.createElement("span",{className:"nav-text"},"Cargando permisos...")))),!c&&s.length===0&&t==="admin"&&o.createElement("div",{className:"nav-item"},o.createElement("div",{className:"nav-link nav-message error"},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:"nav-icon bi bi-shield-exclamation"}),o.createElement("span",{className:"nav-text"},"Sin permisos asignados")))),!c&&s.map(k=>{var _;return o.createElement("div",{key:k.key,className:"nav-item"},k.hasSubmenu?o.createElement(o.Fragment,null,o.createElement("button",{className:`nav-link nav-toggle ${r[k.key]?"expanded":""}`,onClick:()=>E(k.key),"aria-expanded":r[k.key],"aria-controls":`submenu-${k.key}`},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:`nav-icon ${k.icon}`}),o.createElement("span",{className:"nav-text"},k.title),o.createElement("i",{className:"nav-arrow bi bi-chevron-right"}))),r[k.key]&&o.createElement("div",{className:"submenu",id:`submenu-${k.key}`,role:"menu"},(_=k.submenu)==null?void 0:_.map(N=>o.createElement(fo,{key:N.path,to:N.path,className:`nav-link submenu-link ${C(N.path)?"active":""}`,role:"menuitem"},o.createElement("div",{className:"nav-content"},N.icon&&o.createElement("i",{className:`submenu-icon ${N.icon}`}),o.createElement("span",{className:"nav-text"},N.title)))))):o.createElement(fo,{to:k.path,className:`nav-link ${C(k.path)?"active":""}`,role:"menuitem"},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:`nav-icon ${k.icon}`}),o.createElement("span",{className:"nav-text"},k.title))))})),o.createElement("div",{className:"sidebar-footer"},o.createElement("div",{className:"user-info"},o.createElement("img",{src:"/imagenes/default-avatar.png",alt:"Usuario",className:"user-avatar",onError:k=>{k.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNmZjY5YjQiLz4KPHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDEyQzE0LjIxIDEyIDE2IDEwLjIxIDE2IDhDMTYgNS43OSAxNC4yMSA0IDEyIDRDOS43OSA0IDggNS43OSA4IDhDOCAxMC4yMSA5Ljc5IDEyIDEyIDEyWk0xMiAxNEM5LjMzIDE0IDQgMTUuMzQgNCAyMFYyMkgyMFYyMEMyMCAxNS4zNCAxNC42NyAxNCAxMiAxNFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo8L3N2Zz4K"}}),o.createElement("div",{className:"user-details"},o.createElement("span",{className:"user-role"},t==="admin"?"Administrador":"Cliente"),o.createElement("small",{className:"user-id"},c?"Cargando...":`${a.length} módulos`))))))},pce=({children:t,userRole:e="admin",showSidebar:r=!0})=>o.createElement("div",{className:"layout-container"},r&&o.createElement(mce,{userRole:e}),o.createElement("div",{className:`main-content ${r?"with-sidebar":"full-width"}`},o.createElement("div",{className:"content-wrapper"},t)));function hce(){const t=Pf(),[e,r]=b.useState("cliente"),[n,a]=b.useState(!1),i=t.pathname==="/iniciar-sesion",s=t.pathname.startsWith("/admin"),l=t.pathname==="/perfil";b.useEffect(()=>{const u=localStorage.getItem("authToken"),f=localStorage.getItem("userRole");u&&(a(!0),r(f||"cliente"))},[t]);const c=n&&e==="admin"&&s;return o.createElement("div",{className:"App"},!i&&!c&&!l&&o.createElement(tce,{isAuthenticated:n}),c?o.createElement(pce,{userRole:e,showSidebar:!0},o.createElement(gN,null,o.createElement(oa,{path:"/admin/pages/CategoriaInsumo",element:o.createElement(tH,null)}),o.createElement(oa,{path:"/admin/pages/insumos",element:o.createElement(uH,null)}),o.createElement(oa,{path:"/admin/pages/compras",element:o.createElement(KU,null)}),o.createElement(oa,{path:"/admin/pages/usuarios",element:o.createElement(gH,null)}),o.createElement(oa,{path:"/admin/pages/Roles",element:o.createElement(yH,null)}),o.createElement(oa,{path:"/admin/pages/Clientes",element:o.createElement(SH,null)}),o.createElement(oa,{path:"/admin/pages/proveedores",element:o.createElement(rW,null)}),o.createElement(oa,{path:"/admin/pages/Ventas",element:o.createElement(VH,null)}),o.createElement(oa,{path:"/admin/pages/Dashboard",element:o.createElement(ble,null)}),o.createElement(oa,{path:"/admin/pages/CategoriaProductos",element:o.createElement(yle,null)}),o.createElement(oa,{path:"/admin/pages/Productos",element:o.createElement(Lle,null)}),o.createElement(oa,{path:"/admin/pages/Produccion",element:o.createElement(Hle,null)}),o.createElement(oa,{path:"/admin/pages/Recetas",element:o.createElement(Jle,null)}),o.createElement(oa,{path:"/admin/pages/Sede",element:o.createElement(ece,null)}))):o.createElement(o.Fragment,null,o.createElement(gN,null,o.createElement(oa,{path:"/iniciar-sesion",element:o.createElement(sF,null)}),o.createElement(oa,{path:"/",element:o.createElement(RM,null)}),o.createElement(oa,{path:"/conocenos",element:o.createElement(jM,null)}),o.createElement(oa,{path:"/contactenos",element:o.createElement(DM,null)}),o.createElement(oa,{path:"/cartas",element:o.createElement(BM,null)}),o.createElement(oa,{path:"/sedes",element:o.createElement(UM,null)})," ",o.createElement(oa,{path:"/pedidos",element:o.createElement(tF,null)}),o.createElement(oa,{path:"/detalle-fresas",element:o.createElement(qM,null)}),o.createElement(oa,{path:"/detalle-obleas",element:o.createElement(lF,null)}),o.createElement(oa,{path:"/detalle-mini-donas",element:o.createElement(cF,null)}),o.createElement(oa,{path:"/detalle-cupcake",element:o.createElement(uF,null)}),o.createElement(oa,{path:"/detalle-arroz",element:o.createElement(dF,null)}),o.createElement(oa,{path:"/detalle-postres",element:o.createElement(fF,null)}),o.createElement(oa,{path:"/detalle-sandwiches",element:o.createElement(mF,null)}),o.createElement(oa,{path:"/detalle-chocolates",element:o.createElement(pF,null)}),n&&e==="cliente"&&o.createElement(oa,{path:"/perfil",element:o.createElement(CF,null)}))),!i&&!c&&!l&&o.createElement(fce,null))}function gce(){return o.createElement(ID,null,o.createElement(hce,null))}Rj.createRoot(document.getElementById("root")).render(o.createElement(o.StrictMode,null,o.createElement(DD,null,o.createElement(gce,null))));export{ba as _,Wg as c,sa as g};
